parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"oS9F":[function(require,module,exports) {
!function(n){"use strict";function r(n,r,e){return e.a=n,e.f=r,e}function e(n){return r(2,n,function(r){return function(e){return n(r,e)}})}function t(n){return r(3,n,function(r){return function(e){return function(t){return n(r,e,t)}}})}function a(n){return r(4,n,function(r){return function(e){return function(t){return function(a){return n(r,e,t,a)}}}})}function u(n){return r(5,n,function(r){return function(e){return function(t){return function(a){return function(u){return n(r,e,t,a,u)}}}}})}function i(n){return r(6,n,function(r){return function(e){return function(t){return function(a){return function(u){return function(i){return n(r,e,t,a,u,i)}}}}}})}function c(n){return r(7,n,function(r){return function(e){return function(t){return function(a){return function(u){return function(i){return function(c){return n(r,e,t,a,u,i,c)}}}}}}})}function o(n){return r(8,n,function(r){return function(e){return function(t){return function(a){return function(u){return function(i){return function(c){return function(o){return n(r,e,t,a,u,i,c,o)}}}}}}}})}function f(n,r,e){return 2===n.a?n.f(r,e):n(r)(e)}function s(n,r,e,t){return 3===n.a?n.f(r,e,t):n(r)(e)(t)}function l(n,r,e,t,a){return 4===n.a?n.f(r,e,t,a):n(r)(e)(t)(a)}function b(n,r,e,t,a,u){return 5===n.a?n.f(r,e,t,a,u):n(r)(e)(t)(a)(u)}function d(n,r,e,t,a,u,i){return 6===n.a?n.f(r,e,t,a,u,i):n(r)(e)(t)(a)(u)(i)}function h(n,r,e,t,a,u,i,c){return 7===n.a?n.f(r,e,t,a,u,i,c):n(r)(e)(t)(a)(u)(i)(c)}function g(n,r,e,t,a,u,i,c,o){return 8===n.a?n.f(r,e,t,a,u,i,c,o):n(r)(e)(t)(a)(u)(i)(c)(o)}var v=t(function(n,r,e){for(var t=[],a=0;n>a;a++)t[a]=e(r+a);return t}),p=e(function(n,r){for(var e=[],t=0;n>t&&r.b;t++)e[t]=r.a,r=r.b;return e.length=t,z(e,r)});function m(n){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+n+".md")}function $(n,r){for(var e,t=[],a=w(n,r,0,t);a&&(e=t.pop());a=w(e.a,e.b,0,t));return a}function w(n,r,e,t){if(n===r)return!0;if("object"!=typeof n||null===n||null===r)return"function"==typeof n&&m(5),!1;if(e>100)return t.push(z(n,r)),!0;for(var a in 0>n.$&&(n=Ee(n),r=Ee(r)),n)if(!w(n[a],r[a],e+1,t))return!1;return!0}function x(n,r,e){if("object"!=typeof n)return n===r?0:r>n?-1:1;if(void 0===n.$)return(e=x(n.a,r.a))?e:(e=x(n.b,r.b))?e:x(n.c,r.c);for(;n.b&&r.b&&!(e=x(n.a,r.a));n=n.b,r=r.b);return e||(n.b?1:r.b?-1:0)}var y=e(function(n,r){var e=x(n,r);return 0>e?je:e?Fe:Se}),k=0;function z(n,r){return{a:n,b:r}}function _(n,r,e){return{a:n,b:r,c:e}}function B(n){return n}function E(n,r){var e={};for(var t in n)e[t]=n[t];for(var t in r)e[t]=r[t];return e}var M=e(C);function C(n,r){if("string"==typeof n)return n+r;if(!n.b)return r;var e=F(n.a,r);n=n.b;for(var t=e;n.b;n=n.b)t=t.b=F(n.a,r);return e}var S={$:0};function F(n,r){return{$:1,a:n,b:r}}var j=e(F);function A(n){for(var r=S,e=n.length;e--;)r=F(n[e],r);return r}function T(n){for(var r=[];n.b;n=n.b)r.push(n.a);return r}var L=t(function(n,r,e){for(var t=[];r.b&&e.b;r=r.b,e=e.b)t.push(f(n,r.a,e.a));return A(t)}),I=e(function(n,r){return A(T(r).sort(function(r,e){return x(n(r),n(e))}))}),O=e(function(n,r){return A(T(r).sort(function(r,e){var t=f(n,r,e);return t===Se?0:t===je?-1:1}))}),H=e(Math.pow),D=e(function(n,r){var e=r%n;return 0===n?m(11):e>0&&0>n||0>e&&n>0?e+n:e}),P=Math.ceil,K=Math.floor,W=Math.round,Z=Math.log,V=e(function(n,r){return n&&r}),G=e(function(n,r){return n+r}),N=e(function(n,r){return n+r}),Y=e(function(n,r){for(var e=[],t=r.length,a=0;t>a;){var u=r[a],i=r.charCodeAt(a);a++,55296>i||i>56319||(u+=r[a],a++),n(B(u))&&e.push(u)}return e.join("")}),R=t(function(n,r,e){for(var t=e.length,a=0;t>a;){var u=e[a],i=e.charCodeAt(a);a++,55296>i||i>56319||(u+=e[a],a++),r=f(n,B(u),r)}return r}),X=t(function(n,r,e){for(var t=e.length;t--;){var a=e[t],u=e.charCodeAt(t);56320>u||u>57343||(a=e[--t]+a),r=f(n,B(a),r)}return r}),J=e(function(n,r){return r.split(n)}),U=e(function(n,r){return r.join(n)}),q=t(function(n,r,e){return e.slice(n,r)}),Q=e(function(n,r){for(var e=r.length;e--;){var t=r[e],a=r.charCodeAt(e);if(56320>a||a>57343||(t=r[--e]+t),!n(B(t)))return!1}return!0}),nn=e(function(n,r){return 0===r.indexOf(n)});function rn(n){return n+""}function en(n){return{$:2,b:n}}var tn=en(function(n){return"number"!=typeof n?zn("an INT",n):n>-2147483647&&2147483647>n&&(0|n)===n?Oe(n):!isFinite(n)||n%1?zn("an INT",n):Oe(n)}),an=en(function(n){return"boolean"==typeof n?Oe(n):zn("a BOOL",n)}),un=en(function(n){return"number"==typeof n?Oe(n):zn("a FLOAT",n)}),cn=en(function(n){return Oe(Mn(n))}),on=en(function(n){return"string"==typeof n?Oe(n):n instanceof String?Oe(n+""):zn("a STRING",n)}),fn=e(function(n,r){return{$:6,d:n,b:r}});function sn(n,r){return{$:9,f:n,g:r}}var ln=e(function(n,r){return{$:10,b:r,h:n}}),bn=e(function(n,r){return sn(n,[r])}),dn=t(function(n,r,e){return sn(n,[r,e])}),hn=a(function(n,r,e,t){return sn(n,[r,e,t])}),gn=u(function(n,r,e,t,a){return sn(n,[r,e,t,a])}),vn=c(function(n,r,e,t,a,u,i){return sn(n,[r,e,t,a,u,i])}),pn=o(function(n,r,e,t,a,u,i,c){return sn(n,[r,e,t,a,u,i,c])}),mn=e(function(n,r){try{return wn(n,JSON.parse(r))}catch(n){return Ae(f(Te,"This is not valid JSON! "+n.message,Mn(r)))}}),$n=e(function(n,r){return wn(n,Cn(r))});function wn(n,r){switch(n.$){case 2:return n.b(r);case 5:return null===r?Oe(n.c):zn("null",r);case 3:return yn(r)?xn(n.b,r,A):zn("a LIST",r);case 4:return yn(r)?xn(n.b,r,kn):zn("an ARRAY",r);case 6:var e=n.d;if("object"!=typeof r||null===r||!(e in r))return zn("an OBJECT with a field named `"+e+"`",r);var t=wn(n.b,r[e]);return jt(t)?t:Ae(f(Le,e,t.a));case 7:var a=n.e;return yn(r)?r.length>a?(t=wn(n.b,r[a]),jt(t)?t:Ae(f(Ie,a,t.a))):zn("a LONGER array. Need index "+a+" but only see "+r.length+" entries",r):zn("an ARRAY",r);case 8:if("object"!=typeof r||null===r||yn(r))return zn("an OBJECT",r);var u=S;for(var i in r)if(r.hasOwnProperty(i)){if(t=wn(n.b,r[i]),!jt(t))return Ae(f(Le,i,t.a));u=F(z(i,t.a),u)}return Oe(ct(u));case 9:for(var c=n.f,o=n.g,s=0;o.length>s;s++){if(t=wn(o[s],r),!jt(t))return t;c=c(t.a)}return Oe(c);case 10:return t=wn(n.b,r),jt(t)?wn(n.h(t.a),r):t;case 11:for(var l=S,b=n.g;b.b;b=b.b){if(t=wn(b.a,r),jt(t))return t;l=F(t.a,l)}return Ae(He(ct(l)));case 1:return Ae(f(Te,n.a,Mn(r)));case 0:return Oe(n.a)}}function xn(n,r,e){for(var t=r.length,a=[],u=0;t>u;u++){var i=wn(n,r[u]);if(!jt(i))return Ae(f(Ie,u,i.a));a[u]=i.a}return Oe(e(a))}function yn(n){return Array.isArray(n)||"undefined"!=typeof FileList&&n instanceof FileList}function kn(n){return f(Ft,n.length,function(r){return n[r]})}function zn(n,r){return Ae(f(Te,"Expecting "+n,Mn(r)))}function _n(n,r){if(n===r)return!0;if(n.$!==r.$)return!1;switch(n.$){case 0:case 1:return n.a===r.a;case 2:return n.b===r.b;case 5:return n.c===r.c;case 3:case 4:case 8:return _n(n.b,r.b);case 6:return n.d===r.d&&_n(n.b,r.b);case 7:return n.e===r.e&&_n(n.b,r.b);case 9:return n.f===r.f&&Bn(n.g,r.g);case 10:return n.h===r.h&&_n(n.b,r.b);case 11:return Bn(n.g,r.g)}}function Bn(n,r){var e=n.length;if(e!==r.length)return!1;for(var t=0;e>t;t++)if(!_n(n[t],r[t]))return!1;return!0}var En=e(function(n,r){return JSON.stringify(Cn(r),null,n)+""});function Mn(n){return n}function Cn(n){return n}var Sn=t(function(n,r,e){return e[n]=Cn(r),e}),Fn=Mn(null);function jn(n){return{$:0,a:n}}function An(n){return{$:2,b:n,c:null}}var Tn=e(function(n,r){return{$:3,b:n,d:r}}),Ln=e(function(n,r){return{$:4,b:n,d:r}}),In=0;function On(n){var r={$:0,e:In++,f:n,g:null,h:[]};return Zn(r),r}function Hn(n){return An(function(r){r(jn(On(n)))})}function Dn(n,r){n.h.push(r),Zn(n)}var Pn=e(function(n,r){return An(function(e){Dn(n,r),e(jn(k))})}),Kn=!1,Wn=[];function Zn(n){if(Wn.push(n),!Kn){for(Kn=!0;n=Wn.shift();)Vn(n);Kn=!1}}function Vn(n){for(;n.f;){var r=n.f.$;if(0===r||1===r){for(;n.g&&n.g.$!==r;)n.g=n.g.i;if(!n.g)return;n.f=n.g.b(n.f.a),n.g=n.g.i}else{if(2===r)return void(n.f.c=n.f.b(function(r){n.f=r,Zn(n)}));if(5===r){if(0===n.h.length)return;n.f=n.f.b(n.h.shift())}else n.g={$:3===r?0:1,b:n.f.b,i:n.g},n.f=n.f.d}}}function Gn(n){return An(function(r){var e=setTimeout(function(){r(jn(k))},n);return function(){clearTimeout(e)}})}var Nn={};function Yn(n,r,e,t,a){return{b:n,c:r,d:e,e:t,f:a}}function Rn(n,r){var e={g:r,h:void 0},t=n.c,a=n.d,u=n.e,i=n.f;function c(n){return f(Tn,c,{$:5,b:function(r){var c=r.a;return 0===r.$?s(a,e,c,n):u&&i?l(t,e,c.i,c.j,n):s(t,e,u?c.i:c.j,n)}})}return e.h=On(f(Tn,c,n.b))}var Xn=e(function(n,r){return An(function(e){n.g(r),e(jn(k))})}),Jn=e(function(n,r){return f(Pn,n.h,{$:0,a:r})});function Un(n){return function(r){return{$:1,k:n,l:r}}}function qn(n){return{$:2,m:n}}var Qn=e(function(n,r){return{$:3,n:n,o:r}}),nr=[],rr=!1;function er(n,r,e){if(nr.push({p:n,q:r,r:e}),!rr){rr=!0;for(var t;t=nr.shift();)tr(t.p,t.q,t.r);rr=!1}}function tr(n,r,e){var t={};for(var a in ar(!0,r,t,null),ar(!1,e,t,null),n)Dn(n[a],{$:"fx",a:t[a]||{i:S,j:S}})}function ar(n,r,e,t){switch(r.$){case 1:var a=r.k,u=function(n,e,t){function a(n){for(var r=t;r;r=r.t)n=r.s(n);return n}return f(n?Nn[e].e:Nn[e].f,a,r.l)}(n,a,t);return void(e[a]=function(n,r,e){return e=e||{i:S,j:S},n?e.i=F(r,e.i):e.j=F(r,e.j),e}(n,u,e[a]));case 2:for(var i=r.m;i.b;i=i.b)ar(n,i.a,e,t);return;case 3:return void ar(n,r.o,e,{s:r.n,t:t})}}function ur(n){Nn[n]&&m(3)}function ir(n,r){return ur(n),Nn[n]={e:cr,u:r,a:or},Un(n)}var cr=e(function(n,r){return r});function or(n){var r=[],e=Nn[n].u,a=Gn(0);return Nn[n].b=a,Nn[n].c=t(function(n,t){for(;t.b;t=t.b)for(var u=r,i=Cn(e(t.a)),c=0;u.length>c;c++)u[c](i);return a}),{subscribe:function(n){r.push(n)},unsubscribe:function(n){var e=(r=r.slice()).indexOf(n);0>e||r.splice(e,1)}}}function fr(n,r){return ur(n),Nn[n]={f:lr,u:r,a:br},Un(n)}var sr,lr=e(function(n,r){return function(e){return n(r(e))}});function br(n,r){var e=S,a=Nn[n].u,u=jn(null);return Nn[n].b=u,Nn[n].c=t(function(n,r){return e=r,u}),{send:function(n){var t=f($n,a,Mn(n));jt(t)||m(4);for(var u=t.a,i=e;i.b;i=i.b)r(i.a(u))}}}var dr="undefined"!=typeof document?document:{};function hr(n,r){n.appendChild(r)}function gr(n){return{$:0,a:n}}var vr=e(function(n,r){return e(function(e,t){for(var a=[],u=0;t.b;t=t.b){var i=t.a;u+=i.b||0,a.push(i)}return u+=a.length,{$:1,c:r,d:Fr(e),e:a,f:n,b:u}})}),pr=vr(void 0),mr=e(function(n,r){return e(function(e,t){for(var a=[],u=0;t.b;t=t.b){var i=t.a;u+=i.b.b||0,a.push(i)}return u+=a.length,{$:2,c:r,d:Fr(e),e:a,f:n,b:u}})}),$r=mr(void 0),wr=e(function(n,r){return{$:4,j:n,k:r,b:1+(r.b||0)}}),xr=e(function(n,r){return{$:"a0",n:n,o:r}}),yr=e(function(n,r){return{$:"a1",n:n,o:r}}),kr=e(function(n,r){return{$:"a2",n:n,o:r}}),zr=e(function(n,r){return{$:"a3",n:n,o:r}});function _r(n){return"script"==n?"p":n}function Br(n){return/^\s*(javascript:|data:text\/html)/i.test(n)?"":n}var Er,Mr=e(function(n,r){return"a0"===r.$?f(xr,r.n,function(n,r){var e=Ot(r);return{$:r.$,a:e?s(Lt,3>e?Cr:Sr,It(n),r.a):f(Tt,n,r.a)}}(n,r.o)):r}),Cr=e(function(n,r){return z(n(r.a),r.b)}),Sr=e(function(n,r){return{aa:n(r.aa),ce:r.ce,ca:r.ca}});function Fr(n){for(var r={};n.b;n=n.b){var e=n.a,t=e.$,a=e.n,u=e.o;if("a2"!==t){var i=r[t]||(r[t]={});"a3"===t&&"class"===a?jr(i,a,u):i[a]=u}else"className"===a?jr(r,a,Cn(u)):r[a]=Cn(u)}return r}function jr(n,r,e){var t=n[r];n[r]=t?t+" "+e:e}function Ar(n,r){var e=n.$;if(5===e)return Ar(n.k||(n.k=n.m()),r);if(0===e)return dr.createTextNode(n.a);if(4===e){for(var t=n.k,a=n.j;4===t.$;)"object"!=typeof a?a=[a,t.j]:a.push(t.j),t=t.k;var u={j:a,p:r};return(i=Ar(t,u)).elm_event_node_ref=u,i}if(3===e)return Tr(i=n.h(n.g),r,n.d),i;var i=n.f?dr.createElementNS(n.f,n.c):dr.createElement(n.c);sr&&"a"==n.c&&i.addEventListener("click",sr(i)),Tr(i,r,n.d);for(var c=n.e,o=0;c.length>o;o++)hr(i,Ar(1===e?c[o]:c[o].b,r));return i}function Tr(n,r,e){for(var t in e){var a=e[t];"a1"===t?Lr(n,a):"a0"===t?Hr(n,r,a):"a3"===t?Ir(n,a):"a4"===t?Or(n,a):("value"!==t&&"checked"!==t||n[t]!==a)&&(n[t]=a)}}function Lr(n,r){var e=n.style;for(var t in r)e[t]=r[t]}function Ir(n,r){for(var e in r){var t=r[e];void 0!==t?n.setAttribute(e,t):n.removeAttribute(e)}}function Or(n,r){for(var e in r){var t=r[e],a=t.f,u=t.o;void 0!==u?n.setAttributeNS(a,e,u):n.removeAttributeNS(a,e)}}function Hr(n,r,e){var t=n.elmFs||(n.elmFs={});for(var a in e){var u=e[a],i=t[a];if(u){if(i){if(i.q.$===u.$){i.q=u;continue}n.removeEventListener(a,i)}i=Dr(r,u),n.addEventListener(a,i,Er&&{passive:2>Ot(u)}),t[a]=i}else n.removeEventListener(a,i),t[a]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Er=!0}}))}catch(n){}function Dr(n,r){function e(r){var t=e.q,a=wn(t.a,r);if(jt(a)){for(var u,i=Ot(t),c=a.a,o=i?3>i?c.a:c.aa:c,f=1==i?c.b:3==i&&c.ce,s=(f&&r.stopPropagation(),(2==i?c.b:3==i&&c.ca)&&r.preventDefault(),n);u=s.j;){if("function"==typeof u)o=u(o);else for(var l=u.length;l--;)o=u[l](o);s=s.p}s(o,f)}}return e.q=r,e}function Pr(n,r){return n.$==r.$&&_n(n.a,r.a)}function Kr(n,r,e,t){var a={$:r,r:e,s:t,t:void 0,u:void 0};return n.push(a),a}function Wr(n,r,e,t){if(n!==r){var a=n.$,u=r.$;if(a!==u){if(1!==a||2!==u)return void Kr(e,0,t,r);r=function(n){for(var r=n.e,e=r.length,t=[],a=0;e>a;a++)t[a]=r[a].b;return{$:1,c:n.c,d:n.d,e:t,f:n.f,b:n.b}}(r),u=1}switch(u){case 5:for(var i=n.l,c=r.l,o=i.length,f=o===c.length;f&&o--;)f=i[o]===c[o];if(f)return void(r.k=n.k);r.k=r.m();var s=[];return Wr(n.k,r.k,s,0),void(s.length>0&&Kr(e,1,t,s));case 4:for(var l=n.j,b=r.j,d=!1,h=n.k;4===h.$;)d=!0,"object"!=typeof l?l=[l,h.j]:l.push(h.j),h=h.k;for(var g=r.k;4===g.$;)d=!0,"object"!=typeof b?b=[b,g.j]:b.push(g.j),g=g.k;return d&&l.length!==b.length?void Kr(e,0,t,r):((d?function(n,r){for(var e=0;n.length>e;e++)if(n[e]!==r[e])return!1;return!0}(l,b):l===b)||Kr(e,2,t,b),void Wr(h,g,e,t+1));case 0:return void(n.a!==r.a&&Kr(e,3,t,r.a));case 1:return void Zr(n,r,e,t,Gr);case 2:return void Zr(n,r,e,t,Nr);case 3:if(n.h!==r.h)return void Kr(e,0,t,r);var v=Vr(n.d,r.d);v&&Kr(e,4,t,v);var p=r.i(n.g,r.g);return void(p&&Kr(e,5,t,p))}}}function Zr(n,r,e,t,a){if(n.c===r.c&&n.f===r.f){var u=Vr(n.d,r.d);u&&Kr(e,4,t,u),a(n,r,e,t)}else Kr(e,0,t,r)}function Vr(n,r,e){var t;for(var a in n)if("a1"!==a&&"a0"!==a&&"a3"!==a&&"a4"!==a)if(a in r){var u=n[a],i=r[a];u===i&&"value"!==a&&"checked"!==a||"a0"===e&&Pr(u,i)||((t=t||{})[a]=i)}else(t=t||{})[a]=e?"a1"===e?"":"a0"===e||"a3"===e?void 0:{f:n[a].f,o:void 0}:"string"==typeof n[a]?"":null;else{var c=Vr(n[a],r[a]||{},a);c&&((t=t||{})[a]=c)}for(var o in r)o in n||((t=t||{})[o]=r[o]);return t}function Gr(n,r,e,t){var a=n.e,u=r.e,i=a.length,c=u.length;i>c?Kr(e,6,t,{v:c,i:i-c}):c>i&&Kr(e,7,t,{v:i,e:u});for(var o=c>i?i:c,f=0;o>f;f++){var s=a[f];Wr(s,u[f],e,++t),t+=s.b||0}}function Nr(n,r,e,t){for(var a=[],u={},i=[],c=n.e,o=r.e,f=c.length,s=o.length,l=0,b=0,d=t;f>l&&s>b;){var h=(B=c[l]).a,g=(E=o[b]).a,v=B.b,p=E.b,m=void 0,$=void 0;if(h!==g){var w=c[l+1],x=o[b+1];if(w){var y=w.a,k=w.b;$=g===y}if(x){var z=x.a,_=x.b;m=h===z}if(m&&$)Wr(v,_,a,++d),Rr(u,a,h,p,b,i),d+=v.b||0,Xr(u,a,h,k,++d),d+=k.b||0,l+=2,b+=2;else if(m)d++,Rr(u,a,g,p,b,i),Wr(v,_,a,d),d+=v.b||0,l+=1,b+=2;else if($)Xr(u,a,h,v,++d),d+=v.b||0,Wr(k,p,a,++d),d+=k.b||0,l+=2,b+=1;else{if(!w||y!==z)break;Xr(u,a,h,v,++d),Rr(u,a,g,p,b,i),d+=v.b||0,Wr(k,_,a,++d),d+=k.b||0,l+=2,b+=2}}else Wr(v,p,a,++d),d+=v.b||0,l++,b++}for(;f>l;){var B;Xr(u,a,(B=c[l]).a,v=B.b,++d),d+=v.b||0,l++}for(;s>b;){var E,M=M||[];Rr(u,a,(E=o[b]).a,E.b,void 0,M),b++}(a.length>0||i.length>0||M)&&Kr(e,8,t,{w:a,x:i,y:M})}var Yr="_elmW6BL";function Rr(n,r,e,t,a,u){var i=n[e];if(!i)return u.push({r:a,A:i={c:0,z:t,r:a,s:void 0}}),void(n[e]=i);if(1===i.c){u.push({r:a,A:i}),i.c=2;var c=[];return Wr(i.z,t,c,i.r),i.r=a,void(i.s.s={w:c,A:i})}Rr(n,r,e+Yr,t,a,u)}function Xr(n,r,e,t,a){var u=n[e];if(u){if(0===u.c){u.c=2;var i=[];return Wr(t,u.z,i,a),void Kr(r,9,a,{w:i,A:u})}Xr(n,r,e+Yr,t,a)}else{var c=Kr(r,9,a,void 0);n[e]={c:1,z:t,r:a,s:c}}}function Jr(n,r,e,t){return 0===e.length?n:(function n(r,e,t,a){!function r(e,t,a,u,i,c,o){for(var f=a[u],s=f.r;s===i;){var l=f.$;if(1===l)n(e,t.k,f.s,o);else if(8===l)f.t=e,f.u=o,(b=f.s.w).length>0&&r(e,t,b,0,i,c,o);else if(9===l){f.t=e,f.u=o;var b,d=f.s;d&&(d.A.s=e,(b=d.w).length>0&&r(e,t,b,0,i,c,o))}else f.t=e,f.u=o;if(!(f=a[++u])||(s=f.r)>c)return u}var h=t.$;if(4===h){for(var g=t.k;4===g.$;)g=g.k;return r(e,g,a,u,i+1,c,e.elm_event_node_ref)}for(var v=t.e,p=e.childNodes,m=0;v.length>m;m++){var $=1===h?v[m]:v[m].b,w=++i+($.b||0);if(!(i>s||s>w||(f=a[u=r(p[m],$,a,u,i,w,o)])&&(s=f.r)<=c))return u;i=w}return u}(r,e,t,0,0,e.b,a)}(n,r,e,t),Ur(n,e))}function Ur(n,r){for(var e=0;r.length>e;e++){var t=r[e],a=t.t,u=qr(a,t);a===n&&(n=u)}return n}function qr(n,r){switch(r.$){case 0:return function(n){var e=n.parentNode,t=Ar(r.s,r.u);return t.elm_event_node_ref||(t.elm_event_node_ref=n.elm_event_node_ref),e&&t!==n&&e.replaceChild(t,n),t}(n);case 4:return Tr(n,r.u,r.s),n;case 3:return n.replaceData(0,n.length,r.s),n;case 1:return Ur(n,r.s);case 2:return n.elm_event_node_ref?n.elm_event_node_ref.j=r.s:n.elm_event_node_ref={j:r.s,p:r.u},n;case 6:for(var e=r.s,t=0;e.i>t;t++)n.removeChild(n.childNodes[e.v]);return n;case 7:for(var a=(e=r.s).e,u=n.childNodes[t=e.v];a.length>t;t++)n.insertBefore(Ar(a[t],r.u),u);return n;case 9:if(!(e=r.s))return n.parentNode.removeChild(n),n;var i=e.A;return void 0!==i.r&&n.parentNode.removeChild(n),i.s=Ur(n,e.w),n;case 8:return function(n,r){var e=r.s,t=function(n,r){if(n){for(var e=dr.createDocumentFragment(),t=0;n.length>t;t++){var a=n[t].A;hr(e,2===a.c?a.s:Ar(a.z,r.u))}return e}}(e.y,r);n=Ur(n,e.w);for(var a=e.x,u=0;a.length>u;u++){var i=a[u],c=i.A,o=2===c.c?c.s:Ar(c.z,r.u);n.insertBefore(o,n.childNodes[i.r])}return t&&hr(n,t),n}(n,r);case 5:return r.s(n);default:m(10)}}var Qr=a(function(n,r,e,t){return function(n,r,e,t,a,u){var i=f($n,n,Mn(r?r.flags:void 0));jt(i)||m(2);var c={},o=(i=e(i.a)).a,s=u(b,o),l=function(n,r){var e;for(var t in Nn){var a=Nn[t];a.a&&((e=e||{})[t]=a.a(t,r)),n[t]=Rn(a,r)}return e}(c,b);function b(n,r){s(o=(i=f(t,n,o)).a,r),er(c,i.b,a(o))}return er(c,i.b,a(o)),l?{ports:l}:{}}(r,t,n.fX,n.hL,n.hk,function(r,e){var t=n.cc&&n.cc(r),a=n.hO,u=dr.title,i=dr.body,c=function n(r){if(3===r.nodeType)return gr(r.textContent);if(1!==r.nodeType)return gr("");for(var e=S,t=r.attributes,a=t.length;a--;){var u=t[a];e=F(f(zr,u.name,u.value),e)}var i=r.tagName.toLowerCase(),c=S,o=r.childNodes;for(a=o.length;a--;)c=F(n(o[a]),c);return s(pr,i,e,c)}(i);return function(n,r){r(n);var e=0;function t(){e=1===e?0:(ne(t),r(n),1)}return function(a,u){n=a,u?(r(n),2===e&&(e=1)):(0===e&&ne(t),e=2)}}(e,function(n){sr=t;var e=a(n),o=pr("body")(S)(e.eM),f=function(n,r){var e=[];return Wr(n,r,e,0),e}(c,o);i=Jr(i,c,f,r),c=o,sr=0,u!==e.hE&&(dr.title=u=e.hE)})})}),ne=("undefined"!=typeof cancelAnimationFrame&&cancelAnimationFrame,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(n){return setTimeout(n,1e3/60)});var re={addEventListener:function(){},removeEventListener:function(){}},ee="undefined"!=typeof document?document:re,te="undefined"!=typeof window?window:re,ae=t(function(n,r,e){return Hn(An(function(){function t(n){On(e(n))}return n.addEventListener(r,t,Er&&{passive:!0}),function(){n.removeEventListener(r,t)}}))}),ue=e(function(n,r){var e=wn(n,r);return jt(e)?De(e.a):Pe});var ie=e(function(n,r){return function(n,r){return An(function(e){ne(function(){var t=document.getElementById(n);e(t?jn(r(t)):{$:1,a:Dt(n)})})})}(r,function(r){return r[n](),k})}),ce=t(function(n,r,e){return An(function(t){function a(n){t(r(e.a0.a(n)))}var u=new XMLHttpRequest;u.addEventListener("error",function(){a(Ra)}),u.addEventListener("timeout",function(){a(Ua)}),u.addEventListener("load",function(){a(function(n,r){return f(r.status>=200&&300>r.status?Ya:Ga,function(n){return{bf:n.responseURL,hd:n.status,dZ:n.statusText,fI:oe(n.getAllResponseHeaders())}}(r),n(r.response))}(e.a0.b,u))}),qa(e.hI)&&function(n,r,e){r.upload.addEventListener("progress",function(t){r.c||On(f(Qa,n,z(e,Ja({g4:t.loaded,g7:t.total}))))}),r.addEventListener("progress",function(t){r.c||On(f(Qa,n,z(e,Xa({gR:t.loaded,g7:t.lengthComputable?De(t.total):Pe}))))})}(n,u,e.hI.a);try{u.open(e.gc,e.bf,!0)}catch(n){return a(Na(e.bf))}return function(n,r){for(var e=r.fI;e.b;e=e.b)n.setRequestHeader(e.a.a,e.a.b);n.timeout=r.hC.a||0,n.responseType=r.a0.d,n.withCredentials=r.ez}(u,e),e.eM.a&&u.setRequestHeader("Content-Type",e.eM.a),u.send(e.eM.b),function(){u.c=!0,u.abort()}})});function oe(n){if(!n)return wa;for(var r=wa,e=n.split("\r\n"),t=e.length;t--;){var a=e[t],u=a.indexOf(": ");if(u>0){var i=a.substring(0,u),c=a.substring(u+2);r=s(ou,i,function(n){return De(qa(n)?c+", "+n.a:c)},r)}}return r}var fe,se=t(function(n,r,e){return{$:0,d:n,b:r,a:e}}),le=e(function(n,r){return{$:0,d:r.d,b:r.b,a:function(e){return n(r.a(e))}}}),be=e(function(n,r){return{$:0,a:n,b:r}}),de=e(function(n,r){return An(function(){var e=setInterval(function(){On(r)},n);return function(){clearInterval(e)}})}),he=e(function(n,r){var e="g";n.gg&&(e+="m"),n.eY&&(e+="i");try{return De(RegExp(r,e))}catch(n){return Pe}}),ge=e(function(n,r){return null!==r.match(n)}),ve=t(function(n,r,e){for(var t,a=[],u=0,i=e,c=r.lastIndex,o=-1;u++<n&&(t=r.exec(i))&&o!=r.lastIndex;){for(var f=t.length-1,s=[];f>0;){var b=t[f];s[--f]=b?De(b):Pe}a.push(l(Mo,t[0],t.index,u,A(s))),o=r.lastIndex}return r.lastIndex=c,A(a)}),pe=a(function(n,r,e,t){var a=0;return t.replace(r,function(r){if(a++>=n)return r;for(var t=arguments.length-3,u=[];t>0;){var i=arguments[t];u[--t]=i?De(i):Pe}return e(l(Mo,r,arguments[arguments.length-2],a,A(u)))})}),me=t(function(n,r,e){for(var t=e,a=[],u=r.lastIndex,i=r.lastIndex;n--;){var c=r.exec(t);if(!c)break;a.push(t.slice(u,c.index)),u=r.lastIndex}return a.push(t.slice(u)),r.lastIndex=i,A(a)}),$e=u(function(n,r,e,t,a){for(var u=n.length,i=a.length>=r+u,c=0;i&&u>c;){var o=a.charCodeAt(r);i=n[c++]===a[r++]&&(10===o?(e++,t=1):(t++,55296==(63488&o)?n[c++]===a[r++]:1))}return _(i?r:-1,e,t)}),we=t(function(n,r,e){return e.length>r?55296==(63488&e.charCodeAt(r))?n(B(e.substr(r,2)))?r+2:-1:n(B(e[r]))?"\n"===e[r]?-2:r+1:-1:-1}),xe=u(function(n,r,e,t,a){for(var u=a.indexOf(n,r),i=0>u?a.length:u+n.length;i>r;){var c=a.charCodeAt(r++);10===c?(t=1,e++):(t++,55296==(63488&c)&&r++)}return _(u,e,t)});en(function(n){return"undefined"!=typeof File&&n instanceof File?Oe(n):zn("a FILE",n)});var ye,ke=t(function(n,r,e){return An(function(){var t=new Blob([e],{type:r});if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(t,n);else{var a=fe||(fe=document.createElement("a")),u=URL.createObjectURL(t);a.href=u,a.download=n,ze(a),URL.revokeObjectURL(u)}})});function ze(n){if("function"==typeof MouseEvent)n.dispatchEvent(new MouseEvent("click"));else{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.appendChild(n),n.dispatchEvent(r),document.body.removeChild(n)}}var _e=j,Be=t(function(n,r,e){for(;;){if(-2===e.$)return r;var t=e.d,a=n,u=s(n,e.b,e.c,s(Be,n,r,e.e));n=a,r=u,e=t}}),Ee=function(n){return s(Be,t(function(n,r,e){return f(_e,z(n,r),e)}),S,n)},Me=function(n){return s(Be,t(function(n,r,e){return f(_e,n,e)}),S,n)},Ce=function(n){return Me(n)},Se=1,Fe=2,je=0,Ae=function(n){return{$:1,a:n}},Te=e(function(n,r){return{$:3,a:n,b:r}}),Le=e(function(n,r){return{$:0,a:n,b:r}}),Ie=e(function(n,r){return{$:1,a:n,b:r}}),Oe=function(n){return{$:0,a:n}},He=function(n){return{$:2,a:n}},De=function(n){return{$:0,a:n}},Pe={$:1},Ke=Q,We=V,Ze=M,Ve=En,Ge=rn,Ne=e(function(n,r){return f(U,n,T(r))}),Ye=e(function(n,r){return A(f(J,n,r))}),Re=function(n){return f(Ne,"\n    ",f(Ye,"\n",n))},Xe=t(function(n,r,e){for(;;){if(!e.b)return r;var t=e.b,a=n,u=f(n,e.a,r);n=a,r=u,e=t}}),Je=function(n){return s(Xe,e(function(n,r){return r+1}),0,n)},Ue=L,qe=t(function(n,r,e){for(;;){if(x(n,r)>=1)return e;var t=n,a=r-1,u=f(_e,r,e);n=t,r=a,e=u}}),Qe=e(function(n,r){return s(qe,n,r,S)}),nt=e(function(n,r){return s(Ue,n,f(Qe,0,Je(r)-1),r)}),rt=function(n){var r=n.charCodeAt(0);return 55296>r||r>56319?r:1024*(r-55296)+n.charCodeAt(1)-56320+65536},et=function(n){var r=rt(n);return r>=97&&122>=r},tt=function(n){var r=rt(n);return 90>=r&&r>=65},at=function(n){return et(n)||tt(n)},ut=function(n){var r=rt(n);return 57>=r&&r>=48},it=function(n){return et(n)||tt(n)||ut(n)},ct=function(n){return s(Xe,_e,S,n)},ot=function(n){var r=n.charCodeAt(0);return isNaN(r)?Pe:De(55296>r||r>56319?z(B(n[0]),n.slice(1)):z(B(n[0]+n[1]),n.slice(2)))},ft=e(function(n,r){return"\n\n("+Ge(n+1)+") "+Re(st(r))}),st=function(n){return f(lt,n,S)},lt=e(function(n,r){n:for(;;)switch(n.$){case 0:var e=n.a,t=n.b,a=function(){var n=ot(e);if(1===n.$)return!1;var r=n.a,t=r.b;return at(r.a)&&f(Ke,it,t)}();n=t,r=f(_e,a?"."+e:"['"+e+"']",r);continue n;case 1:t=n.b;var u="["+Ge(n.a)+"]";n=t,r=f(_e,u,r);continue n;case 2:var i=n.a;if(i.b){if(i.b.b){var c=(r.b?"The Json.Decode.oneOf at json"+f(Ne,"",ct(r)):"Json.Decode.oneOf")+" failed in the following "+Ge(Je(i))+" ways:";return f(Ne,"\n\n",f(_e,c,f(nt,ft,i)))}n=t=i.a,r=r;continue n}return"Ran into a Json.Decode.oneOf with no possibilities"+(r.b?" at json"+f(Ne,"",ct(r)):"!");default:var o=n.a,s=n.b;return(c=r.b?"Problem with the value at json"+f(Ne,"",ct(r))+":\n\n    ":"Problem with the given value:\n\n")+Re(f(Ve,4,s))+"\n\n"+o}}),bt=a(function(n,r,e,t){return{$:0,a:n,b:r,c:e,d:t}}),dt=[],ht=P,gt=e(function(n,r){return Z(r)/Z(n)}),vt=function(n){return n},pt=ht(f(gt,2,32)),mt=l(bt,0,pt,dt,dt),$t=v,wt=e(function(n,r){return n(r)}),xt=e(function(n,r){return r(n)}),yt=K,kt=function(n){return n.length},zt=e(function(n,r){return x(n,r)>0?n:r}),_t=p,Bt=e(function(n,r){for(;;){var e=f(_t,32,n),t=e.b,a=f(_e,{$:0,a:e.a},r);if(!t.b)return ct(a);n=t,r=a}}),Et=function(n){return n.a},Mt=e(function(n,r){for(;;){var e=ht(r/32);if(1===e)return f(_t,32,n).a;n=f(Bt,n,S),r=e}}),Ct=e(function(n,r){if(r.l){var e=32*r.l,t=yt(f(gt,32,e-1)),a=n?ct(r.o):r.o,u=f(Mt,a,r.l);return l(bt,kt(r.n)+e,f(zt,5,t*pt),u,r.n)}return l(bt,kt(r.n),pt,dt,r.n)}),St=u(function(n,r,e,t,a){for(;;){if(0>r)return f(Ct,!1,{o:t,l:e/32|0,n:a});var u={$:1,a:s($t,32,r,n)};n=n,r-=32,e=e,t=f(_e,u,t),a=a}}),Ft=e(function(n,r){if(n>0){var e=n%32;return b(St,r,n-e-32,n,S,s($t,e,n-e,r))}return mt}),jt=function(n){return!n.$},At=ln,Tt=bn,Lt=dn,It=function(n){return{$:0,a:n}},Ot=function(n){switch(n.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},Ht=function(n){return n},Dt=Ht,Pt=function(n){return n.length},Kt=q,Wt=e(function(n,r){return 1>n?r:s(Kt,n,Pt(r),r)}),Zt=function(n){return""===n},Vt=function(n){for(var r=0,e=n.charCodeAt(0),t=43==e||45==e?1:0,a=t;n.length>a;++a){var u=n.charCodeAt(a);if(48>u||u>57)return Pe;r=10*r+u-48}return a==t?Pe:De(45==e?-r:r)},Gt=nn,Nt=function(n){for(;;)n=n},Yt=jn,Rt=Yt(0),Xt=a(function(n,r,e,t){if(t.b){var a=t.a,u=t.b;if(u.b){var i=u.a,c=u.b;if(c.b){var o=c.a,b=c.b;if(b.b){var d=b.b;return f(n,a,f(n,i,f(n,o,f(n,b.a,e>500?s(Xe,n,r,ct(d)):l(Xt,n,r,e+1,d)))))}return f(n,a,f(n,i,f(n,o,r)))}return f(n,a,f(n,i,r))}return f(n,a,r)}return r}),Jt=t(function(n,r,e){return l(Xt,n,r,0,e)}),Ut=e(function(n,r){return s(Jt,e(function(r,e){return f(_e,n(r),e)}),S,r)}),qt=Tn,Qt=e(function(n,r){return f(qt,function(r){return Yt(n(r))},r)}),na=t(function(n,r,e){return f(qt,function(r){return f(qt,function(e){return Yt(f(n,r,e))},e)},r)}),ra=function(n){return s(Jt,na(_e),Yt(S),n)},ea=Xn,ta=e(function(n,r){var e=r;return Hn(f(qt,ea(n),e))});Nn.Task=Yn(Rt,t(function(n,r){return f(Qt,function(){return 0},ra(f(Ut,ta(n),r)))}),t(function(){return Yt(0)}),e(function(n,r){return f(Qt,n,r)}));var aa,ua=Un("Task"),ia=e(function(n,r){return ua(f(Qt,n,r))}),ca=Qr,oa=fn,fa=un,sa=function(n){return{$:2,a:n}},la=a(function(n,r,e,t){return{e3:t,cZ:r,dD:e,hD:n}}),ba=function(n){return{$:1,a:n}},da=function(n){return{$:0,a:n}},ha=function(n){return{$:0,a:n}},ga=function(n){return{$:12,a:n}},va=qn,pa=e(function(n,r){return 0>x(n,r)?n:r}),ma=function(n){return{bV:(r=f(pa,n.eg,n.fJ),e=f(zt,n.eg,n.fJ),600>r?0:e>1200?e>1200&&1920>=e?2:3:1),gC:0>x(n.eg,n.fJ)?0:1};var r,e},$a={$:-2},wa=$a,xa=on,ya=function(n){return{$:3,b:n}},ka=ya(s(Lt,e(function(n,r){return{bu:n,bz:r}}),f(oa,"id",f(At,function(n){var r=Vt(n);return It(r.$?0:r.a)},xa)),f(oa,"name",xa))),za=t(function(n,r,e){return{bu:n,bz:r,dV:e}}),_a=tn,Ba=t(function(n,r,e){return f(Ne,r,f(Ye,n,e))}),Ea=s(Lt,e(function(n,r){return z(n,s(za,n,s(Ba,"ESRI ","",r),n))}),f(oa,"id",_a),f(oa,"name",xa)),Ma=u(function(n,r,e,t,a){return{$:-1,a:n,b:r,c:e,d:t,e:a}}),Ca=u(function(n,r,e,t,a){if(-1!==a.$||a.a){if(-1!==t.$||t.a||-1!==t.d.$||t.d.a)return b(Ma,n,r,e,t,a);var u=t.d;return i=t.e,b(Ma,0,t.b,t.c,b(Ma,1,u.b,u.c,u.d,u.e),b(Ma,1,r,e,i,a))}var i,c=a.b,o=a.c,f=a.d,s=a.e;return-1!==t.$||t.a?b(Ma,n,c,o,b(Ma,0,r,e,t,f),s):b(Ma,0,r,e,b(Ma,1,t.b,t.c,t.d,i=t.e),b(Ma,1,c,o,f,s))}),Sa=y,Fa=t(function(n,r,e){if(-2===e.$)return b(Ma,0,n,r,$a,$a);var t=e.a,a=e.b,u=e.c,i=e.d,c=e.e;switch(f(Sa,n,a)){case 0:return b(Ca,t,a,u,s(Fa,n,r,i),c);case 1:return b(Ma,t,a,r,i,c);default:return b(Ca,t,a,u,i,s(Fa,n,r,c))}}),ja=t(function(n,r,e){var t=s(Fa,n,r,e);return-1!==t.$||t.a?t:b(Ma,1,t.b,t.c,t.d,t.e)}),Aa=function(n){return s(Xe,e(function(n,r){return s(ja,n.a,n.b,r)}),wa,n)},Ta=f(Tt,Aa,ya(Ea)),La=i(function(n,r,e,t,a,u){return{fh:e,cZ:a,bu:n,b4:u,bz:r,ch:t}}),Ia=I,Oa=function(n){return f(Ut,function(n){return n.b},f(Ia,Ht,f(Ut,function(n){return z(function(){switch(n){case 128:return 10;case 22:return 20;case 61:return 30;case 6:return 40;case 7:return 50;case 25:return 60;case 3:return 70;case 101:return 80;case 2:return 90;case 23:return 100;case 4:return 110;case 21:return 120;case 1:return 130;default:return 200}}(),n)},n)))},Ha=e(function(n,r){return s(Jt,e(function(r,e){return n(r)?f(_e,r,e):e}),S,r)}),Da=(aa=f(Tt,Ha(function(){return!0}),ya(_a)),f(Tt,Oa,aa)),Pa=h(vn,La,f(oa,"id",_a),f(oa,"name",xa),f(oa,"description",xa),f(oa,"type",xa),f(oa,"formats",Da),It(Pe)),Ka=ya(Pa),Wa=gn,Za=b(Wa,la,f(oa,"timestamp",xa),f(oa,"formats",Ta),f(oa,"products",Ka),f(oa,"communes",ka)),Va=mn,Ga=e(function(n,r){return{$:3,a:n,b:r}}),Na=function(n){return{$:0,a:n}},Ya=e(function(n,r){return{$:4,a:n,b:r}}),Ra={$:2},Xa=function(n){return{$:1,a:n}},Ja=function(n){return{$:0,a:n}},Ua={$:1},qa=function(n){return!n.$},Qa=Jn,nu=e(function(n,r){n:for(;;){if(-2===r.$)return Pe;var e=r.c,t=r.d,a=r.e;switch(f(Sa,n,r.b)){case 0:n=n,r=t;continue n;case 1:return De(e);default:n=n,r=a;continue n}}}),ru=function(n){if(-1===n.$&&-1===n.d.$&&-1===n.e.$){if(-1!==n.e.d.$||n.e.d.a){var r=n.d,e=n.e;return i=e.b,c=e.c,t=e.d,s=e.e,b(Ma,1,n.b,n.c,b(Ma,0,r.b,r.c,r.d,r.e),b(Ma,0,i,c,t,s))}var t,a=n.d,u=n.e,i=u.b,c=u.c,o=(t=u.d).d,f=t.e,s=u.e;return b(Ma,0,t.b,t.c,b(Ma,1,n.b,n.c,b(Ma,0,a.b,a.c,a.d,a.e),o),b(Ma,1,i,c,f,s))}return n},eu=function(n){if(-1===n.$&&-1===n.d.$&&-1===n.e.$){if(-1!==n.d.d.$||n.d.d.a){var r=n.d,e=n.e;return f=e.b,s=e.c,l=e.d,d=e.e,b(Ma,1,t=n.b,a=n.c,b(Ma,0,r.b,r.c,r.d,c=r.e),b(Ma,0,f,s,l,d))}var t=n.b,a=n.c,u=n.d,i=u.d,c=u.e,o=n.e,f=o.b,s=o.c,l=o.d,d=o.e;return b(Ma,0,u.b,u.c,b(Ma,1,i.b,i.c,i.d,i.e),b(Ma,1,t,a,c,b(Ma,0,f,s,l,d)))}return n},tu=c(function(n,r,e,t,a,u,i){if(-1!==u.$||u.a){n:for(;;){if(-1===i.$&&1===i.a){if(-1===i.d.$){if(1===i.d.a)return eu(r);break n}return eu(r)}break n}return r}return b(Ma,e,u.b,u.c,u.d,b(Ma,0,t,a,u.e,i))}),au=function(n){if(-1===n.$&&-1===n.d.$){var r=n.a,e=n.b,t=n.c,a=n.d,u=a.d,i=n.e;if(1===a.a){if(-1!==u.$||u.a){var c=ru(n);if(-1===c.$){var o=c.e;return b(Ca,c.a,c.b,c.c,au(c.d),o)}return $a}return b(Ma,r,e,t,au(a),i)}return b(Ma,r,e,t,au(a),i)}return $a},uu=e(function(n,r){if(-2===r.$)return $a;var e=r.a,t=r.b,a=r.c,u=r.d,i=r.e;if(0>x(n,t)){if(-1===u.$&&1===u.a){var c=u.d;if(-1!==c.$||c.a){var o=ru(r);if(-1===o.$){var s=o.e;return b(Ca,o.a,o.b,o.c,f(uu,n,o.d),s)}return $a}return b(Ma,e,t,a,f(uu,n,u),i)}return b(Ma,e,t,a,f(uu,n,u),i)}return f(iu,n,h(tu,n,r,e,t,a,u,i))}),iu=e(function(n,r){if(-1===r.$){var e=r.a,t=r.b,a=r.c,u=r.d,i=r.e;if($(n,t)){var c=function(n){for(;;){if(-1!==n.$||-1!==n.d.$)return n;n=n.d}}(i);return-1===c.$?b(Ca,e,c.b,c.c,u,au(i)):$a}return b(Ca,e,t,a,u,f(uu,n,i))}return $a}),cu=e(function(n,r){var e=f(uu,n,r);return-1!==e.$||e.a?e:b(Ma,1,e.b,e.c,e.d,e.e)}),ou=t(function(n,r,e){var t=r(f(nu,n,e));return t.$?f(cu,n,e):s(ja,n,t.a,e)}),fu=t(function(n,r,e){return r(n(e))}),su=e(function(n,r){return s(se,"",Ht,f(fu,r,n))}),lu=e(function(n,r){return r.$?Ae(n(r.a)):Oe(r.a)}),bu=function(n){return{$:4,a:n}},du={$:2},hu={$:1},gu=e(function(n,r){switch(r.$){case 0:return Ae({$:0,a:r.a});case 1:return Ae(hu);case 2:return Ae(du);case 3:return Ae({$:3,a:r.a.hd});default:return f(lu,bu,n(r.b))}}),vu=e(function(n,r){return f(su,n,gu(function(n){return f(lu,st,f(Va,r,n))}))}),pu={$:0},mu=function(n){return{$:1,a:n}},$u=e(function(n,r){return{dI:n,d2:r}}),wu=Yt(f($u,wa,S)),xu=function(n){return An(function(r){var e=n.f;2===e.$&&e.c&&e.c(),n.f=null,r(jn(k))})},yu=Hn,ku=t(function(n,r,e){n:for(;;){if(r.b){var t=r.a,a=r.b;if(t.$){var u=t.a;return f(qt,function(r){var t=u.hI;return s(ku,n,a,1===t.$?e:s(ja,t.a,r,e))},yu(s(ce,n,ea(n),u)))}var i=t.a,c=f(nu,i,e);if(1===c.$){n=n,r=a,e=e;continue n}return f(qt,function(){return s(ku,n,a,f(cu,i,e))},xu(c.a))}return Yt(e)}}),zu=a(function(n,r,e,t){return f(qt,function(n){return Yt(f($u,n,e))},s(ku,n,r,t.dI))}),_u=t(function(n,r,e){var t=n(r);return t.$?e:f(_e,t.a,e)}),Bu=e(function(n,r){return s(Jt,_u(n),S,r)}),Eu=a(function(n,r,e,t){var a=t.b;return $(r,t.a)?De(f(ea,n,a(e))):Pe}),Mu=t(function(n,r,e){return f(qt,function(){return Yt(e)},ra(f(Bu,s(Eu,n,r.a,r.b),e.d2)))}),Cu=e(function(n,r){if(r.$){var e=r.a;return mu({ez:e.ez,eM:e.eM,a0:f(le,n,e.a0),fI:e.fI,gc:e.gc,hC:e.hC,hI:e.hI,bf:e.bf})}return{$:0,a:r.a}}),Su=e(function(n,r){return{$:0,a:n,b:r}});Nn.Http=Yn(wu,zu,Mu,Cu,e(function(n,r){return f(Su,r.a,f(fu,r.b,n))}));var Fu,ju=Un("Http"),Au=(Un("Http"),function(n){return ju(mu({ez:!1,eM:n.eM,a0:n.a0,fI:n.fI,gc:n.gc,hC:n.hC,hI:n.hI,bf:n.bf}))}),Tu=function(n){return Au({eM:pu,a0:n.a0,fI:S,gc:"GET",hC:Pe,hI:Pe,bf:n.bf})},Lu=wa,Iu=e(function(n,r){return s(ja,n,0,r)}),Ou=function(n){return s(Xe,Iu,Lu,n)},Hu=e(function(n,r){return{$:0,a:n,b:r}}),Du=Hu,Pu=An(function(n){n(jn(f(Du,-(new Date).getTimezoneOffset(),S)))}),Ku={B:S,a3:!1},Wu=Ht,Zu=(Fu=Wu,An(function(n){n(jn(Fu(Date.now())))})),Vu=f(Hu,0,S),Gu={$:24},Nu=function(n){return{$:33,a:n}},Yu=function(n){return{$:34,a:n}},Ru=function(n){return{$:2,a:n}},Xu=e(function(n,r){return{$:3,a:n,b:r}}),Ju=e(function(n){return n}),Uu=qn,qu=e(function(n,r){return{$:0,a:n,b:r}}),Qu=e(function(n,r){return{dA:r,d4:n}}),ni=Yt(f(Qu,wa,wa)),ri=e(function(n,r){var e=n.a,t=n.b,a=f(nu,e,r);return s(ja,e,1===a.$?A([t]):f(_e,t,a.a),r)}),ei=t(function(n,r,e){for(;;){if(-2===e.$)return r;var t=e.e,a=n,u=s(n,e.b,e.c,s(ei,n,r,e.d));n=a,r=u,e=t}}),ti=i(function(n,r,a,u,i,c){var o=s(ei,t(function(e,t,u){n:for(;;){var i=u.a,c=u.b;if(i.b){var o=i.a,f=o.a,b=o.b,d=i.b;if(0>x(f,e)){e=e,t=t,u=z(d,s(n,f,b,c));continue n}return x(f,e)>0?z(i,s(a,e,t,c)):z(d,l(r,f,b,t,c))}return z(i,s(a,e,t,c))}}),z(Ee(u),c),i),f=o.a,b=o.b;return s(Xe,e(function(r,e){return s(n,r.a,r.b,e)}),b,f)}),ai=de,ui=t(function(n,r,e){if(r.b){var t=r.a,a=r.b,u=yu(f(ai,t,f(Qa,n,t)));return f(qt,function(r){return s(ui,n,a,s(ja,t,r,e))},u)}return Yt(e)}),ii=t(function(n,r,e){var u=e.dA,i=t(function(n,r,e){var t=e.c;return _(e.a,e.b,f(qt,function(){return t},xu(r)))}),c=s(Xe,ri,wa,r),o=d(ti,t(function(n,r,e){var t=e.b,a=e.c;return _(f(_e,n,e.a),t,a)}),a(function(n,r,e,t){var a=t.c;return _(t.a,s(ja,n,e,t.b),a)}),i,c,u,_(S,wa,Yt(0))),l=o.a,b=o.b;return f(qt,function(n){return Yt(f(Qu,c,n))},f(qt,function(){return s(ui,n,l,b)},o.c))}),ci=t(function(n,r,e){var t=f(nu,r,e.d4);if(1===t.$)return Yt(e);var a=t.a;return f(qt,function(){return Yt(e)},f(qt,function(r){return ra(f(Ut,function(e){return f(ea,n,e(r))},a))},Zu))}),oi=t(function(n,r,e){return n(r(e))});Nn.Time=Yn(ni,ii,ci,0,e(function(n,r){return f(qu,r.a,f(oi,n,r.b))}));var fi=Un("Time"),si=e(function(n,r){return fi(f(qu,n,r))}),li=fr("getOrdersFromCache",xa),bi=fr("getPFCFromCache",xa),di=fr("getSettingsFromCache",xa),hi=cn,gi=fr("mapConfigChanged",hi),vi=fr("mapFeatureSelected",hi),pi=Uu(S),mi=function(n){return!n},$i=t(function(n,r,e){return{$:0,a:n,b:r,c:e}}),wi=e(function(n,r){return{dv:r,d2:n}}),xi=Yt(f(wi,S,wa)),yi=function(n){return z(C(n.a?"w_":"d_",n.b),n)},ki=e(function(n,r){return{cU:r,dd:n}}),zi=t(function(n,r,e){return f(Qt,function(n){return z(r,n)},s(ae,e.a?te:ee,e.b,function(e){return f(Qa,n,f(ki,r,e))}))}),_i=e(function(n,r){return s(ei,ja,r,n)});Nn["Browser.Events"]=Yn(xi,t(function(n,r,e){var u=t(function(r,e,t){var a=t.c;return _(t.a,t.b,f(_e,s(zi,n,r,e),a))}),i=t(function(n,r,e){var t=e.b,a=e.c;return _(f(_e,r,e.a),t,a)}),c=a(function(n,r,e,t){var a=t.c;return _(t.a,s(ja,n,r,t.b),a)}),o=f(Ut,yi,r),l=d(ti,i,c,u,e.dv,Aa(o),_(S,wa,S)),b=l.b,h=l.c;return f(qt,function(n){return Yt(f(wi,o,f(_i,b,Aa(n))))},f(qt,function(){return ra(h)},ra(f(Ut,xu,l.a))))}),t(function(n,r,e){var t=r.dd,a=r.cU,u=f(Bu,function(n){var r=n.b.c;return $(n.a,t)?f(ue,r,a):Pe},e.d2);return f(qt,function(){return Yt(e)},ra(f(Ut,ea(n),u)))}),0,e(function(n,r){return s($i,r.a,r.b,f(Tt,n,r.c))}));var Bi,Ei,Mi,Ci,Si,Fi=Un("Browser.Events"),ji=t(function(n,r,e){return Fi(s($i,n,r,e))}),Ai=e(function(n,r){for(;;){if(-2===r.$)return n;var e=r.d;n=f(Ai,n+1,r.e),r=e}}),Ti=a(function(n,r,e,t){return{eF:t,bX:e,fM:r,fS:n}}),Li=function(n){return{$:47,a:n}},Ii=function(n){return{$:46,a:n}},Oi=function(n){return{$:13,a:n}},Hi=function(n){return{$:22,a:n}},Di=function(n){return{$:23,a:n}},Pi={$:4},Ki=function(n){return{$:30,a:n}},Wi={$:1},Zi={$:2},Vi={$:3},Gi=e(function(n,r){return{fJ:n,eg:r}}),Ni=function(n){return{$:53,a:n}},Yi=e(function(n,r){return r.b?s(Jt,_e,r,n):n}),Ri={hg:(Si=1e3,{$:2,a:Si}),hJ:function(n){return{$:52,a:n}}},Xi=$n,Ji=a(function(n,r,e,t){return{eJ:r,e8:t,bz:e,ds:n}}),Ui=Lt(xt),qi=t(function(n,r,e){return f(Ui,f(oa,n,r),e)}),Qi=s(qi,"coord",ya(fa),s(qi,"name",xa,s(qi,"bfs",_a,s(qi,"peri",xa,It(Ji))))),nc=Xi(Qi),rc=function(n){return{$:1,a:n}},ec=(Bi=function(n){return"Array has too "+n+" numbers to make a position"},f(At,function(n){return n.b&&n.b.b?n.b.b.b?rc(Bi("many")):It(z(n.a,n.b.a)):rc(Bi("few"))},ya(fa))),tc=c(function(n,r,e,t,a,u,i){return{eK:e,eV:t,fl:u,fA:a,fD:n,fE:i,gq:r}}),ac=function(){var n=function(n){return n+" Zahlen für eine XY-Koordinate"};return f(At,function(r){return r.b&&r.b.b?r.b.b.b?rc(n("Zuviele")):It(z(r.a,r.b.a)):rc(n("Zuwenig"))},ya(fa))}(),uc=ya(ya(ac)),ic=s(qi,"geom",uc,s(qi,"egris_egrid",xa,s(qi,"gemeinde",xa,s(qi,"box2d",uc,s(qi,"bfsnr",_a,s(qi,"nummer",xa,s(qi,"geodb_oid",_a,It(tc)))))))),cc=function(n){return{$:11,g:n}},oc=t(function(n,r,e){return f(At,function(t){var a=f(Xi,n,t);if(a.$)return It(e);var u,i=a.a,c=f(Xi,cc(A([r,(u=e,{$:5,c:u})])),i);return c.$?rc(st(c.a)):It(c.a)},hi)}),fc=a(function(n,r,e,t){return f(Ui,s(oc,f(oa,n,hi),r,e),t)}),sc=l(fc,"wmslayernames",ya(xa),S,l(fc,"perimeter",xa,"box",l(fc,"oltool",xa,"none",l(fc,"parzellen",ya(ic),S,l(fc,"gemeinden",ya(_a),S,l(fc,"polygon",ya(ya(ec)),A([S]),l(fc,"box",ya(ya(ec)),A([S]),s(qi,"extent",ya(fa),s(qi,"zoom",fa,s(qi,"center",ec,It(function(n){return function(r){return function(e){return function(t){return function(a){return function(u){return function(i){return function(c){return function(o){return function(f){return{eU:t,eZ:n,fq:e,fB:u,gr:c,gE:i,bF:o,gN:a,hT:f,hZ:r}}}}}}}}}}}))))))))))),lc=Xi(sc),bc=f(fu,It,Ui),dc=c(function(n,r,e,t,a,u,i){return{bX:n,gG:r,gH:e,gI:t,gJ:a,gK:u,dD:i}}),hc=e(function(n,r){return{cK:n,ch:r}}),gc=s(qi,"type",xa,s(qi,"coordinates",ya(ya(ec)),It(hc))),vc=s(qi,"product_id",_a,s(qi,"format_id",_a,It(e(function(n,r){return{fx:n,gO:r}})))),pc=pn,mc=function(n){return cc(A([f(Tt,De,n),It(Pe)]))},$c=g(pc,dc,f(oa,"email",xa),mc(f(oa,"pdir_coordsys",xa)),mc(f(oa,"pdir_polygon",gc)),f(oa,"perimeter_type",xa),mc(f(oa,"pindir_ident",ya(xa))),mc(f(oa,"pindir_layer_name",xa)),f(oa,"products",ya(vc))),wc=f(bc,!1,l(fc,"lots",ya(ic),S,l(fc,"orderTitle",xa,"",s(qi,"order",$c,s(qi,"finished",xa,s(qi,"submitted",xa,s(qi,"status_code",_a,s(qi,"status",xa,s(qi,"internal_id",_a,s(qi,"order_id",xa,It(function(n){return function(r){return function(e){return function(t){return function(a){return function(u){return function(i){return function(c){return function(o){return function(f){return{cS:f,fv:u,f1:r,f7:o,gy:i,gA:c,gB:n,hc:e,he:t,hj:a}}}}}}}}}}}))))))))))),xc=f(Tt,Aa,function(n){return{$:8,b:n}}(wc)),yc=an,kc=b(Wa,a(function(n,r,e,t){return{eA:t,fR:n,f5:e,gW:r}}),f(oa,"hue",fa),f(oa,"saturation",fa),f(oa,"lightness",fa),f(oa,"alpha",fa)),zc=b(Wa,Ti,f(oa,"iconOnly",yc),f(oa,"hiddenFormats",ya(_a)),f(oa,"email",xa),f(oa,"baseColor",kc)),_c=Mn,Bc=function(n){return Mn(s(Xe,e(function(n,r){return s(Sn,n.a,n.b,r)}),{},n))},Ec=Mn,Mc=function(n){return Bc(A([z("id",_c(n.bu)),z("name",Ec(n.bz))]))},Cc=e(function(n,r){return Mn(s(Xe,function(n){return e(function(r,e){return e.push(Cn(n(r))),e})}(n),[],r))}),Sc=function(n){return Bc(A([z("id",_c(n.bu)),z("name",Ec(n.bz)),z("sort",_c(n.dV))]))},Fc=Fn,jc=function(n){return Bc(A([z("id",_c(n.bu)),z("name",Ec(n.bz)),z("description",Ec(n.fh)),z("type",Ec(n.ch)),z("formats",f(Cc,_c,n.cZ)),z("metaData",Fc)]))},Ac=t(function(n,r,e){return Mn(s(ei,t(function(e,t,a){return s(Sn,n(e),r(t),a)}),{},e))}),Tc=Mn,Lc=t(function(n,r,e){var t=e.b;return f(Cc,Ht,A([n(e.a),r(t)]))}),Ic=function(n){return s(Lc,Tc,Tc,z(n.a,n.b))},Oc=function(n){return f(Cc,Ic,n)},Hc=function(n){return Bc(A([z("format_id",_c(n.fx)),z("product_id",_c(n.gO))]))},Dc=e(function(n,r){return r.$?n:r.a}),Pc={cK:A([A([z(0,0)])]),ch:"point"},Kc=function(n){var r=function(n){return f(Cc,Tc,A([n.a,n.b]))};return f(Cc,function(n){return f(Cc,r,n)},n)},Wc=function(n){return Bc(A([z("geodb_oid",_c(n.fD)),z("nummer",Ec(n.gq)),z("bfsnr",_c(n.eK)),z("box2d",Kc(n.eV)),z("gemeinde",Ec(n.fA)),z("egris_egrid",Ec(n.fl)),z("geom",Kc(n.fE))]))},Zc=f(Ac,Ht,function(n){return Bc(A([z("order_id",Ec(n.gB)),z("internal_id",_c(n.f1)),z("status",Ec(n.hc)),z("status_code",_c(n.he)),z("submitted",Ec(n.hj)),z("finished",Ec(n.fv)),z("order",(r=n.gy,Bc(A([z("email",Ec(r.bX)),z("pdir_coordsys",Ec(f(Dc,"LV95",r.gG))),z("pdir_polygon",(a=f(Dc,Pc,r.gH),Bc(A([z("coordinates",f(Cc,Oc,a.cK)),z("type",Ec(a.ch))])))),z("perimeter_type",Ec(r.gI)),z("pindir_ident",(t=f(Dc,A([""]),r.gJ),f(Cc,Ec,t))),z("pindir_layer_name",Ec(f(Dc,"",r.gK))),z("products",(e=r.dD,f(Cc,Hc,e)))])))),z("orderTitle",Ec(n.gA)),z("lots",f(Cc,Wc,n.f7))]));var r,e,t,a}),Vc=Mn,Gc=function(n){return Bc(A([z("iconOnly",Vc(n.fS)),z("hiddenFormats",f(Cc,_c,n.fM)),z("email",Ec(n.bX)),z("baseColor",(r=n.eF,Bc(A([z("hue",Tc(r.fR)),z("saturation",Tc(r.gW)),z("lightness",Tc(r.f5)),z("alpha",Tc(r.eA))]))))]));var r},Nc=a(function(n,r,e,t){return{ct:r,fC:t,fF:n,gP:e}}),Yc=i(function(n,r,e,t,a,u){return{ct:r,fc:e,fF:n,hQ:u,hR:a,hS:t}}),Rc=hn,Xc=l(Rc,t(function(n,r,e){return{bz:n,bf:r,hN:e}}),f(oa,"name",xa),f(oa,"url",xa),f(oa,"version",xa)),Jc=l(fc,"wcs",ya(Xc),S,l(fc,"wfs",ya(Xc),S,l(fc,"wms",ya(Xc),S,l(fc,"datenstand",xa,"",l(fc,"beschreibung",xa,"",s(qi,"giszhnr",xa,It(Yc))))))),Uc=l(fc,"geodatensaetze",ya(Jc),S,l(fc,"produktbildurl",xa,"",l(fc,"beschreibung",xa,"",s(qi,"giszhnr",xa,It(Nc))))),qc=function(n){return"//geolion.zh.ch/api/v1/getGeodatenmeta.json?giszhnr="+Ge(n)},Qc=e(function(n,r){return Tu({a0:f(vu,r,Uc),bf:qc(n)})}),no=f(oa,"order_id",xa),ro=function(n){var r=function(){switch(n.bF){case"box":return n.eU;case"polygon":return n.gN;case"extent":var r=n.fq;if(r.b&&r.b.b&&r.b.b.b&&r.b.b.b.b&&!r.b.b.b.b.b){var e=r.a,t=r.b,a=t.a,u=t.b,i=u.a,c=u.b.a;return A([A([z(e,a),z(e,c),z(i,c),z(i,a),z(e,a)])])}return A([S]);default:return A([S])}}();return Kc(r)},eo=function(n){var r=n.b;return Bc(A([z("product_id",_c(n.a)),z("format_id",_c(r))]))},to=function(n){var r,e=function(){switch(n.a4.bF){case"gemeinden":case"parzellen":return"INDIRECT";default:return"DIRECT"}}(),t=function(){switch(n.a4.bF){case"gemeinden":return"COMMUNE";case"parzellen":return"PARCEL";default:return""}}(),a=function(){switch(n.a4.bF){case"gemeinden":return f(Ut,Ge,n.a4.fB);case"parzellen":return Me(n.g2);default:return A([""])}}();return Bc(A([z("email",Ec(n.bX)),z("perimeter_type",Ec(e)),z("pindir_layer_name",Ec(t)),z("pindir_ident",f(Cc,Ec,a)),z("pdir_polygon",(r=n.a4,Bc(A([z("type",Ec("Polygon")),z("coordinates",ro(r))])))),z("pdir_coordsys",Ec("LV95")),z("products",f(Cc,eo,Ce(n.hP)))]))},ao=e(function(n,r){return{$:0,a:n,b:r}}),uo=e(function(n,r){var e,t=A([f(ao,"Content-Type","application/json; charset=UTF-8")]);return Au({eM:(e=to(n),f(be,"application/json",f(Ve,0,e))),a0:f(vu,r,no),fI:t,gc:"POST",hC:Pe,hI:Pe,bf:"https://geoservices.zh.ch/geoshopapi/v1/orders"})}),io=function(n){return{$:1,a:n}},co=e(function(n,r){return{$:1,a:n,b:r}}),oo=t(function(n,r,e){if(1===r.$)return Ae(r.a);var t=r.a;return 1===e.$?Ae(e.a):Oe(f(n,t,e.a))}),fo=a(function(n,r,e,t){var a=e;return s(oo,n,r(t),a(t))}),so=t(function(n,r,e){return s(fo,n,r,e)}),lo=so(xt),bo=t(function(n,r,e){var t=r(e);return t.$?Ae(t.a):n(t.a)(e)}),ho=e(function(n,r){return f(bo,n,r)}),go=f(Jt,t(function(n,r,e){return 1===r.$?Pe:1===e.$?Pe:De(f(n,r.a,e.a))})(_e),De(S)),vo=function(n){return s(Jt,Yi,S,n)},po=function(n){return-n},mo=e(function(n,r){return 1>n?r:s(Kt,0,-n,r)}),$o=function(n){if(0===n.length||/[\sxbo]/.test(n))return Pe;var r=+n;return r==r?De(r):Pe},wo=function(n){var r=n.$?A([n.a,n.b]):f(Ye,",",f(mo,1,f(Wt,4,n.a))),e=f(Ut,function(n){return $o(n)},vo(f(Ut,Ye(" "),r))),t=go(e);if(t.$)return Ae("Box2d enthält ungültige Zahlen");if(t.a.b&&t.a.b.b&&t.a.b.b.b&&t.a.b.b.b.b&&!t.a.b.b.b.b.b){var a=t.a,u=a.a,i=a.b,c=i.a,o=i.b,s=o.a,l=o.b.a;return Oe(A([A([z(u,c),z(u,l),z(s,l),z(s,c),z(u,c)])]))}return Ae("Box2d enthält ungültige Zahlen")},xo=e(function(n,r){return{$:2,a:n,b:r}}),yo=e(function(n,r){return Ae(f(xo,n,r))}),ko=function(n){return yo(n)},zo=e(function(n,r){var e=function(n){return f(xo,n,r)},t=f(fu,n,lu(e));return 1===r.$?t(r.a):r.c.b?1!==r.c.a.$||r.c.b.b?Ae(e("The node is not a simple text node.")):t(r.c.a.a):t("")}),_o=function(n){return zo(n)},Bo=_o(f(t(function(n,r,e){var t=n(e);return t.$?Ae("could not convert string '"+e+"' to "+r):Oe(t.a)}),Vt,"an Int")),Eo=e(function(n,r){return z(n,r)}),Mo=a(function(n,r,e,t){return{fW:r,a5:n,gp:e,d1:t}}),Co=he,So=function(n){return f(Co,{eY:!1,gg:!1},n)},Fo=/.^/,jo=e(function(n,r){return s(Jt,e(function(r,e){var t=e.a,a=e.b;return n(r)?z(f(_e,r,t),a):z(t,f(_e,r,a))}),z(S,S),r)}),Ao=me(1/0),To=function(n){return n.$?S:n.c},Lo=e(function(n,r){return{$:0,a:n,b:r}}),Io=e(function(n,r){if(r.$)return f(Lo,n,r);var e=r.b;return f(Lo,C(n,r.a),e)}),Oo=e(function(n,r){return vo(f(Ut,n,r))}),Ho=e(function(n,r){return!r.$&&$(n,r.a)}),Do=t(function(n,r,e){n:for(;;){if(n.b){if(n.b.b){var t=n.b,a=f(Ha,Ho(n.a),e);if(a.b){if(a.b.b){n=t,r=r,e=f(Oo,To,a);continue n}var u=a.a;n=t,r=u,e=To(u);continue n}return z(S,r)}return z(f(Ha,Ho(n.a),e),r)}return z(e,r)}}),Po=t(function(n,r,e){var t=r;return f(lu,Io(n),t(s(Do,n,e,To(e))))}),Ko=e(function(n,r){return f(Po,n,r)}),Wo=e(function(n,r){return f(so,xt,f(Ko,n,r))}),Zo=e(function(n,r){var e=n,t=r.a,a=r.b;return t.b?t.b.b?Ae(f(xo,"Multiple nodes found.",a)):e(t.a):Ae(f(xo,"Node not found.",a))}),Vo=function(n){return Zo(n)},Go=_o(Oe),No=function(n){return function(){return Oe(n)}},Yo=function(n){return f(su,n,gu(Oe))},Ro=rn,Xo=e(function(n,r){return n(r.dM)}),Jo=N,Uo=G,qo=X,Qo=function(n){return s(qo,function(n){switch(n){case"&":return Jo("&amp;");case"<":return Jo("&lt;");case">":return Jo("&gt;");case'"':return Jo("&quot;");case"'":return Jo("&apos;");default:return Uo(n)}},"",n)},nf=function(n){return Qo(n.bz)+'="'+Qo(n.ec)+'"'},rf=function(n){if(n.$)return Qo(n.a);var r=n.a,e=n.b,t=n.c;return"<"+Qo(r)+function(n){return n.b?" "+f(Ne," ",f(Ut,nf,n)):""}(e)+">"+f(Ne,"",f(Ut,rf,t))+"</"+Qo(r)+">"},ef=function(n){return f(Uo,n,"")},tf=t(function(n,r,e){return n>0?s(tf,n>>1,C(r,r),1&n?C(e,r):e):e}),af=e(function(n,r){return s(tf,n,r,"")}),uf=t(function(n,r,e){return C(f(af,n-Pt(e),ef(r)),e)}),cf=function(n){switch(n.$){case 0:var r=n.b;return f(_e,"Path: /"+f(Ne,"/",n.a),cf(r));case 1:if(n.a.b){var e=n.a,a=t(function(n,r,e){return r?"    "+e:s(uf,2," ",Ge(n))+") "+e}),u=function(n){return f(fu,cf,nt(a(n+1)))},i=vo(f(nt,u,e));return f(_e,"All decoders failed:",i)}return A(["No decoders available."]);default:var c=n.a;return A(["Node: "+rf(n.b),c])}},of=e(function(n,r){n:for(;;)switch(n.$){case 0:return r;case 1:var e=n.b;n=n.a,r=f(_e,e,r);continue n;default:var t=n.b;n=n.a,r=f(of,t,r);continue n}}),ff=e(function(n,r){var e=n({cH:1,a_:S,g:1,b:0,dO:1,a:r});return e.$?Ae(f(of,e.b,S)):Oe(e.b)}),sf=t(function(n,r,e){return{cQ:r,dB:n,dM:e}}),lf=e(function(n,r){return{$:1,a:n,b:r}}),bf=t(function(n,r,e){return{$:0,a:n,b:r,c:e}}),df=xe,hf=e(function(n,r){return{$:1,a:n,b:r}}),gf=a(function(n,r,e,t){return{cH:r,e7:t,dy:e,dO:n}}),vf={$:0},pf=a(function(n,r,e,t){return f(hf,vf,l(gf,n,r,e,t))}),mf=t(function(n,r,e){var t=r,a=e;return function(r){var e=t(r);if(1===e.$)return f(lf,e.a,e.b);var u=e.a,i=e.b,c=a(e.c);if(1===c.$){var o=c.a;return f(lf,u||o,c.b)}o=c.a;var l=c.c;return s(bf,u||o,f(n,i,c.b),l)}}),$f=e(function(n,r){return s(mf,Ju,n,r)}),wf=function(n){return function(r){return s(bf,!1,n,r)}},xf=e(function(n,r){return{$:0,a:n,b:r}}),yf=function(n){return f(xf,n,{$:0,a:n})},kf=e(function(n,r){return f(hf,vf,l(gf,n.dO,n.cH,r,n.a_))}),zf=$e,_f=function(n){var r=n.a,e=n.b,t=!Zt(r);return function(n){var a=b(zf,r,n.b,n.dO,n.cH,n.a),u=a.a,i=a.b,c=a.c;return $(u,-1)?f(lf,!1,f(kf,n,e)):s(bf,t,0,{cH:c,a_:n.a_,g:n.g,b:u,dO:i,a:n.a})}},Bf=f($f,f($f,f($f,wf(0),_f(yf("\x3c!--"))),(Ei=yf("--\x3e"),Mi=Ei.a,Ci=Ei.b,function(n){var r=b(df,Mi,n.b,n.dO,n.cH,n.a),e=r.a,t=r.b,a=r.c;return $(e,-1)?f(lf,!1,l(pf,t,a,Ci,n.a_)):s(bf,0>x(n.b,e),0,{cH:a,a_:n.a_,g:n.g,b:e,dO:t,a:n.a})})),_f(yf("--\x3e"))),Ef=e(function(n,r){return{cO:r,dN:n}}),Mf=t(function(n,r,e){return{$:0,a:n,b:r,c:e}}),Cf=e(function(n,r){return{$:1,a:n,b:r}}),Sf=t(function(n,r,e){return{cH:r,a_:e,dO:n}}),Ff=e(function(n,r){return{cH:r.cH,a_:n,g:r.g,b:r.b,dO:r.dO,a:r.a}}),jf=e(function(n,r){var e=r;return function(r){var t=e(f(Ff,f(_e,s(Sf,r.dO,r.cH,n),r.a_),r));return t.$?t:s(bf,t.a,t.b,f(Ff,r.a_,t.c))}}),Af={$:13},Tf=e(function(n,r){var e=r;return function(r){var t=e(r);if(1===t.$)return f(lf,t.a,t.b);var a=t.a,u=t.c,i=n(t.b)(u);if(1===i.$){var c=i.a;return f(lf,a||c,i.b)}return c=i.a,s(bf,a||c,i.b,i.c)}}),Lf=we,If=u(function(n,r,e,t,a){for(;;){var u=s(Lf,n,r,a.a);if($(u,-1))return s(bf,0>x(a.b,r),0,{cH:t,a_:a.a_,g:a.g,b:r,dO:e,a:a.a});$(u,-2)?(n=n,r+=1,e+=1,t=1,a=a):(n=n,r=u,e=e,t+=1,a=a)}}),Of=function(n){return function(r){return b(If,n,r.b,r.dO,r.cH,r)}},Hf=e(function(n,r){var e=r;return function(r){var t=e(r);if(1===t.$)return f(lf,t.a,t.b);var a=t.b,u=t.c;return s(bf,t.a,f(n,s(Kt,r.b,u.b,r.a),a),u)}}),Df=function(n){return f(Hf,Ju,n)},Pf=function(n){return function(r){return f(lf,!1,f(kf,r,n))}},Kf=e(function(n,r){var e=n;return f(Tf,function(n){return 1>x(e,Pt(n))?wf(n):Pf(Af)},Df(f($f,wf(0),Of(r))))}),Wf=e(function(n,r){return s(mf,wt,n,r)}),Zf=function(n){return{$:8,a:n}},Vf=_f,Gf=function(n){return Vf(f(xf,n,Zf(n)))},Nf=0,Yf=f(jf,"docTypeExternalSubset",f(Wf,f($f,wf(Ht),Gf('"')),f($f,f(Kf,Nf,function(n){return'"'!==n}),Gf('"')))),Rf=f(jf,"docTypeInternalSubset",f(Wf,f($f,wf(Ht),Gf("[")),f($f,f(Kf,Nf,function(n){return"]"!==n}),Gf("]")))),Xf=function(n){return function(n){var r=n.a,e=n.b,t=!Zt(r);return function(n){var a=b(zf,r,n.b,n.dO,n.cH,n.a),u=a.a,i=a.b,c=a.c;return $(u,-1)||s(Lf,function(n){return it(n)||"_"===n},u,n.a)>=0?f(lf,!1,f(kf,n,e)):s(bf,t,0,{cH:c,a_:n.a_,g:n.g,b:u,dO:i,a:n.a})}}(f(xf,n,{$:9,a:n}))},Jf=e(function(n,r){var e=r;return function(r){var t=e(r);if(t.$)return f(lf,t.a,t.b);var a=t.c;return s(bf,t.a,n(t.b),a)}}),Uf=e(function(n,r){return{$:2,a:n,b:r}}),qf=t(function(n,r,e){n:for(;;){if(e.b){var t=e.b,a=(0,e.a)(n);if(a.$){var u;if((u=a).a)return u;n=n,r=f(Uf,r,u.b),e=t;continue n}return a}return f(lf,!1,r)}}),Qf=function(n){return function(r){return s(qf,r,vf,n)}},ns=function(n){return Qf(A([f(Jf,De,n),wf(Pe)]))},rs=f(jf,"publicIdentifier",f(Wf,f($f,wf(Ht),Gf('"')),f($f,f(Kf,Nf,function(n){return'"'!==n}),Gf('"')))),es=e(function(n,r){return f(Jf,function(){return 0},f(Kf,n,r))}),ts=function(n){return" "===n||"\r"===n||"\n"===n||"\t"===n},as=f(es,Nf,ts),us=f(jf,"docTypeDefinition",Qf(A([f(Wf,f(Wf,f(Wf,f($f,f($f,wf(Mf),Xf("PUBLIC")),as),f($f,rs,as)),f($f,Yf,as)),ns(Rf)),f(Wf,f(Wf,f($f,f($f,wf(Cf),Xf("SYSTEM")),as),f($f,Yf,as)),ns(Rf)),f(Wf,wf(function(n){return{$:2,a:n}}),Rf)]))),is=1,cs=f(jf,"tagName",f(Kf,is,function(n){return!ts(n)&&"/"!==n&&"<"!==n&&">"!==n&&'"'!==n&&"'"!==n&&"="!==n})),os=f(jf,"docType",f(Wf,f(Wf,f($f,f($f,wf(Ef),Gf("<!DOCTYPE")),as),f($f,cs,as)),f($f,f($f,us,as),Gf(">")))),fs=t(function(n,r,e){return{$:0,a:n,b:r,c:e}}),ss=e(function(n,r){return{bz:n,ec:r}}),ls=f(jf,"attributeName",f(Kf,is,function(n){return!ts(n)&&"/"!==n&&"<"!==n&&">"!==n&&'"'!==n&&"'"!==n&&"="!==n})),bs=function(n){return{$:12,a:n}},ds=Aa(A([z("amp","&"),z("lt","<"),z("gt",">"),z("apos","'"),z("quot",'"')])),hs=function(n){return B(0>n||n>1114111?"�":n>65535?String.fromCharCode(Math.floor((n-=65536)/1024)+55296,n%1024+56320):String.fromCharCode(n))},gs=e(function(n,r){return r.$?Ae(n):Oe(r.a)}),vs=H,ps=t(function(n,r,e){n:for(;;){if(!r.b)return Oe(e);var t=r.a,a=r.b;switch(t){case"0":n=u=n-1,r=i=a,e=c=e;continue n;case"1":var u=n-1,i=a,c=e+f(vs,16,n);n=u,r=i,e=c;continue n;case"2":u=n-1,i=a,c=e+2*f(vs,16,n),n=u,r=i,e=c;continue n;case"3":u=n-1,i=a,c=e+3*f(vs,16,n),n=u,r=i,e=c;continue n;case"4":u=n-1,i=a,c=e+4*f(vs,16,n),n=u,r=i,e=c;continue n;case"5":u=n-1,i=a,c=e+5*f(vs,16,n),n=u,r=i,e=c;continue n;case"6":u=n-1,i=a,c=e+6*f(vs,16,n),n=u,r=i,e=c;continue n;case"7":u=n-1,i=a,c=e+7*f(vs,16,n),n=u,r=i,e=c;continue n;case"8":u=n-1,i=a,c=e+8*f(vs,16,n),n=u,r=i,e=c;continue n;case"9":u=n-1,i=a,c=e+9*f(vs,16,n),n=u,r=i,e=c;continue n;case"a":u=n-1,i=a,c=e+10*f(vs,16,n),n=u,r=i,e=c;continue n;case"b":u=n-1,i=a,c=e+11*f(vs,16,n),n=u,r=i,e=c;continue n;case"c":u=n-1,i=a,c=e+12*f(vs,16,n),n=u,r=i,e=c;continue n;case"d":u=n-1,i=a,c=e+13*f(vs,16,n),n=u,r=i,e=c;continue n;case"e":u=n-1,i=a,c=e+14*f(vs,16,n),n=u,r=i,e=c;continue n;case"f":u=n-1,i=a,c=e+15*f(vs,16,n),n=u,r=i,e=c;continue n;default:return Ae(ef(t)+" is not a valid hexadecimal character.")}}}),ms=e(function(n,r){return r.$?Ae(r.a):Oe(n(r.a))}),$s=function(n){return n.b?De(n.b):Pe},ws=function(n){return s(qo,_e,S,n)},xs=function(n){if(Zt(n))return Ae("Empty strings are not valid hexadecimal strings.");var r=function(){if(f(Gt,"-",n)){var r=f(Dc,S,$s(ws(n)));return f(ms,po,s(ps,Je(r)-1,r,0))}return s(ps,Pt(n)-1,ws(n),0)}();return f(lu,function(r){return f(Ne," ",A(['"'+n+'"',"is not a valid hexadecimal string because",r]))},r)},ys=e(function(n,r){return r.$?Pe:De(n(r.a))}),ks=function(n){return Pf(bs(n))},zs=function(n){return f(jf,"escapedChar",f(Tf,function(n){return Qf(A([f(Tf,function(){var r=function(n){return f(Gt,"#x",n)?f(lu,bs,f(ms,hs,xs(f(Wt,2,n)))):f(Gt,"#",n)?f(gs,bs("Invalid escaped charactor: "+n),f(ys,hs,Vt(f(Wt,1,n)))):f(gs,bs('No entity named "&'+n+';" found.'),f(nu,n,ds))}(n);return r.$?Pf(r.a):wf(r.a)},Gf(";")),ks('Entities must end_ with ";": &'+n)]))},f(Wf,f($f,wf(Ht),Gf("&")),f(Kf,is,function(r){return!$(r,n)&&";"!==r}))))},_s=function(n){return function(r){return n(0)(r)}},Bs=function(n){return f(jf,"textString",f(Tf,function(r){return Qf(A([f(Wf,f(Wf,wf(Uo),zs(n)),_s(function(){return Bs(n)})),wf(r)]))},f(Kf,Nf,function(r){return!$(r,n)&&"&"!==r})))},Es=f(jf,"attributeValue",Qf(A([f(Wf,f($f,wf(Ht),Gf('"')),f($f,Bs('"'),Gf('"'))),f(Wf,f($f,wf(Ht),Gf("'")),f($f,Bs("'"),Gf("'")))]))),Ms=f(jf,"attribute",f(Wf,f(Wf,wf(ss),f($f,f($f,f($f,ls,as),Gf("=")),as)),Es)),Cs=e(function(n,r){return!f(nu,n,r).$}),Ss=e(function(n,r){return f(Cs,n,r)}),Fs=function(n){return f(jf,"attributes",Qf(A([f(Tf,function(r){return f(Ss,r.bz,n)?ks("attribute "+r.bz+" is duplicated"):f(Wf,f($f,wf(_e(r)),as),Fs(f(Iu,r.bz,n)))},Ms),wf(S)])))},js=function(n){return f(jf,"closingTag",f($f,f($f,f($f,f($f,f($f,wf(0),Gf("</")),as),f(Tf,function(r){return $(n,r)?wf(0):ks("tag name mismatch: "+n+" and "+r)},cs)),as),Gf(">")))};function As(){return f(jf,"cdataContent",Qf(A([f($f,wf(""),Gf("]]>")),f(Tf,function(){return f(Jf,function(n){return"]]"+n},As())},Gf("]]")),f(Tf,function(){return f(Jf,function(n){return"]"+n},As())},Gf("]")),f(Wf,f(Wf,wf(Ze),f(Kf,Nf,function(n){return"]"!==n})),_s(function(){return As()}))])))}var Ts=As();As=function(){return Ts};var Ls=f(jf,"cdata",f(Wf,f($f,wf(Ht),Gf("<![CDATA[")),Ts));function Is(){return f(jf,"textNodeString",Qf(A([f(Wf,f(Wf,wf(e(function(n,r){return De(C(n,f(Dc,"",r)))})),f(Kf,is,function(n){return"<"!==n&&"&"!==n})),_s(function(){return Is()})),f(Wf,f(Wf,wf(e(function(n,r){return De(f(Uo,n,f(Dc,"",r)))})),zs("<")),_s(function(){return Is()})),f(Wf,f(Wf,wf(e(function(n,r){var e=C(n,f(Dc,"",r));return""!==e?De(e):Pe})),Ls),_s(function(){return Is()})),f(Wf,f($f,wf(function(n){var r=f(Dc,"",n);return""!==r?De(r):Pe}),Bf),_s(function(){return Is()})),wf(Pe)])))}var Os=Is();Is=function(){return Os};var Hs=function(n){return f(jf,"children",Qf(A([f($f,wf(S),js(n)),f(Tf,function(r){if(r.$)return f($f,wf(S),js(n));var e=r.a;return f(Wf,wf(function(n){return f(_e,{$:1,a:e},n)}),Hs(n))},Os),_s(function(){return f(Wf,f(Wf,wf(_e),Ds()),Hs(n))})])))};function Ds(){return f(jf,"element",f(Wf,f($f,wf(Ht),Gf("<")),f(Tf,function(n){return f(Wf,f(Wf,f($f,wf(fs(n)),as),f($f,Fs(Lu),as)),Qf(A([f($f,wf(S),Gf("/>")),f(Wf,f($f,wf(Ht),Gf(">")),_s(function(){return Hs(n)}))])))},cs)))}var Ps=Ds();Ds=function(){return Ps};var Ks={$:10},Ws=function(n){return function(r){return $(Pt(r.a),r.b)?s(bf,!1,0,r):f(lf,!1,f(kf,r,n))}},Zs=Ws(Ks),Vs=e(function(n,r){return{bz:n,ec:r}}),Gs=f(jf,"processingInstructionName",f(Kf,is,function(n){return" "!==n}));function Ns(){return f(jf,"processingInstructionValue",Qf(A([f($f,wf(""),Gf("?>")),f(Tf,function(){return f(Jf,function(n){return"?"+n},Ns())},Gf("?")),f(Wf,f(Wf,wf(Ze),f(Kf,Nf,function(n){return"?"!==n})),_s(function(){return Ns()}))])))}var Ys=Ns();Ns=function(){return Ys};var Rs,Xs,Js,Us,qs,Qs,nl,rl=f(jf,"processingInstruction",f(Wf,f(Wf,f($f,wf(Vs),Gf("<?")),f($f,Gs,Gf(" "))),Ys)),el=function(n){return{$:1,a:n}},tl=function(n){return{$:0,a:n}},al=a(function(n,r,e,t){for(;;){var a=e(r)(t);if(a.$)return u=a.a,f(lf,n||u,a.b);var u=a.a,i=a.b,c=a.c;if(i.$)return s(bf,n||u,i.a,c);n=n||u,r=i.a,e=e,t=c}}),ul=e(function(n,r){return function(e){return l(al,!1,n,r,e)}}),il=e(function(n,r){var e=n;return f(Tf,function(n){return 1>x(e,Je(n))?wf(n):Pf(Af)},f(ul,S,function(n){return Qf(A([f(Jf,function(r){return tl(f(Yi,n,A([r])))},r),f(Jf,Ju(el(n)),wf(0))]))}))}),cl=f(es,is,ts),ol=f(jf,"xml",f(Wf,f(Wf,f(Wf,f($f,wf(sf),as),f($f,f(il,Nf,f(Wf,wf(Ht),f($f,rl,as))),f(il,Nf,Qf(A([cl,Bf]))))),f($f,ns(os),f(il,Nf,Qf(A([cl,Bf]))))),f($f,f($f,Ps,f(il,Nf,Qf(A([cl,Bf])))),Zs))),fl=e(function(n,r){var e=f(ff,ol,r);if(e.$)return Ae(f(Jo,"Invalid XML document.\n",f(Ne,"\n",f(Ut,function(n){return C("At ["+Ge(n.dO)+","+Ge(n.cH)+"], ",function(n){switch(n.$){case 0:return"I was expecting: "+n.a;case 1:return"I was expecting an integer";case 2:return"I was expecting a hexadecimal";case 3:return"I was expecting an octal";case 4:return"I was expecting a binary";case 5:return"I was expecting a float";case 6:return"I was expecting a number";case 7:return"I was expecting a variable";case 8:return"I was expecting a symbol: "+n.a;case 9:return"I was expecting a keyword: "+n.a;case 10:return"I was expecting the end of input";case 11:return"I got an unexpected character";case 12:return n.a;default:return"I got a bad repetition"}}(n.dy))},e.a))));var t=f(Xo,n,e.a);return t.$?Ae(f(Ne,"\n",cf(t.a))):Oe(t.a)}),sl=fl,ll=(Rs=A(["SERVICE=WFS&","VERSION=2.0.0&","Request=getfeature&","TYPENAME=ms:ogd-0404_arv_basis_avzh_liegenschaften_f&","BBOX="]),"https://maps.zh.ch/wfs/OGDZHWFS?"+f(Ne,"",Rs)),bl=t(function(n,r,t){var a=e(function(n,r){if(r.$)return Ae({$:0,a:r.a});var e,t,a,u,i,c,o,l,b=r.a;return f(lu,io,f(sl,(e=n,t=function(n){var r=function(n){var r=f(Dc,Fo,So("\\s+")),e=go(f(Ut,function(n){return $o(n)},f(Ao,r,n.trim()))),t=e.$?Ae("Koordinatenliste enthält nicht nur Zahlen"):Oe(f(jo,function(n){return n>2e6},e.a));if(t.$)return Ae(f(Ne," ",A(["Koordinaten ergeben kein Polygon.",t.a])));var a=t.a,u=a.a,i=a.b;return $(Je(u),Je(i))?Oe(s(Ue,Eo,u,i)):Ae(f(Ne," ",A(["Koordinaten ergeben kein gültiges Polygon.","Anzahl Ost-Koordinaten entspricht nicht der Anzahl Nord-Koordinaten."])))}(n);return r.$?ko(r.a):No(A([r.a]))},a=A(["wfs:member","ms:ogd-0404_arv_basis_avzh_liegenschaften_f"]),u=f(Ko,f(Yi,a,A(["gml:boundedBy","gml:Envelope","gml:lowerCorner"])),Vo(Go)),i=f(Ko,f(Yi,a,A(["ms:geometry","gml:MultiSurface","gml:surfaceMember","gml:Polygon","gml:exterior","gml:LinearRing","gml:posList"])),Vo(Go)),c=f(ho,t,i),o=f(Ko,f(Yi,a,A(["gml:boundedBy","gml:Envelope","gml:upperCorner"])),Vo(Go)),l=f(ho,function(n){var r=wo(f(co,n.a,n.b));return r.$?ko(r.a):No(r.a)},s(so,Eo,u,o)),f(lo,c,s(Wo,f(Yi,a,A(["ms:egris_egrid"])),Vo(Go),f(lo,No(e),f(lo,l,s(Wo,f(Yi,a,A(["ms:bfsnr"])),Vo(Bo),s(Wo,f(Yi,a,A(["ms:nummer"])),Vo(Go),s(Wo,f(Yi,a,A(["ms:geodb_oid"])),Vo(Bo),No(tc))))))))),b))}),u=f(Ne,",",f(Ut,Ro,r)),i=f(Ne,",",A([u,u]));return Tu({a0:Yo(function(r){return t(f(a,n,r))}),bf:C(ll,i)})}),dl=function(n){return"https://geoservices.zh.ch/geoshopapi/v1/orders/"+n},hl=e(function(n,r){return Tu({a0:f(vu,r,wc),bf:dl(n)})}),gl=t(function(n,r,e){return{ft:r,gQ:e,hl:n}}),vl=f(Tt,function(n){return wo({$:0,a:n})},xa),pl=f(At,function(n){return n.$?rc(n.a):It(n.a)},f(oa,"box2d",vl)),ml=g(pc,tc,f(oa,"geodb_oid",_a),f(oa,"nummer",xa),f(oa,"bfsnr",_a),pl,f(oa,"gemeinde",xa),f(oa,"egris_egrid",xa),pl),$l=l(Rc,gl,f(oa,"success",yc),f(oa,"features",ya(ml)),f(oa,"quality",_a)),wl=function(n){var r=A(["srid=2056&","page=1&","start=0&","limit=25&",'sort=[{"property":"gemeindename","direction":"ASC"}]&',"nummer="+n]);return"https://maps.zh.ch/search/grundstueck.json?"+f(Ne,"",r)},xl=e(function(n,r){return Tu({a0:f(vu,r,$l),bf:wl(n)})}),yl=e(function(n,r){return f(ia,r,function(n){return An(function(r){(ye=document.createElement("input")).type="file",ye.accept=f(Ne,",",n),ye.addEventListener("change",function(n){r(jn(n.target.files[0]))}),ze(ye)})}(n))}),kl=e(function(n,r){return s(ei,t(function(r,e,t){return f(n,r,e)?s(ja,r,e,t):t}),wa,r)}),zl=e(function(n,r){var t=r;return f(kl,e(function(r){return n(r)}),t)}),_l=Y,Bl={$:54},El=Ln,Ml=e(function(n,r){return ua(f(El,f(oi,f(oi,Yt,n),Ae),f(qt,f(oi,f(oi,Yt,n),Oe),r)))}),Cl=ie("focus"),Sl=function(n){return n.b?De(n.a):Pe},Fl=function(n){switch(n.$){case 0:return"Url nicht gültig: "+n.a;case 1:return"Http Timeout";case 2:return"Netzwerk-Fehler (offline?)";case 3:return"Webseite kann nicht geladen werden (Http Status-Code: "+Ge(n.a)+")";default:return"Aufruf-Parameter werden vom Server nicht (mehr?) verstanden: "+n.a}},jl=e(function(n,r){for(;;){if(!r.b)return!1;var e=r.b;if(n(r.a))return!0;n=n,r=e}}),Al=t(function(n,r,e){var a=e;return s(ei,t(function(r,e,t){return f(n,r,t)}),r,a)}),Tl=e(function(n,r){var t=s(Al,e(function(n,r){return f(Iu,n.a,r)}),Lu,n),a=vo(f(Ut,function(n){return n.fC},f(Bu,function(n){return n.b4},f(Ha,function(n){return r=n,f(jl,function(n){return $(r.bu,n)},Ce(t));var r},r)))),u=vo(f(Ut,function(n){return n.hS},a));return Ou(f(Ut,function(n){return s(Ba,"http://wms.zh.ch/","",n.bf)},u))}),Ll=e(function(n,r){if(-2===r.$)return $a;var e=r.b,t=r.d,a=r.e;return b(Ma,r.a,e,f(n,e,r.c),f(Ll,n,t),f(Ll,n,a))}),Il=e(function(n,r){return Ou(s(Al,e(function(r,e){return f(_e,n(r),e)}),S,r))}),Ol=function(n){return n.b?De(s(Xe,zt,n.a,n.b)):Pe},Hl=e(function(n,r){return f(jl,function(r){return $(r,n)},r)}),Dl=function(n){return n.b?De(s(Xe,pa,n.a,n.b)):Pe},Pl=va(S),Kl=function(n){return{$:1,a:n}},Wl=Gn,Zl=e(function(n,r){return f(ia,function(){return r},Wl(n))}),Vl=Qn,Gl=t(function(n,r,e){var t=e,a=E(t,{B:f(_e,r,t.B)}),u=function(){var r=n.hg;switch(r.$){case 0:var e=r.a;return t.a3?Pl:f(Zl,e,Kl(Pe));case 1:e=r.a;var u=r.b;return t.a3?Pl:f(Zl,e,Kl(De(u)));default:return f(Zl,u=r.a,{$:2,a:Je(a.B)})}}();return z(a,f(Vl,n.hJ,u))}),Nl=ir("readPFCFromCache",Ec),Yl=e(function(n,r){return f(cu,n,r)}),Rl=ir("setOlConfig",function(n){return Bc(A([z("box",Cc(Cc(function(n){var r=n.b;return f(Cc,Ht,A([Tc(n.a),Tc(r)]))}))(n.eU)),z("center",function(n){var r=n.b;return f(Cc,Ht,A([Tc(n.a),Tc(r)]))}(n.eZ)),z("extent",Cc(Tc)(n.fq)),z("gemeinden",Cc(_c)(n.fB)),z("oltool",Ec(n.gr)),z("parzellen",Cc(function(n){return Bc(A([z("bfsnr",_c(n.eK)),z("box2d",Cc(Cc(function(n){var r=n.b;return f(Cc,Ht,A([Tc(n.a),Tc(r)]))}))(n.eV)),z("egris_egrid",Ec(n.fl)),z("gemeinde",Ec(n.fA)),z("geodb_oid",_c(n.fD)),z("geom",Cc(Cc(function(n){var r=n.b;return f(Cc,Ht,A([Tc(n.a),Tc(r)]))}))(n.fE)),z("nummer",Ec(n.gq))]))})(n.gE)),z("perimeter",Ec(n.bF)),z("polygon",Cc(Cc(function(n){var r=n.b;return f(Cc,Ht,A([Tc(n.a),Tc(r)]))}))(n.gN)),z("wmslayernames",Cc(Ec)(n.hT)),z("zoom",Tc(n.hZ))]))}),Xl=function(n){return Rl(n)},Jl=ir("setOlAction",Ec),Ul=ir("storeOrdersInCache",Ec),ql=ir("storePFCInCache",Ec),Ql=ir("storeSettingsInCache",Ec),nb=t(function(n,r,e){return f(ia,Nt,s(ke,n,r,e))}),rb=t(function(n,r){return z(S,n(r))}),eb=function(n){return n.toUpperCase()},tb=a(function(n,r,e,t){var a=t;switch(e.$){case 0:return z(a,Pl);case 1:var u=e.a,i=a.B;if(i.b){var c=i.a,o=i.b,s=function(){if(u.$)return Pl;var n=u.a;return f(Zl,n,Kl(De(n)))}(),l=f(r,c,o),b=l.b;return z(E(a,{B:l.a,a3:!0}),va(A([b,f(Vl,n.hJ,s)])))}return z(E(a,{a3:!1}),Pl);default:var d=e.a,h=z(1>x(Je(a.B),d),a.B);if(h.a&&h.b.b){var g=h.b,v=f(r,c=g.a,o=g.b),p=v.b;return z(E(a,{B:v.a}),p)}return z(a,Pl)}}),ab=t(function(n,r,e){return E(n,{hT:Ce(f(Tl,r,e))})}),ub=function(n){return s(Be,t(function(n,r,e){return f(_e,r,e)}),S,n)},ib=e(function(n,r){switch(n.$){case 54:return z(r,Pl);case 0:return z(E(r,{d7:n.a}),Pl);case 1:return z(E(r,{e9:n.a}),Pl);case 7:return z(E(r,{dt:(t=n.a).$?!r.dt:!!t.a}),Pl);case 6:var t;return z(E(r,{bM:(t=n.a).$?!r.bM:!!t.a}),Pl);case 8:var a=2===(c=(o=r.a_).hi).$?E(c.a,{fR:n.a}):o.eF,u=E(o,{hi:sa(a)}),i=l(Ti,r.gb,Ce(r.fM),r.bX,a);return z(E(r,{a_:u}),Ql(f(Ve,0,Gc(i))));case 9:var c;return a=2===(c=(o=r.a_).hi).$?E(c.a,{gW:n.a}):o.eF,u=E(o,{hi:sa(a)}),i=l(Ti,r.gb,Ce(r.fM),r.bX,a),z(E(r,{a_:u}),Ql(f(Ve,0,Gc(i))));case 10:var o;return u=E(o=r.a_,{hi:sa(a=o.eF)}),i=l(Ti,r.gb,Ce(r.fM),r.bX,a),z(E(r,{a_:u}),Ql(f(Ve,0,Gc(i))));case 18:var b=n.a,d=2===(Yn=(Nn=r.a_).hi).$?Yn.a:Nn.eF;return i=l(Ti,r.gb,Ce(r.fM),b,d),z(E(r,{bX:b}),Ql(f(Ve,0,Gc(i))));case 21:return z(E(r,{dZ:"Bestellung wird ausgeführt"}),f(uo,r,Hi));case 22:if(n.a.$)return z(E(r,{en:Pi,dZ:"Fehler: "+Fl(n.a.a)}),Pl);var h=n.a.a;return z(E(r,{en:Pi,g3:Pe,dZ:"Daten werden aufbereitet",hP:Ou(S)}),f(hl,h,Di));case 23:if(n.a.$)return z(E(r,{dZ:"Fehler: "+Fl(n.a.a)}),Pl);var g=$((m=n.a.a).gy.gK,De("PARCEL"))?E(m,{f7:ub(r.g2)}):m;return z(E(r,{gz:w=s(ja,m.gB,g,r.gz),dZ:"Daten werden aufbereitet - Status: "+m.hc}),Ul(f(Ve,0,Zc(w))));case 28:var v=n.a,p=e(function(n,r){return $(r,v)?E(r,{cS:!r.cS}):E(r,{cS:!1})});return z(E(r,{gz:w=f(Ll,p,r.gz),dZ:s(ei,e(function(n,r){return We(!r.cS)}),!0,w)?"":"Bezeichnung für die Bestellung eingeben"}),f(Ml,function(){return Bl},Cl(v.gB)));case 29:var m=E(v=n.a,{gA:n.b});return z(E(r,{gz:w=s(ja,v.gB,m,r.gz),dZ:""}),Ul(f(Ve,0,Zc(w))));case 26:var w;return z(E(r,{gz:w=f(cu,n.a,r.gz),dZ:"Bestellung gelöscht"}),Ul(f(Ve,0,Zc(w))));case 27:return z(E(r,{gz:Dn=1===(Hn=f(Va,xc,On=n.a)).$?wa:Hn.a}),Pl);case 24:var x=function(n){return f(hl,n,Di)},y=Me(f(kl,e(function(n,r){return""===r.fv}),r.gz)),k=va(f(Ut,x,y));return z(r,k);case 25:var _=Pt((v=n.a).gA)>0?"Ausgewählte Bestellung: "+v.gA:"Ausgewählte Bestellung vom "+f(Ne," - ",f(Ye,"T",v.fv)),B=v.gy,M=Ou(f(Ut,function(n){return z(n.gO,n.fx)},B.dD)),F=Aa(f(Ut,function(n){return z(n.fl,n)},v.f7)),j=r.a4,T=function(){var n=B.gH;if(n.$)return Lu;var r=Sl(n.a.cK);return r.$?Lu:Ou(r.a)}(),L=f(Il,function(n){return n.a},T),I=f(Dc,2730200,Ol(Ce(L))),O=f(Dc,2655600,Dl(Ce(L))),H=f(Il,function(n){return n.b},T),D=f(Dc,1252500,Ol(Ce(H))),P=f(Dc,1225e3,Dl(Ce(H))),K="DIRECT"===B.gI?2===Je(Ce(L))&&2===Je(Ce(H))?"box":"polygon":"INDIRECT"===B.gI&&$(B.gK,De("COMMUNE"))?"gemeinden":"parzellen",W=function(n){if($(K,n)){var r=B.gH;return r.$?S:r.a.cK}return S},Z=E(j,{eU:W("box"),eZ:z((O+I)/2,(P+D)/2),fq:A([O,P,I,D]),fB:function(){if($(B.gK,De("COMMUNE"))){var n=B.gJ;return n.$?S:s(Xe,function(n){var r=Vt(n);return Yi(r.$?S:A([r.a]))},S,Ce(Ou(n.a)))}return S}(),gr:"setCenter",gE:v.f7,bF:K,gN:W("polygon"),hT:Ce(f(Tl,M,r.fk.dD))}),V=function(){switch(K){case"box":return 0;case"polygon":return 1;case"gemeinden":return 3;case"parzellen":return 4;default:return 2}}();return z(E(r,{en:Vi,cJ:"",bX:B.bX,a4:Z,gE:wa,ar:"",as:V,dC:"",g2:F,dZ:_,hP:M}),va(C(f(Ut,function(n){return f(Qc,n.gO,Oi)},B.dD),A([Rl(Z)]))));case 35:return z(r,Jl("zoomToPeri"));case 36:return z(r,Jl("deletePeri"));case 39:var G=n.a,N=Ou((un=r.a4).fB),Y=E(un,{fB:Ce(nn=f(f(Ss,G,N)?Yl:Iu,G,N))});return z(E(r,{a4:Y}),Xl(Y));case 40:var R=n.a,X=n.b,J=!Zt(r.ar)&&(f(Gt,eb(r.ar),eb(R.gq))||f(Gt,r.ar,f(_l,ut,R.gq))),U=X?f(cu,R.fl,r.g2):s(ja,R.fl,R,r.g2);return F=X&&J&&!f(Cs,R.fl,r.gE)?s(ja,R.fl,R,r.gE):r.gE,Y=E(un=r.a4,{gE:ub(U)}),z(E(r,{a4:Y,gE:F,g2:U}),Xl(Y));case 41:return Y=E(un=r.a4,{fB:S}),z(E(r,{a4:Y}),Xl(Y));case 42:return Y=E(un=r.a4,{gE:S}),z(E(r,{a4:Y,gE:wa,ar:"",g2:wa}),Xl(Y));case 33:var q=lc(n.a);return z(E(r,q.$?{dZ:"GetMapConfigChanged Error: "+st(q.a)}:{a4:q.a}),Pl);case 34:var Q=nc(n.a),nn=(N=Ou((un=r.a4).fB),function(n){return f(f(Ss,n,N)?Yl:Iu,n,N)}),rn=function(){if(Q.$)return un;var n=Q.a;return"gemeinden"===n.ds?E(un,{fB:Ce(nn(n.eJ))}):un}(),en=function(){if(Q.$)return z(E(r,{dZ:"MapFeatureSelected Error: "+st(Q.a)}),Pl);var n=Q.a;return"gemeinden"===n.ds?z(E(r,{a4:rn}),Xl(rn)):z(r,s(bl,n.bz,n.e8,Ni))}();return z(en.a,En=en.b);case 53:var tn=n.a;if(tn.$)return z(r,Pl);var an=tn.a;return rn=E(un=r.a4,{gE:ub(U=f(Cs,an.fl,r.g2)?f(cu,an.fl,r.g2):s(ja,an.fl,an,r.g2))}),z(E(r,{a4:rn,g2:U}),Xl(rn));case 32:return z(r,Xl(un=n.a));case 31:var un,cn=n.a,on=function(){switch(cn){case 0:return"box";case 1:return"polygon";case 2:return"extent";case 3:return"gemeinden";default:return"parzellen"}}();return Y=E(un=r.a4,{bF:on}),z(E(r,{a4:Y,as:cn}),Xl(Y));case 5:return z(E(r,{b2:n.a}),Pl);case 3:var fn=n.a,sn=n.b,ln=f(Gi,sn,fn),bn=r.ef,dn=E(bn.ef,{fJ:sn,eg:fn}),hn=E(bn,{ef:dn}),gn=ma(ln);return z(r.b2?r:E(r,{fi:gn,ef:hn}),Rl(r.a4));case 4:var vn=$(Pn=n.a,Wi)?Rl(r.a4):Pl;return z(E(r,{en:Pn,g3:Pe,dZ:""}),vn);case 15:var pn=n.a,mn=($n=Sl(f(Ha,function(n){return $(n.bu,pn)},r.fk.dD))).$?Pl:$n.a.b4.$?f(Qc,pn,Oi):Pl;return z(E(r,{g3:De(pn)}),mn);case 17:var $n;return z(E(r,{en:Zi,g3:De($n=n.a)}),Pl);case 13:if(n.a.$)return z(E(r,{dZ:"Fehler: "+Fl(n.a.a)}),Pl);var wn=n.a.a,xn=r.fk,yn=f(Ut,function(n){return $(Ge(n.bu),wn.fF)?E(n,{b4:De(wn)}):n},xn.dD),kn=E(xn,{dD:yn});return z(E(r,{fk:kn,a4:s(ab,r.a4,r.hP,yn)}),Pl);case 14:return z(E(r,{dC:zn=n.a}),Pl);case 37:return z(E(r,{cJ:zn=n.a}),Pl);case 38:var zn,_n=Zt(zn=n.a)?wa:r.gE,Bn=s(Gl,Ri,zn,r.a$),En=Bn.b;return z(E(r,{a$:Bn.a,gE:_n,ar:zn}),En);case 52:var Mn=n.a,Cn=l(tb,Ri,rb(function(n){return Zt(n)?Pl:f(xl,n,Ki)}),Mn,r.a$);return En=Cn.b,z(E(r,{a$:Cn.a}),En);case 30:if(n.a.$)return z(E(r,{dZ:"Fehler: "+Fl(n.a.a)}),Pl);var Sn=f(Ut,function(n){return z(n.fl,n)},n.a.a.ft);return z(E(r,{gE:Aa(Sn)}),Pl);case 19:return z(E(r,{a4:Z=s(ab,r.a4,Fn=f(Iu,n.a,r.hP),r.fk.dD),hP:Fn}),Pl);case 20:var Fn;return z(E(r,{a4:Z=s(ab,r.a4,Fn=f(Yl,n.a,r.hP),r.fk.dD),hP:Fn}),Pl);case 16:return z(E(r,{g3:Pe}),Pl);case 11:var Tn=f(Va,Za,n.a);return z(E(r,{fk:1===Tn.$?l(la,"",wa,S,S):Tn.a,fy:!0}),Pl);case 12:if(n.a.$)return z(E(r,{dZ:"Fehler: "+Fl(n.a.a)}),Nl(""));var Ln=n.a.a,In=ql(f(Ve,0,Bc(A([z("timestamp",Ec((Un=Ln).hD)),z("products",(rr=Un.dD,f(Cc,jc,rr))),z("formats",(Qn=Un.cZ,nr=f(Ut,function(n){var r=n.b;return s(za,r.bu,r.bz,r.dV)},Ee(Qn)),f(Cc,Sc,nr))),z("communes",(qn=Un.e3,f(Cc,Mc,qn)))]))));return z(E(r,{fk:Ln,fy:!1}),In);case 44:var On=f(Ve,4,Zc(r.gz));return z(r,s(nb,"geoTangle-Bestellungen.json","application/json",On));case 45:return z(r,f(yl,A(["application/json"]),Ii));case 46:return z(r,f(ia,Li,(Jn=n.a,An(function(n){var r=new FileReader;return r.addEventListener("loadend",function(){n(jn(r.result))}),r.readAsText(Jn),function(){r.abort()}}))));case 47:var Hn,Dn=1===(Hn=f(Va,xc,n.a)).$?r.gz:Hn.a,Pn=(mn=Hn.$?Pl:Ul(f(Ve,0,Zc(Dn))),1===Hn.$?r.en:Pi),Kn=Hn.$?"Fehler: Datei konnte nicht importiert werden ("+st(Hn.a)+")":"Bestellungen erfolgreich importiert";return z(E(r,{en:Pn,gz:Dn,dZ:Kn}),mn);case 48:var Wn=n.a,Zn=f(f(Ss,Wn,r.fM)?Yl:Iu,Wn,r.fM);return d=2===(Yn=(Nn=r.a_).hi).$?Yn.a:Nn.eF,i=l(Ti,r.gb,Ce(Zn),r.bX,d),z(E(r,{fM:Zn}),Ql(f(Ve,0,Gc(i))));case 49:return z(E(r,{en:Vi,g3:Pe,hP:M=f(zl,function(n){return!f(Ss,n.b,r.fM)},r.hP)}),Pl);case 43:return z(E(r,{ao:!r.ao}),Xl(r.a4));case 50:var Vn=n.a,Gn=r.e6;return z(E(r,{e6:!Vn.$&&f(Hl,Vn.a,Gn)?s(Xe,e(function(n,r){return Vn.$?r:$(Vn.a,n)?r:f(_e,n,r)}),S,Gn):Vn.$?Gn:f(_e,Vn.a,Gn)}),Pl);case 51:return d=2===(Yn=(Nn=r.a_).hi).$?Yn.a:Nn.eF,i=l(Ti,!r.gb,Ce(r.fM),r.bX,d),z(E(r,{gb:!r.gb}),Ql(f(Ve,0,Gc(i))));default:var Nn,Yn,Rn=f(Va,zc,n.a),Xn=(d=2===(Yn=(Nn=r.a_).hi).$?Yn.a:Nn.eF,Rn.$?l(Ti,r.gb,Ce(r.fM),r.bX,d):Rn.a);return u=E(Nn,{hi:sa(Xn.eF)}),z(E(r,{a_:u,bX:Xn.bX,fM:Ou(Xn.fM),gb:Xn.fS}),Pl)}var Jn,Un,qn,Qn,nr,rr}),cb=t(function(n,r,e){return{$:4,a:n,b:r,c:e}}),ob=e(function(n,r){return{$:4,a:n,b:r}}),fb=function(n){return n>31?{$:1,a:1<<n-32}:{$:0,a:1<<n}},sb=fb(14),lb=W,bb=function(n){return Ge(lb(255*n))},db=function(n){var r=n.b,e=n.c,t=n.d;return bb(n.a)+"-"+bb(r)+"-"+bb(e)+"-"+bb(t)},hb=function(n){return f(ob,sb,s(cb,"fc-"+db(n),"color",n))},gb=function(n){return{$:0,a:n}},vb={$:0},pb={$:0},mb=function(n){return{$:1,a:n}},$b={$:0},wb=function(n){return{$:1,a:n}},xb=function(n){return{$:0,a:n}},yb=e(function(n,r){switch(r.$){case 0:return n;case 1:return C(r.a,n);case 2:return C(n,r.a);default:return C(r.a,C(n,r.b))}}),kb=t(function(n,r,e){switch(e.$){case 0:return r;case 1:return C(f(Ut,function(r){return z(n,r)},e.a),r);case 2:return C(r,f(Ut,function(r){return z(n,r)},t=e.a));default:var t=e.b;return C(f(Ut,function(r){return z(n,r)},e.a),C(r,f(Ut,function(r){return z(n,r)},t)))}}),zb=fb(41),_b=fb(40),Bb=fb(42),Eb=fb(43),Mb=e(function(n,r){return f(kr,n,Ec(r))}),Cb=Mb("className"),Sb=pr("div"),Fb=function(n){switch(n.$){case 0:return Ge(n.a)+"px";case 1:return"auto";case 2:return Ge(n.a)+"fr";case 3:var r=n.b;return"min"+(Ge(n.a)+Fb(r));default:return r=n.b,"max"+(Ge(n.a)+Fb(r))}},jb=function(n){switch(n.$){case 0:return Pe;case 1:var r=n.a,e=r.b,t=r.c;return De("mv-"+bb(r.a)+"-"+bb(e)+"-"+bb(t));default:var a=n.a,u=a.b,i=a.c,c=n.b,o=c.a,f=c.b,s=c.c,l=n.c,b=l.a,d=l.b,h=l.c,g=n.d;return De("tfrm-"+bb(a.a)+"-"+bb(u)+"-"+bb(i)+"-"+bb(o)+"-"+bb(f)+"-"+bb(s)+"-"+bb(b)+"-"+bb(d)+"-"+bb(h)+"-"+bb(g))}},Ab=function(n){switch(n.$){case 13:case 12:return u=n.a;case 0:return n.a;case 1:return u=n.a;case 2:return"font-size-"+Ge(n.a);case 3:case 4:case 5:return n.a;case 7:case 6:return n.a;case 8:var r=n.a;return"grid-rows-"+f(Ne,"-",f(Ut,Fb,r.gV))+"-cols-"+f(Ne,"-",f(Ut,Fb,r.M))+"-space-x-"+Fb(r.ha.a)+"-space-y-"+Fb(r.ha.b);case 9:var e=n.a;return"gp grid-pos-"+Ge(e.dO)+"-"+Ge(e.cH)+"-"+Ge(e.eg)+"-"+Ge(e.fJ);case 11:var t=n.a,a=n.b,u=function(){switch(t){case 0:return"fs";case 1:return"hv";default:return"act"}}();return f(Ne," ",f(Ut,function(n){var r=Ab(n);return""===r?"":r+"-"+u},a));default:return f(Dc,"",jb(n.a))}},Tb=e(function(n,r){var e=r.a,t=r.b,a=Ab(n);return f(Ss,a,e)?r:z(f(Iu,a,e),f(_e,n,t))}),Lb=e(function(n,r){return{$:0,a:n,b:r}}),Ib=e(function(n,r){return{$:0,a:n,b:r}}),Ob=function(n){return"."+n},Hb=function(n){var r=n.b,e=n.c,t=n.d;return"rgba("+Ge(lb(255*n.a))+","+Ge(lb(255*r))+","+Ge(lb(255*e))+","+Ro(t)+")"},Db=function(n){return f(Ne," ",f(Bu,Ht,A([n.c9?De("inset"):Pe,De(Ro(n.b.a)+"px"),De(Ro(n.b.b)+"px"),De(Ro(n.aB)+"px"),De(Ro(n.g7)+"px"),De(Hb(n.e2))])))},Pb=e(function(n,r){var e=r.b;return z(n(r.a),e)}),Kb=e(function(n,r){return z(r.a,n(r.b))}),Wb=function(n){return A([f(Ib,Ob("focus-within")+":focus-within",f(Bu,Ht,A([f(ys,function(n){return f(Lb,"border-color",Hb(n))},n.eO),f(ys,function(n){return f(Lb,"background-color",Hb(n))},n.eE),f(ys,function(n){return f(Lb,"box-shadow",Db({aB:n.aB,e2:n.e2,c9:!1,b:f(Kb,vt,f(Pb,vt,n.b)),g7:n.g7}))},n.g5),De(f(Lb,"outline","none"))]))),f(Ib,Ob("s")+":focus .focusable, "+Ob("s")+".focusable:focus",f(Bu,Ht,A([f(ys,function(n){return f(Lb,"border-color",Hb(n))},n.eO),f(ys,function(n){return f(Lb,"background-color",Hb(n))},n.eE),f(ys,function(n){return f(Lb,"box-shadow",Db({aB:n.aB,e2:n.e2,c9:!1,b:f(Kb,vt,f(Pb,vt,n.b)),g7:n.g7}))},n.g5),De(f(Lb,"outline","none"))])))])},Zb=function(n){return pr(_r(n))},Vb=e(function(n,r){return f(kr,function(n){return"innerHTML"==n||"formAction"==n?"data-"+n:n}(n),Br(r))}),Gb=function(n){return{$:5,a:n}},Nb=e(function(n,r){return{$:1,a:n,b:r}}),Yb=e(function(n,r){return{$:0,a:n,b:r}}),Rb=e(function(n,r){return{$:3,a:n,b:r}}),Xb=e(function(n,r){return{$:0,a:n,b:r}}),Jb=e(function(n,r){return{$:2,a:n,b:r}}),Ub=A([0,1,2,3,4,5]),qb=function(n){switch(n){case 0:return Ob("ct");case 1:return Ob("cb");case 2:return Ob("cr");case 3:return Ob("cl");case 4:return Ob("ccx");default:return Ob("ccy")}},Qb=function(n){switch(n){case 0:return Ob("at");case 1:return Ob("ab");case 2:return Ob("ar");case 3:return Ob("al");case 4:return Ob("cx");default:return Ob("cy")}},nd=function(n){return Gb(f(Oo,function(r){var e=n(r),t=e.a,a=e.b;return A([f(Rb,qb(r),t),f(Nb,Ob("s"),A([f(Rb,Qb(r),a)]))])},Ub))},rd=A([f(Xb,"display","flex"),f(Xb,"flex-direction","column"),f(Xb,"white-space","pre"),f(Rb,Ob("hbh"),A([f(Xb,"z-index","0"),f(Nb,Ob("bh"),A([f(Xb,"z-index","-1")]))])),f(Rb,Ob("sbt"),A([f(Nb,Ob("t"),A([f(Rb,Ob("hf"),A([f(Xb,"flex-grow","0")])),f(Rb,Ob("wf"),A([f(Xb,"align-self","auto !important")]))]))])),f(Nb,Ob("hc"),A([f(Xb,"height","auto")])),f(Nb,Ob("hf"),A([f(Xb,"flex-grow","100000")])),f(Nb,Ob("wf"),A([f(Xb,"width","100%")])),f(Nb,Ob("wfp"),A([f(Xb,"width","100%")])),f(Nb,Ob("wc"),A([f(Xb,"align-self","flex-start")])),nd(function(n){switch(n){case 0:return z(A([f(Xb,"justify-content","flex-start")]),A([f(Xb,"margin-bottom","auto !important"),f(Xb,"margin-top","0 !important")]));case 1:return z(A([f(Xb,"justify-content","flex-end")]),A([f(Xb,"margin-top","auto !important"),f(Xb,"margin-bottom","0 !important")]));case 2:return z(A([f(Xb,"align-items","flex-end")]),A([f(Xb,"align-self","flex-end")]));case 3:return z(A([f(Xb,"align-items","flex-start")]),A([f(Xb,"align-self","flex-start")]));case 4:return z(A([f(Xb,"align-items","center")]),A([f(Xb,"align-self","center")]));default:return z(A([f(Nb,Ob("s"),A([f(Xb,"margin-top","auto"),f(Xb,"margin-bottom","auto")]))]),A([f(Xb,"margin-top","auto !important"),f(Xb,"margin-bottom","auto !important")]))}})]),ed=A([0,1,2,3,4,5]),td=A([f(Yb,"html,body",A([f(Xb,"height","100%"),f(Xb,"padding","0"),f(Xb,"margin","0")])),f(Yb,C(Ob("s"),C(Ob("e"),Ob("ic"))),A([f(Xb,"display","block")])),f(Yb,Ob("s")+":focus",A([f(Xb,"outline","none")])),f(Yb,Ob("ui"),A([f(Xb,"width","100%"),f(Xb,"height","auto"),f(Xb,"min-height","100%"),f(Xb,"z-index","0"),f(Rb,C(Ob("s"),Ob("hf")),A([f(Xb,"height","100%"),f(Nb,Ob("hf"),A([f(Xb,"height","100%")]))])),f(Nb,Ob("fr"),A([f(Rb,Ob("nb"),A([f(Xb,"position","fixed")]))]))])),f(Yb,Ob("nb"),A([f(Xb,"position","relative"),f(Xb,"border","none"),f(Xb,"display","flex"),f(Xb,"flex-direction","row"),f(Xb,"flex-basis","auto"),f(Rb,Ob("e"),rd),Gb(f(Ut,function(n){switch(n){case 0:return f(Rb,Ob("a"),A([f(Xb,"position","absolute"),f(Xb,"bottom","100%"),f(Xb,"left","0"),f(Xb,"width","100%"),f(Xb,"z-index","20"),f(Xb,"margin","0 !important"),f(Nb,Ob("hf"),A([f(Xb,"height","auto")])),f(Nb,Ob("wf"),A([f(Xb,"width","100%")])),f(Xb,"pointer-events","none"),f(Nb,"*",A([f(Xb,"pointer-events","auto")]))]));case 1:return f(Rb,Ob("b"),A([f(Xb,"position","absolute"),f(Xb,"bottom","0"),f(Xb,"left","0"),f(Xb,"height","0"),f(Xb,"width","100%"),f(Xb,"z-index","20"),f(Xb,"margin","0 !important"),f(Xb,"pointer-events","none"),f(Nb,"*",A([f(Xb,"pointer-events","auto")])),f(Nb,Ob("hf"),A([f(Xb,"height","auto")]))]));case 2:return f(Rb,Ob("or"),A([f(Xb,"position","absolute"),f(Xb,"left","100%"),f(Xb,"top","0"),f(Xb,"height","100%"),f(Xb,"margin","0 !important"),f(Xb,"z-index","20"),f(Xb,"pointer-events","none"),f(Nb,"*",A([f(Xb,"pointer-events","auto")]))]));case 3:return f(Rb,Ob("ol"),A([f(Xb,"position","absolute"),f(Xb,"right","100%"),f(Xb,"top","0"),f(Xb,"height","100%"),f(Xb,"margin","0 !important"),f(Xb,"z-index","20"),f(Xb,"pointer-events","none"),f(Nb,"*",A([f(Xb,"pointer-events","auto")]))]));case 4:return f(Rb,Ob("fr"),A([f(Xb,"position","absolute"),f(Xb,"width","100%"),f(Xb,"height","100%"),f(Xb,"left","0"),f(Xb,"top","0"),f(Xb,"margin","0 !important"),f(Xb,"pointer-events","none"),f(Nb,"*",A([f(Xb,"pointer-events","auto")]))]));default:return f(Rb,Ob("bh"),A([f(Xb,"position","absolute"),f(Xb,"width","100%"),f(Xb,"height","100%"),f(Xb,"left","0"),f(Xb,"top","0"),f(Xb,"margin","0 !important"),f(Xb,"z-index","0"),f(Xb,"pointer-events","none"),f(Nb,"*",A([f(Xb,"pointer-events","auto")]))]))}},ed))])),f(Yb,Ob("s"),A([f(Xb,"position","relative"),f(Xb,"border","none"),f(Xb,"flex-shrink","0"),f(Xb,"display","flex"),f(Xb,"flex-direction","row"),f(Xb,"flex-basis","auto"),f(Xb,"resize","none"),f(Xb,"font-feature-settings","inherit"),f(Xb,"box-sizing","border-box"),f(Xb,"margin","0"),f(Xb,"padding","0"),f(Xb,"border-width","0"),f(Xb,"border-style","solid"),f(Xb,"font-size","inherit"),f(Xb,"color","inherit"),f(Xb,"font-family","inherit"),f(Xb,"line-height","1"),f(Xb,"font-weight","inherit"),f(Xb,"text-decoration","none"),f(Xb,"font-style","inherit"),f(Rb,Ob("wrp"),A([f(Xb,"flex-wrap","wrap")])),f(Rb,Ob("notxt"),A([f(Xb,"-moz-user-select","none"),f(Xb,"-webkit-user-select","none"),f(Xb,"-ms-user-select","none"),f(Xb,"user-select","none")])),f(Rb,Ob("cptr"),A([f(Xb,"cursor","pointer")])),f(Rb,Ob("ctxt"),A([f(Xb,"cursor","text")])),f(Rb,Ob("ppe"),A([f(Xb,"pointer-events","none !important")])),f(Rb,Ob("cpe"),A([f(Xb,"pointer-events","auto !important")])),f(Rb,Ob("clr"),A([f(Xb,"opacity","0")])),f(Rb,Ob("oq"),A([f(Xb,"opacity","1")])),f(Rb,Ob(C("hv","clr"))+":hover",A([f(Xb,"opacity","0")])),f(Rb,Ob(C("hv","oq"))+":hover",A([f(Xb,"opacity","1")])),f(Rb,Ob(C("fcs","clr"))+":focus",A([f(Xb,"opacity","0")])),f(Rb,Ob(C("fcs","oq"))+":focus",A([f(Xb,"opacity","1")])),f(Rb,Ob(C("atv","clr"))+":active",A([f(Xb,"opacity","0")])),f(Rb,Ob(C("atv","oq"))+":active",A([f(Xb,"opacity","1")])),f(Rb,Ob("ts"),A([f(Xb,"transition",f(Ne,", ",f(Ut,function(n){return n+" 160ms"},A(["transform","opacity","filter","background-color","color","font-size"]))))])),f(Rb,Ob("sb"),A([f(Xb,"overflow","auto"),f(Xb,"flex-shrink","1")])),f(Rb,Ob("sbx"),A([f(Xb,"overflow-x","auto"),f(Rb,Ob("r"),A([f(Xb,"flex-shrink","1")]))])),f(Rb,Ob("sby"),A([f(Xb,"overflow-y","auto"),f(Rb,Ob("c"),A([f(Xb,"flex-shrink","1")])),f(Rb,Ob("e"),A([f(Xb,"flex-shrink","1")]))])),f(Rb,Ob("cp"),A([f(Xb,"overflow","hidden")])),f(Rb,Ob("cpx"),A([f(Xb,"overflow-x","hidden")])),f(Rb,Ob("cpy"),A([f(Xb,"overflow-y","hidden")])),f(Rb,Ob("wc"),A([f(Xb,"width","auto")])),f(Rb,Ob("bn"),A([f(Xb,"border-width","0")])),f(Rb,Ob("bd"),A([f(Xb,"border-style","dashed")])),f(Rb,Ob("bdt"),A([f(Xb,"border-style","dotted")])),f(Rb,Ob("bs"),A([f(Xb,"border-style","solid")])),f(Rb,Ob("t"),A([f(Xb,"white-space","pre"),f(Xb,"display","inline-block")])),f(Rb,Ob("it"),A([f(Xb,"line-height","1.05"),f(Xb,"background","transparent")])),f(Rb,Ob("e"),rd),f(Rb,Ob("r"),A([f(Xb,"display","flex"),f(Xb,"flex-direction","row"),f(Nb,Ob("s"),A([f(Xb,"flex-basis","0%"),f(Rb,Ob("we"),A([f(Xb,"flex-basis","auto")])),f(Rb,Ob("lnk"),A([f(Xb,"flex-basis","auto")]))])),f(Nb,Ob("hf"),A([f(Xb,"align-self","stretch !important")])),f(Nb,Ob("hfp"),A([f(Xb,"align-self","stretch !important")])),f(Nb,Ob("wf"),A([f(Xb,"flex-grow","100000")])),f(Nb,Ob("ctr"),A([f(Xb,"flex-grow","0"),f(Xb,"flex-basis","auto"),f(Xb,"align-self","stretch")])),f(Nb,"u:first-of-type.acr",A([f(Xb,"flex-grow","1")])),f(Nb,"s:first-of-type.accx",A([f(Xb,"flex-grow","1"),f(Nb,Ob("cx"),A([f(Xb,"margin-left","auto !important")]))])),f(Nb,"s:last-of-type.accx",A([f(Xb,"flex-grow","1"),f(Nb,Ob("cx"),A([f(Xb,"margin-right","auto !important")]))])),f(Nb,"s:only-of-type.accx",A([f(Xb,"flex-grow","1"),f(Nb,Ob("cy"),A([f(Xb,"margin-top","auto !important"),f(Xb,"margin-bottom","auto !important")]))])),f(Nb,"s:last-of-type.accx ~ u",A([f(Xb,"flex-grow","0")])),f(Nb,"u:first-of-type.acr ~ s.accx",A([f(Xb,"flex-grow","0")])),nd(function(n){switch(n){case 0:return z(A([f(Xb,"align-items","flex-start")]),A([f(Xb,"align-self","flex-start")]));case 1:return z(A([f(Xb,"align-items","flex-end")]),A([f(Xb,"align-self","flex-end")]));case 2:return z(A([f(Xb,"justify-content","flex-end")]),S);case 3:return z(A([f(Xb,"justify-content","flex-start")]),S);case 4:return z(A([f(Xb,"justify-content","center")]),S);default:return z(A([f(Xb,"align-items","center")]),A([f(Xb,"align-self","center")]))}}),f(Rb,Ob("sev"),A([f(Xb,"justify-content","space-between")]))])),f(Rb,Ob("c"),A([f(Xb,"display","flex"),f(Xb,"flex-direction","column"),f(Nb,Ob("s"),A([f(Xb,"flex-basis","0%"),f(Rb,Ob("he"),A([f(Xb,"flex-basis","auto")])),f(Rb,Ob("c"),A([f(Xb,"flex-basis","auto")]))])),f(Nb,Ob("hf"),A([f(Xb,"flex-grow","100000")])),f(Nb,Ob("wf"),A([f(Xb,"width","100%")])),f(Nb,Ob("wfp"),A([f(Xb,"width","100%")])),f(Nb,Ob("wc"),A([f(Xb,"align-self","flex-start")])),f(Nb,"u:first-of-type.acb",A([f(Xb,"flex-grow","1")])),f(Nb,"s:first-of-type.accy",A([f(Xb,"flex-grow","1"),f(Nb,Ob("cy"),A([f(Xb,"margin-top","auto !important"),f(Xb,"margin-bottom","0 !important")]))])),f(Nb,"s:last-of-type.accy",A([f(Xb,"flex-grow","1"),f(Nb,Ob("cy"),A([f(Xb,"margin-bottom","auto !important"),f(Xb,"margin-top","0 !important")]))])),f(Nb,"s:only-of-type.accy",A([f(Xb,"flex-grow","1"),f(Nb,Ob("cy"),A([f(Xb,"margin-top","auto !important"),f(Xb,"margin-bottom","auto !important")]))])),f(Nb,"s:last-of-type.accy ~ u",A([f(Xb,"flex-grow","0")])),f(Nb,"u:first-of-type.acb ~ s.accy",A([f(Xb,"flex-grow","0")])),nd(function(n){switch(n){case 0:return z(A([f(Xb,"justify-content","flex-start")]),A([f(Xb,"margin-bottom","auto")]));case 1:return z(A([f(Xb,"justify-content","flex-end")]),A([f(Xb,"margin-top","auto")]));case 2:return z(A([f(Xb,"align-items","flex-end")]),A([f(Xb,"align-self","flex-end")]));case 3:return z(A([f(Xb,"align-items","flex-start")]),A([f(Xb,"align-self","flex-start")]));case 4:return z(A([f(Xb,"align-items","center")]),A([f(Xb,"align-self","center")]));default:return z(A([f(Xb,"justify-content","center")]),S)}}),f(Nb,Ob("ctr"),A([f(Xb,"flex-grow","0"),f(Xb,"flex-basis","auto"),f(Xb,"width","100%"),f(Xb,"align-self","stretch !important")])),f(Rb,Ob("sev"),A([f(Xb,"justify-content","space-between")]))])),f(Rb,Ob("g"),A([f(Xb,"display","-ms-grid"),f(Nb,".gp",A([f(Nb,Ob("s"),A([f(Xb,"width","100%")]))])),f(Jb,z("display","grid"),A([z("display","grid")])),(Xs=function(n){switch(n){case 0:return A([f(Xb,"justify-content","flex-start")]);case 1:return A([f(Xb,"justify-content","flex-end")]);case 2:return A([f(Xb,"align-items","flex-end")]);case 3:return A([f(Xb,"align-items","flex-start")]);case 4:return A([f(Xb,"align-items","center")]);default:return A([f(Xb,"justify-content","center")])}},Gb(f(Oo,function(n){return A([f(Nb,Ob("s"),A([f(Rb,Qb(n),Xs(n))]))])},Ub)))])),f(Rb,Ob("pg"),A([f(Xb,"display","block"),f(Nb,Ob("s:first-child"),A([f(Xb,"margin","0 !important")])),f(Nb,Ob("s"+Qb(3)+":first-child + .s"),A([f(Xb,"margin","0 !important")])),f(Nb,Ob("s"+Qb(2)+":first-child + .s"),A([f(Xb,"margin","0 !important")])),nd(function(n){switch(n){case 0:case 1:return z(S,S);case 2:return z(S,A([f(Xb,"float","right"),f(Rb,"::after",A([f(Xb,"content",'""'),f(Xb,"display","table"),f(Xb,"clear","both")]))]));case 3:return z(S,A([f(Xb,"float","left"),f(Rb,"::after",A([f(Xb,"content",'""'),f(Xb,"display","table"),f(Xb,"clear","both")]))]));case 4:default:return z(S,S)}})])),f(Rb,Ob("iml"),A([f(Xb,"white-space","pre-wrap"),f(Xb,"height","100%"),f(Xb,"width","100%"),f(Xb,"background-color","transparent")])),f(Rb,Ob("implw"),A([f(Rb,Ob("e"),A([f(Xb,"flex-basis","auto")]))])),f(Rb,Ob("imlp"),A([f(Xb,"white-space","pre-wrap"),f(Xb,"cursor","text"),f(Nb,Ob("imlf"),A([f(Xb,"white-space","pre-wrap"),f(Xb,"color","transparent")]))])),f(Rb,Ob("p"),A([f(Xb,"display","block"),f(Xb,"white-space","normal"),f(Rb,Ob("hbh"),A([f(Xb,"z-index","0"),f(Nb,Ob("bh"),A([f(Xb,"z-index","-1")]))])),f(Nb,Ob("t"),A([f(Xb,"display","inline"),f(Xb,"white-space","normal")])),f(Nb,Ob("e"),A([f(Xb,"display","inline"),f(Xb,"white-space","normal"),f(Rb,Ob("fr"),A([f(Xb,"display","flex")])),f(Rb,Ob("bh"),A([f(Xb,"display","flex")])),f(Rb,Ob("a"),A([f(Xb,"display","flex")])),f(Rb,Ob("b"),A([f(Xb,"display","flex")])),f(Rb,Ob("or"),A([f(Xb,"display","flex")])),f(Rb,Ob("ol"),A([f(Xb,"display","flex")])),f(Nb,Ob("t"),A([f(Xb,"display","inline"),f(Xb,"white-space","normal")])),f(Nb,Ob("e"),A([f(Nb,Ob("t"),A([f(Xb,"display","inline"),f(Xb,"white-space","normal")]))]))])),f(Nb,Ob("r"),A([f(Xb,"display","inline-flex")])),f(Nb,Ob("c"),A([f(Xb,"display","inline-flex")])),f(Nb,Ob("g"),A([f(Xb,"display","inline-grid")])),nd(function(n){switch(n){case 0:case 1:return z(S,S);case 2:return z(S,A([f(Xb,"float","right")]));case 3:return z(S,A([f(Xb,"float","left")]));case 4:default:return z(S,S)}})])),f(Rb,".hidden",A([f(Xb,"display","none")])),f(Rb,Ob("w1"),A([f(Xb,"font-weight","100")])),f(Rb,Ob("w2"),A([f(Xb,"font-weight","200")])),f(Rb,Ob("w3"),A([f(Xb,"font-weight","300")])),f(Rb,Ob("w4"),A([f(Xb,"font-weight","400")])),f(Rb,Ob("w5"),A([f(Xb,"font-weight","500")])),f(Rb,Ob("w6"),A([f(Xb,"font-weight","600")])),f(Rb,Ob("w7"),A([f(Xb,"font-weight","700")])),f(Rb,Ob("w8"),A([f(Xb,"font-weight","800")])),f(Rb,Ob("w9"),A([f(Xb,"font-weight","900")])),f(Rb,Ob("i"),A([f(Xb,"font-style","italic")])),f(Rb,Ob("sk"),A([f(Xb,"text-decoration","line-through")])),f(Rb,Ob("u"),A([f(Xb,"text-decoration","underline"),f(Xb,"text-decoration-skip-ink","auto"),f(Xb,"text-decoration-skip","ink")])),f(Rb,C(Ob("u"),Ob("sk")),A([f(Xb,"text-decoration","line-through underline"),f(Xb,"text-decoration-skip-ink","auto"),f(Xb,"text-decoration-skip","ink")])),f(Rb,Ob("tun"),A([f(Xb,"font-style","normal")])),f(Rb,Ob("tj"),A([f(Xb,"text-align","justify")])),f(Rb,Ob("tja"),A([f(Xb,"text-align","justify-all")])),f(Rb,Ob("tc"),A([f(Xb,"text-align","center")])),f(Rb,Ob("tr"),A([f(Xb,"text-align","right")])),f(Rb,Ob("tl"),A([f(Xb,"text-align","left")])),f(Rb,".modal",A([f(Xb,"position","fixed"),f(Xb,"left","0"),f(Xb,"top","0"),f(Xb,"width","100%"),f(Xb,"height","100%"),f(Xb,"pointer-events","none")]))]))]),ad=function(n){return A([f(Yb,".v-"+n,A([f(Xb,"font-feature-settings",'"'+n+'"')])),f(Yb,".v-"+n+"-off",A([f(Xb,"font-feature-settings",'"'+n+'" 0')]))])},ud=vo(A([f(Ut,function(n){return f(Yb,".border-"+Ge(n),A([f(Xb,"border-width",Ge(n)+"px")]))},f(Qe,0,6)),f(Ut,function(n){return f(Yb,".font-size-"+Ge(n),A([f(Xb,"font-size",Ge(n)+"px")]))},f(Qe,8,32)),f(Ut,function(n){return f(Yb,".p-"+Ge(n),A([f(Xb,"padding",Ge(n)+"px")]))},f(Qe,0,24)),A([f(Yb,".v-smcp",A([f(Xb,"font-variant","small-caps")])),f(Yb,".v-smcp-off",A([f(Xb,"font-variant","normal")]))]),ad("zero"),ad("onum"),ad("liga"),ad("dlig"),ad("ordn"),ad("tnum"),ad("afrc"),ad("frac")])),id="@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {"+Ob("s")+Ob("r")+" > "+Ob("s")+" { flex-basis: auto !important; } "+Ob("s")+Ob("r")+" > "+Ob("s")+Ob("ctr")+' { flex-basis: auto !important; }}\ninput[type="search"],\ninput[type="search"]::-webkit-search-decoration,\ninput[type="search"]::-webkit-search-cancel-button,\ninput[type="search"]::-webkit-search-results-button,\ninput[type="search"]::-webkit-search-results-decoration {\n  -webkit-appearance:none;\n}\n\ninput[type=range] {\n  -webkit-appearance: none; \n  background: transparent;\n  position:absolute;\n  left:0;\n  top:0;\n  z-index:10;\n  width: 100%;\n  outline: dashed 1px;\n  height: 100%;\n  opacity: 0;\n}\n\ninput[type=range]::-moz-range-track {\n    background: transparent;\n    cursor: pointer;\n}\ninput[type=range]::-ms-track {\n    background: transparent;\n    cursor: pointer;\n}\ninput[type=range]::-webkit-slider-runnable-track {\n    background: transparent;\n    cursor: pointer;\n}\n\ninput[type=range]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range]::-moz-range-thumb {\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range]::-ms-thumb {\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range][orient=vertical]{\n    writing-mode: bt-lr; /* IE */\n    -webkit-appearance: slider-vertical;  /* WebKit */\n}\n\n.explain {\n    border: 6px solid rgb(174, 121, 15) !important;\n}\n.explain > .s {\n    border: 4px dashed rgb(0, 151, 167) !important;\n}\n\n.ctr {\n    border: none !important;\n}\n.explain > .ctr > .s {\n    border: 4px dashed rgb(0, 151, 167) !important;\n}\n\n',cd=function(n){return f(Ne,"",n)},od=e(function(n,r){return{bm:r,s:S,ae:S,Q:n}}),fd=e(function(n,r){var t=n;return s(Jt,e(function(n,r){switch(n.$){case 0:return E(r,{ae:f(_e,z(n.a,n.b),r.ae)});case 2:var e=n.a;return E(r,{s:f(_e,{bm:"\n}",s:S,ae:n.b,Q:"@supports ("+e.a+":"+e.b+") {"+t.Q},r.s)});case 4:var a=n.b;return E(r,{s:f(_e,f(fd,f(od,t.Q+" + "+n.a,""),a),r.s)});case 1:var u=n.b;return E(r,{s:f(_e,f(fd,f(od,t.Q+" > "+n.a,""),u),r.s)});case 3:var i=n.b;return E(r,{s:f(_e,f(fd,f(od,C(t.Q,n.a),""),i),r.s)});default:var c=n.a;return E(r,{s:f(_e,f(fd,f(od,t.Q,""),c),r.s)})}}),t,r)}),sd=C(id,(Js=C(td,ud),Us=function(n){return n.ae.b?n.Q+"{"+cd(f(Ut,function(n){return n.a+":"+n.b+";"},n.ae))+n.bm+"}":""},qs=function(n){var r=n;return C(Us(r),cd(f(Ut,qs,r.s)))},cd(f(Ut,qs,s(Jt,e(function(n,r){var e=n.b;return f(_e,f(fd,f(od,n.a,""),e),r)}),S,Js))))),ld=gr,bd=function(n){switch(n.gf){case 0:return s(Zb,"div",S,A([s(Zb,"style",S,A([ld(sd)]))]));case 1:return ld("");default:return s(Zb,"elm-ui-static-rules",A([f(Vb,"rules",Ec(sd))]),S)}},dd=function(n){switch(n.$){case 0:return"serif";case 1:return"sans-serif";case 2:return"monospace";case 3:case 4:return'"'+n.a+'"';default:return'"'+n.a.bz+'"'}},hd=function(n){switch(n.$){case 0:return"smcp"===n.a;case 1:return!1;default:return"smcp"===n.a&&1===n.b}},gd=function(n){return 5===n.$&&f(jl,hd,n.a.ed)},vd=t(function(n,r,e){var t=r.a,a=r.b;return n?e+"\n  "+t+": "+a+" !important;":e+"\n  "+t+": "+a+";"}),pd=a(function(n,r,e,t){if(1===r.$)return A([e+"{"+s(Xe,vd(!1),"",t)+"\n}"]);switch(r.a){case 1:switch(n.fO){case 0:return S;case 2:return A([e+"-hv {"+s(Xe,vd(!0),"",t)+"\n}"]);default:return A([e+"-hv:hover {"+s(Xe,vd(!1),"",t)+"\n}"])}case 0:var a=s(Xe,vd(!1),"",t);return A([e+"-fs:focus {"+a+"\n}",".s:focus ~ "+e+"-fs:not(.focus)  {"+a+"\n}",".s:focus "+e+"-fs  {"+a+"\n}",e+"-fs:focus-within {"+a+"\n}",".focusable-parent:focus ~ .s "+e+"-fs {"+a+"\n}"]);default:return A([e+"-act:active {"+s(Xe,vd(!1),"",t)+"\n}"])}}),md=function(n){switch(n.$){case 0:return'"'+n.a+'"';case 1:return'"'+n.a+'" 0';default:return'"'+n.a+'" '+Ge(n.b)}},$d=function(n){return 5===n.$?De(f(Ne,", ",f(Ut,md,n.a.ed))):Pe},wd=t(function(n,r,e){switch(r.$){case 0:return l(pd,n,e,r.a,r.b);case 13:return l(pd,n,e,"."+(u=r.a),A([f(Lb,"box-shadow",r.b)]));case 12:return l(pd,n,e,"."+(u=r.a),A([f(Lb,"opacity",Ro(f(zt,0,f(pa,1,1-r.b))))]));case 2:var a=r.a;return l(pd,n,e,".font-size-"+Ge(a),A([f(Lb,"font-size",Ge(a)+"px")]));case 1:var u=r.a,i=r.b,c=f(Ne,", ",f(Bu,$d,i)),o=A([f(Lb,"font-family",f(Ne,", ",f(Ut,dd,i))),f(Lb,"font-feature-settings",c),f(Lb,"font-variant",f(jl,gd,i)?"small-caps":"normal")]);return l(pd,n,e,"."+u,o);case 3:return l(pd,n,e,"."+(D=r.a),A([f(Lb,r.b,K=r.c)]));case 4:return l(pd,n,e,"."+(D=r.a),A([f(Lb,r.b,Hb(r.c))]));case 5:var b=r.a,d=r.b,h=r.c,g=Ge(h)+"px",v=Ge(d)+"px",p=".ar",m=".al",$=Ro(h/2)+"px",w=Ro(d/2)+"px";return vo(A([l(pd,n,e,(D="."+b)+".r > .s + .s",A([f(Lb,"margin-left",v)])),l(pd,n,e,D+".wrp.r > .s",A([f(Lb,"margin",$+" "+w)])),l(pd,n,e,D+".c > .s + .s",A([f(Lb,"margin-top",g)])),l(pd,n,e,D+".pg > .s + .s",A([f(Lb,"margin-top",g)])),l(pd,n,e,D+".pg > "+m,A([f(Lb,"margin-right",v)])),l(pd,n,e,D+".pg > "+p,A([f(Lb,"margin-left",v)])),l(pd,n,e,C(D,".p"),A([f(Lb,"line-height","calc(1em + "+Ge(h)+"px)")])),l(pd,n,e,"textarea.s"+D,A([f(Lb,"line-height","calc(1em + "+Ge(h)+"px)"),f(Lb,"height","calc(100% + "+Ge(h)+"px)")])),l(pd,n,e,D+".p > "+m,A([f(Lb,"margin-right",v)])),l(pd,n,e,D+".p > "+p,A([f(Lb,"margin-left",v)])),l(pd,n,e,D+".p::after",A([f(Lb,"content","''"),f(Lb,"display","block"),f(Lb,"height","0"),f(Lb,"width","0"),f(Lb,"margin-top",Ge(-1*(h/2|0))+"px")])),l(pd,n,e,D+".p::before",A([f(Lb,"content","''"),f(Lb,"display","block"),f(Lb,"height","0"),f(Lb,"width","0"),f(Lb,"margin-bottom",Ge(-1*(h/2|0))+"px")]))]));case 7:p=r.c;var x=r.d;return m=r.e,l(pd,n,e,D="."+(b=r.a),A([f(Lb,"padding",Ge(r.b)+"px "+Ge(p)+"px "+Ge(x)+"px "+Ge(m)+"px")]));case 6:return p=r.c,x=r.d,m=r.e,l(pd,n,e,D="."+(b=r.a),A([f(Lb,"border-width",Ge(r.b)+"px "+Ge(p)+"px "+Ge(x)+"px "+Ge(m)+"px")]));case 8:var y=r.a,k=t(function(n,r,e){n:for(;;)switch(e.$){case 0:return Ge(e.a)+"px";case 1:var t=z(n,r);if(1===t.a.$)return 1===t.b.$?"max-content":"minmax(max-content, "+Ge(a=t.b.a)+"px)";if(1===t.b.$)return"minmax("+Ge(t.a.a)+"px, max-content)";var a=t.b.a;return"minmax("+Ge(t.a.a)+"px, "+Ge(a)+"px)";case 2:var u=e.a,i=z(n,r);return 1===i.a.$?1===i.b.$?Ge(u)+"fr":"minmax(max-content, "+Ge(a=i.b.a)+"px)":1===i.b.$?"minmax("+Ge(i.a.a)+"px, "+Ge(u)+"frfr)":(a=i.b.a,"minmax("+Ge(i.a.a)+"px, "+Ge(a)+"px)");case 3:var c=e.b;n=De(e.a),r=r,e=c;continue n;default:c=e.b,n=n,r=De(e.a),e=c;continue n}}),_=function(n){return s(k,Pe,Pe,n)},B=(_(y.ha.a),_(y.ha.b)),E="grid-template-rows: "+f(Ne," ",f(Ut,_,y.gV))+";",M="-ms-grid-rows: "+f(Ne,B,f(Ut,_,y.M))+";",F="-ms-grid-columns: "+f(Ne,B,f(Ut,_,y.M))+";",j="grid-row-gap:"+_(y.ha.b)+";",T="grid-column-gap:"+_(y.ha.a)+";",L="grid-template-columns: "+f(Ne," ",f(Ut,_,y.M))+";";return A([(D=".grid-rows-"+f(Ne,"-",f(Ut,Fb,y.gV))+"-cols-"+f(Ne,"-",f(Ut,Fb,y.M))+"-space-x-"+Fb(y.ha.a)+"-space-y-"+Fb(y.ha.b))+"{"+F+M+"}","@supports (display:grid) {"+D+"{"+L+E+T+j+"}}"]);case 9:var I=r.a,O=f(Ne," ",A(["-ms-grid-row: "+Ge(I.dO)+";","-ms-grid-row-span: "+Ge(I.fJ)+";","-ms-grid-column: "+Ge(I.cH)+";","-ms-grid-column-span: "+Ge(I.eg)+";"])),H=f(Ne," ",A(["grid-row: "+Ge(I.dO)+" / "+Ge(I.dO+I.fJ)+";","grid-column: "+Ge(I.cH)+" / "+Ge(I.cH+I.eg)+";"]));return A([(D=".grid-pos-"+Ge(I.dO)+"-"+Ge(I.cH)+"-"+Ge(I.eg)+"-"+Ge(I.fJ))+"{"+O+"}","@supports (display:grid) {"+D+"{"+H+"}}"]);case 11:var D=r.a;return f(Oo,function(r){return s(wd,n,r,De(D))},r.b);default:var P=r.a,K=function(n){switch(n.$){case 0:return Pe;case 1:var r=n.a,e=r.b,t=r.c;return De("translate3d("+Ro(r.a)+"px, "+Ro(e)+"px, "+Ro(t)+"px)");default:var a=n.a,u=a.b,i=a.c,c=n.b,o=c.a,f=c.b,s=c.c,l=n.c,b=l.a,d=l.b,h=l.c,g=n.d,v="translate3d("+Ro(a.a)+"px, "+Ro(u)+"px, "+Ro(i)+"px)",p="scale3d("+Ro(o)+", "+Ro(f)+", "+Ro(s)+")",m="rotate3d("+Ro(b)+", "+Ro(d)+", "+Ro(h)+", "+Ro(g)+"rad)";return De(v+" "+p+" "+m)}}(P),W=z(D=jb(P),K);return W.a.$||W.b.$?S:l(pd,n,e,"."+(b=W.a.a),A([f(Lb,"transform",W.b.a)]))}}),xd=e(function(n,r){return Bc(f(Ut,function(r){var e=s(wd,n,r,Pe);return z(Ab(r),f(Cc,Ec,e))},r))}),yd=e(function(n,r){return n+" {"+f(Ne,"",f(Ut,function(n){return n.a+": "+n.b+";"},r))+"}"}),kd=t(function(n,r,e){var t=e.b;return A([f(yd,"."+n+"."+r+", ."+n+" ."+r,e.a),f(yd,"."+n+"."+r+"> .t, ."+n+" ."+r+" > .t",t)])}),zd=t(function(n,r,e){var t=r.a,a=r.b,u=$(n,e)?n:e+" ."+n;return f(Ne," ",C(s(kd,u,"cap",a),s(kd,u,"fs",t)))}),_d=e(function(n,r){var e=$(n,r)?n:r+" ."+n;return f(Ne," ",A([f(yd,"."+e+".cap, ."+e+" .cap",A([z("line-height","1")])),f(yd,"."+e+".cap> .t, ."+e+" .cap > .t",A([z("vertical-align","0"),z("line-height","1")]))]))}),Bd=t(function(n,r,e){return{fJ:r/n,g7:n,ee:e}}),Ed=function(n){var r=A([n.eX,n.eG,n.fg,n.f8]),e=f(Dc,n.fg,Dl(r)),t=f(Dc,n.eG,Dl(f(Ha,function(n){return!$(n,e)},r))),a=f(Dc,n.eX,Ol(r)),u=1/(a-e),i=1-a;return{eX:s(Bd,1/(a-t),a-t,1-a),c$:s(Bd,u,a-e,i)}},Md=function(n){return z(A([z("display","block")]),A([z("display","inline-block"),z("line-height",Ro(n.fJ)),z("vertical-align",Ro(n.ee)+"em"),z("font-size",Ro(n.g7)+"em")]))},Cd=e(function(n,r){var t=s(Xe,e(function(r,e){return{bI:C(e.bI,s(wd,n,r,Pe)),bb:(a=1===(t=r).$?De(z(t.a,t.b)):Pe,1===a.$?e.bb:f(_e,a.a,e.bb))};var t,a}),{bI:S,bb:S},r),a=t.bI;return C(function(n){var r=function(n){return 4===n.$?De("@import url('"+n.b+"');"):Pe},t=function(n){return f(Ne,"\n",f(Bu,r,n.b))},a=f(Ut,Et,n),u=function(n){var r,t=n.a,u=(r=n.b,s(Xe,e(function(n,r){if(1===r.$){if(5===n.$){var e=n.a.ep;if(1===e.$)return r;var t=e.a;return De(z(Md(Ed(t).c$),Md(Ed(t).eX)))}return r}return r}),Pe,r));return f(Ne,"",f(Ut,1===u.$?_d(t):f(zd,t,u.a),a))};return C(f(Ne,"\n",f(Ut,t,n)),f(Ne,"\n",f(Ut,u,n)))}(t.bb),cd(a))}),Sd=e(function(n,r){switch(n.gf){case 0:case 1:return s(Zb,"div",S,A([s(Zb,"style",S,A([ld(f(Cd,n,r))]))]));default:return s(Zb,"elm-ui-rules",A([f(Vb,"rules",f(xd,n,r))]),S)}}),Fd=a(function(n,r,e,t){var a=f(Sd,r,s(Xe,Tb,z(Lu,Wb(r.fw)),e).b);return n?f(_e,z("static-stylesheet",bd(r)),f(_e,z("dynamic-stylesheet",a),t)):f(_e,z("dynamic-stylesheet",a),t)}),jd=a(function(n,r,e,t){var a=f(Sd,r,s(Xe,Tb,z(Lu,Wb(r.fw)),e).b);return n?f(_e,bd(r),f(_e,a,t)):f(_e,a,t)}),Ad=fb(45),Td=fb(37),Ld=function(n){return $r(_r(n))},Id=pr("p"),Od=e(function(n,r){var e=r.a;if(n.$){var t=n.a;return $(t&r.b,t)}var a=n.a;return $(a&e,a)}),Hd=pr("s"),Dd=pr("u"),Pd=fb(44),Kd=fb(39),Wd=i(function(n,r,t,a,u,i){var c=e(function(n,r){if(1===a.$){var e=a.a;return s(Ld,n,r,function(){switch(u.$){case 0:return e;case 2:return l(Fd,!1,u.a,u.b,e);default:return l(Fd,!0,u.a,u.b,e)}}())}var t=a.a;return f(function(){switch(n){case"div":return Sb;case"p":return Id;default:return Zb(n)}}(),r,function(){switch(u.$){case 0:return t;case 2:return l(jd,!1,u.a,u.b,t);default:return l(jd,!0,u.a,u.b,t)}}())}),o=function(){switch(r.$){case 0:return f(c,"div",t);case 1:return f(c,r.a,t);default:return s(Zb,r.a,t,A([f(c,r.b,A([Cb("s e")]))]))}}();switch(i){case 0:return f(Od,Kd,n)&&!f(Od,Pd,n)?o:f(Od,_b,n)?f(Dd,A([Cb(f(Ne," ",A(["s","e","ctr","ccy","acr"])))]),A([o])):f(Od,Bb,n)?f(Hd,A([Cb(f(Ne," ",A(["s","e","ctr","ccy","accx"])))]),A([o])):o;case 1:return f(Od,Td,n)&&!f(Od,Ad,n)?o:f(Od,Eb,n)?f(Hd,A([Cb(f(Ne," ",A(["s","e","ctr","accy"])))]),A([o])):f(Od,zb,n)?f(Dd,A([Cb(f(Ne," ",A(["s","e","ctr","acb"])))]),A([o])):o;default:return o}}),Zd=function(n){return!n.b},Vd=ld,Gd=function(n){return f(Sb,A([Cb("s t wc hc")]),A([Vd(n)]))},Nd=function(n){return f(Sb,A([Cb("s t wf hf")]),A([Vd(n)]))},Yd=t(function(n,r,t){var a=e(function(r,e){var t=r.a,a=r.b,u=e.a,i=e.b;switch(a.$){case 0:var c=a.a;return $(n,4),z(f(_e,z(t,c(n)),u),i);case 1:var o=a.a;return $(n,4),z(f(_e,z(t,f(o.fQ,$b,n)),u),Zd(i)?o.d0:C(o.d0,i));case 2:var s=a.a;return z(f(_e,z(t,$(n,2)?Nd(s):Gd(s)),u),i);default:return z(u,i)}}),u=e(function(r,e){var t=e.a,a=e.b;switch(r.$){case 0:var u=r.a;return $(n,4),z(f(_e,u(n),t),a);case 1:var i=r.a;return $(n,4),z(f(_e,f(i.fQ,$b,n),t),Zd(a)?i.d0:C(i.d0,a));case 2:var c=r.a;return z(f(_e,$(n,2)?Nd(c):Gd(c),t),a);default:return z(t,a)}});if(1===r.$){var i=r.a,c=s(Jt,a,z(S,S),i),o=c.a;if((g=Zd(h=c.b)?t.d0:C(t.d0,h)).b){var d=g;return wb({fQ:l(Wd,t.al,t.dn,t.bT,mb(s(kb,"nearby-element-pls",o,t.bl))),d0:d})}return xb(b(Wd,t.al,t.dn,t.bT,mb(s(kb,"nearby-element-pls",o,t.bl)),$b))}var h,g,v=r.a,p=s(Jt,u,z(S,S),v),m=p.a;return(g=Zd(h=p.b)?t.d0:C(t.d0,h)).b?(d=g,wb({fQ:l(Wd,t.al,t.dn,t.bT,gb(f(yb,m,t.bl))),d0:d})):xb(b(Wd,t.al,t.dn,t.bT,gb(f(yb,m,t.bl)),$b))}),Rd=t(function(n,r,e){return{$:3,a:n,b:r,c:e}}),Xd=function(n){return{$:10,a:n}},Jd=e(function(n,r){return{$:0,a:n,b:r}}),Ud=e(function(n,r){var e=r.a,t=r.b;return n.$?f(Jd,e,n.a|t):f(Jd,n.a|e,t)}),qd=function(n){return{$:1,a:n}},Qd=e(function(n,r){return{$:3,a:n,b:r}}),nh=function(n){return{$:2,a:n}},rh=e(function(n,r){return f(Sb,A([Cb(function(){switch(n){case 0:return f(Ne," ",A(["nb","e","a"]));case 1:return f(Ne," ",A(["nb","e","b"]));case 2:return f(Ne," ",A(["nb","e","or"]));case 3:return f(Ne," ",A(["nb","e","ol"]));case 4:return f(Ne," ",A(["nb","e","fr"]));default:return f(Ne," ",A(["nb","e","bh"]))}}())]),A([function(){switch(r.$){case 3:return ld("");case 2:return Gd(r.a);case 0:return(0,r.a)(2);default:return f(r.a.fQ,$b,2)}}()]))}),eh=t(function(n,r,e){var t=f(rh,n,r);switch(e.$){case 0:return 5===n?qd(A([t])):nh(A([t]));case 1:var a=e.a;return 5===n?qd(f(_e,t,a)):f(Qd,a,A([t]));case 2:var u=e.a;return 5===n?f(Qd,A([t]),u):nh(f(_e,t,u));default:return a=e.a,u=e.b,5===n?f(Qd,f(_e,t,a),u):f(Qd,a,f(_e,t,u))}}),th=e(function(n,r){return{$:2,a:n,b:r}}),ah=function(n){return{$:1,a:n}},uh=e(function(n,r){switch(r.$){case 0:return ah(n);case 1:return f(th,r.a,n);default:return f(th,r.a,r.b)}}),ih=function(n){switch(n){case 0:return"ah al";case 2:return"ah ar";default:return"ah cx"}},ch=function(n){switch(n){case 0:return"av at";case 2:return"av ab";default:return"av cy"}},oh=e(function(n,r){return f(zr,function(n){return/^(on|formAction$)/i.test(n)?"data-"+n:n}(n),Br(r))}),fh=a(function(n,r,e,t){return{$:2,a:n,b:r,c:e,d:t}}),sh=function(n){return{$:1,a:n}},lh=e(function(n,r){switch(n.$){case 0:switch(r.$){case 0:return sh(_(a=r.a,0,0));case 1:return sh(_(0,u=r.a,0));case 2:return sh(_(0,0,i=r.a));case 3:return sh(e=r.a);case 4:var e=r.a,t=r.b;return l(fh,_(0,0,0),_(1,1,1),e,t);default:return e=r.a,l(fh,_(0,0,0),e,_(0,0,1),0)}case 1:var a=(c=n.a).a,u=c.b,i=c.c;switch(r.$){case 0:return sh(_(r.a,u,i));case 1:return sh(_(a,r.a,i));case 2:return sh(_(a,u,r.a));case 3:return sh(e=r.a);case 4:return e=r.a,t=r.b,l(fh,c,_(1,1,1),e,t);default:return l(fh,c,r.a,_(0,0,1),0)}default:a=(c=n.a).a,u=c.b,i=c.c;var c,o=n.b,f=n.c;switch(t=n.d,r.$){case 0:return l(fh,_(r.a,u,i),o,f,t);case 1:return l(fh,_(a,r.a,i),o,f,t);case 2:return l(fh,_(a,u,r.a),o,f,t);case 3:return l(fh,r.a,o,f,t);case 4:return l(fh,c,o,r.a,r.b);default:return l(fh,c,r.a,f,t)}}}),bh=fb(7),dh=fb(36),hh=e(function(n,r){return f(Jd,n.a|r.a,n.b|r.b)}),gh=f(Jd,0,0),vh=function(n){switch(n.$){case 0:var r=Ge(n.a),e="height-px-"+r;return _(gh,"he "+e,A([s(Rd,e,"height",r+"px")]));case 1:return _(f(Ud,dh,gh),"hc",S);case 2:var t=n.a;return 1===t?_(f(Ud,Td,gh),"hf",S):_(f(Ud,Td,gh),"hfp height-fill-"+Ge(t),A([s(Rd,"s.c > "+Ob("height-fill-"+Ge(t)),"flex-grow",Ge(1e5*t))]));case 3:var a=n.a,u=n.b,i="min-height-"+Ge(a),c=s(Rd,i,"min-height",Ge(a)+"px"),o=vh(u),l=o.b,b=o.c;return _(f(Ud,Ad,o.a),i+" "+l,f(_e,c,b));default:var d=n.a,h=(u=n.b,i="max-height-"+Ge(d),c=s(Rd,i,"max-height",Ge(d)+"px"),vh(u));return l=h.b,b=h.c,_(f(Ud,Ad,h.a),i+" "+l,f(_e,c,b))}},ph=fb(38),mh=function(n){switch(n.$){case 0:var r=n.a;return _(gh,"we width-px-"+Ge(r),A([s(Rd,"width-px-"+Ge(r),"width",Ge(r)+"px")]));case 1:return _(f(Ud,ph,gh),"wc",S);case 2:var e=n.a;return 1===e?_(f(Ud,Kd,gh),"wf",S):_(f(Ud,Kd,gh),"wfp width-fill-"+Ge(e),A([s(Rd,"s.r > "+Ob("width-fill-"+Ge(e)),"flex-grow",Ge(1e5*e))]));case 3:var t=n.a,a=n.b,u="min-width-"+Ge(t),i=s(Rd,u,"min-width",Ge(t)+"px"),c=mh(a),o=c.b,l=c.c;return _(f(Ud,Pd,c.a),u+" "+o,f(_e,i,l));default:var b=n.a,d=(a=n.b,u="max-width-"+Ge(b),i=s(Rd,u,"max-width",Ge(b)+"px"),mh(a));return o=d.b,l=d.c,_(f(Ud,Pd,d.a),u+" "+o,f(_e,i,l))}},$h=fb(27),wh=e(function(n,r){if($(n,$h)){if(3!==r.$)return!1;switch(r.c){case"0px":case"1px":case"2px":case"3px":case"4px":case"5px":case"6px":return!0;default:return!1}}else switch(r.$){case 2:var e=r.a;return e>=8&&32>=e;case 7:var t=r.b,a=r.c,u=r.e;return $(t,r.d)&&$(t,a)&&$(t,u)&&t>=0&&24>=t;default:return!1}}),xh=fb(6),yh=fb(30),kh=fb(29),zh=o(function(n,r,e,t,a,u,i,c){n:for(;;){if(!c.b){var o=jb(t);return 1===o.$?{bT:f(_e,Cb(n),u),bl:i,al:e,dn:r,d0:a}:{bT:f(_e,Cb(n+" "+o.a),u),bl:i,al:e,dn:r,d0:f(_e,Xd(t),a)}}var l=c.a,b=c.b;switch(l.$){case 0:n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n;case 3:var d=l.b;if(f(Od,g=l.a,e)){n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n}n=m=d+" "+n,r=$=r,e=w=f(Ud,g,e),t=x=t,a=y=a,u=u,i=i,c=b;continue n;case 1:n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=f(_e,l.a,u),i=i,c=b;continue n;case 4:var h=l.b;if(f(Od,g=l.a,e)){n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n}if(f(wh,g,h)){n=m=Ab(h)+" "+n,r=$=r,e=w=f(Ud,g,e),t=x=t,a=y=a,u=u,i=i,c=b;continue n}n=m=Ab(h)+" "+n,r=$=r,e=w=f(Ud,g,e),t=x=t,a=y=f(_e,h,a),u=u,i=i,c=b;continue n;case 10:var g,v=l.b;n=m=n,r=$=r,e=w=f(Ud,g=l.a,e),t=x=f(lh,t,v),a=y=a,u=u,i=i,c=b;continue n;case 7:var p=l.a;if(f(Od,xh,e)){n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n}switch(p.$){case 0:var m="we width-px-"+Ge(B=p.a)+" "+n,$=r,w=f(Ud,xh,e),x=t,y=f(_e,s(Rd,"width-px-"+Ge(B),"width",Ge(B)+"px"),a);n=m,r=$,e=w,t=x,a=y,u=u,i=i,c=b;continue n;case 1:n=m=n+" wc",r=$=r,e=w=f(Ud,ph,f(Ud,xh,e)),t=x=t,a=y=a,u=u,i=i,c=b;continue n;case 2:if(1===(S=p.a)){n=m=n+" wf",r=$=r,e=w=f(Ud,Kd,f(Ud,xh,e)),t=x=t,a=y=a,u=u,i=i,c=b;continue n}m=n+" wfp width-fill-"+Ge(S),$=r,w=f(Ud,Kd,f(Ud,xh,e)),x=t,y=f(_e,s(Rd,"s.r > "+Ob("width-fill-"+Ge(S)),"flex-grow",Ge(1e5*S)),a),n=m,r=$,e=w,t=x,a=y,u=u,i=i,c=b;continue n;default:var k=mh(p),z=k.c;m=n+" "+k.b,$=r,w=f(hh,k.a,f(Ud,xh,e)),x=t,y=C(z,a),n=m,r=$,e=w,t=x,a=y,u=u,i=i,c=b;continue n}case 8:var _=l.a;if(f(Od,bh,e)){n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n}switch(_.$){case 0:var B,E=Ge(B=_.a)+"px",M="height-px-"+E;n=m="he "+M+" "+n,r=$=r,e=w=f(Ud,bh,e),t=x=t,a=y=f(_e,s(Rd,M,"height ",E),a),u=u,i=i,c=b;continue n;case 1:n=m="hc "+n,r=$=r,e=w=f(Ud,dh,f(Ud,bh,e)),t=x=t,a=y=a,u=u,i=i,c=b;continue n;case 2:var S;if(1===(S=_.a)){n=m="hf "+n,r=$=r,e=w=f(Ud,Td,f(Ud,bh,e)),t=x=t,a=y=a,u=u,i=i,c=b;continue n}m=n+" hfp height-fill-"+Ge(S),$=r,w=f(Ud,Td,f(Ud,bh,e)),x=t,y=f(_e,s(Rd,"s.c > "+Ob("height-fill-"+Ge(S)),"flex-grow",Ge(1e5*S)),a),n=m,r=$,e=w,t=x,a=y,u=u,i=i,c=b;continue n;default:var F=vh(_);z=F.c,m=n+" "+F.b,$=r,w=f(hh,F.a,f(Ud,bh,e)),x=t,y=C(z,a),n=m,r=$,e=w,t=x,a=y,u=u,i=i,c=b;continue n}case 2:var j=l.a;switch(j.$){case 0:n=m=n,r=$=f(uh,"main",r),e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n;case 1:n=m=n,r=$=f(uh,"nav",r),e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n;case 2:n=m=n,r=$=f(uh,"footer",r),e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n;case 3:n=m=n,r=$=f(uh,"aside",r),e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n;case 4:var A=j.a;if(A>1){if(7>A){n=m=n,r=$=f(uh,"h"+Ge(A),r),e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n}n=m=n,r=$=f(uh,"h6",r),e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n}n=m=n,r=$=f(uh,"h1",r),e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n;case 9:n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n;case 8:n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=f(_e,f(oh,"role","button"),u),i=i,c=b;continue n;case 5:n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=f(_e,f(oh,"aria-label",j.a),u),i=i,c=b;continue n;case 6:n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=f(_e,f(oh,"aria-live","polite"),u),i=i,c=b;continue n;default:n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=f(_e,f(oh,"aria-live","assertive"),u),i=i,c=b;continue n}case 9:var T=l.a,L=l.b;z=function(){switch(L.$){case 3:case 2:case 0:return a;default:return C(a,L.a.d0)}}(),n=m=n,r=$=r,e=w=e,t=x=t,a=y=z,u=u,i=s(eh,T,L,i),c=b;continue n;case 6:var I=l.a;if(f(Od,yh,e)){n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n}n=m=ih(I)+" "+n,r=$=r,e=w=function(n){switch(I){case 1:return f(Ud,Bb,n);case 2:return f(Ud,_b,n);default:return n}}(f(Ud,yh,e)),t=x=t,a=y=a,u=u,i=i,c=b;continue n;default:var O=l.a;if(f(Od,kh,e)){n=m=n,r=$=r,e=w=e,t=x=t,a=y=a,u=u,i=i,c=b;continue n}n=m=ch(O)+" "+n,r=$=r,e=w=function(n){switch(O){case 1:return f(Ud,Eb,n);case 2:return f(Ud,zb,n);default:return n}}(f(Ud,kh,e)),t=x=t,a=y=a,u=u,i=i,c=b;continue n}}}),_h={$:0},Bh=_h,Eh=a(function(n,r,e,t){return s(Yd,n,t,g(zh,function(n){switch(n){case 0:return"s r";case 1:return"s c";case 2:return"s e";case 3:return"s g";case 4:return"s p";default:return"s pg"}}(n),r,gh,Bh,S,S,pb,ct(e)))}),Mh=function(n){return{$:8,a:n}},Ch=Mh,Sh=function(n){return{$:1,a:n}},Fh=function(n){return Sh(Cb(n))},jh={$:1},Ah=function(n){return{$:7,a:n}},Th=Ah,Lh=e(function(n,r){return l(Eh,1,vb,f(_e,Fh("ct cl"),f(_e,Ch(jh),f(_e,Th(jh),n))),gb(r))}),Ih=fb(8),Oh=function(n){return f(ob,Ih,s(cb,"bg-"+db(n),"background-color",n))},Hh=function(n){return{$:2,a:n}},Dh=Hh(1),Ph=e(function(n,r){return l(Eh,0,vb,f(_e,Fh("cl ccy"),f(_e,Th(jh),f(_e,Ch(jh),n))),gb(r))}),Kh=function(n){return{$:8,a:n}},Wh=function(n){return{$:9,a:n}},Zh={$:49},Vh={$:10},Gh={$:51},Nh=function(n){return{$:5,a:n}},Yh=Nh(2),Rh=e(function(n,r){return{$:9,a:n,b:r}}),Xh={$:0},Jh=e(function(n,r){return 3===r.$?Xh:f(Rh,n,r)}),Uh=function(n){return f(Jh,5,n)},qh=u(function(n,r,e,t,a){return{$:7,a:n,b:r,c:e,d:t,e:a}}),Qh=fb(2),ng=e(function(n,r){return $(n,r)?f(ob,Qh,b(qh,"p-"+Ge(n),n,n,n,n)):f(ob,Qh,b(qh,"p-"+Ge(n)+"-"+Ge(r),r,n,r,n))}),rg=function(n){return{$:2,a:n}},eg={$:9},tg=t(function(n,r,e){return{$:5,a:n,b:r,c:e}}),ag=fb(3),ug=e(function(n,r){return"spacing-"+Ge(n)+"-"+Ge(r)}),ig=function(n){return f(ob,ag,s(tg,f(ug,n,n),n,n))},cg=e(function(n,r){return l(Eh,4,vb,f(_e,rg(eg),f(_e,Th(Dh),f(_e,ig(5),n))),gb(r))}),og=e(function(n,r){return{$:3,a:n,b:r}}),fg=fb(13),sg=f(og,fg,"w4"),lg=t(function(n,r,e){return e?0>e?n*f(vs,r,e):n*f(vs,r,e-1):n}),bg=f(fu,f(lg,16,1.25),lb),dg=function(n){return{$:2,a:n}},hg=fb(4),gg=function(n){return f(ob,hg,dg(n))},vg=function(n){return{$:2,a:n}},pg=function(n){return vg(n)},mg={Y:_(96,96,96),f9:_(128,128,128),bK:_(160,160,160),ej:_(64,64,64),K:_(192,192,192),ek:_(32,32,32),aW:_(224,224,224),hW:_(0,0,0),hX:_(255,255,255)},$g=a(function(n,r,e,t){return{$:0,a:n,b:r,c:e,d:t}}),wg=a(function(n,r,e,t){return l($g,n/255,r/255,e/255,t)}),xg={Y:(Qs=function(n){return l(wg,n.a,n.b,n.c,1)})(mg.Y),f9:Qs(mg.f9),bK:Qs(mg.bK),ej:Qs(mg.ej),K:Qs(mg.K),ek:Qs(mg.ek),aW:Qs(mg.aW),hW:Qs(mg.hW),hX:Qs(mg.hX)},yg=function(n){return f(cg,A([Th(Dh),gg(bg(1)),sg,hb(xg.K),f(ng,5,5)]),A([pg(n)]))},kg=e(function(n,r){return l(Eh,2,vb,f(_e,Th(jh),f(_e,Ch(jh),n)),gb(A([r])))}),zg={$:3},_g=zg,Bg=a(function(n,r,e,t){return"pad-"+Ge(n)+"-"+Ge(r)+"-"+Ge(e)+"-"+Ge(t)}),Eg=function(n){var r=n.ag,e=n.af,t=n.T,a=n.Z;return $(r,e)&&$(r,t)&&$(r,a)?f(ob,Qh,b(qh,"p-"+Ge(r),r,r,r,r)):f(ob,Qh,b(qh,l(Bg,r,e,t,a),r,e,t,a))},Mg=f(og,fg,"w6"),Cg=e(function(n,r){var e=$(n,_g)?A([f(cg,S,A([pg(r)]))]):A([f(kg,A([Th(jh)]),n),f(cg,A([f(ng,15,5)]),A([pg(r)]))]);return f(Ph,A([Th(Dh),Eg({T:10,Z:5,af:5,ag:30}),gg(16),Mg]),e)}),Sg={$:8},Fg=e(function(n,r){return f(kr,n,Vc(r))}),jg=Fg("disabled"),Ag=function(n){return 4===n.$&&11===n.b.$&&!n.b.a},Tg=xr,Lg=e(function(n,r){return f(Tg,n,{$:0,a:r})}),Ig=f(oi,Sh,function(n){return f(Lg,"click",It(n))}),Og=e(function(n,r){return f(Tg,n,{$:2,a:r})}),Hg=e(function(n,r){return Sh(f(Og,"keyup",f(Tt,function(n){return z(n,!0)},f(At,function(e){return $(e,n)?It(r):rc("Not the enter key")},f(oa,"key",xa)))))}),Dg=fb(21),Pg=f(og,Dg,"cptr"),Kg=e(function(n,r){var e=r.bB,t=r.u;return l(Eh,2,vb,f(_e,Th(jh),f(_e,Ch(jh),f(_e,Fh("ccx ccy sbt notxt"),f(_e,Pg,f(_e,function(n){return f(jl,Ag,n)?Xh:Fh("focusable")}(n),f(_e,rg(Sg),f(_e,Sh(f(zr,"tabIndex",Ge(0))),function(){if(1===e.$)return f(_e,Sh(jg(!0)),n);var r=e.a;return f(_e,Ig(r),f(_e,function(n){return f(Hg,"Enter",n)}(r),n))}()))))))),gb(A([t])))}),Wg=fb(28),Zg=function(n){return f(ob,Wg,s(cb,"bc-"+db(n),"border-color",n))},Vg=l(wg,245,121,0,1),Gg=function(n){return f(ob,Qh,b(qh,"p-"+Ge(n),n,n,n,n))},Ng=fb(17),Yg=function(n){return f(ob,Ng,s(Rd,"br-"+Ge(n),"border-radius",Ge(n)+"px"))},Rg=fb(11),Xg=f(og,Rg,"bs"),Jg=u(function(n,r,e,t,a){return{$:6,a:n,b:r,c:e,d:t,e:a}}),Ug=function(n){return f(ob,$h,b(Jg,"b-"+Ge(n),n,n,n,n))},qg=function(n){return A([Gg(n),Zg(Vg),Xg,Ug(1),Yg(5)])},Qg=Nh(1),nv=function(n){return{$:0,a:n}},rv=t(function(n,r,e){return l($g,n,r,e,1)}),ev=A([Th(nv(16)),Ch(nv(16)),Yg(8),Ug(1),Zg(s(rv,.5,.5,.5)),Oh(s(rv,1,1,1))]),tv=a(function(n,r,e,t){return{$:0,a:n,b:r,c:e,d:t}}),av=function(n){return n/255},uv=t(function(n,r,e){return l(tv,av(n),av(r),av(e),1)}),iv=function(){var n=function(n){return s(uv,n.a,n.b,n.c)};return{Y:n(mg.Y),f9:n(mg.f9),bK:n(mg.bK),ej:n(mg.ej),K:n(mg.K),ek:n(mg.ek),aW:n(mg.aW),hW:n(mg.hW),hX:n(mg.hX)}}(),cv=f(oi,xb,Ju),ov=cv,fv=l(tv,206/255,92/255,0,1),sv=function(n){return-2===n.$},lv=t(function(n,r,e){return{$:0,a:n,b:r,c:e}})(1),bv=e(function(n,r){return{$:11,a:n,b:r}}),dv=fb(33),hv=function(n){return{$:6,a:n}},gv=e(function(n,r){return{$:10,a:n,b:r}}),vv=wr,pv=e(function(n,r){switch(r.$){case 1:var t=r.a;return wb({fQ:e(function(r,e){return f(vv,n,f(t.fQ,r,e))}),d0:t.d0});case 0:var a=r.a;return xb(f(oi,vv(n),a));case 2:return vg(r.a);default:return zg}}),mv=Mr,$v=e(function(n,r){switch(r.$){case 0:return Xh;case 2:return rg(r.a);case 6:return hv(r.a);case 5:return Nh(r.a);case 7:return Ah(r.a);case 8:return Mh(r.a);case 3:return f(og,r.a,r.b);case 4:return f(ob,r.a,r.b);case 9:return f(Rh,r.a,f(pv,n,r.b));case 1:return Sh(f(mv,n,r.a));default:return f(gv,r.a,r.b)}}),wv=e(function(n,r){var e=r.a,t=r.b,a=f($v,Nt,n);switch(a.$){case 4:return z(f(_e,a.b,e),t);case 10:return z(e,f(lh,t,a.b));default:return z(e,t)}}),xv=function(n){var r=s(Xe,wv,z(S,_h),n),e=r.a;return f(_e,Xd(r.b),e)},yv=function(n){return f(ob,dv,f(bv,1,xv(n)))},kv=function(n){return f(Mb,"href",/^javascript:/i.test((r=n).replace(/\s/g,""))?"":r);var r},zv=zr("rel"),_v=Mb("target"),Bv=e(function(n,r){var e=r.bf,t=r.u;return l(Eh,2,ah("a"),f(_e,Sh(kv(e)),f(_e,Sh(zv("noopener noreferrer")),f(_e,Sh(_v("_blank")),f(_e,Th(jh),f(_e,Ch(jh),f(_e,Fh("ccx ccy lnk"),n)))))),gb(A([t])))}),Ev=function(n){return'<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   id="svg3859"\n   width="'+Ge(n)+'px"\n   height="'+Ge(n)+'px"\n   version="1.1">\n  <defs\n     id="defs3861">\n    <clipPath\n       id="clipPath3849">\n      <rect\n         style="color:#000000;fill:none;stroke:#000000;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate"\n         id="rect3851"\n         transform="matrix(-0.47673484,0.87904715,-0.95035547,-0.31116633,0,0)"\n         y="-1761.3143"\n         x="699.2251"\n         ry="89.573692"\n         height="396.80566"\n         width="394.26315" />\n    </clipPath>\n  </defs>\n  <metadata\n     id="metadata3864">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     id="layer1"\n     transform="translate(0,-952.36218)">\n    <rect\n       width="71.05851"\n       height="71.516754"\n       ry="16.143972"\n       x="-794.30432"\n       y="783.77881"\n       transform="matrix(0.76602036,-0.64281631,0.76990078,0.6381636,0,0)"\n       id="rect3017-1"\n       style="color:#000000;display:inline;overflow:visible;visibility:visible;fill:#005964;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.147975;marker:none;enable-background:accumulate" />\n    <rect\n       width="71.05851"\n       height="71.516754"\n       ry="16.143972"\n       x="-788.10034"\n       y="777.60608"\n       transform="matrix(0.76602036,-0.64281631,0.76990078,0.6381636,0,0)"\n       id="rect3017-7"\n       style="color:#000000;display:inline;overflow:visible;visibility:visible;fill:#e5e5e5;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.147975;marker:none;enable-background:accumulate" />\n    <rect\n       width="71.05851"\n       height="71.516754"\n       ry="16.143972"\n       x="-781.23462"\n       y="770.77496"\n       transform="matrix(0.76602036,-0.64281631,0.76990078,0.6381636,0,0)"\n       id="rect3017"\n       style="color:#000000;display:inline;overflow:visible;visibility:visible;fill:#53c5d5;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.147975;marker:none;enable-background:accumulate" />\n    <path\n       d="m 1233.8003,1119.4669 c -53.8878,178.2803 -220.6429,298.2666 -406.80645,292.7119 l -32.97308,-83.598 164.08844,-297.9751 z"\n       transform="matrix(-0.16766085,-0.06612953,0.06612953,-0.16766085,142.84327,1277.661)"\n       clip-path="url(#clipPath3849)"\n       id="path3812"\n       style="color:#000000;display:inline;overflow:visible;visibility:visible;fill:#35bcce;fill-opacity:1;fill-rule:nonzero;stroke:none;marker:none;enable-background:accumulate" />\n  </g>\n</svg>\n'},Mv=e(function(n,r){return r.$?Ae(r.a):n(r.a)}),Cv=function(n){return vr(_r(n))},Sv=Cv("http://www.w3.org/2000/svg"),Fv=ld,jv=function(n){return f(oh,n.a,n.b)},Av=function(n){switch(n.$){case 0:return function(n){return s(Sv,n.bz,f(Ut,jv,n.bT),f(Ut,Av,n.bl))}(n.a);case 1:return Fv(n.a);default:return Fv("")}},Tv=function(n){return n},Lv=e(function(n,r){return e(function(e,t){var a=s(Tv,r,e,t);if(a.c.$)return _(a.a,a.b,Ae(a.c.a));var u=a.a,i=a.b;return s(Tv,n(a.c.a),u,i)})}),Iv=t(function(n,r,e){return f(n,e,r)}),Ov=t(function(n,r,t){return e(function(e,a){var u=s(Tv,t,e,a);return _(u.a,u.b,u.c.$?Ae(r(u.c.a)):Oe(n(u.c.a)))})}),Hv=e(function(n,r){return s(Ov,n,Ht,r)}),Dv=e(function(n,r){return f(Lv,f(Iv,Hv,n),r)}),Pv=t(function(n,r,e){return f(n,e,r)}),Kv=e(function(n,r){return f(Dv,r,f(Hv,Pv(Ju),n))}),Wv=function(n){return{$:0,a:n}},Zv=e(function(n,r){return f(Dv,r,f(Hv,Ju,n))}),Vv=e(function(n,r){return _(n,r,Ae(S))}),Gv=e(function(n,r){return e(function(e,t){var a=s(Tv,n,e,t);if(a.c.$){var u=a.c.a,i=s(Tv,r,e,t);return i.c.$?_(e,t,Ae(C(u,i.c.a))):i}return a})}),Nv=function(n){return s(Jt,Gv,Vv,n)},Yv=function(n){return{$:2,a:n}},Rv=Ov(Ht),Xv=e(function(n,r){return f(Rv,Ju(A([n])),r)}),Jv=Ht,Uv=f(Xv,"expected any character",(nl=Ju(!0),Jv(e(function(n,r){var e="could not satisfy predicate",t=ot(r.B);if(t.$)return _(n,r,Ae(A([e])));var a=t.a,u=a.a,i=a.b;return nl(u)?_(n,E(r,{B:i,ad:r.ad+1}),Oe(u)):_(n,r,Ae(A([e])))})))),qv=function(n){return T(n).join("")},Qv=function(n){return e(function(r,e){return _(r,e,Oe(n))})},np=function(n){return f(Lv,n,Qv(0))},rp=e(function(n,r){return t(function(e,t,a){for(;;){var u=s(Tv,r,t,a);if(!u.c.$)return _(b=u.a,d=u.b,Oe(ct(e)));var i=u.a,c=u.b,o=u.c.a,l=s(Tv,n,t,a);if(l.c.$)return _(i,c,Ae(o));var b=l.a,d=l.b;e=f(_e,l.c.a,e),t=b,a=d}})(S)}),ep=function(n){return e(function(r,e){if(f(Gt,n,e.B)){var t=Pt(n),a=e.ad+t;return _(r,E(e,{B:f(Wt,t,e.B),ad:a}),Oe(n))}return _(r,e,Ae(A(['expected "'+n+'"'])))})},tp=ve,ap=f(fu,f(u(function(n,r,e,t,a){var u=f(Gt,"^",e)?e:"^"+e,i=s(tp,1,f(Dc,Fo,n(u)),a.B);if(i.b&&!i.b.b){var c=i.a,o=Pt(c.a5),l=a.ad+o;return _(t,E(a,{B:f(Wt,o,a.B),ad:l}),Oe(r(c)))}return _(t,a,Ae(A(["expected input matching Regexp /"+u+"/"])))}),So,function(n){return n.a5}),Ht),up=f(Xv,"optional whitespace",ap("\\s*")),ip=np(function(){return f(Hv,f(oi,Yv,qv),f(Kv,f(Kv,up,ep("\x3c!--")),f(rp,Uv,ep("--\x3e"))))}),cp=function(n){var r=t(function(r,e,t){for(;;){var a=s(Tv,n,e,t);if(a.c.$)return _(e,t,ct(r));var u=a.a,i=a.b,c=a.c.a;if($(t,i))return _(u,i,ct(r));r=f(_e,c,r),e=u,t=i}});return e(function(n,e){var t=s(r,S,n,e);return _(t.a,t.b,Oe(t.c))})},op=t(function(n,r,e){return{bT:r,bl:e,bz:n}}),fp=e(function(n,r){return f(Gv,r,Qv(n))}),sp=f(Dv,f(fp,"",f(Zv,f(Kv,ep('="'),ap('[^"]*')),ep('"'))),f(Hv,Eo,ap("[^=>/]+"))),lp=e(function(n,r){return f(Dv,n,f(Hv,Iv(Ju),r))}),bp=e(function(n,r){return f(Dv,cp(f(lp,r,n)),f(Hv,_e,r))}),dp=e(function(n,r){return f(Gv,f(bp,n,r),Qv(S))}),hp=s(Pv,Dv,f(Dv,ap("[^/>\\s]+"),f(Hv,t(function(n,r,e){return s(op,r,e,S)}),ep("<"))),f(Zv,f(Kv,up,f(dp,up,sp)),up)),gp=function(n){return{$:1,a:n}},vp=np(function(){return f(Hv,gp,f(Kv,up,ap("[^<]+")))}),pp=function(n){var r=f(Hv,function(r){return E(n,{bl:r})},f(Zv,f(Zv,f(Kv,f(Kv,up,ep(">")),cp($p())),up),ep("</"+n.bz+">")));return np(function(){return Nv(A([f(Kv,f(Kv,up,ep("/>")),Qv(n)),r]))})};function mp(){return np(function(){return f(Hv,Wv,f(Lv,pp,f(Dv,hp,f(Hv,Pv(Ju),up))))})}function $p(){return np(function(){return Nv(A([vp,ip,mp()]))})}var wp=mp();mp=function(){return wp};var xp=$p();$p=function(){return xp};var yp,kp,zp,_p,Bp=t(function(n,r,e){return{cL:n,B:r,ad:e}}),Ep=t(function(n,r,e){var t=s(Tv,n,r,function(n){return s(Bp,n,n,0)}(e));return t.c.$?Ae(_(t.a,t.b,t.c.a)):Oe(_(t.a,t.b,t.c.a))}),Mp=f(Hv,qv,f(Kv,f(Kv,up,ep("<?xml")),f(rp,Uv,ep("?>")))),Cp=vr("http://www.w3.org/2000/svg"),Sp=Cp("svg"),Fp=function(n){return f(Mv,function(n){if(n.$)return Ae("Top element is not svg");var r=n.a;return"svg"===r.bz?Oe(f(Sp,f(Ut,jv,r.bT),f(Ut,Av,r.bl))):Ae("Top element is not svg")},function(n){var r=s(Ep,f(Kv,f(fp,"",Mp),xp),S,n);return r.$?Ae(f(Ne," or ",r.a.c)):Oe(r.a.c)}(n))},jp=f(Ph,A([Eg({T:30,Z:0,af:0,ag:15})]),A([f(Kg,qg(10),{u:f(kg,S,pg("Bestellungen exportieren")),bB:De({$:44})})])),Ap=hv(1),Tp=f(fu,f(lg,8,1.25),lb),Lp=a(function(n,r,e,t){var a=_(n,r,e),u=a.a,i=a.b,c=a.c,o=c>.5?c+i-c*i:c*(i+1),f=2*c-o,s=function(n){var r=0>n?n+1:n>1?n-1:n;return 1>6*r?f+(o-f)*r*6:1>2*r?o:2>3*r?f+(o-f)*(2/3-r)*6:f},b=s(u-1/3),d=s(u),h=s(u+1/3);return l(tv,h,d,b,t)}),Ip=function(n){return{eA:n.d,eL:n.c,fG:n.b,gS:n.a}},Op=function(n){var r=n.gW,e=n.fR/360,t=function(r){return Ip(l(Lp,r.a,r.b,r.c,n.eA))};return{Y:t(_(e,r,.325)),f9:t(_(e,r,.5)),bK:t(_(e,r,.675)),ej:t(_(e,r,.25)),K:t(_(e,r,.75)),ek:t(_(e,r,.1875)),aW:t(_(e,r,.8125)),hW:t(_(e,r,.125)),hX:t(_(e,r,.875))}},Hp=$g,Dp=function(n){var r=function(n){return l(Hp,n.gS,n.fG,n.eL,n.eA)},e=n.hi;if(2===e.$){var t=e.a;return{Y:r(Op(t).Y),f9:r(Op(t).f9),bK:r(Op(t).bK),ej:r(Op(t).ej),K:r(Op(t).K),ek:r(Op(t).ek),aW:r(Op(t).aW),hW:r(Op(t).hW),hX:r(Op(t).hX)}}return{Y:r(Op(n.eF).Y),f9:r(Op(n.eF).f9),bK:r(Op(n.eF).bK),ej:r(Op(n.eF).ej),K:r(Op(n.eF).K),ek:r(Op(n.eF).ek),aW:r(Op(n.eF).aW),hW:r(Op(n.eF).hW),hX:r(Op(n.eF).hX)}},Pp=e(function(n,r){return f(Ph,A([Th(Dh),Ch(nv(50)),Gg(Tp(2)),Oh(Dp(n).ek)]),A([f(kg,A([gg(bg(2)),hb(xg.hX),Ap]),pg(r))]))}),Kp=function(n){var r=function(){switch(n.en.$){case 0:case 1:case 4:default:return 70}}(),e=n.fi.gC?0:53;return lb(n.ef.ef.fJ)-66-e-50-r},Wp=fb(12),Zp=f(og,Wp,"tc"),Vp=Sh,Gp=yr,Np=Gp,Yp=function(n){return f(cg,A([Oh(Dp(n.a_).ek),Th(Dh),Ch(nv(70)),Gg(10)]),A([f(Ph,A([f(ng,10,7),ig(10),Th(jh),Ap,Qg,Xg,Yg(7),Ug(1),Zg(Vg),Zp,Pg,Vp(f(Np,"display","none")),Vp(Cb("add-button"))]),A([pg("Data Shop zum Desktop hinzufügen?")]))]))},Rp=fb(20),Xp=f(og,Rp,"sby"),Jp=t(function(n,r,e){var t=n.a_;return f(Lh,A([Th(Dh),Ch(Dh),Oh(Dp(t).ej)]),A([f(Pp,t,e),f(Lh,A([Ap,Th(Dh),Ch(nv(Kp(n))),Xp,f(ng,30,20),hb(xg.K)]),A([f(Lh,A([Th(Dh)]),r)])),Yp(n)]))}),Up={$:45},qp=function(n){return f(Lh,S,A([f(Ph,A([f(ng,0,15)]),A([f(Kg,qg(10),{u:f(kg,S,pg("Bestellungen importieren")),bB:De(Up)})])),yg(n.dZ)]))},Qp=hv(2),nm=zr("d"),rm=zr("fill"),em=Cp("g"),tm=zr("height"),am=zr("viewBox"),um=zr("width"),im=a(function(n,r,e,t){var a=Ge(t),u=function(n){var r=Ip(n),e=r.fG,t=r.eL,a=r.eA;return"rgba("+Ge(lb(255*r.gS))+","+Ge(lb(255*e))+","+Ge(lb(255*t))+","+Ro(a)+")"}(e);return f(Sp,A([um(a),tm(a),am(n)]),A([f(em,A([rm(u)]),r)]))}),cm=Cp("path"),om=f(im,"0 0 48 48",A([f(cm,A([nm("M38 6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM20 34L10 24l2.83-2.83L20 28.34l15.17-15.17L38 16 20 34z")]),S)])),fm=f(im,"0 0 48 48",A([f(cm,A([nm("M38 10v28H10V10h28m0-4H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4z")]),S)])),sm=f(im,"0 0 48 48",A([f(cm,A([nm("M42 4H6C3.79 4 2 5.79 2 8v24c0 2.21 1.79 4 4 4h14v4h-4v4h16v-4h-4v-4h14c2.21 0 4-1.79 4-4V8c0-2.21-1.79-4-4-4zm0 28H6V8h36v24z")]),S)])),lm=f(im,"0 0 48 48",A([f(cm,A([nm("M40 8H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 8L24 26 8 16v-4l16 10 16-10v4z")]),S)])),bm=f(im,"0 0 48 48",A([f(cm,A([nm("M24 16L12 28l2.83 2.83L24 21.66l9.17 9.17L36 28z")]),S)])),dm=f(im,"0 0 48 48",A([f(cm,A([nm("M33.17 17.17L24 26.34l-9.17-9.17L12 20l12 12 12-12z")]),S)])),hm=f(im,"0 0 48 48",A([f(cm,A([nm("M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm2 34h-4v-4h4v4zm4.13-15.49l-1.79 1.84C26.9 25.79 26 27 26 30h-4v-1c0-2.21.9-4.21 2.34-5.66l2.49-2.52C27.55 20.1 28 19.1 28 18c0-2.21-1.79-4-4-4s-4 1.79-4 4h-4c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.76-.71 3.35-1.87 4.51z")]),S)])),gm=f(im,"0 0 48 48",A([f(cm,A([nm("M20 40V28h8v12h10V24h6L24 6 4 24h6v16z")]),S)])),vm=f(im,"0 0 48 48",A([f(cm,A([nm("M18 6l-8 7.98h6V28h4V13.98h6L18 6zm14 28.02V20h-4v14.02h-6L30 42l8-7.98h-6z")]),S)])),pm=f(im,"0 0 48 48",A([f(cm,A([nm("M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm2 30h-4V22h4v12zm0-16h-4v-4h4v4z")]),S)])),mm=f(im,"0 0 48 48",A([f(cm,A([nm("M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z")]),S)])),$m=f(im,"0 0 48 48",A([f(cm,A([nm("M41 6c-.11 0-.21.01-.31.05L30 10.2 18 6 6.73 9.8c-.42.14-.73.5-.73.96V41c0 .55.45 1 1 1 .11 0 .21-.01.31-.05L18 37.8 30 42l11.28-3.79c.42-.15.72-.51.72-.97V7c0-.55-.45-1-1-1zM30 38l-12-4.21V10l12 4.21V38z")]),S)])),wm=f(im,"0 0 48 48",A([f(cm,A([nm("M25.99 6C16.04 6 8 14.06 8 24H2l7.79 7.79.14.29L18 24h-6c0-7.73 6.27-14 14-14s14 6.27 14 14-6.27 14-14 14c-3.87 0-7.36-1.58-9.89-4.11l-2.83 2.83C16.53 39.98 21.02 42 25.99 42 35.94 42 44 33.94 44 24S35.94 6 25.99 6zM24 16v10l8.56 5.08L34 28.65l-7-4.15V16h-3z")]),S)])),xm=f(im,"0 0 48 48",A([f(cm,A([nm("M34 6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V14l-8-8zM24 38c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm6-20H10v-8h20v8z")]),S)])),ym=f(im,"0 0 48 48",A([f(cm,A([nm("M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3c-1.22.51-2.35 1.17-3.38 1.97L9.9 10.1c-.45-.17-.97 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3c1.22-.51 2.35-1.17 3.38-1.97l4.98 2.01c.45.17.97 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z")]),S)])),km=f(im,"0 0 48 48",A([f(cm,A([nm("M14 36c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4zM2 4v4h4l7.19 15.17-2.7 4.9c-.31.58-.49 1.23-.49 1.93 0 2.21 1.79 4 4 4h24v-4H14.85c-.28 0-.5-.22-.5-.5 0-.09.02-.17.06-.24L16.2 26h14.9c1.5 0 2.81-.83 3.5-2.06l7.15-12.98c.16-.28.25-.61.25-.96 0-1.11-.9-2-2-2H10.43l-1.9-4H2zm32 32c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4z")]),S)])),zm=t(function(n,r,e){var t=function(){switch(n){case 0:return om;case 1:return fm;case 2:return lm;case 4:return dm;case 3:return bm;case 9:return $m;case 8:return mm;case 5:return hm;case 12:return vm;case 7:return pm;case 6:return gm;case 10:return ym;case 11:return km;case 13:return sm;case 14:return xm;default:return wm}}();return ov(f(t,r,e))}),_m=u(function(n,r,e,t,a){var u,i=$(r,_g)?A([f(cg,S,A([pg(e)]))]):A([f(kg,A([Th(jh)]),r),f(cg,A([f(ng,15,5)]),A([pg(e)]))]),c=Oh(t.$?Dp(n).ej:Dp(n).Y),o=A(t.$?[_g]:[f(kg,A([Qp,Th(jh)]),s(zm,a?3:4,iv.K,24))]);return f(Ph,A([Th(Dh),Eg({T:10,Z:5,af:5,ag:10}),gg(16),Mg,yv(A([c])),Ig((u=t,{$:50,a:u}))]),C(i,o))}),Bm=function(n){return n?f(Lh,A([ig(5)]),A([f(Ph,A([ig(40)]),A([pg(""),yg("Im Fenster 'Bestellungen' werden alle laufenden und früher getätigten Bestellungen aufgelistet."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("Sobald die aktuelle Bestellung fertig aufbereitet ist, können die bestellten Daten über den 'Download-Knopf' heruntergeladen werden. Die aufbereiteten Daten verbleiben ca. 1 Woche auf dem Server."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("Über die weiteren Schaltflächen können die Bestellungen mit eigenen Bezeichnungen beschriftet, nochmals geladen oder gelöscht werden."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("Mit der Export-Funktion im Menü kann die gesamte Bestellliste gespeichert und über die Import-Funktion wieder geladen werden."),pg("")]))])):_g},Em=function(n){return n?f(Lh,A([ig(5)]),A([f(Ph,A([ig(40)]),A([pg(""),yg("Suchen Sie über das Eingabefeld Ihr gewünschtes Produkt."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("Wählen Sie es aus mit einem Klick auf die Liste."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("In der anschliessend angezeigten Detail-Ansicht wählen Sie die gewünschten Datenformate."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("Falls das gewünschte Datenformat nicht angezeigt wird, kontrolliern Sie bitte in den Einstellungen (bearbeitbar über das Menü), ob das gesuchte Format in der Liste der 'Angezeigten Datenformate' aktiviert ist."),pg("")]))])):_g},Mm=function(n){return n?f(Lh,A([ig(5)]),A([f(Ph,A([ig(40)]),A([pg(""),yg("Kontrollieren Sie die ausgewählten Produkte und ergänzen oder reduzieren Sie die Formate in der Übersicht."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("Erfassen Sie Ihre E-Mail Adresse, falls Sie benachrichtigt werden möchten, sobald die Daten zum Download bereit sind."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("Über die Schaltfläche 'Bestellung abschicken' wird der Bestellvorgang gestartet."),pg("")]))])):_g},Cm=fb(32),Sm=rg({$:6}),Fm=t(function(n,r,e){if(1===r.$)return l(Eh,1,ah("label"),n,gb(A([e])));var t=r.a,a=l(Eh,2,vb,r.b,gb(A([r.c])));switch(t){case 2:return l(Eh,1,ah("label"),n,gb(A([a,e])));case 3:return l(Eh,1,ah("label"),n,gb(A([e,a])));case 0:return l(Eh,0,ah("label"),n,gb(A([e,a])));default:return l(Eh,0,ah("label"),n,gb(A([a,e])))}}),jm=oh,Am=fb(31),Tm=function(n){return s(Jt,e(function(n,r){return r.$?8===n.$?De(n.a):Pe:De(r.a)}),Pe,n)},Lm=e(function(n,r){return f(Dc,r,s(Jt,e(function(n,r){if(r.$){if(4===n.$&&5===n.b.$){var e=n.b;return De(z(e.b,e.c))}return Pe}return De(r.a)}),Pe,n))}),Im=function(n){return s(Jt,e(function(n,r){return r.$?7===n.$?De(n.a):Pe:De(r.a)}),Pe,n)},Om=function(n){return 1===n.$?rg({$:5,a:n.a}):Xh},Hm=function(n){return 1===n.$},Dm=Mb("max"),Pm=Mb("min"),Km=function(n){return z(n,!0)},Wm=e(function(n,r){return f(Tg,n,{$:1,a:r})}),Zm=e(function(n,r){return s(Jt,oa,r,n)}),Vm=f(Zm,A(["target","value"]),xa),Gm=function(n){return f(Wm,"input",f(Tt,Km,f(Tt,n,Vm)))},Nm=e(function(n,r){return f(ob,ag,s(tg,f(ug,n,r),n,r))}),Ym=Mb("type"),Rm=Mb("value"),Xm=function(n){return 0>n?-n:n},Jm=Hh,Um=e(function(n,r){switch(r.$){case 0:return Xh;case 2:return rg(r.a);case 6:return hv(r.a);case 5:return Nh(r.a);case 7:return Ah(r.a);case 8:return Mh(r.a);case 3:return f(og,r.a,r.b);case 4:return f(ob,r.a,r.b);case 9:return f(Rh,r.a,f(pv,n,r.b));case 1:return Sh(f(mv,n,r.a));default:return f(gv,r.a,r.b)}}),qm=t(function(n,r,e){return f(Ph,A([Th(Dh),Ch(f(Dc,Dh,e)),Qg]),A([f(kg,A([Th(Jm(lb(1e4*n)))]),_g),f(kg,f(_e,Qg,f(Ut,Um(Nt),r)),_g),f(kg,A([Th(Jm(lb(1e4*Xm(1-n))))]),_g)]))}),Qm=t(function(n,r,e){return f(Lh,A([Ch(Dh),Th(f(Dc,Dh,e)),Ap]),A([f(kg,A([Ch(Jm(lb(1e4*Xm(1-n))))]),_g),f(kg,f(_e,Ap,f(Ut,Um(Nt),r)),_g),f(kg,A([Ch(Jm(lb(1e4*n)))]),_g)]))}),n$=e(function(n,r){var e,t,a=Im(n),u=Tm(n),i=function(){var n=z(a,u);n:for(;;){if(1===n.a.$){if(1===n.b.$)return!1;break n}if(n.a.a.$||n.b.$)break n;switch(n.b.a.$){case 0:return x(n.b.a.a,n.a.a.a)>0;case 2:return!0;default:break n}}return!1}(),c=(r.ec-r.dj)/(r.di-r.dj),o=r.d6,b=Tm(o),d=1===b.$?"20px":b.a.$?"100%":Ge(b.a.a)+"px",h=Im(o),g=1===h.$?"20px":h.a.$?"100%":Ge(h.a.a)+"px",v="thmb-"+g+"-"+d,p=A([f(Lb,"width",g),f(Lb,"height",d)]),m=f(Lm,n,z(5,5)),$=m.a,w=m.b;return s(Fm,A([Hm(r.u)?Xh:f(Nm,$,w),Sm,Th(1===a.$?Dh:a.a.$?a.a:jh),Ch(1===u.$?jh:u.a.$?u.a:jh)]),r.u,f(Ph,A([Th(f(Dc,Dh,a)),Ch(f(Dc,nv(20),u))]),A([l(Eh,2,ah("input"),A([Om(r.u),f(ob,Cm,f(Ib,'input[type="range"].'+v+"::-moz-range-thumb",p)),f(ob,dv,f(Ib,'input[type="range"].'+v+"::-webkit-slider-thumb",p)),f(ob,Am,f(Ib,'input[type="range"].'+v+"::-ms-thumb",p)),Sh(Cb(v+" focusable-parent")),Sh(Gm(function(n){var e=$o(n);return r.dp(1===e.$?0:e.a)})),Sh(Ym("range")),Sh((t=r.d_,e=1===t.$?"any":Ro(t.a),f(Mb,"step",e))),Sh(Pm(Ro(r.dj))),Sh(Dm(Ro(r.di))),Sh(Rm(Ro(r.ec))),i?Sh(f(jm,"orient","vertical")):Xh,Th(i?f(Dc,nv(20),u):f(Dc,Dh,a)),Ch(i?f(Dc,Dh,a):f(Dc,nv(20),u))]),gb(S)),f(kg,f(_e,Th(f(Dc,Dh,a)),f(_e,Ch(f(Dc,nv(20),u)),C(n,A([Uh(i?s(Qm,c,o,a):s(qm,c,o,u))])))),_g)])))}),r$=e(function(n,r){var t,a,u,i,c,o,l,d,h=s(Jp,n,A([pg("PWA")]),"PWA"),g=s(Jp,n,C(sv(n.gz)?S:A([f(Cg,s(zm,14,iv.bK,20),"Exportieren"),yg("Die Liste der bestellten Produkte kann exportiert werden. Es wird eine Datei 'geoTangle-Bestellungen.json' im Download-Ordner gespeichert."),jp]),A([f(Cg,s(zm,15,iv.bK,20),"Importieren"),yg("Eine zuvor exportierte JSON-Datei kann wieder in die Liste der Bestellungen geladen werden."),qp(n)])),"Bestellungen Import-Export"),v=function(n){return f(kg,S,ov(function(n){var r=function(n){return Fp(n)}(n);return 1===r.$?Vd("elmLogo"+r.a):r.a}(n)))},p=n.a_,m=s(Jp,n,A([f(cg,A([Eg({T:25,Z:5,af:5,ag:10})]),A([pg("Diese Applikation entstand als Freizeit-Projekt zum Erlernen der Programmiersprache 'elm'. Anregungen und Kommentare an "),f(Bv,A([hb(xg.aW),yv(A([Oh(Dp(p).Y)]))]),{u:pg("stephan@zinggeler.net"),bf:"mailto:stephan@zinggeler.net"})])),f(Cg,_g,"Services"),yg("- Open Government Data - Datenshop-Dienst"),f(Bv,A([hb(xg.aW)]),{u:f(kg,A([f(ng,15,0),yv(A([Oh(Dp(p).Y)]))]),pg("(Link zur Spezifikation der REST-Schnittstelle)")),bf:"https://are.zh.ch/internet/baudirektion/are/de/geoinformation/geodaten_uebersicht/Open_Data_Kanton_Zuerich/Datenshop-Dienst.html"}),f(Bv,A([hb(xg.aW),f(ng,5,5)]),{u:f(kg,A([yv(A([Oh(Dp(p).Y)]))]),pg("- Service für Metadaten zu einem Geolion-Datensatz")),bf:"https://geolion.zh.ch/api/getGeodatenmetaDocu"}),f(Cg,_g,"Programmiersprachen"),f(Bv,A([f(ng,15,5)]),{u:f(Ph,A([f(ng,0,10),ig(10)]),A([f(kg,A([Oh(xg.hX)]),v((128,'<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   width="'+Ge(128)+'px"\n   height="'+Ge(128)+'px"\n   viewBox="0 0 85.539261 85.539261"\n   version="1.1"\n   id="svg821"\n   inkscape:version="0.92.3 (2405546, 2018-03-11)"\n   sodipodi:docname="elmlogo2.svg">\n  <defs\n     id="defs815" />\n  <sodipodi:namedview\n     id="base"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageopacity="0.0"\n     inkscape:pageshadow="2"\n     inkscape:zoom="0.35"\n     inkscape:cx="-361.20818"\n     inkscape:cy="-149.77958"\n     inkscape:document-units="mm"\n     inkscape:current-layer="layer1"\n     showgrid="false"\n     inkscape:window-width="1920"\n     inkscape:window-height="1054"\n     inkscape:window-x="1600"\n     inkscape:window-y="0"\n     inkscape:window-maximized="1" />\n  <metadata\n     id="metadata818">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1"\n     transform="translate(-55.504188,-23.664892)">\n    <g\n       id="g1441"\n       transform="matrix(0.26458333,0,0,0.26458333,55.504188,23.664892)"\n       inkscape:export-xdpi="140.42999"\n       inkscape:export-ydpi="140.42999">\n  <polygon\n   id="polygon1427"\n   points="231.514,82.916 91.783,82.916 161.649,152.782 "\n   style="fill:#f0ad00" />\n\n\n  <polygon\n   id="polygon1429"\n   points="161.838,0 8.867,0 79.241,70.375 232.213,70.375 "\n   style="fill:#7fd13b" />\n   width="107.676"\n   height="108.167"/>\n\n  <rect\n   id="rect1431"\n   transform="matrix(0.7071,0.7071,-0.7071,0.7071,186.4727,-127.2386)"\n   y="107.392"\n   x="192.99001"\n   width="107.676"\n   height="108.167"\n   style="fill:#7fd13b" />\n\n  <polygon\n   id="polygon1433"\n   points="323.298,0 179.573,0 323.298,143.724 "\n   style="fill:#60b5cc" />\n\n\n  <polygon\n   id="polygon1435"\n   points="0,8.868 0,314.432 152.781,161.649 "\n   style="fill:#5a6378" />\n\n\n  <polygon\n   id="polygon1437"\n   points="323.298,314.432 323.298,178.879 255.522,246.655 "\n   style="fill:#f0ad00" />\n\n\n  <polygon\n   id="polygon1439"\n   points="8.869,323.298 314.43,323.298 161.649,170.517 "\n   style="fill:#60b5cc" />\n\n</g>\n  </g>\n</svg>\n'))),f(Lh,A([Yh,gg(16),hb(xg.aW),yv(A([Oh(Dp(p).Y)])),ig(15)]),A([f(Cg,_g,"elm - 0.19.1"),pg("(https://elm-lang.org)")]))])),bf:"https://elm-lang.org/"}),yg("- JavaScript"),f(Cg,_g,"Elm Packages"),yg("- Garados007/elm-svg-parser: 1.0.0"),yg("- NoRedInk/elm-json-decode-pipeline: 1.0.0"),yg("- avh4/elm-color: 1.0.0"),yg("- danmarcab/material-icons: 1.0.0"),yg("- elm/browser: 1.0.2"),yg("- elm/core: 1.0.4"),yg("- elm/file: 1.0.5"),yg("- elm/html: 1.0.0"),yg("- elm/http: 2.0.0"),yg("- elm/json: 1.1.3"),yg("- elm/parser: 1.1.0"),yg("- elm/regex: 1.0.0"),yg("- elm/svg: 1.0.1"),yg("- elm/time: 1.0.0"),yg("- elm-community/maybe-extra: 5.1.0"),yg("- elm-explorations/test: 1.2.2"),yg("- jinjor/elm-debounce: 3.0.0"),yg("- mdgriffith/elm-ui: 1.1.5"),yg("- perzanko/elm-loading: 2.0.4"),yg("- rtfeldman/elm-iso8601-date-strings: 1.1.3"),yg("- ymtszw/elm-xml-decode: 3.1.0"),yg("- Skinney/murmur3: 2.0.8"),yg("- andre-dietrich/parser-combinators: 3.2.0"),yg("- elm/bytes: 1.0.8"),yg("- elm/random: 1.0.0"),yg("- elm/url: 1.0.0"),yg("- elm/virtual-dom: 1.0.2"),yg("- jinjor/elm-xml-parser: 2.0.0"),yg("- pilatch/flip: 1.0.0"),yg("- rtfeldman/elm-css: 16.0.1"),yg("- rtfeldman/elm-hex: 1.0.0"),f(Cg,_g,"Frameworks"),f(Bv,A([f(ng,15,5)]),{u:f(Ph,A([f(ng,0,10),ig(10)]),A([f(kg,S,v(Ev(100))),f(kg,A([Yh,gg(16),yv(A([Oh(Dp(p).Y)]))]),pg("OpenLayers (openlayers.org)"))])),bf:"https://openlayers.org/"}),f(Cg,_g,"Tools"),f(cg,A([f(ng,5,5)]),A([f(Bv,A([yv(A([Oh(Dp(p).Y)]))]),{u:pg("- Parcel (parceljs.org)"),bf:"//parceljs.org"})])),f(cg,A([f(ng,5,5)]),A([f(Bv,A([yv(A([Oh(Dp(p).Y)]))]),{u:pg("- workbox"),bf:"//developers.google.com/web/tools/workbox/"})]))]),"Über diese Webapplikation"),$=(i=f(Lh,A([Eg({T:0,Z:30,af:0,ag:0})]),A([f(Ph,A([f(ng,0,15)]),A([f(Kg,qg(10),{u:f(kg,A([f(ng,30,0)]),pg("Warenkorb bereinigen")),bB:De(Zh)})])),yg(n.dZ)])),c=function(n){return n?0:1},a=2===(t=p.hi).$?t.a.gW:.4,u=2===t.$?t.a.fR:225,o=A([f(Lh,A([Th(Dh)]),A([f(Ph,A([Th(Dh),ig(30)]),A([f(kg,A([Th(nv(80))]),pg("Farbe")),f(n$,A([Ch(nv(30)),Th(nv(200)),Qg,Uh(f(kg,A([Th(Dh),Ch(nv(1)),Qg,Oh(Dp(p).bK),Yg(2)]),_g))]),{u:f(lv,S,pg("")),di:359,dj:0,dp:Kh,d_:Pe,d6:ev,ec:u})])),f(Ph,A([Th(Dh),ig(30)]),A([f(kg,A([Th(nv(80))]),pg("Sättigung")),f(n$,A([Ch(nv(30)),Th(nv(200)),Qg,Uh(f(kg,A([Th(Dh),Ch(nv(1)),Qg,Oh(Dp(p).bK),Yg(2)]),_g))]),{u:f(lv,S,pg("")),di:1,dj:0,dp:Wh,d_:Pe,d6:ev,ec:a})])),f(Ph,A([f(ng,0,15)]),A([f(Kg,qg(10),{u:f(kg,A([f(ng,30,0)]),pg("Farbe zurücksetzen")),bB:De(Vh)})]))]))]),l=n.fk.cZ,d=s(Xe,e(function(r,e){var t,a,u=r.a,i=r.b;return C(A([f(Ph,A([Ig((a=u,{$:48,a:a}))]),A([f(kg,A([f(ng,0,3)]),s(zm,c((t=u,!f(Ss,t,n.fM))),fv,24)),f(kg,A([f(ng,10,3),gg(16),hb(xg.K)]),pg(i.bz))]))]),e)}),S,Ee(l)),s(Jp,n,A([f(Lh,S,A([f(Cg,_g,"Angezeigte Datenformate"),f(Lh,A([Eg({T:10,Z:30,af:0,ag:10})]),d)])),f(Lh,S,A([f(Cg,_g,"Nicht ausgewählte Formate aus dem Warenkorb entfernen"),i])),f(Lh,S,A([f(Cg,_g,"Farbe festlegen"),f(Lh,A([Eg({T:10,Z:30,af:0,ag:10})]),o)])),f(Lh,S,A([f(Cg,_g,"Menü Darstellung"),f(Lh,A([Eg({T:20,Z:30,af:0,ag:10})]),A([f(Ph,A([Ig(Gh)]),A([f(kg,A([f(ng,0,3)]),s(zm,c(n.gb),fv,24)),f(kg,A([f(ng,10,3),gg(16),hb(xg.K)]),pg("Nur Icon ohne Text darstellen"))]))]))]))]),"Einstellungen"));switch(r){case 0:return function(n){var r,e=function(r){return f(Hl,r,n.e6)},t=n.a_;return s(Jp,n,A([b(_m,t,s(zm,9,iv.K,24),"Gewünschten Perimeter festlegen",De(0),e(0)),(r=e(0),r?f(Lh,A([ig(5)]),A([f(Ph,A([ig(40)]),A([pg(""),yg("Wählen Sie im Dropdown-Menü den gewünschten Perimetertyp."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("Zeichnen Sie auf der Karte einen Perimeter (Rechteck, Polygon oder Kartenausschnitt)."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("Benutzen Sie die Schaltflächen 'Zoomen', um eine bereits gezeichnete Fläche zu finden, oder 'Löschen', um eine neue Fläche zu zeichnen."),pg("")])),f(Ph,A([ig(40)]),A([pg(""),yg("Wählen Sie eine oder mehrere Gemeinden aus der Gemeindeliste oder benützen Sie die Parzellensuche zur Auswahl von Grundstücken."),pg("")]))])):_g),b(_m,t,s(zm,8,iv.K,24),"Produkt auswählen und Daten-Format festlegen",De(1),e(1)),Em(e(1)),b(_m,t,s(zm,11,iv.K,24),"Warenkorb kontrollieren und Bestellung abschicken",De(2),e(2)),Mm(e(2)),b(_m,t,s(zm,2,iv.K,24),"Status der Bestellung und Daten herunterladen",De(3),e(3)),Bm(e(3))]),"Anleitung")}(n);case 1:return $;case 3:return g;case 2:return h;default:return m}}),e$=function(n){return{$:4,a:n}},t$=function(n){return cd(A([n.c9?"box-inset":"box-",bb(n.b.a)+"px",bb(n.b.b)+"px",bb(n.aB)+"px",bb(n.g7)+"px",db(n.e2)]))},a$=fb(19),u$=e(function(n,r){return e={aB:2*r,e2:n,b:z(0,0),g7:r},f(ob,a$,s(Rd,t$(t={aB:e.aB,e2:e.e2,c9:!1,b:e.b,g7:e.g7}),"box-shadow",Db(t)));var e,t}),i$=e(function(n,r){return e={aB:2*r,e2:n,b:z(0,0),g7:r},f(ob,a$,s(Rd,t$(t={aB:e.aB,e2:e.e2,c9:!0,b:e.b,g7:e.g7}),"box-shadow",Db(t)));var e,t}),c$=function(n){return sv(n)},o$=e(function(n,r){return C(function(n){return A([Yg(32),Ug(1),Xg,Zg(Dp(n).hW),Oh(Dp(n).ej),Pg,f(ng,7,5),ig(5)])}(n),A([Ig(r)]))}),f$=function(n){return!Zd(n.eU)},s$=function(n){return!Zd(n.fB)},l$=function(n){return!Zd(n.gE)},b$=function(n){return!Zd(n.gN)},d$=function(n){return"box"===n.bF&&f$(n)||"polygon"===n.bF&&b$(n)||"extent"===n.bF&&Je(n.fq)>0||"gemeinden"===n.bF&&s$(n)||"parzellen"===n.bF&&l$(n)},h$=Mb("title"),g$=e(function(n,r){var e=r.bE,t=$(n.en,e),a=function(){switch(e.$){case 0:return!1;case 1:return d$(n.a4);case 2:return!c$(n.hP);case 3:return!c$(n.hP)&&d$(n.a4);default:return!1}}(),u=n.a_,i=A(t?a?[f(i$,Dp(u).aW,4),f(u$,Dp(u).aW,4)]:[f(u$,Dp(u).aW,4)]:a?[Vp(h$(r.a8)),Ig(e$(e)),Pg,f(i$,Dp(u).aW,4)]:[Vp(h$(r.a8)),Ig(e$(e)),Pg]);return n.fi.gC?f(kg,A([Th(Dh)]),f(Ph,C(i,C(f(o$,u,e$(r.bE)),A([Th(Dh)]))),A([ov(f(r.b1,iv.K,bg(3))),function(){switch(n.fi.bV){case 0:return _g;case 1:return n.gb?_g:f(kg,A([f(ng,5,0)]),pg(r.a8));case 2:default:return n.gb?_g:f(kg,A([f(ng,5,0)]),pg(r.bx))}}()]))):f(Ph,A([Ap,Ch(nv(53))]),A([f(Ph,C(i,f(o$,u,e$(r.bE))),A([ov(f(r.b1,iv.K,bg(3))),function(){switch(n.fi.bV){case 0:case 1:return _g;case 2:return n.gb?_g:f(kg,A([f(ng,5,0)]),pg(r.a8));default:return n.gb?_g:f(kg,A([f(ng,5,0)]),pg(r.bx))}}()])),function(){if($(e,Pi))return _g;switch(n.fi.bV){case 0:case 1:case 2:default:return f(kg,A([Gg(10)]),_g)}}()]))}),v$=a(function(n,r,e,t){return{b1:n,bx:t,bE:r,a8:e}}),p$=A([l(v$,gm,ha(0),"Anleitung","Anleitung anzeigen"),l(v$,$m,Wi,"Perimeter","Perimeter festlegen"),l(v$,mm,Zi,"Produkt","Produkt auswählen"),l(v$,km,Vi,"Warenkorb","Warenkorb prüfen"),l(v$,lm,Pi,"Bestellungen","Bestellungen anzeigen")]),m$=function(n){return n.fi.gC?function(n){return f(Lh,(r=n.a_,A([Th(Dh),Ch(Dh),ig(10),Gg(10),Oh(Dp(r).hW)])),f(Ut,g$(n),p$));var r}(n):function(n){return f(Ph,(r=n.a_,A([Th(Dh),Ch(nv(53)),Oh(Dp(r).hW)])),f(Ut,g$(n),p$));var r}(n)},$$=l(tv,245/255,121/255,0,1),w$=$$,x$=e(function(n,r){return A([Xg,Yg(7),Ug(1),Zg(n),f(ng,5,2),Ig(r),Zp,Pg,Qg])}),y$=e(function(n,r){return C(f(x$,n,r),A([f(ng,10,7),Ap,ig(10)]))}),k$=function(n){return{$:28,a:n}},z$=function(n){return{$:5,a:n}},_$=e(function(n,r){return{$:29,a:n,b:r}}),B$=f(og,fg,"w7"),E$={cG:"",e2:"#74b4c9",g7:30,dY:1},M$=f(im,"0 0 48 48",A([f(cm,A([nm("M12 38c0 2.21 1.79 4 4 4h16c2.21 0 4-1.79 4-4V14H12v24zM38 8h-7l-2-2H19l-2 2h-7v4h28V8z")]),S)])),C$=a(function(n,r,e,t){return l(tv,n,r,e,t)}),S$=function(n){var r=function(n){return l(C$,n.gS,n.fG,n.eL,n.eA)},e=n.hi;if(2===e.$){var t=e.a;return{Y:r(Op(t).Y),f9:r(Op(t).f9),bK:r(Op(t).bK),ej:r(Op(t).ej),K:r(Op(t).K),ek:r(Op(t).ek),aW:r(Op(t).aW),hW:r(Op(t).hW),hX:r(Op(t).hX)}}return{Y:r(Op(n.eF).Y),f9:r(Op(n.eF).f9),bK:r(Op(n.eF).bK),ej:r(Op(n.eF).ej),K:r(Op(n.eF).K),ek:r(Op(n.eF).ek),aW:r(Op(n.eF).aW),hW:r(Op(n.eF).hW),hX:r(Op(n.eF).hX)}},F$=e(function(n,r){return f(Kg,C(qg(10),A([Vp(h$("Bestellung löschen"))])),{u:ov(f(M$,S$(n).hX,24)),bB:De((e=r.gB,{$:26,a:e}))});var e}),j$=function(n){return n},A$=Tf,T$=Ws(Ks),L$=Of,I$=Df,O$=function(n){return Pf(bs(n))},H$=wf,D$=f(A$,function(n){if(Pt(n)>9)return O$("Expected at most 9 digits, but got "+Ge(Pt(n)));var r=$o("0."+n);return r.$?O$('Invalid float: "'+n+'"'):H$(lb(1e3*r.a))},I$(L$(ut))),P$=i(function(n,r,e,t,a,u){return Wu(n+60*r*60*1e3+60*(e-u)*1e3+1e3*t+a)}),K$=$f,W$=Wf,Z$=Qf,V$=function(n){return{$:1,a:n}},G$={$:11},N$=e(function(n,r){return function(e){var t=s(Lf,n,e.b,e.a);return $(t,-1)?f(lf,!1,f(kf,e,r)):$(t,-2)?s(bf,!0,0,{cH:1,a_:e.a_,g:e.g,b:e.b+1,dO:e.dO+1,a:e.a}):s(bf,!0,0,{cH:e.cH+1,a_:e.a_,g:e.g,b:t,dO:e.dO,a:e.a})}}),Y$=Jf,R$=function(n){return n.$?el(n.a):tl(n.a)},X$=e(function(n,r){return f(ul,n,function(n){return f(Y$,R$,r(n))})}),J$=function(n){return f(X$,"",function(r){if($(Pt(r),n)){var e=Vt(r);return e.$?O$('Invalid integer: "'+r+'"'):f(Y$,V$,H$(e.a))}return f(Y$,function(n){return{$:0,a:f(Jo,r,n)}},I$(f(N$,ut,G$)))})},U$=function(n){return Vf(f(xf,n,Zf(n)))},q$=function(n){return O$("Invalid day: "+Ge(n))},Q$=D,nw=function(n){return!(f(Q$,4,n)||!f(Q$,100,n)&&f(Q$,400,n))},rw=function(n){var r=n-1;return(r/4|0)-(r/100|0)+(r/400|0)},ew=function(n){var r=n.a,e=n.b,t=n.c;if(0>t)return q$(t);var a=function(n){var a=31536e6*(r-1970),u=864e5*((3>e||!nw(r)?t-1:t)+(rw(r)-rw(1970)));return H$(n+a+u)};switch(e){case 1:return t>31?q$(t):a(0);case 2:return t>29||29===t&&!nw(r)?q$(t):a(26784e5);case 3:return t>31?q$(t):a(50976e5);case 4:return t>30?q$(t):a(7776e6);case 5:return t>31?q$(t):a(10368e6);case 6:return t>30?q$(t):a(130464e5);case 7:return t>31?q$(t):a(156384e5);case 8:return t>31?q$(t):a(183168e5);case 9:return t>30?q$(t):a(209952e5);case 10:return t>31?q$(t):a(235872e5);case 11:return t>30?q$(t):a(262656e5);case 12:return t>31?q$(t):a(288576e5);default:return O$('Invalid month: "'+Ge(e)+'"')}},tw=f(A$,ew,f(W$,f(W$,f(W$,H$(t(function(n,r,e){return _(n,r,e)})),J$(4)),Z$(A([f(W$,f(K$,H$(Ht),U$("-")),J$(2)),J$(2)]))),Z$(A([f(W$,f(K$,H$(Ht),U$("-")),J$(2)),J$(2)])))),aw=(yp=t(function(n,r,e){return n*(60*r)+e}),f(W$,H$(Ht),Z$(A([f(Y$,function(){return 0},U$("Z")),f(W$,f(W$,f(W$,H$(yp),Z$(A([f(Y$,function(){return 1},U$("+")),f(Y$,function(){return-1},U$("-"))]))),J$(2)),Z$(A([f(W$,f(K$,H$(Ht),U$(":")),J$(2)),J$(2),H$(0)]))),f(K$,H$(0),T$)])))),uw=f(A$,function(n){return Z$(A([f(W$,f(W$,f(W$,f(W$,f(W$,f(K$,H$(P$(n)),U$("T")),J$(2)),Z$(A([f(W$,f(K$,H$(Ht),U$(":")),J$(2)),J$(2)]))),Z$(A([f(W$,f(K$,H$(Ht),U$(":")),J$(2)),J$(2)]))),Z$(A([f(W$,f(K$,H$(Ht),U$(".")),D$),H$(0)]))),f(K$,aw,T$)),f(K$,H$(d(P$,n,0,0,0,0,0)),T$)]))},tw),iw=t(function(n,r,e){return{cH:r,dy:e,dO:n}}),cw=function(n){return s(iw,n.dO,n.cH,n.dy)},ow=e(function(n,r){var e=f(ff,n,r);return e.$?Ae(f(Ut,cw,e.a)):Oe(e.a)}),fw=function(n){return f(ow,uw,n)},sw=e(function(n,r){var t=e(function(n,r){return 1e3*n*60*60*24+j$(r)}),a=fw(r.fv+"Z");return!a.$&&x(f(t,5,a.a),j$(n))>0}),lw=f(im,"0 0 48 48",A([f(cm,A([nm("M38.71 20.07C37.35 13.19 31.28 8 24 8c-5.78 0-10.79 3.28-13.3 8.07C4.69 16.72 0 21.81 0 28c0 6.63 5.37 12 12 12h26c5.52 0 10-4.48 10-10 0-5.28-4.11-9.56-9.29-9.93zM34 26L24 36 14 26h6v-8h8v8h6z")]),S)])),bw=e(function(n,r){var e=r.bf,t=r.fu,a=r.u;return l(Eh,2,ah("a"),f(_e,Sh(kv(e)),f(_e,Sh(f(Mb,"download",t)),f(_e,Th(jh),f(_e,Ch(jh),f(_e,Fh("ccx"),f(_e,Fh("ccy"),n)))))),gb(A([a])))}),dw=t(function(n,r,t){var a,u=e(function(n,r){return 1e3*n*60*60*24+j$(r)});return(a=fw(t.fv+"Z")).$?pg("TODO deadEndsToString"):x(f(u,5,a.a),j$(r))>0?f(bw,qg(10),{fu:"Bestellung-"+t.hj,u:ov(f(lw,S$(n).hX,24)),bf:dl(t.gB)+"/download"}):_g}),hw=f(im,"0 0 48 48",A([f(cm,A([nm("M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z")]),S)])),gw=Mb("id"),vw=function(n){return f(Lg,"focus",It(n))},pw=f(oi,Sh,vw),mw=function(n){return f(Lg,"blur",It(n))},$w=f(oi,Sh,mw),ww=f(im,"0 0 48 48",A([f(cm,A([nm("M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z")]),S)])),xw=e(function(n,r){return f(Kg,C(qg(10),A([Vp(h$("Bestellung neu laden"))])),{u:ov(f(ww,S$(n).hX,24)),bB:De((e=r,{$:25,a:e}))});var e}),yw=e(function(n,r){var e=n.b,t=n.c;return Zd(e)?r:s(ja,t,e,r)}),kw=function(n){return n.a},zw=e(function(n,r){return f(mr,n,_r(r))}),_w=e(function(n,r){var e=n.a,t=n.b,a=r.a,u=r.b;switch(t.$){case 4:return z(f(_e,z(e,h=t.a),a),u);case 0:var i=t.a,c=t.c,o=s(Xe,Bw,z(S,s(Xe,yw,u,m=t.b)),c),b=o.a,d=o.b,h=s(Zb,i,f(Ut,kw,m),ct(b));return z(f(_e,z(e,h),a),d);case 1:var g=t.a,v=(i=t.b,c=t.d,s(Xe,Bw,z(S,s(Xe,yw,u,m=t.c)),c));return b=v.a,d=v.b,h=l(Cv,g,i,f(Ut,kw,m),ct(b)),z(f(_e,z(e,h),a),d);case 2:i=t.a,c=t.c;var p=s(Xe,_w,z(S,s(Xe,yw,u,m=t.b)),c);return b=p.a,d=p.b,h=s(Ld,i,f(Ut,kw,m),ct(b)),z(f(_e,z(e,h),a),d);default:g=t.a,i=t.b,c=t.d;var m,$=s(Xe,_w,z(S,s(Xe,yw,u,m=t.c)),c);return b=$.a,d=$.b,h=l(zw,g,i,f(Ut,kw,m),ct(b)),z(f(_e,z(e,h),a),d)}}),Bw=e(function(n,r){var e=r.a,t=r.b;switch(n.$){case 4:return z(f(_e,b=n.a,e),t);case 0:var a=n.a,u=n.c,i=s(Xe,Bw,z(S,s(Xe,yw,t,v=n.b)),u),c=i.a,o=i.b,b=s(Zb,a,f(Ut,kw,v),ct(c));return z(f(_e,b,e),o);case 1:var d=n.a,h=(a=n.b,u=n.d,s(Xe,Bw,z(S,s(Xe,yw,t,v=n.c)),u));return c=h.a,o=h.b,b=l(Cv,d,a,f(Ut,kw,v),ct(c)),z(f(_e,b,e),o);case 2:a=n.a,u=n.c;var g=s(Xe,_w,z(S,s(Xe,yw,t,v=n.b)),u);return c=g.a,o=g.b,b=s(Ld,a,f(Ut,kw,v),ct(c)),z(f(_e,b,e),o);default:d=n.a,a=n.b,u=n.d;var v,p=s(Xe,_w,z(S,s(Xe,yw,t,v=n.c)),u);return c=p.a,o=p.b,b=l(zw,d,a,f(Ut,kw,v),ct(c)),z(f(_e,b,e),o)}}),Ew=e(function(n,r){return b(Ma,1,n,r,$a,$a)}),Mw=e(function(n,r){for(;;){if(!r.b)return n;var e=r.a,t=e.b,a=e.c,u=r.b;Zt(a)?(n=n,r=u):(n=De(z(a,t)),r=u)}}),Cw=function(n){var r=f(Mw,Pe,n);if(1===r.$)return wa;var e=r.a;return f(Ew,e.a,e.b)},Sw=function(n){return A([n])},Fw=e(function(n,r){return!f(jl,f(oi,mi,n),r)}),jw=e(function(n,r){var e=r.a,t=r.b;switch(n.$){case 0:return Zd(n.a.c)?z(e,t):z(e,f(_e,n,t));case 1:return z(e,f(Fw,function(n){return Zd(n.c)},n.b)?t:f(_e,n,t));case 2:return Zd(n.b)?z(e,t):z(e,f(_e,n,t));case 3:return z(e,f(_e,n,t));case 4:return Zd(n.b)?z(e,t):z(e,f(_e,n,t));case 5:return Zd(n.a)?z(e,t):z(e,f(_e,n,t));case 6:var a=n.a;return Zt(a.fd)?z(e,t):z(s(ja,a.bz,a.fd,e),t);case 7:case 8:return Zd(n.a)?z(e,t):z(e,f(_e,n,t));default:return z(e,f(Fw,function(n){return Zd(n.b)},n.a)?t:f(_e,n,t))}}),Aw=function(n){return{$:6,a:n}},Tw=e(function(n,r){return f(Yi,f(Ut,function(n){return Aw({fd:n.b,bz:n.a})},Ee(n)),r)}),Lw=function(n){return f(Dc,"",f(ys,function(n){return'@charset "'+n+'"'},n))},Iw=function(n){return"("+n.cW+f(Dc,"",f(ys,Ze(": "),n.ec))+")"},Ow=function(n){var r=t(function(n,r,e){return n+" "+f(Ne," and ",f(_e,function(n){switch(n){case 0:return"print";case 1:return"screen";default:return"speech"}}(r),f(Ut,Iw,e)))});switch(n.$){case 0:return f(Ne," and ",f(Ut,Iw,n.a));case 1:return s(r,"only",n.a,n.b);case 2:return s(r,"not",n.a,n.b);default:return n.a}},Hw=e(function(n,r){return'@import "'+n+Ow(r)+'"'}),Dw=function(n){var r=n.b;return f(Ne,"\n",f(Ut,Hw(n.a),r))},Pw=function(n){return"@namespace "+n.a+'"'+n.b+'"'},Kw=function(n){return C("    ",n)},Ww=function(n){return n+";"},Zw=function(n){return f(Ne,"\n",f(Ut,f(oi,Kw,Ww),n))},Vw=function(n){return"::"+n},Gw=function(n){switch(n){case 0:return"+";case 1:return"~";case 2:return">";default:return""}},Nw=function(n){switch(n.$){case 0:return"."+n.a;case 1:return"#"+n.a;case 2:return":"+n.a;default:return"["+n.a+"]"}},Yw=function(n){switch(n.$){case 0:return f(Ne,"",f(_e,n.a,f(Ut,Nw,r=n.b)));case 1:return Zd(r=n.a)?"*":f(Ne,"",f(Ut,Nw,r));default:var r;return f(Ne,"",f(_e,n.a,f(Ut,Nw,r=n.b)))}},Rw=function(n){var r=n.b;return f(Ne," ",A([Gw(n.a),Yw(r)]))},Xw=function(n){var r=n.b,e=n.c,t=f(_e,Yw(n.a),f(Ut,Rw,r)),a=f(Ne,"",A([f(Dc,"",f(ys,Vw,e))]));return f(Jo,f(Ne," ",f(Ha,f(oi,mi,Zt),t)),a)},Jw=e(function(n,r){var e=r.c;return f(Ne,"",A([f(Ne,", ",f(Ut,Xw,f(_e,r.a,r.b)))," {\n",n,Zw(e),"\n",n,"}"]))}),Uw=function(n){switch(n.$){case 0:return f(Jw,"",n.a);case 1:var r=n.b;return"@media "+f(Ne,",\n",f(Ut,Ow,n.a))+" {\n"+f(Ne,"\n\n",f(Ut,f(oi,Kw,Jw("    ")),r))+"\n}";case 2:case 3:case 4:case 5:return"TODO";case 6:return"@keyframes "+n.a.bz+" {\n"+n.a.fd+"\n}";case 7:case 8:default:return"TODO"}},qw=function(n){return{$:8,a:n}},Qw=function(n){return{$:5,a:n}},nx=e(function(n,r){return{$:4,a:n,b:r}}),rx=t(function(n,r,e){return{$:0,a:n,b:r,c:e}}),ex=t(function(n,r,e){return{$:0,a:n,b:r,c:e}}),tx=function(n){return{$:0,a:n}},ax=e(function(n,r){return{$:2,a:n,b:r}}),ux=function(n){return{$:7,a:n}},ix=e(function(n,r){return{$:1,a:n,b:r}}),cx=e(function(n,r){return r.b?r.b.b?f(_e,r.a,f(cx,n,r.b)):A([n(r.a)]):r}),ox=e(function(n,r){return s(ex,r.a,r.b,C(r.c,A([n])))}),fx=e(function(n,r){if(!r.b)return r;if(r.b.b)return f(_e,r.a,f(fx,n,r.b));switch(r.a.$){case 0:return A([tx(f(ox,n,r.a.a))]);case 1:var e=r.a,t=e.b;return A([f(ix,e.a,f(cx,ox(n),t))]);default:return r}}),sx=e(function(n,r){if(r.b.b){var e=r.a,t=r.b,a=(i=r.c,f(Ut,n,t)),u=n(e);return A([s(ex,e,t,i),s(ex,u,a,S)])}var i,c=r.a;return A([s(ex,c,S,i=r.c),s(ex,n(c),S,S)])}),lx=e(function(n,r){return s(rx,r.a,r.b,De(n))}),bx=e(function(n,r){return f(sx,lx(n),r)}),dx=e(function(n,r){return{$:2,a:n,b:r}}),hx=e(function(n,r){return{$:0,a:n,b:r}}),gx=function(n){return{$:1,a:n}},vx=e(function(n,r){switch(r.$){case 0:return f(hx,r.a,C(r.b,A([n])));case 1:return gx(C(r.a,A([n])));default:return f(dx,r.a,C(r.b,A([n])))}}),px=e(function(n,r){if(r.b){if(r.b.b)return f(_e,r.a,f(px,n,r.b));var e=r.a;return A([z(e.a,f(vx,n,e.b))])}return S}),mx=e(function(n,r){if(r.b.b)return e=r.c,s(rx,r.a,f(px,n,r.b),e);var e=r.c;return s(rx,f(vx,n,r.a),S,e)}),$x=e(function(n,r){return f(sx,mx(n),r)}),wx=function(n){n:for(;;){if(n.b){if(n.a.$){n=e=n.b;continue n}var r=n.a.a,e=n.b;return C(f(_e,r.a,r.b),wx(e))}return S}},xx=u(function(n,r,e,t,a){return{$:3,a:n,b:r,c:e,d:t,e:a}}),yx=e(function(n,r){n:for(;;){if(!r.b)return r;if(r.b.b)break n;switch(r.a.$){case 0:return f(Ut,tx,n(b=r.a.a));case 1:if(r.a.b.b){if(r.a.b.b.b){var e=r.a,t=e.b,a=t.a,u=f(yx,n,A([f(ix,e.a,t.b)]));if(u.b&&1===u.a.$&&!u.b.b){var i=u.a;return A([f(ix,i.a,f(_e,a,i.b))])}return u}var c=r.a;return A([f(ix,c.a,n(b=c.b.a))])}break n;case 2:var o=r.a;return A([f(ax,o.a,f(yx,n,o.b))]);case 3:var s=r.a,b=s.e;return f(Ut,l(xx,s.a,s.b,s.c,s.d),n(b));case 4:return r;case 5:case 6:case 7:case 8:default:return r}}return f(_e,a=r.a,f(yx,n,r.b))}),kx=a(function(n,r,e,t){return{aC:t,aI:e,au:r,aO:n}}),zx=e(function(n,r){return(65535&r)*n+(((r>>>16)*n&65535)<<16)}),_x=e(function(n,r){return r<<n|r>>>32-n}),Bx=R,Ex=e(function(n,r){return f(zx,5,f(_x,13,n^f(zx,461845907,f(_x,15,f(zx,3432918353,r)))))+3864292196}),Mx=e(function(n,r){var e=r.aI|(255&rt(n))<<r.aO;return 24===r.aO?{aC:r.aC+1,aI:0,au:f(Ex,r.au,e),aO:0}:{aC:r.aC+1,aI:e,au:r.au,aO:r.aO+8}}),Cx=e(function(n,r){return((u=f(zx,3266489909,(a=f(zx,2246822507,(t=((e=s(Bx,Mx,l(kx,0,n,0,0),r)).aI?e.au^f(zx,461845907,f(_x,15,f(zx,3432918353,e.aI))):e.au)^e.aC)^t>>>16))^a>>>13))^u>>>16)>>>0;var e,t,a,u}),Sx=function(n){n:for(;;)switch(n){case 0:return"0";case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"8";case 9:return"9";case 10:return"a";case 11:return"b";case 12:return"c";case 13:return"d";case 14:return"e";case 15:return"f";default:n=n;continue n}},Fx=e(function(n,r){for(;;){if(16>r)return f(_e,Sx(r),n);n=f(_e,Sx(f(Q$,16,r)),n),r=r/16|0}}),jx=function(n){return qv(0>n?f(_e,"-",f(Fx,S,-n)):f(Fx,S,n))},Ax=function(n){n:for(;;){if(n.b){if(n.b.b){n=n.b;continue n}return De(A([n.a]))}return Pe}},Tx=function(n){var r,e=function(n){return n.b?f(_e,n.a,e(n.b)):S};return A([(r=e(n),{$:9,a:r})])},Lx=e(function(n,r){return r.$?r:f(ix,n,A([r.a]))}),Ix=t(function(n,r,e){n:for(;;){if(n>0){if(r.b){var t=r.a;n-=1,r=r.b,e=f(_e,t,e);continue n}return e}return e}}),Ox=e(function(n,r){return ct(s(Ix,n,r,S))}),Hx=t(function(n,r,e){if(r>0){var t=z(r,e);n:for(;;){r:for(;;){if(!t.b.b)return e;if(!t.b.b.b){if(1===t.a)break n;break r}switch(t.a){case 1:break n;case 2:var a=t.b;return A([a.a,a.b.a]);case 3:if(t.b.b.b.b){var u=t.b,i=u.b;return A([u.a,i.a,i.b.a])}break r;default:if(t.b.b.b.b&&t.b.b.b.b.b){var c=t.b,o=c.b,l=o.b,b=l.b,d=b.b;return f(_e,c.a,f(_e,o.a,f(_e,l.a,f(_e,b.a,n>1e3?f(Ox,r-4,d):s(Hx,n+1,r-4,d)))))}break r}}return e}return A([t.b.a])}return S}),Dx=e(function(n,r){return s(Hx,0,n,r)}),Px=u(function(n,r,e,t,a){return a.$?a:b(xx,n,r,e,t,a.a)}),Kx=e(function(n,r){switch(r.$){case 0:return f(ix,n,A([r.a]));case 1:var e=r.b;return f(ix,C(n,r.a),e);case 2:var t=r.b;return f(ax,r.a,f(Ut,Kx(n),t));case 3:return b(xx,r.a,r.b,r.c,r.d,r.e);case 4:case 5:case 6:case 7:case 8:default:return r}}),Wx=function(n){return n},Zx=a(function(n,r,e,t){var a=function(n){return f(Dc,S,$s(n))},u=f(Vx,r,f(Dc,S,Ax(t))),i=function(){var n=z(Sl(u),function(n){n:for(;;){if(n.b){if(n.b.b){n=n.b;continue n}return De(n.a)}return Pe}}(t));if(n.a.$||n.b.$)return t;var r=n.a.a,e=n.b.a;return C(f(Dx,Je(t)-1,t),A([$(e,r)?e:r]))}();return C(i,C(a(f(Dc,S,f(ys,function(r){return vo(f(cx,Vx(n),f(Ut,Sw,f(yx,e,r))))},Ax(t)))),a(u)))}),Vx=e(function(n,r){if(!n.b)return r;switch(n.a.$){case 0:return f(Vx,c=n.b,f(fx,n.a.a,r));case 1:var t=n.a;return l(Zx,m=t.b,c=n.b,$x(t.a),r);case 2:var a=n.a,u=a.a,i=a.b,c=n.b,o=e(function(n,r){var e=n.c,t=r.b,a=r.c;return s(rx,n.a,C(n.b,f(_e,z(u,r.a),t)),function(n){n:for(;;){if(n.b){var r=n.a;if(1===r.$){n=n.b;continue n}return r}return Pe}}(A([a,e])))}),b=function(n){switch(n.$){case 0:var e=n.a,t=e.a,a=e.b,u=e.c,i=f(Oo,function(n){return f(Ut,o(n),f(_e,t,a))},wx(r)),c=i.b?A([tx(s(ex,i.a,i.b,S))]):S;return f(Vx,u,c);case 1:return f(Yx,n.a,n.b);case 2:return f(Rx,n.a,n.b);case 3:var b=n.e;return f(Ut,l(Px,n.a,n.b,n.c,n.d),Gx(b));case 4:return A([f(nx,n.a,n.b)]);case 5:return A([Qw(n.a)]);case 6:return A([ux(n.a)]);case 7:return A([qw(n.a)]);default:return Tx(n.a)}};return vo(C(A([f(Vx,c,r)]),f(Ut,b,f(Oo,Wx,i))));case 3:var d=n.a;return l(Zx,m=d.b,c=n.b,bx(d.a),r);case 5:var h=n.a.a,g=(c=n.b,function(n){return f(Uo,"_",jx(f(Cx,15739,n)))}(h));return f(Yi,f(Vx,c,f(fx,"animation-name:"+g,r)),A([Aw({fd:h,bz:g})]));case 4:var v=n.a,p=v.a,m=v.b,$=(c=n.b,function(){var n=wx(r);if(n.b){var e=n.a,t=n.b;return f(Ut,Lx(p),f(Vx,m,Sw(tx(s(ex,e,t,S)))))}return S}());return C(f(Vx,c,r),$);default:return f(Vx,C(n.a.a,c=n.b),r)}}),Gx=function(n){return f(Vx,n.c,A([tx(s(ex,n.a,n.b,S))]))},Nx=function(n){if(n.b){var r=n.b;return C(Xx(n.a),Nx(r))}return S},Yx=e(function(n,r){return f(Oo,function(r){return f(Ut,Kx(n),Gx(r))},r)}),Rx=e(function(n,r){var e=Nx(f(Oo,Wx,r));return A([f(ax,n,e)])}),Xx=function(n){switch(n.$){case 0:return Gx(r=n.a);case 1:return f(Yx,n.a,n.b);case 2:return f(Rx,n.a,n.b);case 3:var r=n.e;return f(Ut,l(Px,n.a,n.b,n.c,n.d),Gx(r));case 4:return A([f(nx,n.a,n.b)]);case 5:return A([Qw(n.a)]);case 6:return A([ux(n.a)]);case 7:return A([qw(n.a)]);default:return Tx(n.a)}},Jx=function(n){return function(n){var r=n.cE,e=n.c5,t=n.dl,a=n.fe;return f(Ne,"\n\n",f(Ha,f(oi,mi,Zt),A([Lw(r),f(Ne,"\n",f(Ut,Dw,e)),f(Ne,"\n",f(Ut,Pw,t)),f(Ne,"\n\n",f(Ut,Uw,a))])))}(function(n){var r=n.cE,e=n.c5,t=n.dl,a=n.fe,u=s(Jt,jw,z(wa,S),a);return{cE:r,fe:f(Tw,u.a,u.b),c5:e,dl:t}}((e=(r=n).c5,t=r.dl,{cE:r.cE,fe:Nx(f(Oo,Wx,r.dU)),c5:e,dl:t})));var r,e,t},Ux=function(n){return f(Ne,"\n\n",f(Ut,Jx,n))},qx=t(function(n,r,e){return{$:0,a:n,b:r,c:e}}),Qx=e(function(n,r){var e;return A([(e=s(qx,s(rx,r,S,Pe),S,n),{$:0,a:e})])}),ny=function(n){var r;return f(Qx,n.b,gx(A([(r=n.a,{$:0,a:r})])))},ry=function(n){return{cE:Pe,c5:S,dl:S,dU:n}},ey=function(n){return s(Zb,"style",S,Sw(ld(Ux(Sw(ry(f(Ut,ny,Ee(n))))))))},ty=t(function(n,r,e){var t=f(Ut,kw,r),a=Cw(r),u=s(Xe,Bw,z(S,a),e),i=u.a,c=ey(u.b);return s(Zb,n,t,f(_e,c,ct(i)))}),ay=e(function(n,r){for(;;){if(!r.b)return!1;var e=r.b;if($(n,r.a.a))return!0;n=n,r=e}}),uy=e(function(n,r){n:for(;;){if(r.b){var e=r.b,t="_"+r.a.a;if(f(ay,t,e)){n=t,r=e;continue n}return t}return n}}),iy=e(function(n,r){return z(f(uy,"_",r),ey(n))}),cy=t(function(n,r,e){var t=f(Ut,kw,r),a=Cw(r),u=s(Xe,_w,z(S,a),e),i=u.a;return s(Ld,n,t,f(_e,f(iy,u.b,i),ct(i)))}),oy=a(function(n,r,e,t){var a=f(Ut,kw,e),u=Cw(e),i=s(Xe,_w,z(S,u),t),c=i.a;return l(zw,n,r,a,f(_e,f(iy,i.b,c),ct(c)))}),fy=a(function(n,r,e,t){var a=f(Ut,kw,e),u=Cw(e),i=s(Xe,Bw,z(S,u),t),c=i.a,o=ey(i.b);return l(Cv,n,r,a,f(_e,o,ct(c)))}),sy=function(n){switch(n.$){case 4:return n.a;case 0:return s(ty,n.a,n.b,n.c);case 1:return l(fy,n.a,n.b,n.c,n.d);case 2:return s(cy,n.a,n.b,n.c);default:return l(oy,n.a,n.b,n.c,n.d)}},ly=function(n){return{$:0,a:n}},by=e(function(n,r){return ly(n+":"+r)}),dy=t(function(n,r,e){n:for(;;)switch(e.$){case 0:var t=f(Dc,"",Sl(f(Ye,":",e.a)));return f(by,r,t);case 1:return f(by,r,"elm-css-error-cannot-apply-"+n+"-with-inapplicable-Style-for-selector");case 2:return f(by,r,"elm-css-error-cannot-apply-"+n+"-with-inapplicable-Style-for-combinator");case 3:return f(by,r,"elm-css-error-cannot-apply-"+n+"-with-inapplicable-Style-for-pseudo-element setter");case 4:return f(by,r,"elm-css-error-cannot-apply-"+n+"-with-inapplicable-Style-for-media-query");case 5:return f(by,r,"elm-css-error-cannot-apply-"+n+"-with-inapplicable-Style-for-keyframes");default:if(e.a.b){if(e.a.b.b){n=n,r=r,e={$:6,a:e.a.b};continue n}n=n,r=r,e=e.a.a;continue n}return f(by,r,"elm-css-error-cannot-apply-"+n+"-with-empty-Style")}}),hy=t(function(n,r,e){return{cl:0,cA:0,aF:0,t:0,a2:0,aJ:0,_:0,aK:0,aL:0,am:0,an:0,O:0,ab:e,aR:0,aT:r,be:n,ec:C(Ro(e),r)}}),gy=s(hy,0,"",0),vy=function(n){return s(dy,"alignItems","align-items",n(gy))},py=e(function(n,r){return ly(n+":"+r)}),my=e(function(n,r){return f(py,n,r.ec)}),$y=function(n){return"none"===n.ec||"inherit"===n.ec||"unset"===n.ec||"initial"===n.ec?f(my,"animation-name",n):{$:5,a:n.ec}},wy={ex:0,c:0,aF:0,bv:0,f4:0,aJ:0,_:0,O:0,aN:0,I:0,bN:0,aS:0,D:0,ec:"auto"},xy=function(n){return f(py,"background-color",n.ec)},yy=my("border-radius"),ky=t(function(n,r,e){return{$:0,a:n,b:r,c:e}}),zy=e(function(n,r){return s(ky,f(Vb,n,r),S,"")}),_y=e(function(n,r){return f(zy,n,Ec(r))})("className"),By=function(n){var r=function(n){return Zd(n)?"unstyled":f(Uo,"_",jx(f(Cx,15739,Ux(Sw(ry(Sw(f(Qx,n,gx(S)))))))))}(n),e=f(Vb,"className",Ec(r));return s(ky,e,n,r)},Ey=t(function(n,r,e){return{$:0,a:n,b:r,c:e}})("div"),My=my("flex-end"),Cy=my("height"),Sy=function(n){return f(Gt,"#",n)?n:f(Uo,"#",n)},Fy=function(n){return{eA:1,eL:0,e2:0,fG:0,gS:0,ec:Sy(n)}},jy=function(n){return n.toLowerCase()},Ay=u(function(n,r,e,t,a){var u=r.a,i=r.b,c=e.a,o=e.b,s=t.a,l=t.b,b=a.a,d=a.b,h=f(fu,qv,f(fu,jy,xs)),g=z(z(h(A([u,i])),h(A([c,o]))),z(h(A([s,l])),h(A([b,d]))));if(g.a.a.$||g.a.b.$||g.b.a.$||g.b.b.$)return Fy(n);var v=g.a,p=g.b;return{eA:p.b.a/255,eL:p.a.a,e2:0,fG:v.b.a,gS:v.a.a,ec:Sy(n)}}),Ty=function(n){var r=ws(f(Gt,"#",n)?f(Wt,1,n):n);n:for(;;){if(r.b&&r.b.b&&r.b.b.b){if(r.b.b.b.b){if(r.b.b.b.b.b){if(r.b.b.b.b.b.b){if(r.b.b.b.b.b.b.b){if(r.b.b.b.b.b.b.b.b&&!r.b.b.b.b.b.b.b.b.b){var e=r.b,t=e.b,a=(h=t.a,t.b),u=(v=a.a,a.b),i=(m=u.a,u.b),c=($=i.a,i.b),o=c.a,s=c.b.a;return b(Ay,n,z(r.a,e.a),z(h,v),z(m,$),z(o,s))}break n}var l=r.b,d=l.b,h=d.a,g=d.b,v=g.a,p=g.b,m=p.a,$=p.b.a;return b(Ay,n,z(r.a,l.a),z(h,v),z(m,$),z("f","f"))}break n}var w=r.b,x=(B=w.a,w.b),y=(E=x.a,x.b.a);return b(Ay,n,z(k=r.a,k),z(B,B),z(E,E),z(y,y))}var k,_=r.b,B=_.a,E=_.b.a;return b(Ay,n,z(k=r.a,k),z(B,B),z(E,E),z("f","f"))}break n}return Fy(n)},Ly=function(n){return s(dy,"justifyContent","justify-content",n(gy))},Iy=function(n){var r=n.a,e=f(Ne,"",f(Ut,function(n){return n+";"},n.b));return Ge(r)+"% {"+e+"}"},Oy=function(n){return f(Ne,"\n\n",f(Ut,Iy,n))},Hy=function(n){return Zd(n)?{b3:0,b7:0,ec:"none"}:{b3:0,b7:0,ec:Oy(n)}},Dy=t(function(n,r,e){return f(py,n,f(Ne," ",A([r.ec,e.ec])))})("margin"),Py=my("position"),Ky=e(function(n,r){return n+":"+r}),Wy=f(hy,0,"px"),Zy={ad:0,ec:"relative"},Vy=my("space-between"),Gy=my("width"),Ny={k:0,ec:"block"},Yy=my("center"),Ry=my("display"),Xy=f(hy,0,"%"),Jy={ad:0,ec:"absolute"},Uy=my("left"),qy=function(n){return{an:0,O:0,gp:0,bA:0,ab:n,aT:"",be:0,ec:Ro(n)}},Qy=my("opacity"),nk=my("top"),rk=e(function(n,r){return{$:3,a:n,b:r}}),ek=function(n){return rk(n)},tk=ek("after"),ak=ek("before"),uk=a(function(n,r,e,t){return f(py,n,f(Ne," ",A([r.ec,e.ec,t.ec])))})("border"),ik=function(n){return"opacity:"+n.ec},ck={x:0,av:0,ec:"solid"},ok=t(function(n,r,e){var t=function(){switch(n){case 0:return sy(function(n){var r=A([Gy(Wy(n.g7)),Cy(Wy(n.g7)),Py(Zy),f(Dy,Wy(0),wy)]),e=A([Gy(Xy(100)),Cy(Xy(100)),yy(Xy(50)),xy(Ty(n.e2)),Qy(qy(.6)),Py(Jy),nk(Wy(0)),Uy(Wy(0)),$y(Hy(A([z(0,A([f(Ky,"transform","scale(0.0)")])),z(50,A([f(Ky,"transform","scale(1.0)")])),z(100,A([f(Ky,"transform","scale(0.0)")]))]))),f(py,"animation-duration",Ro(2/n.dY)+"s"),f(py,"animation-timing-function","ease-in-out"),f(py,"animation-iteration-count","infinite")]);return f(Ey,A([By(r),_y(n.cG)]),A([f(Ey,A([By(e)]),S),f(Ey,A([By(vo(A([e,A([f(py,"animation-delay","-"+Ro(1/n.dY)+"s")])])))]),S)]))}(r));case 1:return sy(function(n){var r=A([Gy(Wy(n.g7)),Cy(Wy(n.g7)),Py(Zy),f(Dy,Wy(0),wy)]),e=f(Qe,1,12);return A([Gy(Xy(100)),Cy(Xy(100))]),f(Ey,A([By(r),_y(n.cG)]),A([f(Ey,A([By(S)]),f(Ut,function(r){return f(Ey,A([By(A([Gy(Xy(100)),Cy(Xy(100)),Py(Jy),Uy(Wy(0)),nk(Wy(0)),f(py,"transform","rotate("+Ge(30*r-30)+"deg)"),ak(A([f(py,"animation-delay",(A([Gy(Xy(100)),Cy(Xy(100))]),function(r){return 1===r?"0s":Ro(-(1.1-r/10)/n.dY)+"s"})(r)),f(py,"content","' '"),Ry(Ny),f(Dy,Wy(0),wy),Gy(Xy(15)),Cy(Xy(15)),xy(Ty(n.e2)),yy(Xy(100)),f(py,"animation-duration",Ro(1.2/n.dY)+"s"),f(py,"animation-iteration-count","infinite"),f(py,"animation-fill-mode","both"),$y(Hy(A([z(0,A([f(Ky,"transform","scale(0.0)")])),z(40,A([f(Ky,"transform","scale(1.0)")])),z(80,A([f(Ky,"transform","scale(0.0)")])),z(100,A([f(Ky,"transform","scale(0.0)")]))])))]))]))]),S)},e))]))}(r));case 2:return sy(function(n){var r=function(r){return Ro(r/n.dY)},e=A([Gy(Wy(n.g7)),Cy(Wy(n.g7)),Py(Zy),f(Dy,Wy(0),wy),f(py,"display","flex"),Ly(Vy),vy(Yy)]),t=A([Ry(Ny),Gy(Wy(n.g7/3.5)),Cy(Wy(n.g7/3.5)),yy(Xy(100)),xy(Ty(n.e2)),f(py,"animation-duration",r(.6)+"s"),f(py,"animation-delay",r(.1)+"s"),f(py,"animation-timing-function","linear"),f(py,"animation-iteration-count","infinite"),$y(Hy(A([z(0,A([f(Ky,"transform","translate3d(0,0,0) translateZ(0) translate(0,0)")])),z(50,A([f(Ky,"transform","translate3d(0,0,0) translateZ(0) translate(0,"+Ro(n.g7/3.5)+"px)")])),z(100,A([f(Ky,"transform","translate3d(0,0,0) translateZ(0) translate(0,0)")]))])))]);return f(Ey,A([By(e),_y(n.cG)]),A([f(Ey,A([By(C(t,A([f(py,"animation-delay",r(.1)+"s")])))]),S),f(Ey,A([By(C(t,A([f(py,"animation-delay",r(.2)+"s")])))]),S),f(Ey,A([By(C(t,A([f(py,"animation-delay",r(.3)+"s")])))]),S)]))}(r));case 3:return sy(function(n){var r=function(r){return Ro(r/n.dY)},e=A([Gy(Wy(n.g7)),Cy(Wy(n.g7)),Py(Zy),f(Dy,Wy(0),wy),f(py,"display","flex"),Ly(Vy),vy(My)]),t=A([Gy(Wy(n.g7/3.5)),Cy(Wy(n.g7/3.5)),yy(Wy(5)),xy(Ty(n.e2)),f(py,"animation-duration",r(1.5)+"s"),f(py,"animation-iteration-count","infinite"),f(py,"animation-timing-function","ease-in-out"),$y(Hy(A([z(0,A([f(Ky,"height",Ro(n.g7/3.5)+"px"),f(Ky,"transform","translate3d(0,0,0)")])),z(50,A([f(Ky,"height",Ro(n.g7)+"px"),f(Ky,"transform","translate3d(0,0,0)")])),z(100,A([f(Ky,"height",Ro(n.g7/3.5)+"px"),f(Ky,"transform","translate3d(0,0,0)")]))])))]);return f(Ey,A([By(e),_y(n.cG)]),A([f(Ey,A([By(C(t,A([f(py,"animation-delay",r(1)+"s")])))]),S),f(Ey,A([By(C(t,A([f(py,"animation-delay",r(.5)+"s")])))]),S),f(Ey,A([By(C(t,A([f(py,"animation-delay",r(1e-7)+"s")])))]),S)]))}(r));case 4:return sy(function(n){var r=A([Gy(Wy(n.g7)),Cy(Wy(.95*n.g7)),Py(Zy),f(Dy,Wy(0),wy)]),e=A([Gy(Wy(n.g7-.17*n.g7*2)),Cy(Wy(n.g7-.17*n.g7*2)),yy(Xy(50)),Py(Jy),nk(Wy(0)),Uy(Wy(0)),f(py,"animation-duration",(1.33,Ro(1.33/n.dY)+"s")),f(py,"animation-timing-function","cubic-bezier(.51,.92,.24,1.15)"),f(py,"animation-iteration-count","infinite"),$y(Hy(A([z(0,A([f(Ky,"transform","translate3d(0,0,0) rotate(0deg)")])),z(100,A([f(Ky,"transform","translate3d(0,0,0) rotate(720deg)")]))])))]);return f(Ey,A([By(r),_y(n.cG)]),A([f(Ey,A([By(vo(A([e,A([f(py,"border",Ro(.17*n.g7)+"px "+n.e2+" solid"),Qy(qy(.25))])])))]),S),f(Ey,A([By(vo(A([e,A([f(py,"border",Ro(.17*n.g7)+"px transparent solid"),f(py,"border-top",Ro(.17*n.g7)+"px "+n.e2+" solid"),Qy(qy(.8))])])))]),S)]))}(r));default:return sy(function(n){var r=A([Gy(Wy(n.g7)),Cy(Wy(n.g7)),Py(Zy),f(Dy,Wy(0),wy),ak(A([f(py,"content","' '"),Py(Jy),yy(Xy(50)),Gy(Wy(n.g7/3)),Cy(Wy(n.g7/3)),f(py,"top","calc(50% - "+Ro(n.g7/6)+"px)"),f(py,"left","calc(50% - "+Ro(n.g7/6)+"px)"),xy(Ty(n.e2)),f(py,"animation-duration",Ro(3/n.dY)+"s"),f(py,"animation-timing-funtion","linear"),f(py,"animation-iteration-count","infinite"),$y(Hy(A([z(0,A([ik(qy(1))])),z(15,A([ik(qy(1)),f(Ky,"transform","scale(0.5)")])),z(60,A([f(Ky,"transform","scale(4)"),ik(qy(0))])),z(90,A([ik(qy(0)),f(Ky,"transform","scale(3)")])),z(95,A([ik(qy(1))])),z(100,A([ik(qy(1)),f(Ky,"transform","scale(1)")]))])))])),tk(A([f(py,"content","' '"),Py(Jy),yy(Xy(50)),Gy(Wy(n.g7/3)),Cy(Wy(n.g7/3)),f(py,"top","calc(50% - "+Ro(n.g7/6)+"px)"),f(py,"left","calc(50% - "+Ro(n.g7/6)+"px)"),s(uk,Wy(1),ck,Ty(n.e2)),Qy(qy(0)),f(py,"animation-duration",Ro(3/n.dY)+"s"),f(py,"animation-timing-funtion","linear"),f(py,"animation-iteration-count","infinite"),$y(Hy(A([z(0,A([ik(qy(0)),f(Ky,"transform","scale(1)")])),z(30,A([ik(qy(0)),f(Ky,"transform","scale(1)")])),z(60,A([ik(qy(.3))])),z(90,A([f(Ky,"transform","scale(3)")])),z(100,A([ik(qy(0))]))])))]))]);return f(Ey,A([By(r),_y(n.cG)]),S)}(r))}}();return e?Vd(" "):f(Sb,A([Cb("loading")]),A([t]))}),fk=function(n){return{$:0,a:n}},sk={$:1},lk=f(oi,Sh,jm("autocomplete")),bk=fb(26),dk=function(n){var r,t=s(Jt,e(function(n,r){return 4===n.$&&5===n.b.$&&1===r.$?De(n.b.c):r}),Pe,n);return 1===t.$?Xh:(r=yt(t.a/2),f(gv,bk,{$:1,a:-r}))},hk=f(og,Rp,"cp"),gk=s(rv,186/255,189/255,182/255),vk=f(ng,12,12),pk=s(rv,1,1,1),mk=A([vk,Yg(3),Zg(gk),Oh(pk),Ug(1),ig(5),Th(Dh),Ch(jh)]),$k=function(n){return 8===n.$?De(n.a):Pe},wk=function(n){n:for(;;)switch(n.$){case 1:return!1;case 0:case 2:return!0;case 3:n=n.b;continue n;default:return!0}},xk=function(n){n:for(;;)switch(n.$){case 2:return!0;case 1:case 0:return!1;case 3:default:n=n.b;continue n}},yk=a(function(n,r,e,t){switch(e.$){case 9:return E(t,{f:f(_e,e,t.f)});case 7:return xk(e.a)?E(t,{j:f(_e,e,t.j),B:f(_e,e,t.B),f:f(_e,e,t.f)}):E(t,r?{j:f(_e,e,t.j)}:{f:f(_e,e,t.f)});case 8:var a=e.a;return r?xk(a)?E(t,{j:f(_e,e,t.j),f:f(_e,e,t.f)}):(function(n){n:for(;;)switch(n.$){case 1:return!1;case 0:return!0;case 2:return!1;case 3:default:n=n.b;continue n}}(a),E(t,{f:f(_e,e,t.f)})):E(t,{j:f(_e,e,t.j),f:f(_e,e,t.f)});case 6:case 5:return E(t,{j:f(_e,e,t.j)});case 4:switch(e.b.$){case 5:return E(t,{j:f(_e,e,t.j),B:f(_e,e,t.B),f:f(_e,e,t.f),aV:f(_e,e,t.aV)});case 7:var u=e.b,i=u.b,c=u.c,o=u.d,s=u.e;if(n)return E(t,{y:f(_e,e,t.y),f:f(_e,e,t.f)});var l=Eg({T:o-f(pa,i,o),Z:s,af:c,ag:i-f(pa,i,o)}),b=Vp(f(Np,"line-height","calc(1.0em + "+Ge(2*f(pa,i,o))+"px)")),d=Vp(f(Np,"height","calc(1.0em + "+Ge(2*f(pa,i,o))+"px)"));return E(t,{y:f(_e,e,t.y),B:f(_e,d,f(_e,b,t.B)),f:f(_e,l,t.f)});case 6:case 10:return E(t,{y:f(_e,e,t.y),f:f(_e,e,t.f)});case 2:case 1:return E(t,{j:f(_e,e,t.j)});default:return E(t,{f:f(_e,e,t.f)})}case 0:return t;case 1:case 2:return E(t,{B:f(_e,e,t.B)});case 3:return E(t,{f:f(_e,e,t.f)});default:return E(t,{B:f(_e,e,t.B)})}}),kk=t(function(n,r,e){return{y:ct((t=s(Xe,f(yk,n,r),{y:S,j:S,B:S,f:S,aV:S},e)).y),j:ct(t.j),B:ct(t.B),f:ct(t.f),aV:ct(t.aV)};var t}),zk=e(function(n,r){return{$:12,a:n,b:r}}),_k=fb(0),Bk=s(rv,136/255,138/255,133/255),Ek=t(function(n,r,e){var t,a,u=n.a,i=n.b;return f(kg,C(r,C(A([hb(Bk),Fh("notxt ppe"),hk,Zg(l(Hp,0,0,0,0)),Oh(l(Hp,0,0,0,0)),Ch(Dh),Th(Dh),(t=e?1:0,a=1-f(pa,1,f(zt,0,t)),f(ob,_k,f(zk,"transparency-"+bb(a),a)))]),u)),i)}),Mk=pr("span"),Ck=Fg("spellcheck"),Sk=f(oi,Sh,Ck),Fk=f(oi,Sh,Rm),jk=t(function(n,r,e){var t,a,u,i,c,o,b,d,h=C(mk,r),g=s(kk,$(n.ch,sk),function(n){if(n.$)return!0;switch(n.a){case 0:case 1:return!1;case 2:default:return!0}}(e.u),h),v=!!n.ch.$&&f(Dc,!1,f(ys,wk,Sl(ct(f(Bu,$k,h))))),p=f(Dc,{T:0,Z:0,af:0,ag:0},Sl(ct(f(Bu,function(n){if(4===n.$&&7===n.b.$){var r=n.b,e=r.b,t=r.c,a=r.e;return De({T:f(zt,0,yt(r.d-3)),Z:f(zt,0,yt(a-3)),af:f(zt,0,yt(t-3)),ag:f(zt,0,yt(e-3))})}return Pe},h)))),m=l(Eh,2,ah(n.ch.$?"textarea":"input"),C(A((o=n.ch).$?[hk,Ch(Dh),Fh("iml"),dk(h),Eg(p),Sh(f(Np,"margin",(c=p,t={T:-c.T,Z:-c.Z,af:-c.af,ag:-c.ag},a=t.af,u=t.T,i=t.Z,Ge(t.ag)+"px "+Ge(a)+"px "+Ge(u)+"px "+Ge(i)+"px"))),Sh(f(Np,"box-sizing","content-box"))]:[Sh(Ym(o.a)),Fh("it")]),C(A([Fk(e.ho),Sh(Gm(e.dp)),Om(e.u),Sk(n.J),f(Dc,Xh,f(ys,lk,n.F))]),g.B)),gb(S)),w=1===n.ch.$?l(Eh,2,vb,C((v?_e(Xp):Ht)(A([Th(Dh),f(jl,Ag,h)?Xh:Fh("focus-within"),Fh("implw")])),g.f),gb(A([l(Eh,4,vb,f(_e,Th(Dh),f(_e,Ch(Dh),f(_e,(d=m,f(Jh,4,d)),f(_e,Fh("imlp"),g.aV)))),gb(function(){if(""===e.ho){var n=e.gL;return A(1===n.$?[pg(" ")]:[s(Ek,n.a,S,""===e.ho)])}return A([cv(f(Mk,A([Cb("imlf")]),A([Vd(e.ho+" ")])))])}()))]))):l(Eh,2,vb,f(_e,Th(Dh),f(_e,f(jl,Ag,h)?Xh:Fh("focus-within"),vo(A([g.f,(b=e.gL,1===b.$?S:A([Uh(s(Ek,b.a,g.y,""===e.ho))]))])))),gb(A([m])));return s(Fm,f(_e,f(og,Dg,"ctxt"),f(_e,Hm(e.u)?Xh:ig(5),f(_e,Sm,g.j))),e.u,w)}),Ak=jk({F:Pe,J:!1,ch:fk("text")}),Tk=e(function(n,r){return f(ob,$h,b(Jg,"b-"+Ge(n)+"-"+Ge(r),r,n,r,n))}),Lk=function(n){var r=n.T,e=n.ag,t=n.Z,a=n.af;return $(e,r)&&$(t,a)?$(e,a)?Ug(e):f(Tk,t,e):f(ob,$h,b(Jg,"b-"+Ge(e)+"-"+Ge(a)+"-"+Ge(r)+"-"+Ge(t),e,a,r,t))},Ik=a(function(n,r,e,t){return function(){switch(n+1e3){case 1001:case 1e3:return"Bestellung ist in der Warteschlange";case 1002:case 1003:return"Bestellung in Bearbeitung";case 995:return"FEHLER: Unbekannter Gebietsperimeter (falsche BFS-Nummer / EGRIS oder EGRID)";case 1010:case 1011:case 1012:case 1050:case 1051:return"Bestellung in Bearbeitung";case 910:return"FEHLER: Datenmenge hat die maximale Grösse überschritten, nicht ausgeliefert";case 1100:return"Bestellung in Bearbeitung";case 1200:return t?"Daten bereit zum Herunterladen"+(Zt(e)?"":' und E-Mail an Adresse "'+e+'" versandt'):"Bestellung abgelaufen → neu laden";case 790:return"FEHLER: E-Mail konnte nicht zugestellt werden";case 901:return"FEHLER: Ein unerwarteter Fehler ist aufgetreten";default:return function(n){switch(n){case"SUBMITTED":return"Bestellung erhalten, noch nicht in der Warteschlange.";case"QUEUED":return"Bestellung in der Warteschlange";case"WORKING: Processing":return"Bestellung in Bearbeitung.";case"WORKING: Data transfer started":return'Daten aufbereitet und für den E-Mail-Versand durch "webtransfer.zh.ch" vorbereitet.';case"SUCCESS: Data transfer succeeded":return'Daten bereit, E-Mail von "webtransfer.zh.ch" mit Download-Link verschickt.';case"FAILURE: Output dataset exceeded maximum size, not delivered":return"FEHLER: Bestellte Datenmenge zu gross.";case"FAILURE: Data transfer failed":return"FEHLER: Problem beim Versenden des E-Mails (Adresse überprüfen).";default:return n}}(r)}}()+" (#"+Ge(n)+")."}),Ok=a(function(n,r,e,t){var a,u=200===t.he,i=u?f(kg,A([Gg(5),Pg]),ov(f(t.cS?xm:hw,S$(n).aW,24))):_g,c=t.gy,o=f(Kg,qg(10),{u:ov(f(Sb,S,A([s(ok,3,E(E$,{e2:"#AACCFF",g7:24}),0)]))),bB:Pe}),b=A(u?[s(dw,n,e,t),f(xw,n,t),f(F$,n,t)]:[o]),d=""===t.gA?l(Ik,t.he,t.hc,c.bX,f(sw,e,t)):t.gA,h=t.cS?f(Ak,A([gg(bg(2)),hb(xg.hW),Oh(xg.f9),pw(z$(!0)),$w(z$(!1)),Vp(gw(t.gB))]),{u:(a="Bezeichnung eingeben",{$:1,a:a}),dp:_$(t),gL:Pe,ho:t.gA}):f(cg,A([B$,Ig(k$(t)),Pg]),A([pg(d)])),g=f(Ne,"\n",f(Ye,"T",t.hj));return r.bV||r.gC?f(Ph,A([Th(Dh),ig(5),Gg(Tp(1)),Lk({T:1,Z:0,af:0,ag:0}),Zg(Dp(n).Y)]),C(A([f(kg,A([Zp]),pg(g)),f(Ph,A([Th(Dh),ig(Tp(2)),yv(A([Oh(Dp(n).Y),hb(xg.hX)]))]),A([h,f(kg,A([Ig(k$(t))]),i)]))]),b)):f(Lh,A([Th(Dh),ig(5),Gg(Tp(1)),Lk({T:1,Z:0,af:0,ag:0}),Zg(Dp(n).Y)]),A([f(Ph,A([Th(Dh),ig(Tp(2)),yv(A([Oh(Dp(n).Y),hb(xg.hX)]))]),A([h,f(kg,A([Ig(k$(t))]),i)])),f(Ph,A([Th(Dh)]),A([f(kg,A([Zp]),pg(g)),f(Ph,A([Qp]),b)]))]))}),Hk=function(n){var r=ct(f(Ia,function(n){return n.hj},ub(n.gz)));return f(Ut,s(Ok,n.a_,n.fi,n.e9),r)},Dk=function(n){var r=n.a_;return f(Lh,A([f(ng,0,5),Oh(Dp(r).Y),Th(Dh),Ch(Dh),Gg(Tp(2))]),A([sv(n.gz)?f(Lh,A([Gg(5),Th(Dh)]),A([f(kg,A([Ap]),pg("(keine Bestellungen vorhanden)"))])):f(Lh,A([Th(Dh),ig(Tp(2))]),A([f(kg,A([Ap]),f(cg,A([hb(xg.bK)]),A([pg("Wenn die Daten aufbereitet sind, können sie hier heruntergeladen werden.")]))),f(Lh,A([Th(Dh),Oh(Dp(r).ej)]),Hk(n))]))]))},Pk={$:35},Kk={$:43},Wk=f(im,"0 0 48 48",A([f(cm,A([nm("M8 28h8v-8H8v8zm0 10h8v-8H8v8zm0-20h8v-8H8v8zm10 10h24v-8H18v8zm0 10h24v-8H18v8zm0-28v8h24v-8H18z")]),S)])),Zk=f(im,"0 0 24 24",A([f(cm,A([nm("M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z")]),S)])),Vk=f(im,"0 0 48 48",A([f(cm,A([nm("M20 36h10V24H20v12zM8 36h10V10H8v26zm24 0h10V24H32v12zM20 10v12h22V10H20z")]),S)])),Gk=e(function(n,r){var e=function(){switch(n){case 0:return f$(r)?"":"Klick auf Karte und Box aufziehen";case 1:return b$(r)?"":"Gebiet digitalisieren durch Klicks auf Karte";case 2:return"Kartenausschnitt wird verwendet";case 3:return s$(r)?"":"Gemeinde(n) auswählen";default:return l$(r)?"":"Parzellen suchen und auswählen"}}();return f(cg,A([Qg]),A([pg(e)]))}),Nk={$:36},Yk=f(Ph,A([ig(Tp(1)),Ap,Qg]),A([f(Ph,f(y$,Vg,Pk),A([f(kg,S,ov(f(Zk,w$,bg(3)))),pg("Zoomen")])),f(Ph,f(y$,Vg,Nk),A([f(kg,S,ov(f(M$,w$,bg(3)))),pg("Löschen")]))])),Rk=function(n){var r=n.a4;return f(kg,A([Oh(Dp(n.a_).ek),Th(Dh),Ch(nv(70))]),function(){switch(n.as){case 0:return f$(r)?Yk:f(Gk,n.as,r);case 1:return b$(r)?Yk:f(Gk,n.as,r);case 2:return f(Gk,n.as,r);case 3:return function(n){var r=n.ao?"Gemeinde-Liste":"Karte anzeigen",e=n.ao?Wk:$m,t=s$(n.a4)?f(Ph,A([ig(Tp(1)),Ap,Qg]),A([n.ao?f(Ph,f(y$,Vg,Pk),A([f(kg,S,ov(f(Zk,w$,bg(3)))),pg("Zoomen")])):_g])):_g;if(!n.fi.gC){var a=n.fi.bV;return f(Ph,A([ig(Tp(1)),Ap,Qg]),A(a?[t]:[t,f(Ph,f(y$,Vg,Kk),A([f(kg,S,ov(f(e,w$,bg(3)))),pg(r)]))]))}switch(n.fi.bV){case 0:return f(Ph,A([ig(Tp(1)),Ap,Qg]),A([t,f(Ph,f(y$,Vg,Kk),A([f(kg,S,ov(f(e,w$,bg(3)))),pg(r)]))]));case 1:return f(Ph,A([ig(Tp(1)),Ap,Qg]),A(n.gb?[t]:[t,f(Ph,f(y$,Vg,Kk),A([f(kg,S,ov(f(e,w$,bg(3)))),pg(r)]))]));default:return f(Ph,A([ig(Tp(1)),Ap,Qg]),A([t]))}}(n);default:return function(n){var r=l$(n.a4)?f(Ph,A([ig(Tp(1)),Ap,Qg]),A([n.ao?f(Ph,f(y$,Vg,Pk),A([f(kg,S,ov(f(Zk,w$,bg(3)))),pg("Zoomen")])):_g])):_g,e=n.ao?"Parzellen-Suche":"Karte anzeigen",t=n.ao?Vk:$m;if(!n.fi.gC){var a=n.fi.bV;return f(Ph,A([ig(Tp(1)),Ap,Qg]),A(a?[r]:[r,f(Ph,f(y$,Vg,Kk),A([f(kg,S,ov(f(t,w$,bg(3)))),pg(e)]))]))}switch(n.fi.bV){case 0:return f(Ph,A([ig(Tp(1)),Ap,Qg]),A([r,f(Ph,f(y$,Vg,Kk),A([f(kg,S,ov(f(t,w$,bg(3)))),pg(e)]))]));case 1:return f(Ph,A([ig(Tp(1)),Ap,Qg]),A(n.gb?[r]:[r,f(Ph,f(y$,Vg,Kk),A([f(kg,S,ov(f(t,w$,bg(3)))),pg(e)]))]));default:return f(Ph,A([ig(Tp(1)),Ap,Qg]),A([r]))}}(n)}}())},Xk=function(n){return{$:7,a:n}},Jk=hv(0),Uk=function(n){return f(Jh,1,n)},qk=f(im,"0 0 48 48",A([f(cm,A([nm("M6 10v8h4v-8h8V6h-8c-2.21 0-4 1.79-4 4zm4 20H6v8c0 2.21 1.79 4 4 4h8v-4h-8v-8zm28 8h-8v4h8c2.21 0 4-1.79 4-4v-8h-4v8zm0-32h-8v4h8v8h4v-8c0-2.21-1.79-4-4-4z")]),S)])),Qk=function(n){var r=function(){switch(n){case 0:return" Rechteck";case 1:return" Polygon";case 2:return" Kartenausschnitt";case 3:return" Gemeinden";default:return" Parzellen"}}();return f(kg,A([f(Nm,20,0),Jk]),pg(r))},nz=f(oi,Sh,function(n){return f(Lg,"mouseleave",It(n))}),rz=f(im,"0 0 48 48",A([f(cm,A([nm("M38 14H22v12h16V14zm4-8H6c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 3.96 4 3.96h36c2.21 0 4-1.76 4-3.96V10c0-2.21-1.79-4-4-4zm0 32.03H6V9.97h36v28.06z")]),S)])),ez=f(im,"0 0 48 48",A([f(cm,A([nm("M46 16c0 2.2-1.8 4-4 4-.36 0-.7-.04-1.02-.14l-7.12 7.1c.1.32.14.68.14 1.04 0 2.2-1.8 4-4 4s-4-1.8-4-4c0-.36.04-.72.14-1.04l-5.1-5.1c-.32.1-.68.14-1.04.14s-.72-.04-1.04-.14l-9.1 9.12c.1.32.14.66.14 1.02 0 2.2-1.8 4-4 4s-4-1.8-4-4 1.8-4 4-4c.36 0 .7.04 1.02.14l9.12-9.1c-.1-.32-.14-.68-.14-1.04 0-2.2 1.8-4 4-4s4 1.8 4 4c0 .36-.04.72-.14 1.04l5.1 5.1c.32-.1.68-.14 1.04-.14s.72.04 1.04.14l7.1-7.12c-.1-.32-.14-.66-.14-1.02 0-2.2 1.8-4 4-4s4 1.8 4 4z")]),S)])),tz=function(n){var r,e,t,a,u,i=n.a_,c=(e=function(n){switch(n){case 0:return rz;case 1:return ez;case 2:return qk;case 3:return Wk;default:return Vk}},t=function(n){var r,t=n.b;return f(Ph,A([Jk,ig(Tp(3)),Th(nv(270)),Ig((r=t,{$:31,a:r})),Eg({T:10,Z:0,af:0,ag:10}),Pg,yv(A([Oh(Dp(i).hW)]))]),A([f(Ph,A([f(Nm,10,0),f(ng,10,2)]),A([f(kg,S,ov(s(e,t,S$(i).K,bg(3)))),Qk(t)]))]))},r=A([z("box",0),z("polygon",1),z("extent",2),z("gemeinden",3),z("parzellen",4)]),a=f(Ut,t,f(Ha,function(r){return!$(n.a4.bF,r.a)},r)),u=Uk(n.dt?f(Lh,A([Jk,Oh(Dp(i).ej),Yg(5),Eg({T:10,Z:0,af:0,ag:0})]),a):_g),A([f(Ph,A([Jk,Ch(nv(50)),ig(Tp(3)),Th(Dh)]),A([n.fi.bV||n.fi.gC?f(kg,S,pg("Perimeter: ")):_g,f(Ph,A([Th(nv(270)),Ch(nv(40)),f(Nm,10,0),Oh(Dp(i).hW),Yg(5),f(ng,10,5),u,yv(A([Oh(Dp(i).ej)])),Ig(Xk(Pe)),nz(Xk(De(!1)))]),A([f(kg,S,ov(s(e,n.as,S$(i).K,bg(3)))),Qk(n.as),f(kg,A([Qp]),ov(f(n.dt?bm:dm,w$,bg(3))))]))]))]));return f(kg,A([Th(Dh),Ap,Oh(Dp(i).ek)]),f(Ph,A([Qg,Ap,gg(bg(2)),ig(Tp(2))]),c))},az=Ld,uz=ov(s(az,"div",A([gw("myOlMap"),Cb("map")]),S)),iz={$:41},cz=function(n){return{$:37,a:n}},oz=ge,fz=pe(1/0),sz=function(n){var r=t(function(n,r,e){var t=So(n);return 1===t.$?e:s(fz,t.a,r,e)}),e=f(r,"[ü]",function(){return"u"}),a=f(r,"[öô]",function(){return"o"});return f(r,"[éèê]",function(){return"e"})(e(a(f(r,"[äáàâ]",function(){return"a"})(jy(n)))))},lz=e(function(n,r){return f(Sa,sz(n),sz(r))}),bz=function(n){return e(function(r,e){return f(lz,n(r),n(e))})},dz=f(im,"0 0 48 48",A([f(cm,A([nm("M26 14h-4v8h-8v4h8v8h4v-8h8v-4h-8v-8zM24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z")]),S)])),hz=f(im,"0 0 48 48",A([f(cm,A([nm("M14 22v4h20v-4H14zM24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z")]),S)])),gz=t(function(n,r,e){var t,a=r?hz:dz;return f(kg,A([Th(Dh),Pg,Ig((t=e.bu,{$:39,a:t})),yv(A([Oh(Dp(n).Y),hb(xg.hX)]))]),f(Ph,A([f(ng,5,5)]),A([f(kg,A([f(ng,10,0)]),ov(f(a,w$,bg(2)))),f(kg,S,pg(e.bz))])))}),vz=O,pz=u(function(n,r,e,t,a){var u=f(Dc,Fo,f(Co,{eY:!0,gg:!1},t)),i=f(Ha,function(r){return function(r){return n?f(Hl,r,a):!f(Hl,r,a)}(r.bu)},f(Ha,function(r){return!!n||f(oz,u,r.bz)},e));return f(Lh,A([Ch(Dh),Th(Dh),Xp]),Je(i)>0?f(Ut,f(gz,r,n),f(vz,bz(function(n){return n.bz}),i)):A([f(cg,A([f(ng,20,10)]),A([pg("\n            Keine Gemeinde vorhanden. ")])),f(cg,A([f(ng,20,10)]),A([pg(n?"Bitte wählen Sie Gemeinden aus der Liste":"Bitte Filter löschen")]))]))}),mz=ov(s(az,"div",A([gw("myOlMap"),Cb("map")]),S)),$z=e(function(n,r){return{$:0,a:n,b:r}}),wz=jk({F:Pe,J:!1,ch:fk("search")}),xz=f(im,"0 0 48 48",A([f(cm,A([nm("M31 28h-1.59l-.55-.55C30.82 25.18 32 22.23 32 19c0-7.18-5.82-13-13-13S6 11.82 6 19s5.82 13 13 13c3.23 0 6.18-1.18 8.45-3.13l.55.55V31l10 9.98L40.98 38 31 28zm-12 0c-4.97 0-9-4.03-9-9s4.03-9 9-9 9 4.03 9 9-4.03 9-9 9z")]),S)])),yz={$:42},kz=function(n){return{$:38,a:n}},zz=ov(s(az,"div",A([gw("myOlMap"),Cb("map")]),S)),_z=e(function(n,r){switch(r){case"helpSearchStart":return f(Lh,A([f(ng,20,8),ig(20)]),A([f(cg,S,A([pg("Bitte geben Sie eine Grundstücks-Nummer ins Suchfeld ein:")])),f(cg,S,A([pg("Grundstücks-Nummer: ")])),f(cg,A([f(ng,20,8)]),A([pg(" z.B. '12345' oder 'AA8090'")])),f(cg,S,A([pg("oder den")])),f(cg,S,A([pg("Eidg. Grundstücks-Identifikator (E-GRID):")])),f(cg,A([f(ng,20,8)]),A([pg("z.B. 'CH287431307741'")]))]));case"helpSearchNotFound":return f(Lh,A([f(ng,20,8),ig(20)]),A([f(cg,S,A([pg("Keine Grundstücke gefunden mit der Grundstücksnummer '"+n+"'.")])),f(cg,S,A([pg("Bitte neuen Suchtext eingeben für die Auswahl von weiteren Parzellen.")]))]));case"helpSearchAllSelected":return f(Lh,A([f(ng,20,8),ig(20)]),A([f(cg,S,A([pg("Alle mit Grundstücksnummer '"+n+"' gefundenen Grundstücke sind bereits ausgewählt.")])),f(cg,S,A([pg("Bitte neuen Suchtext eingeben für die Auswahl von weiteren Parzellen.")]))]));case"helpSelectedNothingToSelect":return f(Lh,A([f(ng,20,8),ig(20)]),A([_g]));case"helpSelectedSelectNow":return f(Lh,A([f(ng,20,8),ig(20)]),A([f(cg,S,A([pg("Bitte wählen Sie ein Grundstück aus der Liste.")]))]));default:return _g}}),Bz=e(function(n,r){return{$:40,a:n,b:r}}),Ez=fb(16),Mz=t(function(n,r,e){var t=r?hz:dz;return f(kg,A([Th(Dh),Pg,Ig(f(Bz,e,r)),yv(A([Oh(Dp(n).Y),hb(xg.hX)]))]),f(Ph,A([f(ng,5,5),Th(Dh)]),A([f(kg,A([f(ng,10,0)]),ov(f(t,w$,bg(2)))),f(Ph,A([Th(Dh),ig(10)]),A([f(kg,A([(1,f(ob,Ez,s(Rd,"ls-"+bb(1),"letter-spacing",Ro(1)+"px")))]),pg(e.gq)),f(kg,A([B$]),pg(e.fA))]))])))}),Cz=e(function(n,r){var t=n?r.g2:f(kl,e(function(n){return!f(Hl,n,Me(r.g2))}),r.gE);return f(Lh,A([Ch(Dh),Th(Dh),f(ng,0,20),Xp]),sv(t)?A([n?sv(r.gE)?f(_z,r.ar,"helpSelectedNothingToSelect"):f(_z,r.ar,"helpSelectedSelectNow"):Zt(r.ar)?f(_z,r.ar,"helpSearchStart"):sv(r.gE)?f(_z,r.ar,"helpSearchNotFound"):f(_z,r.ar,"helpSearchAllSelected")]):f(Ut,f(Mz,r.a_,n),f(vz,bz(function(n){return n.fA}),f(vz,bz(function(n){return n.gq}),ub(t)))))}),Sz=f(im,"0 0 48 48",A([f(cm,A([nm("M36.79 21.2C33.11 17.97 28.29 16 23 16c-9.3 0-17.17 6.06-19.92 14.44L7.81 32c2.1-6.39 8.1-11 15.19-11 3.91 0 7.46 1.44 10.23 3.77L26 32h18V14l-7.21 7.2z")]),S)])),Fz=f(im,"0 0 48 48",A([f(cm,A([nm("M25 16c-5.29 0-10.11 1.97-13.8 5.2L4 14v18h18l-7.23-7.23C17.54 22.44 21.09 21 25 21c7.09 0 13.09 4.61 15.19 11l4.73-1.56C42.17 22.06 34.3 16 25 16z")]),S)])),jz=function(n){var r,e=n.fy?"offline":"online",t=(r=Sl(f(Ye,"T",n.fk.hD))).$?"???":r.a;return f(kg,A([Oh(Dp(n.a_).ek),Th(Dh),Ch(nv(70))]),c$(n.hP)?f(cg,A([Qg]),A([pg("Produktliste vom "+t+" ("+e+")")])):d$(n.a4)?f(Ph,f(y$,Vg,e$(Vi)),A([pg("Zum Warenkorb"),f(kg,S,ov(f(Sz,w$,bg(3))))])):f(Ph,f(y$,Vg,e$(Wi)),A([f(kg,S,ov(f(Fz,w$,bg(3)))),pg("Perimeter festlegen")])))},Az=function(n){return{$:14,a:n}},Tz=function(n){var r=A([pg("Produkte "),f(wz,A([gg(bg(2)),hb(xg.hW),Oh(xg.K),Th(nv(200)),Ch(nv(32)),f(ng,6,5),pw(z$(!0)),$w(z$(!1))]),{u:f(lv,A([Zp]),f(kg,A([Qg]),ov(f(xz,iv.K,bg(3))))),dp:Az,gL:Pe,ho:n.dC})]),e=n.a_;return f(kg,A([Th(Dh),Gg(10),Ch(nv(50)),Ap,Oh(Dp(e).ek)]),f(Ph,A([Qg,Ap,gg(bg(2)),ig(Tp(2))]),r))},Lz=t(function(n,r,e){var a=e;return s(Be,t(function(r,e,t){return f(n,r,t)}),r,a)}),Iz=e(function(n,r){return s(Lz,e(function(n,e){return $(r,n.a)||e}),!1,n.hP)}),Oz=function(n){return f(ob,Cm,f(bv,2,xv(n)))},Hz={$:16},Dz=function(n){return{$:20,a:n}},Pz=f(im,"0 0 48 48",A([f(cm,A([nm("M22 18h4v-6h6V8h-6V2h-4v6h-6v4h6v6zm-8 18c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4zm20 0c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4zm-19.65-6.5c0-.09.02-.17.06-.24l1.8-3.26h14.9c1.5 0 2.81-.83 3.5-2.06l7.72-14.02L38.83 8h-.01l-2.21 4-5.51 10H17.07l-.26-.54L12.32 12l-1.9-4-1.89-4H2v4h4l7.2 15.17-2.71 4.9c-.31.58-.49 1.23-.49 1.93 0 2.21 1.79 4 4 4h24v-4H14.85c-.28 0-.5-.22-.5-.5z")]),S)])),Kz=e(function(n,r){return f(Ss,n,r)}),Wz=f(og,Wp,"tj"),Zz=f(im,"0 0 48 48",A([f(cm,A([nm("M38 38H10V10h14V6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V24h-4v14zM28 6v4h7.17L15.51 29.66l2.83 2.83L38 12.83V20h4V6H28z")]),S)])),Vz=e(function(n,r){var a,u=t(function(n,r,e){var t=So(n);return 1===t.$?e:s(fz,t.a,r,e)}),i=r.a_,c=e(function(n,e){var t,a,u=z(n,e),c=A(f(Kz,u,r.hP)?[Ig(Dz(u)),Oh(Dp(i).ek),Lk({T:1,Z:0,af:0,ag:0}),Zg(Dp(i).Y)]:[Ig((t=u,{$:19,a:t}))]),o=f(ys,function(n){return n.bz},f(nu,e,r.fk.cZ));return a=o.$?"Format nicht (mehr) verfügbar":o.a,f(Ph,C(A([yv(A([Oh(Dp(i).f9),hb(Dp(i).hX)])),Pg,Th(Dh),Gg(1)]),c),A([f(kg,A([Th(nv(40)),f(ng,10,0)]),ov(f(Kz,u,r.hP)?f(km,w$,24):f(Pz,S$(i).ek,24))),f(kg,A([f(ng,10,0)]),pg(a))]))}),o=e(function(n,e){return f(Lh,A([Th(jh),f(ng,20,0)]),f(Ut,c(n),f(Ha,function(n){return!f(Ss,n,r.fM)},e)))}),b=(a=n,Sl(f(Ha,function(n){return $(n.bu,a)},r.fk.dD)));if(1===b.$)return pg("Fehler: Unbekanntes Produkt nicht mehr verfügbar!");var d,h=b.a;return f(Ph,A([Th(Dh),Ch(Dh),Oh(Dp(i).Y)]),A([f(Lh,A([Th(Dh),Ch(Dh),ig(20),f(ng,10,10),Xp,Th(Dh),Ap]),A([f(Ph,A([Th(Dh),hb(l(Hp,120,120,120,1))]),A([f(Ph,A([ig(20)]),A([pg("ID:"),f(kg,A([Jk]),pg("#"+Ge(h.bu)))])),f(Ph,A([ig(20),Qp]),A([f(kg,S,pg("Typ:")),pg(h.ch)]))])),f(cg,A([B$,Zp]),A([pg(h.bz)])),f(cg,A([Wz]),A([pg((d=h.fh,s(u,"\\/",function(){return", "},d)))])),f(Lh,A([f(Nm,15,10),Th(Dh)]),A([f(kg,A([Ap]),pg("Format wählen:")),f(Ph,A([Ap]),A([f(kg,A([Th(Dh),Gg(25),Oh(Dp(i).ej)]),f(o,h.bu,h.cZ))]))])),f(Bv,A([Ap]),{u:f(Ph,A([ig(10),hb(xg.K),Zg(xg.K),Xg,Lk({T:1,Z:0,af:0,ag:0}),yv(A([Zg(xg.hX),hb(xg.hX)]))]),A([f(kg,S,pg("Metadaten zum Produkt (Geolion)")),f(kg,S,ov(f(Zz,iv.K,20)))])),bf:"https://geolion.zh.ch/api/v1/getGeodatenmeta.html?giszhnr="+Ge(h.bu)})]))]))}),Gz=e(function(n,r){var e=r.a_,t=f(Ph,A([ig(25),Th(jh),Ap,Oh(Dp(e).ek),Th(Dh),Ch(nv(70)),Gg(10)]),A([f(Ph,f(y$,Vg,Hz),A([f(kg,S,ov(f(Fz,w$,bg(3)))),pg("Produktliste")])),c$(r.hP)?pg(""):f(Ph,f(y$,Vg,e$(Vi)),A([pg("Warenkorb"),f(kg,S,ov(f(Sz,w$,bg(3))))]))])),a=f(Pp,e,"Produkt in den Warenkorb");return f(Lh,A([Th(Dh)]),A([a,f(Lh,A([f(ng,30,20),Oh(Dp(e).Y),Th(Dh),Ch(nv(Kp(r))),Gg(Tp(2)),Xp]),A([f(Vz,n,r)])),t]))}),Nz={$:21},Yz=function(n){return{$:18,a:n}},Rz=jk({F:De("email"),J:!1,ch:fk("email")}),Xz=Fg("autofocus"),Jz=Sh(Xz(!0)),Uz=function(n){return f(Lh,A([Th(Dh),ig(15),f(ng,0,20)]),A([f(Rz,A([hb(xg.hW),Oh(xg.aW),Ch(nv(32)),Th(Dh),f(ng,5,7),pw(z$(!0)),$w(z$(!1))]),{u:f(lv,A([Jz,Qg]),f(kg,S,pg("E-Mail: "))),dp:Yz,gL:Pe,ho:n.bX}),f(cg,A([Th(Dh),hb(xg.bK)]),A([pg("Falls eine E-Mail Adresse vorhanden ist, wird eine Benachrichtigung gesendet sobald die Daten zum Download bereit sind.")]))]))},qz=f(im,"0 0 48 48",A([f(cm,A([nm("M45.46 45.46L5.54 5.54 4 4 2.54 2.54 0 5.08l8.78 8.78 4.42 9.32-2.7 4.9c-.32.56-.5 1.22-.5 1.92 0 2.2 1.8 4 4 4h14.92l2.76 2.76c-1 .73-1.66 1.91-1.66 3.24 0 2.2 1.78 4 3.98 4 1.33 0 2.51-.67 3.24-1.68L42.92 48l2.54-2.54zM14.84 30c-.28 0-.5-.22-.5-.5l.06-.24L16.2 26h4.72l4 4H14.84zm16.26-4c1.5 0 2.82-.82 3.5-2.06l7.16-12.98c.16-.28.24-.62.24-.96 0-1.1-.9-2-2-2H13.08l18 18h.02zM14 36c-2.2 0-3.98 1.8-3.98 4s1.78 4 3.98 4 4-1.8 4-4-1.8-4-4-4z")]),S)])),Qz=function(n){var r,t,a=e(function(n,r){var e=Sl(f(Ha,function(r){return $(r.bu,n)},r));if(1===e.$)return f(cg,S,A([pg("Fehler: Unbekanntes Produkt (nicht mehr verfügbar)!")]));var t=e.a;return f(cg,A([Th(Dh)]),A([pg(t.bz)]))}),u=n.a_,i=function(r){var t,a=r.a;return f(Ut,function(n){return function(n){var r=n.a,e=n.b,t=e.a,a=e.b;return f(Ph,A([Th(Dh),ig(Tp(1)),f(ng,44,0),Ig(Dz(z(r,t))),yv(A([Oh(Dp(u).Y),hb(xg.hX)])),Oz(A([Oh(Dp(u).f9),hb(xg.hW)])),Pg,Vp(h$("Aus Warenkorb entfernen"))]),A([ov(f(qz,w$,24)),pg(a)]))}(z(a,n))},ct((t=r.b,s(Xe,e(function(r,e){return f(_e,z(r,function(r){var e=f(nu,r,n.fk.cZ);return 1===e.$?"Fehler: Unbekanntes Format (nicht mehr verfügbar)!":e.a.bz}(r)),e)}),S,t))))},c=function(r){var e,t=r.a,c=r.b;return f(Lh,A([Th(Dh),f(ng,30,5),ig(Tp(1))]),A([f(Ph,A([Th(Dh),Gg(Tp(1)),ig(Tp(3)),yv(A([Oh(Dp(u).bK),hb(xg.hW)])),Oz(A([Oh(Dp(u).Y),hb(xg.hX)])),Ig((e=t,{$:17,a:e})),Vp(h$("Weitere Formate hinzufügen")),Pg,f(Tk,0,1),Zg(l(Hp,66,66,66,.5))]),A([f(kg,A([Th(nv(20))]),ov(f(Pz,fv,24))),f(a,t,n.fk.dD),f(kg,A([Qp,hb(l(Hp,120,120,120,1))]),pg("#"+Ge(t)))])),f(Lh,A([Th(Dh)]),i(z(t,c)))]))};return f(Lh,A([Th(Dh)]),f(Ut,c,(t=f(Il,function(n){return n.a},r=n.hP),Ce(s(Al,e(function(n,t){return f(Iu,z(n,(a=n,Oa(s(Al,e(function(n,r){var e=n.b;return $(a,n.a)?f(_e,e,r):r}),S,r)))),t);var a}),Lu,t)))))},n_=function(n){var r=n.a_;return f(Lh,A([Th(Dh),Ch(Dh),ig(Tp(3)),Th(Dh),Ap]),A([f(Lh,A([ig(Tp(2)),Th(Dh)]),A([f(Ph,A([Th(Dh)]),A([f(kg,A([Th(Dh),Oh(Dp(r).ej),Gg(20)]),c$(n.hP)?f(kg,A([Ch(nv(150)),Ap]),pg("Der Warenkorb ist leer")):Qz(n))]))])),Uz(n)]))},r_=function(n){var r=n.a_,a=n.en,u=function(){switch(a.$){case 0:return f(r$,n,a.a);case 1:return function(n){return function(n){var r=function(){switch(n.as){case 3:return function(n){var r=f(wz,A([gg(bg(1)),Oh(Dp(n.a_).ej),Th(Dh),Ch(nv(32)),f(ng,6,6),pw(z$(!0)),$w(z$(!1)),Ap]),{u:f(lv,A([Zp]),f(kg,A([Qg]),ov(f(xz,iv.K,bg(3))))),dp:cz,gL:De(f($z,S,pg("Gemeinde-Filter"))),ho:n.cJ}),a=n.fk,u=n.a_,i=s$(n.a4)?f(kg,A([Ch(nv(43)),Th(Dh),f(ng,1,1)]),f(Ph,A([Xg,Yg(3),Ug(1),Zg(xg.f9),Oh(Dp(n.a_).ej),Th(Dh),gg(bg(1)),Ig(iz),yv(A([Oh(Dp(u).Y),hb(xg.aW)])),Pg,ig(10),f(ng,8,6)]),A([f(kg,S,ov(f(M$,w$,bg(3)))),pg("Auswahl löschen")]))):_g,c=function(r){return f(kg,A([Th(Dh),f(ng,20,10),Ap,Oh(Dp(n.a_).Y)]),pg(r))},o=e(function(r,e){return nv((Kp(n)/r|0)-40-e)}),l=n.a4,d=t(function(r,e,t){return f(Lh,A([Th(Dh),Ch(f(o,e,t))]),A([r?i:_g,b(pz,r,u,a.e3,n.cJ,l.fB)]))}),h=n.ao?2:1;if(n.fi.gC)switch(n.fi.bV){case 0:return f(Ph,A([Th(Dh)]),A(n.ao?[f(Lh,A([Th(Dh)]),A([c("Ausgewählte Gemeinden"),s(d,!0,1,0)])),mz]:[f(Lh,A([Th(Dh)]),A([c("Gemeinde-Liste"),s(d,!1,1,0)])),f(Lh,A([Th(Dh)]),A([c("Ausgewählte Gemeinden"),s(d,!0,1,0)]))]));case 1:return f(Ph,A([Th(Dh)]),A(n.gb?[f(Lh,A([Th(Dh)]),A([c("Gemeinde-Liste"),s(d,!1,1,0)])),f(Lh,A([Th(Dh)]),A([c("Ausgewählte Gemeinden"),s(d,!0,1,0)])),mz]:n.ao?[f(Lh,A([Th(Dh)]),A([c("Ausgewählte Gemeinden"),s(d,!0,1,0)])),mz]:[f(Lh,A([Th(Dh)]),A([c("Gemeinde-Liste"),s(d,!1,1,0)])),f(Lh,A([Th(Dh)]),A([c("Ausgewählte Gemeinden"),s(d,!0,1,0)]))]));default:return f(Ph,A([Th(Dh)]),A([f(Lh,A([Th(Dh)]),A([c("Gemeinde-Liste"),f(kg,A([Th(Dh),Eg({T:15,Z:15,af:30,ag:10})]),r),s(d,!1,1,57)])),f(Lh,A([Th(Dh)]),A([c("Ausgewählte Gemeinden"),f(kg,A([Ch(nv(57))]),_g),s(d,!0,1,57)])),mz]))}else switch(n.fi.bV){case 0:return f(Lh,A([Th(Dh),Ch(Dh)]),A([c("Ausgewählte Gemeinden"),s(d,!0,2,0),f(kg,A([Ch(nv(20))]),_g),n.ao?mz:f(Lh,A([Th(Dh),Ch(Dh)]),A([c("Gemeinde-Liste"),s(d,!1,2,0)]))]));case 1:default:return f(Lh,A([Th(Dh),Ch(Dh)]),A([f(Ph,A([Th(Dh)]),A([f(Lh,A([Th(Dh)]),A([c("Gemeinde-Liste"),s(d,!1,h,0)])),f(Lh,A([Th(Dh)]),A([c("Ausgewählte Gemeinden"),s(d,!0,h,0)]))])),f(kg,A([Ch(nv(20))]),_g),mz]))}}(n);case 4:return function(n){var r=function(r){return f(kg,A([Th(Dh),f(ng,20,10),Ap,Oh(Dp(n.a_).Y)]),pg(r))},t=f(kg,A([Th(Dh),f(ng,15,2),Oh(Dp(n.a_).Y)]),f(kg,S,f(wz,A([gg(bg(1)),Oh(Dp(n.a_).ej),Th(Dh),Ch(nv(32)),f(ng,6,6),pw(z$(!0)),$w(z$(!1)),Ap]),{u:f(lv,A([Zp]),f(kg,A([Qg]),ov(f(xz,iv.K,bg(3))))),dp:kz,gL:De(f($z,S,pg("Parzellen-Suche"))),ho:n.ar}))),a=n.a_,u=l$(n.a4)?f(kg,A([Ch(nv(43)),Th(Dh),f(ng,1,1)]),f(Ph,A([Xg,Yg(3),Ug(1),Zg(xg.f9),Oh(Dp(n.a_).ej),Th(Dh),gg(bg(1)),Ig(yz),yv(A([Oh(Dp(a).Y),hb(xg.aW)])),Pg,ig(10),f(ng,8,6)]),A([f(kg,S,ov(f(M$,w$,bg(3)))),pg("Auswahl löschen")]))):_g,i=e(function(r,e){return f(Lh,A([Th(Dh),Ch(nv((Kp(n)/e|0)-40))]),A([r?u:_g,f(Cz,r,n)]))}),c=n.ao?2:1;if(n.fi.gC)switch(n.fi.bV){case 0:return f(Ph,A([Th(Dh)]),A(n.ao?[f(Lh,A([Th(Dh)]),A([r("Ausgewählte Parzellen"),f(i,!0,1)])),zz]:[f(Lh,A([Th(Dh)]),A([t,f(i,!1,1)])),f(Lh,A([Th(Dh)]),A([r("Ausgewählte Parzellen"),f(i,!0,1)]))]));case 1:return f(Ph,A([Th(Dh)]),A(n.gb?[f(Lh,A([Th(Dh)]),A([t,f(i,!1,1)])),f(Lh,A([Th(Dh)]),A([r("Ausgewählte Parzellen"),f(i,!0,1)])),zz]:n.ao?[f(Lh,A([Th(Dh)]),A([r("Ausgewählte Parzellen"),f(i,!0,1)])),zz]:[f(Lh,A([Th(Dh)]),A([t,f(i,!1,1)])),f(Lh,A([Th(Dh)]),A([r("Ausgewählte Parzellen"),f(i,!0,1)]))]));default:return f(Ph,A([Th(Dh)]),A([f(Lh,A([Th(Dh)]),A([t,f(i,!1,1)])),f(Lh,A([Th(Dh)]),A([r("Ausgewählte Parzellen"),f(i,!0,1)])),zz]))}else switch(n.fi.bV){case 0:return f(Lh,A([Th(Dh),Ch(Dh)]),A([r("Ausgewählte Parzellen"),f(i,!0,2),f(kg,A([Ch(nv(20))]),_g),n.ao?zz:f(Lh,A([Th(Dh),Ch(Dh)]),A([t,f(i,!1,2)]))]));case 1:default:return f(Lh,A([Th(Dh),Ch(Dh)]),A([f(Ph,A([Th(Dh)]),A([f(Lh,A([Th(Dh)]),A([t,f(i,!1,c)])),f(Lh,A([Th(Dh)]),A([r("Ausgewählte Parzellen"),f(i,!0,c)]))])),f(kg,A([Ch(nv(20))]),_g),zz]))}}(n);default:return uz}}();return f(Lh,A([Th(Dh),Ch(Dh)]),A([tz(n),f(kg,A([Ch(nv(Kp(n))),Th(Dh),Oh(Dp(n.a_).ej)]),r),Rk(n)]))}(n)}(n);case 2:return function(n){var r=n.g3;return 1===r.$?function(n){var r=f(Dc,Fo,f(Co,{eY:!0,gg:!1},n.dC)),e=f(Ha,function(n){return f(oz,r,(e=n).bz)||f(oz,r,e.fh);var e},n.fk.dD),t=n.a_,a=function(r){return c$(n.hP)?Oh(Dp(t).ej):Oh(f(Iz,n,r.bu)?Dp(t).ek:Dp(t).ej)},u=function(r){return f(kg,A([Th(Dh),Pg,Ig((e=r.bu,{$:15,a:e})),yv(A([Oh(Dp(t).Y),hb(xg.hX)])),Oz(A([Oh(Dp(t).f9),hb(xg.hW)])),a(r)]),f(Ph,A([Th(Dh),ig(5),Gg(Tp(1)),Lk({T:1,Z:0,af:0,ag:0}),Zg(Dp(t).Y)]),A([f(kg,A([Th(nv(30))]),f(Iz,n,r.bu)?ov(f(km,w$,24)):_g),f(cg,A([Th(Dh)]),A([pg(r.bz)])),f(kg,A([Th(nv(10))]),_g)])));var e},i=Je(e)>0?f(Ut,u,f(vz,bz(function(n){return n.bz}),e)):A([f(kg,A([Ap]),pg("Keine Produkte (Filter löschen)"))]);return f(Lh,A([Th(Dh)]),A([Tz(n),f(Lh,A([f(ng,30,20),Oh(Dp(t).Y),Th(Dh),Ch(nv(Kp(n))),Xp]),i),jz(n)]))}(n):f(Gz,r.a,n)}(n);case 3:return function(n){return function(n){var r=n.a_,e=f(kg,A([ig(25),Th(jh),Ap,Oh(Dp(r).ek),Th(Dh),Ch(nv(70)),Gg(10)]),!c$(n.hP)&&d$(n.a4)?f(Ph,f(y$,Vg,Nz),A([pg("Bestellung abschicken"),f(kg,S,ov(f(Sz,w$,bg(3))))])):d$(n.a4)?f(Ph,f(y$,Vg,e$(Zi)),A([f(kg,S,ov(f(Fz,w$,bg(3)))),pg("Produkt auswählen")])):f(Ph,f(y$,Vg,e$(Wi)),A([f(kg,S,ov(f(Fz,w$,bg(3)))),pg("Perimeter festlegen")]))),t=f(Pp,r,"Warenkorb");return f(Lh,A([Th(Dh)]),A([t,f(Lh,A([f(ng,30,20),Oh(Dp(r).Y),Th(Dh),Ch(nv(Kp(n))),Xp]),A([n_(n)])),e]))}(n)}(n);default:return function(n){return function(n){var r,t=n.a_,a=(r=e(function(n,r){return f(Ph,f(y$,Vg,e$(ha(3))),A([f(kg,S,f(n,w$,24)),pg(r)]))}),f(kg,A([ig(25),Th(jh),Ap,Oh(Dp(t).ek),Th(Dh),Ch(nv(70)),Gg(10)]),Zt(n.dZ)?sv(n.gz)?f(r,zm(15),"Bestellungen importieren"):f(r,zm(12),"Importieren / Exportieren"):f(cg,A([Oh(Dp(t).ek),Th(Dh),Ch(nv(70)),Gg(10)]),A([pg(n.dZ)])))),u=f(Pp,t,"Bestellungen");return f(Lh,A([Th(Dh)]),A([u,f(Lh,A([f(ng,30,20),Oh(Dp(t).Y),Th(Dh),Ch(nv(Kp(n))),Xp]),A([Dk(n)])),a]))}(n)}(n)}}(),i=f(Ph,A([Th(Dh),Ch(Dh)]),A([f(Lh,A([Oh(Dp(r).hW),Ch(Dh)]),A([m$(n)])),f(Lh,A([Oh(Dp(r).ek),Th(Dh),Ch(Dh)]),A([u]))])),c=f(Lh,A([Th(Dh),Ch(Dh)]),A([m$(n),u]));return n.fi.gC?i:c},e_=function(n){return r_(n)},t_=e(function(n,r){return{$:1,a:n,b:r}}),a_=fb(5),u_=function(n){return A(n.trim().split(/\s+/g))},i_=e(function(n,r){return C(r,function(){switch(n.$){case 0:return"serif";case 1:return"sans-serif";case 2:return"monospace";case 3:case 4:return f(Ne,"-",u_(jy(n.a)));default:return f(Ne,"-",u_(jy(n.a.bz)))}}())}),c_=function(n){return{$:6,a:n}},o_=e(function(n,r){return'<svg\n   xmlns:osb="http://www.openswatchbook.org/uri/2009/osb"\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   version="1.0"\n   width="'+Ge(n)+'px"\n   height="'+Ge(n)+'px"\n   viewBox="0 0 3500 3500"\n   preserveAspectRatio="xMidYMid meet"\n   id="svg883"\n   sodipodi:docname="icoGeoTangleGray.svg"\n   inkscape:version="0.92.3 (2405546, 2018-03-11)">\n  <title\n     id="title4596">geoTangle</title>\n  <metadata\n     id="metadata889">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title>geoTangle</dc:title>\n        <dc:creator>\n          <cc:Agent>\n            <dc:title>stephan@zinggeler.net</dc:title>\n          </cc:Agent>\n        </dc:creator>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs887">\n    <linearGradient\n       id="linearGradient6113"\n       osb:paint="solid">\n      <stop\n         style="stop-color:#806600;stop-opacity:1;"\n         offset="0"\n         id="stop6111" />\n    </linearGradient>\n    <linearGradient\n       id="linearGradient6105"\n       osb:paint="solid">\n      <stop\n         style="stop-color:#806600;stop-opacity:1;"\n         offset="0"\n         id="stop6103" />\n    </linearGradient>\n    <inkscape:path-effect\n       effect="bspline"\n       id="path-effect47"\n       is_visible="true"\n       weight="33.333333"\n       steps="2"\n       helper_size="0"\n       apply_no_weight="true"\n       apply_with_weight="true"\n       only_selected="false" />\n    <clipPath\n       clipPathUnits="userSpaceOnUse"\n       id="clipPath27">\n      <g\n         id="use29"\n         inkscape:label="Clip">\n        <g\n           id="g35"\n           style="fill:#c2572e;stroke:none"\n           transform="matrix(1,0,0,-1,0,3340)">\n          <path\n             d="M 0,1670 V 0 H 1630 3260 V 1670 3340 H 1630 0 Z m 2312,1426 c 7,-8 21,-23 30,-35 38,-45 104,-39 151,15 36,40 44,41 129,14 71,-22 173,-83 231,-138 57,-55 61,-65 37,-109 -27,-51 -25,-77 8,-113 21,-24 37,-31 77,-34 60,-5 69,-16 89,-107 22,-95 20,-124 -14,-230 -38,-115 -42,-120 -90,-113 -32,5 -42,2 -70,-23 -27,-24 -33,-36 -33,-72 0,-28 8,-52 22,-71 11,-16 21,-38 21,-49 0,-11 -30,-47 -72,-86 -81,-75 -189,-133 -267,-142 -49,-6 -51,-5 -68,28 -10,18 -31,46 -46,62 -24,25 -33,29 -63,24 -46,-8 -63,-22 -84,-73 -11,-24 -27,-43 -38,-46 -28,-8 -137,30 -206,72 -81,49 -176,137 -176,163 0,11 12,33 26,48 66,69 5,175 -96,167 -29,-3 -36,1 -49,27 -23,48 -27,218 -6,310 20,92 39,115 96,115 77,0 127,87 84,144 -25,33 -17,60 28,103 58,56 146,110 226,139 77,27 104,29 123,10 z M 1274,2917 c -123,-91 -223,-223 -304,-400 l -45,-97 H 707 c -251,0 -237,-9 -140,102 170,195 403,344 648,414 117,33 125,30 59,-19 z m 266,-242 v -265 h -260 -260 l 24,54 c 117,265 308,450 489,475 4,1 7,-118 7,-264 z m 218,229 c 48,-21 53,-26 50,-51 -2,-22 -14,-34 -51,-54 -60,-32 -71,-49 -96,-140 l -20,-74 v 177 l -1,178 33,-6 c 17,-4 56,-17 85,-30 z M 885,2303 c -37,-98 -95,-441 -95,-570 v -83 H 504 217 l 7,78 c 15,168 62,333 138,490 l 51,102 h 239 c 225,0 240,-1 233,-17 z m 655,-318 V 1650 H 1209 877 l 7,113 c 8,120 37,309 61,395 8,28 22,77 31,107 l 15,55 h 275 274 z m 147,217 c 11,-15 37,-36 59,-48 l 39,-21 -3,-61 c -4,-73 9,-101 75,-168 100,-99 294,-197 391,-195 40,0 42,-1 42,-29 v -30 h -330 -330 v 289 c 0,158 3,310 7,336 l 6,48 12,-47 c 7,-26 21,-60 32,-74 z m 1251,-344 c 9,-12 37,-187 30,-193 -2,-1 -132,-6 -290,-10 l -288,-7 v 56 c 0,31 4,56 10,56 5,0 26,-11 46,-25 68,-46 174,-29 316,51 33,19 74,46 90,59 32,27 70,32 86,13 z M 776,1551 c 7,0 13,-46 17,-123 7,-149 47,-376 93,-531 5,-16 -9,-17 -233,-15 l -238,3 -47,90 c -75,144 -126,322 -143,502 -7,64 -6,71 11,75 17,4 514,3 540,-1 z m 764,-333 V 880 H 1267 994 l -17,53 c -38,123 -71,306 -87,481 -6,65 -9,123 -7,130 3,8 92,12 331,12 h 326 z m 752,236 c -5,-153 -55,-427 -101,-546 l -11,-28 h -270 -270 v 333 c 0,184 2,336 5,339 3,3 150,4 328,4 l 322,-2 z m 660,36 c -8,-153 -66,-358 -148,-522 l -44,-88 h -235 c -129,0 -235,2 -235,5 0,3 11,42 24,88 34,118 65,308 72,452 l 7,124 31,3 c 17,2 144,3 281,3 h 250 z M 945,743 c 62,-170 206,-368 335,-462 l 45,-33 -47,6 c -62,9 -192,54 -290,99 -99,45 -235,139 -318,219 -68,65 -180,196 -180,210 0,4 98,8 219,8 H 927 Z M 1540,524 V 258 l -32,7 c -62,14 -172,77 -230,133 -92,88 -184,222 -237,345 l -20,47 h 259 260 z m 600,254 c 0,-7 -20,-53 -44,-103 C 2043,566 1952,441 1884,382 1835,339 1718,277 1668,266 l -28,-6 v 265 265 h 250 c 188,0 250,-3 250,-12 z m 533,-19 C 2648,716 2487,554 2415,499 2257,379 2086,297 1905,255 l -60,-14 35,27 c 136,102 280,298 353,480 l 17,42 h 220 221 z"\n             id="path31"\n             inkscape:connector-curvature="0" />\n          <path\n             d="m 2350,2730 c -141,-25 -228,-119 -238,-260 -7,-96 17,-160 82,-225 141,-142 370,-100 454,83 20,45 23,65 20,130 -7,134 -74,224 -195,262 -36,11 -68,19 -72,19 -3,-1 -26,-5 -51,-9 z m 115,-109 c 187,-84 129,-361 -75,-361 -61,0 -96,17 -138,64 -131,150 34,379 213,297 z"\n             id="path33"\n             inkscape:connector-curvature="0" />\n        </g>\n      </g>\n    </clipPath>\n  </defs>\n  <sodipodi:namedview\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1"\n     objecttolerance="10"\n     gridtolerance="10"\n     guidetolerance="10"\n     inkscape:pageopacity="0"\n     inkscape:pageshadow="2"\n     inkscape:window-width="1600"\n     inkscape:window-height="846"\n     id="namedview885"\n     showgrid="false"\n     inkscape:zoom="0.9760479"\n     inkscape:cx="94.355831"\n     inkscape:cy="162.90184"\n     inkscape:window-x="0"\n     inkscape:window-y="28"\n     inkscape:window-maximized="1"\n     inkscape:current-layer="g4590"\n     inkscape:pagecheckerboard="false"\n     fit-margin-top="0"\n     fit-margin-left="0"\n     fit-margin-right="0"\n     fit-margin-bottom="0" />\n  <g\n     id="g4590"\n     transform="translate(0,160)">\n    <g\n       transform="matrix(1,0,0,-1,0,3340)"\n       style="fill:#000000;fill-opacity:0;stroke:none"\n       id="layer101">\n      <path\n         style="fill:#000000;fill-opacity:0"\n         inkscape:connector-curvature="0"\n         id="path825"\n         d="M 0,1670 C 0,1113.3333 0,556.66667 0,0 c 1086.6667,0 2173.3333,0 3260,0 0,1113.3333 0,2226.6667 0,3340 -1086.6667,0 -2173.3333,0 -3260,0 0,-556.6667 0,-1113.3333 0,-1670 z" />\n    </g>\n    <g\n       id="g4594"\n       transform="rotate(18.153879,2045.7899,1732.8921)"\n       style="fill:'+r+' ">\n      <path\n         style="fill:'+r+';fill-opacity:1;stroke:none;stroke-width:1"\n         d="m 1584.1465,255.19592 c 102.7936,2.35824 367.6694,76.55363 297.628,72.83509 119.6203,-102.66931 287.8516,-244.611583 453.1139,-180.49164 98.7203,163.02548 241.1557,-94.904207 374.4884,34.49316 127.0012,53.86453 316.0867,167.44861 266.8811,330.07899 7.2613,87.56603 212.6186,103.70472 170.648,249.38025 -0.4626,135.28894 23.4302,306.41563 -97.0378,399.66853 -162.1104,50.5441 41.7506,221.9917 -5.5594,336.9928 45.9207,368.9104 -13.298,761.7995 -235.1062,1068.3193 -183.1674,284.0271 -468.4463,505.0628 -802.1499,576.6099 -376.465,97.7033 -794.6389,87.8428 -1139.42363,-107.9357 C 655.75463,2927.0101 477.43504,2758.7236 360.84646,2551.153 213.17771,2351.1443 148.84583,2105.5922 140.78897,1859.9113 79.288304,1220.8331 486.63438,561.20362 1098.6371,352.94615 1254.4984,296.5743 1418.9526,265.78262 1584.1465,255.19592 Z M 2189,253.99996 c -131.1212,52.49072 -326.0649,150.39889 -241.3789,312.61133 -51.8181,98.10516 -225.6441,63.64643 -199.3359,226.1543 -6.8853,115.4137 -45.9685,330.07651 128.6054,312.25001 116.0997,100.9604 -77.8901,265.0658 132.7888,333.9744 96.9415,70.407 274.6771,171.4896 322.9456,4.385 138.4307,-99.9584 158.3496,200.943 308.5496,71.8086 93.1676,-53.4344 308.4469,-141.5524 228.4816,-270.3555 -65.5788,-123.1013 80.8849,-148.4969 147.8243,-175.6914 C 3076.139,943.53235 3134.4965,703.16848 2975,643.99996 2782.8195,633.47247 2978.3516,423.24639 2829.334,367.1816 2708.4766,266.65284 2539.6842,179.89067 2414.125,308.62496 2322.257,303.97171 2299.6523,174.35788 2189,253.99996 Z m -974,150 c -282.1773,82.21026 -538.48456,258.44551 -712.51172,495.05273 76.42903,44.3952 190.79044,12.08153 283.6843,20.94727 47.52241,-11.82603 126.85234,26.16767 149.93366,-23.94011 C 1018.6808,698.18904 1139.0242,512.83504 1315.1855,386.75387 1286.9311,376.44837 1246.331,398.41952 1215,403.99996 Z m 318,-3 c -259.7255,51.55599 -417.0378,301.81884 -513,529 173.3333,0 346.6667,0 520,0 -1.8714,-176.28263 5.128,-353.13953 -7,-529 z m 140,5 c -64.2948,-21.80547 -45.0746,165.47844 -32.2587,125.95222 0.5066,74.34808 0.1548,148.69857 0.2587,223.04778 17.8438,-106.9766 64.6827,-202.37323 163.3906,-253.09375 C 1829.3867,431.39656 1714.8083,427.64793 1673,405.99996 Z M 652,1020 c -79.66667,0 -159.33333,0 -239,0 -112.67474,206.2075 -185.57109,434.308 -196,670 191,0 382,0 573,0 -4.81031,-223.5854 42.65778,-449.1425 93.1875,-662.4062 C 807.10886,1014.6051 728.90225,1022.3839 652,1020 Z m 888,0 c -183,0 -366,0 -549,0 -70.14694,216.6133 -104.58416,442.8343 -114,670 221,0 442,0 663,0 0,-223.3333 0,-446.6667 0,-670 z m 115,44 c -25.8149,-113.49763 -26.5362,206.9951 -23.8398,168.1094 -1.9302,152.6224 -0.8958,305.2602 -1.1602,457.8906 220,0 440,0 660,0 -4.6258,-117.0532 -222.3359,-49.3456 -290.916,-148.2676 C 1885.7011,1476.122 1748.7255,1372.9588 1784.1606,1224.0683 1761.014,1171.9074 1653.4641,1151.0704 1655,1064 Z m 1197,431 c -125.7694,89.171 -306.7078,197.5623 -452,85 -27.6489,69.5758 -17.695,139.5691 69.1492,110.0762 166.2994,-4.3727 332.6859,-6.8526 498.8508,-15.0762 -12.4499,-65.4155 7.945,-277.7997 -116,-180 z M 236,1788 c -34.70965,162.874 43.91888,361.385 105.01953,521.4688 41.09496,43.2561 39.17815,161.4902 117.96174,146.0856 142.17218,-2.8059 289.36435,15.3363 427.63006,-7.2341 C 823.65645,2236.637 800.29456,2016.3178 781.04688,1797.3906 644.1821,1774.1113 487.7853,1790.5435 343.0928,1785.767 307.39378,1786.2187 271.65138,1785.7751 236,1788 Z m 1304,-4 c -218.8991,3.8577 -439.4891,-9.972 -657,12 7.73221,224.4557 41.43866,450.0016 111,664 182,0 364,0 546,0 0,-225.3333 0,-450.6667 0,-676 z m 755,2 c -216.653,-0.3606 -433.4713,-5.8603 -650,2 -8.7289,223.8294 -3.6581,448.0107 -5,672 180,0 360,0 540,0 78.2905,-214.6917 111.0036,-446.0879 115,-674 z m 660,-1 c -187.3107,1.8428 -374.9909,-4.9514 -562,6 -8.3832,224.4358 -36.0989,448.914 -103,664 156.4177,8.6633 313.3469,3.674 470,5 110.7902,-208.3479 192.0645,-436.6236 195,-675 z M 927,2550 c -145.63752,1.932 -291.91984,-5.478 -437,8 191.58565,279.1535 498.32715,484.0149 835,534 -187.6666,-129.1284 -322.8553,-328.8355 -398,-542 z m 613,0 c -173,0 -346,0 -519,0 96.2452,230.908 259.7413,474.264 519,532 0,-177.3333 0,-354.6667 0,-532 z m 350,0 c -83.3333,0 -166.6667,0 -250,0 0,176.6667 0,353.3333 0,530 254.0472,-54.0492 412.7059,-290.3399 500,-518 -79.6623,-20.7568 -167.9013,-7.2666 -250,-12 z m 801,0 c -147,0 -294,0 -441,0 -82.4063,214.3888 -218.1743,412.7999 -405,549 338.39,-65.6718 650.578,-264.8562 846,-549 z"\n         id="path828-3"\n         inkscape:connector-curvature="0" />\n      <path\n         style="fill:'+r+';fill-opacity:1;stroke:none;stroke-width:1"\n         d="m 2356.651,612.24059 c -213.0979,17.91038 -315.5049,304.18181 -178.4727,460.60741 114.526,158.7958 384.7806,137.8103 468.18,-41.8655 82.5838,-157.72689 -7.4749,-387.14852 -192.5823,-416.35128 -32.3513,-13.49173 -63.8195,-11.83034 -97.125,-2.39063 z m 115,109 c 197.5617,71.66868 109.9473,397.54381 -96.7207,360.17771 -177.4762,-12.428 -223.0828,-285.65727 -58.3843,-357.84128 47.6526,-25.7178 106.5816,-25.36681 155.105,-2.33643 z"\n         id="path830-6"\n         inkscape:connector-curvature="0" />\n    </g>\n  </g>\n</svg>\n'}),f_=f(im,"0 0 48 48",A([f(cm,A([nm("M6 36h36v-4H6v4zm0-10h36v-4H6v4zm0-14v4h36v-4H6z")]),S)])),s_=t(function(n,r,e){var a,u=f(kg,A([Th(Jm(1))]),f(kg,A([hb(xg.hX),Ap]),pg("Open Data Shop"))),i=t(function(n,r,e){return f(Ph,A([ig(15),Ig(e$(ha(n))),Eg({T:10,Z:25,af:25,ag:10}),Pg,yv(A([Oh(xg.ej)])),Th(nv(300))]),A([f(kg,S,f(r,iv.bK,20)),f(cg,S,A([pg(e)]))]))}),c=function(n){return f(kg,S,ov(function(n){var r=function(n){return Fp(f(o_,n,"#666666"))}(n);return 1===r.$?Vd("GeoTangle"):r.a}(n)))},o=Uk(r?f(Lh,A([Qp,Oh(xg.ek),Yg(5),Eg({T:10,Z:0,af:0,ag:5})]),A([s(i,1,zm(10),"Einstellungen"),s(i,3,zm(12),"Bestellungen importieren / exportieren"),s(i,4,zm(7),"About")])):_g),l=f(kg,A([Th(Jm(1)),nz(c_(De(!1)))]),f(kg,A([Qp,Gg(10),Yg(bg(3)),gg(bg(1)),hb(xg.aW),o,yv(A([Oh(xg.ej)])),Ig(c_(Pe))]),ov(f(f_,iv.bK,32)))),b=(a=function(){if(e)return 61;switch(n.bV){case 1:return 177;case 2:case 3:return 254;default:return 61}}(),A(n.gC?[f(kg,A([Th(nv(a))]),f(Bv,S,{u:f(Ph,A([Jk,Gg(Tp(1)),ig(Tp(1)),gg(bg(2)),hb(xg.bK)]),A([c(50),pg("geoTangle")])),bf:"//szinggeler.github.io/"})),f(Ph,A([Th(Dh),Eg({T:Tp(4),Z:0,af:0,ag:Tp(4)}),ig(Tp(4)),gg(bg(4))]),A([f(kg,A([Th(Jm(1))]),_g),u,l]))]:[f(kg,S,f(Bv,S,{u:f(Ph,A([Jk,Gg(Tp(1)),ig(Tp(1))]),A([c(50)])),bf:"//szinggeler.github.io/"})),f(Ph,A([Th(Dh),Eg({T:Tp(4),Z:0,af:Tp(4),ag:Tp(4)}),ig(Tp(4)),gg(bg(4))]),A([f(kg,A([Th(Jm(1))]),f(Bv,S,{u:f(kg,A([gg(bg(2)),hb(xg.bK)]),pg("geoTangle")),bf:"//szinggeler.github.io/"})),u,l]))]));return n.bV?f(Ph,A([Th(Dh),Ch(nv(66)),Oh(xg.ek)]),b):f(Ph,A([Th(Dh),Ch(nv(66)),Eg({T:Tp(1),Z:Tp(1),af:Tp(4),ag:Tp(1)}),ig(Tp(1)),Oh(xg.ek)]),A([f(Bv,S,{u:c(50),bf:"//szinggeler.github.io/"}),f(Lh,A([gg(bg(3))]),A([f(Bv,S,{u:f(kg,A([gg(bg(1)),hb(xg.bK)]),pg("geoTangle")),bf:"//szinggeler.github.io/"}),u])),l]))}),l_=e(function(n,r){return{$:2,a:n,b:r}}),b_=e(function(n,r){return{$:1,a:n,b:r}}),d_={eE:Pe,eO:Pe,g5:De({aB:0,e2:l($g,155/255,203/255,1,1),b:z(0,0),g7:3})},h_=e(function(n,r){switch(r.$){case 0:return(0,r.a)(2);case 1:return f(r.a.fQ,n(r.a.d0),2);case 2:return Gd(r.a);default:return Gd("")}}),g_=t(function(n,r,t){var a=function(n){var r,t,a,u;return{fw:(u=(r=s(Jt,e(function(n,r){switch(n.$){case 0:return 1===r.fO.$?E(r,{fO:De(n.a)}):r;case 1:return 1===r.fw.$?E(r,{fw:De(n.a)}):r;default:return 1===r.gf.$?E(r,{gf:De(n.a)}):r}}),{fw:Pe,fO:Pe,gf:Pe},n)).fw,1===u.$?d_:u.a),fO:(a=r.fO,1===a.$?1:a.a),gf:(t=r.gf,1===t.$?0:t.a)}}(n),u=1===a.gf?l_(a):b_(a);return f(h_,u,l(Eh,2,vb,r,gb(A([t]))))}),v_={$:1},p_=function(n){return{$:3,a:n}},m_=(kp=A([p_("Open Sans"),p_("Helvetica"),p_("Verdana"),v_]),A([f(ob,Ih,s(cb,"bg-"+db(l($g,1,1,1,0)),"background-color",l($g,1,1,1,0))),f(ob,sb,s(cb,"fc-"+db(l($g,0,0,0,1)),"color",l($g,0,0,0,1))),f(ob,hg,dg(20)),f(ob,a_,f(t_,s(Xe,i_,"font-",kp),kp))])),$_=t(function(n,r,e){return s(g_,n.gx,f(_e,Fh(f(Ne," ",A(["ui","s","e"]))),C(m_,r)),e)}),w_={eE:Pe,eO:De(xg.aW),g5:Pe},x_=v_,y_=p_,k_=(zp=A(["-webkit-touch-callout","-webkit-user-select","-khtml-user-select","-moz-user-select","-ms-user-select","user-select"]),f(Ut,function(n){return Vp(f(Np,n,"none"))},zp));_p={Main:{init:ca({fX:function(n){var r,e={fJ:n.fJ,eg:n.eg};return z({en:ha(0),eF:_(0,0,255),cJ:"",e6:A([0]),a_:{eF:{eA:1,fR:225,f5:0,gW:.4},hi:sa({eA:1,fR:180,f5:0,gW:.4})},e9:Wu(1548017146522),a$:Ku,fi:ma(e),fk:l(la,"",wa,S,S),bX:"",fy:!0,fM:Ou(A([2,101])),b2:!1,a4:{eU:S,eZ:z(n.cB,n.cC),fq:S,fB:S,gr:"",gE:S,bF:"box",gN:S,hT:S,hZ:4},ao:!0,gb:!1,gz:wa,gE:wa,ar:"",dt:!1,as:0,dC:"",g2:wa,g3:Pe,bM:!1,dZ:"",d7:Vu,ef:{gX:{fJ:n.fJ,eg:n.eg},ef:{fJ:n.fJ,eg:n.eg,hV:0,hY:0}},hP:Ou(S)},va(A([f(ia,da,Pu),f(ia,ba,Zu),(r=ga,Tu({a0:f(vu,r,Za),bf:"https://geoservices.zh.ch/geoshopapi/v1/products"}))])))},hk:function(n){var r,e,a=s(ei,t(function(n,r,e){return e&&200===r.he}),!0,n.gz);return Uu(A([(e=Xu,s(ji,1,"resize",f(oa,"target",s(Lt,e,f(oa,"innerWidth",_a),f(oa,"innerHeight",_a))))),bi(function(n){return{$:11,a:n}}),li(function(n){return{$:27,a:n}}),di(Ru),gi(Nu),vi(Yu),(r=n.gz,f(Ai,0,r)>0&&!a?f(si,5e3,Ju(Gu)):pi)]))},hL:ib,hO:function(n){return{eM:A([s($_,{gx:A([(r=w_,{$:1,a:r})])},C(A([hb(xg.hX),gg(bg(1)),(e=A([y_("Montserrat"),x_]),f(ob,a_,f(t_,s(Xe,i_,"ff-",e),e)))]),k_),f(Lh,A([Th(Dh),Ch(Dh)]),A([s(s_,n.fi,n.bM,n.gb),e_(n)])))]),hE:"Open Data Shop (geoTangle)"};var r,e}})(f(At,function(n){return f(At,function(r){return f(At,function(e){return f(At,function(t){return f(At,function(a){return f(At,function(u){return f(At,function(i){return It({cB:i,cC:u,fJ:a,fN:t,ga:e,hH:r,eg:n})},f(oa,"centerEast",fa))},f(oa,"centerNorth",fa))},f(oa,"height",_a))},f(oa,"hostname",xa))},f(oa,"mapextent",xa))},f(oa,"topic",xa))},f(oa,"width",_a)))(0)}},n.Elm?function n(r,e){for(var t in e)t in r?"init"==t?m(6):n(r[t],e[t]):r[t]=e[t]}(n.Elm,_p):n.Elm=_p}(this);
},{}],"JiFC":[function(require,module,exports) {

},{}],"KniQ":[function(require,module,exports) {
"use strict";function t(){return function(){throw new Error("Unimplemented abstract method.")}()}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.abstract=t,exports.inherits=e,exports.getUid=o,exports.VERSION=void 0;var r=0;function o(t){return t.ol_uid||(t.ol_uid=String(++r))}var n="5.3.3";exports.VERSION=n;
},{}],"ygGQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./util.js"),t=function(t){function r(r){var o="Assertion failed. See https://openlayers.org/en/"+("latest"===e.VERSION?e.VERSION:"v"+e.VERSION.split("-")[0])+"/doc/errors/#"+r+" for details.";t.call(this,o),this.code=r,this.name="AssertionError",this.message=o}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(Error),r=t;exports.default=r;
},{"./util.js":"KniQ"}],"BTrx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ADD:"add",REMOVE:"remove"};exports.default=e;
},{}],"zehl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PROPERTYCHANGE:"propertychange"};exports.default=e;
},{}],"mH6q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=e,exports.getValues=n,exports.isEmpty=t,exports.assign=void 0;var r="function"==typeof Object.assign?Object.assign:function(r,e){var n=arguments;if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),o=1,s=arguments.length;o<s;++o){var i=n[o];if(null!=i)for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}return t};function e(r){for(var e in r)delete r[e]}function n(r){var e=[];for(var n in r)e.push(r[n]);return e}function t(r){var e;for(e in r)return!1;return!e}exports.assign=r;
},{}],"UqnM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindListener=t,exports.findListener=n,exports.getListeners=r,exports.listen=s,exports.listenOnce=a,exports.unlisten=u,exports.unlistenByKey=c,exports.unlistenAll=f;var e=require("./obj.js");function t(e){var t=function(t){var n=e.listener,r=e.bindTo||e.target;return e.callOnce&&c(e),n.call(r,t)};return e.boundListener=t,t}function n(e,t,n,r){for(var i,l=0,o=e.length;l<o;++l)if((i=e[l]).listener===t&&i.bindTo===n)return r&&(i.deleteIndex=l),i}function r(e,t){var n=i(e);return n?n[t]:void 0}function i(e,t){var n=e.ol_lm;return!n&&t&&(n=e.ol_lm={}),n}function l(e){delete e.ol_lm}function o(t,n){var o=r(t,n);if(o){for(var s=0,a=o.length;s<a;++s)t.removeEventListener(n,o[s].boundListener),(0,e.clear)(o[s]);o.length=0;var u=i(t);u&&(delete u[n],0===Object.keys(u).length&&l(t))}}function s(e,r,l,o,s){var a=i(e,!0),u=a[r];u||(u=a[r]=[]);var c=n(u,l,o,!1);return c?s||(c.callOnce=!1):(c={bindTo:o,callOnce:!!s,listener:l,target:e,type:r},e.addEventListener(r,t(c)),u.push(c)),c}function a(e,t,n,r){return s(e,t,n,r,!0)}function u(e,t,i,l){var o=r(e,t);if(o){var s=n(o,i,l,!0);s&&c(s)}}function c(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var n=r(t.target,t.type);if(n){var i="deleteIndex"in t?t.deleteIndex:n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&o(t.target,t.type)}(0,e.clear)(t)}}function f(e){var t=i(e);if(t)for(var n in t)o(e,n)}
},{"./obj.js":"mH6q"}],"DDda":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){this.disposed_=!1};e.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){};var s=e;exports.default=s;
},{}],"RgA2":[function(require,module,exports) {
"use strict";function e(){return!0}function t(){return!1}function r(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TRUE=e,exports.FALSE=t,exports.VOID=r;
},{}],"fKNg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stopPropagation=o,exports.preventDefault=p,exports.default=void 0;var t=function(t){this.propagationStopped,this.type=t,this.target=null};function o(t){t.stopPropagation()}function p(t){t.preventDefault()}t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0};var e=t;exports.default=e;
},{}],"CR4Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../Disposable.js")),t=require("../events.js"),i=require("../functions.js"),s=n(require("./Event.js"));function n(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function n(){e.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.addEventListener=function(e,t){var i=this.listeners_[e];i||(i=this.listeners_[e]=[]),-1===i.indexOf(t)&&i.push(t)},n.prototype.dispatchEvent=function(e){var t="string"==typeof e?new s.default(e):e,n=t.type;t.target=this;var r,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var p=0,a=o.length;p<a;++p)if(!1===o[p].call(this,t)||t.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var h=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];h--;)this.removeEventListener(n,i.VOID);delete this.dispatching_[n]}return r}},n.prototype.disposeInternal=function(){(0,t.unlistenAll)(this)},n.prototype.getListeners=function(e){return this.listeners_[e]},n.prototype.hasListener=function(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0},n.prototype.removeEventListener=function(e,t){var s=this.listeners_[e];if(s){var n=s.indexOf(t);e in this.pendingRemovals_?(s[n]=i.VOID,++this.pendingRemovals_[e]):(s.splice(n,1),0===s.length&&delete this.listeners_[e])}},n}(e.default),o=r;exports.default=o;
},{"../Disposable.js":"DDda","../events.js":"UqnM","../functions.js":"RgA2","./Event.js":"fKNg"}],"C8cu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};exports.default=e;
},{}],"IdSm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unByKey=o,exports.default=void 0;var e=require("./events.js"),t=n(require("./events/Target.js")),r=n(require("./events/EventType.js"));function n(e){return e&&e.__esModule?e:{default:e}}var i=function(t){function n(){t.call(this),this.revision_=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.changed=function(){++this.revision_,this.dispatchEvent(r.default.CHANGE)},n.prototype.getRevision=function(){return this.revision_},n.prototype.on=function(t,r){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=(0,e.listen)(this,t[o],r);return i}return(0,e.listen)(this,t,r)},n.prototype.once=function(t,r){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=(0,e.listenOnce)(this,t[o],r);return i}return(0,e.listenOnce)(this,t,r)},n.prototype.un=function(t,r){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)(0,e.unlisten)(this,t[n],r);else(0,e.unlisten)(this,t,r)},n}(t.default);function o(t){if(Array.isArray(t))for(var r=0,n=t.length;r<n;++r)(0,e.unlistenByKey)(t[r]);else(0,e.unlistenByKey)(t)}var s=i;exports.default=s;
},{"./events.js":"UqnM","./events/Target.js":"CR4Y","./events/EventType.js":"C8cu"}],"PhPh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getChangeEventType=a,exports.default=exports.ObjectEvent=void 0;var t=require("./util.js"),e=i(require("./ObjectEventType.js")),r=i(require("./Observable.js")),o=i(require("./events/Event.js")),s=require("./obj.js");function i(t){return t&&t.__esModule?t:{default:t}}var n=function(t){function e(e,r,o){t.call(this,e),this.key=r,this.oldValue=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.default);exports.ObjectEvent=n;var u=function(r){function o(e){r.call(this),(0,t.getUid)(this),this.values_={},void 0!==e&&this.setProperties(e)}return r&&(o.__proto__=r),o.prototype=Object.create(r&&r.prototype),o.prototype.constructor=o,o.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},o.prototype.getKeys=function(){return Object.keys(this.values_)},o.prototype.getProperties=function(){return(0,s.assign)({},this.values_)},o.prototype.notify=function(t,r){var o;o=a(t),this.dispatchEvent(new n(o,t,r)),o=e.default.PROPERTYCHANGE,this.dispatchEvent(new n(o,t,r))},o.prototype.set=function(t,e,r){if(r)this.values_[t]=e;else{var o=this.values_[t];this.values_[t]=e,o!==e&&this.notify(t,o)}},o.prototype.setProperties=function(t,e){for(var r in t)this.set(r,t[r],e)},o.prototype.unset=function(t,e){if(t in this.values_){var r=this.values_[t];delete this.values_[t],e||this.notify(t,r)}},o}(r.default),p={};function a(t){return p.hasOwnProperty(t)?p[t]:p[t]="change:"+t}var c=u;exports.default=c;
},{"./util.js":"KniQ","./ObjectEventType.js":"zehl","./Observable.js":"IdSm","./events/Event.js":"fKNg","./obj.js":"mH6q"}],"FnDa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CollectionEvent=void 0;var t=n(require("./AssertionError.js")),e=n(require("./CollectionEventType.js")),r=n(require("./Object.js")),i=n(require("./events/Event.js"));function n(t){return t&&t.__esModule?t:{default:t}}var o={LENGTH:"length"},s=function(t){function e(e,r){t.call(this,e),this.element=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.default);exports.CollectionEvent=s;var a=function(r){function i(t,e){r.call(this);var i=e||{};if(this.unique_=!!i.unique,this.array_=t||[],this.unique_)for(var n=0,o=this.array_.length;n<o;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},i.prototype.extend=function(t){for(var e=0,r=t.length;e<r;++e)this.push(t[e]);return this},i.prototype.forEach=function(t){for(var e=this.array_,r=0,i=e.length;r<i;++r)t(e[r],r,e)},i.prototype.getArray=function(){return this.array_},i.prototype.item=function(t){return this.array_[t]},i.prototype.getLength=function(){return this.get(o.LENGTH)},i.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new s(e.default.ADD,r))},i.prototype.pop=function(){return this.removeAt(this.getLength()-1)},i.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},i.prototype.remove=function(t){for(var e=this.array_,r=0,i=e.length;r<i;++r)if(e[r]===t)return this.removeAt(r)},i.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new s(e.default.REMOVE,r)),r},i.prototype.setAt=function(t,r){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(r,t);var n=this.array_[t];this.array_[t]=r,this.dispatchEvent(new s(e.default.REMOVE,n)),this.dispatchEvent(new s(e.default.ADD,r))}else{for(var o=i;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,r)}},i.prototype.updateLength_=function(){this.set(o.LENGTH,this.array_.length)},i.prototype.assertUnique_=function(e,r){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===e&&i!==r)throw new t.default(58)},i}(r.default),h=a;exports.default=h;
},{"./AssertionError.js":"ygGQ","./CollectionEventType.js":"BTrx","./Object.js":"PhPh","./events/Event.js":"fKNg"}],"fLG6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assert=t;var e=r(require("./AssertionError.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if(!r)throw new e.default(t)}
},{"./AssertionError.js":"ygGQ"}],"mYW9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createStyleFunction=h,exports.default=void 0;var e=require("./asserts.js"),t=require("./events.js"),r=s(require("./events/EventType.js")),n=i(require("./Object.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e){if(e&&e.__esModule)return e;var t=o();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}function s(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function o(r){if(e.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,(0,t.listen)(this,(0,n.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),r)if("function"==typeof r.getSimplifiedGeometry){var o=r;this.setGeometry(o)}else{var i=r;this.setProperties(i)}}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.clone=function(){var e=new o(this.getProperties());e.setGeometryName(this.getGeometryName());var t=this.getGeometry();t&&e.setGeometry(t.clone());var r=this.getStyle();return r&&e.setStyle(r),e},o.prototype.getGeometry=function(){return this.get(this.geometryName_)},o.prototype.getId=function(){return this.id_},o.prototype.getGeometryName=function(){return this.geometryName_},o.prototype.getStyle=function(){return this.style_},o.prototype.getStyleFunction=function(){return this.styleFunction_},o.prototype.handleGeometryChange_=function(){this.changed()},o.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,t.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=(0,t.listen)(e,r.default.CHANGE,this.handleGeometryChange_,this)),this.changed()},o.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},o.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?h(e):void 0,this.changed()},o.prototype.setId=function(e){this.id_=e,this.changed()},o.prototype.setGeometryName=function(e){(0,t.unlisten)(this,(0,n.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=e,(0,t.listen)(this,(0,n.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},o}(n.default);function h(t){return"function"==typeof t?t:(Array.isArray(t)?r=t:((0,e.assert)("function"==typeof t.getZIndex,41),r=[t]),function(){return r});var r}var a=y;exports.default=a;
},{"./asserts.js":"fLG6","./events.js":"UqnM","./events/EventType.js":"C8cu","./Object.js":"PhPh"}],"luEr":[function(require,module,exports) {
"use strict";function r(r,n,t){for(var u,o,i=t||e,f=0,a=r.length,s=!1;f<a;)(o=+i(r[u=f+(a-f>>1)],n))<0?f=u+1:(a=u,s=!o);return s?f:~f}function e(r,e){return r>e?1:r<e?-1:0}function n(r,e){return r.indexOf(e)>=0}function t(r,e,n){var t,u=r.length;if(r[0]<=e)return 0;if(e<=r[u-1])return u-1;if(n>0){for(t=1;t<u;++t)if(r[t]<e)return t-1}else if(n<0){for(t=1;t<u;++t)if(r[t]<=e)return t}else for(t=1;t<u;++t){if(r[t]==e)return t;if(r[t]<e)return r[t-1]-e<e-r[t]?t-1:t}return u-1}function u(r,e,n){for(;e<n;){var t=r[e];r[e]=r[n],r[n]=t,++e,--n}}function o(r,e){for(var n=Array.isArray(e)?e:[e],t=n.length,u=0;u<t;u++)r[r.length]=n[u]}function i(r,e){var n=r.indexOf(e),t=n>-1;return t&&r.splice(n,1),t}function f(r,e){for(var n,t=r.length>>>0,u=0;u<t;u++)if(e(n=r[u],u,r))return n;return null}function a(r,e){var n=r.length;if(n!==e.length)return!1;for(var t=0;t<n;t++)if(r[t]!==e[t])return!1;return!0}function s(r,e){var n,t=r.length,u=Array(r.length);for(n=0;n<t;n++)u[n]={index:n,value:r[n]};for(u.sort(function(r,n){return e(r.value,n.value)||r.index-n.index}),n=0;n<r.length;n++)r[n]=u[n].value}function l(r,e){var n;return!r.every(function(t,u){return n=u,!e(t,u,r)})?n:-1}function c(r,n,t){var u=n||e;return r.every(function(e,n){if(0===n)return!0;var o=u(r[n-1],e);return!(o>0||t&&0===o)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.binarySearch=r,exports.numberSafeCompareFunction=e,exports.includes=n,exports.linearFindNearest=t,exports.reverseSubArray=u,exports.extend=o,exports.remove=i,exports.find=f,exports.equals=a,exports.stableSort=s,exports.findIndex=l,exports.isSorted=c;
},{}],"urGY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};exports.default=t;
},{}],"bUAS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};exports.default=e;
},{}],"QDir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.boundingExtent=o,exports.buffer=a,exports.clone=i,exports.closestSquaredDistanceXY=s,exports.containsCoordinate=f,exports.containsExtent=c,exports.containsXY=p,exports.coordinateRelationship=x,exports.createEmpty=l,exports.createOrUpdate=d,exports.createOrUpdateEmpty=h,exports.createOrUpdateFromCoordinate=m,exports.createOrUpdateFromCoordinates=g,exports.createOrUpdateFromFlatCoordinates=T,exports.createOrUpdateFromRings=E,exports.equals=M,exports.extend=O,exports.extendCoordinate=v,exports.extendCoordinates=C,exports.extendFlatCoordinates=R,exports.extendRings=F,exports.extendXY=I,exports.forEachCorner=N,exports.getArea=B,exports.getBottomLeft=L,exports.getBottomRight=y,exports.getCenter=U,exports.getCorner=G,exports.getEnlargedArea=_,exports.getForViewAndSize=A,exports.getHeight=S,exports.getIntersectionArea=H,exports.getIntersection=W,exports.getMargin=q,exports.getSize=j,exports.getTopLeft=V,exports.getTopRight=b,exports.getWidth=P,exports.intersects=X,exports.isEmpty=Y,exports.returnOrUpdate=z,exports.scaleFromCenter=K,exports.intersectsSegment=w,exports.applyTransform=D;var t=require("./asserts.js"),e=n(require("./extent/Corner.js")),r=n(require("./extent/Relationship.js"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=l(),r=0,n=t.length;r<n;++r)v(e,t[r]);return e}function u(t,e,r){return d(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),r)}function a(t,e,r){return r?(r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function i(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function s(t,e,r){var n,o;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(o=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0)*o}function f(t,e){return p(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function p(t,e,r){return t[0]<=e&&e<=t[2]&&t[1]<=r&&r<=t[3]}function x(t,e){var n=t[0],o=t[1],u=t[2],a=t[3],i=e[0],s=e[1],f=r.default.UNKNOWN;return i<n?f|=r.default.LEFT:i>u&&(f|=r.default.RIGHT),s<o?f|=r.default.BELOW:s>a&&(f|=r.default.ABOVE),f===r.default.UNKNOWN&&(f=r.default.INTERSECTING),f}function l(){return[1/0,1/0,-1/0,-1/0]}function d(t,e,r,n,o){return o?(o[0]=t,o[1]=e,o[2]=r,o[3]=n,o):[t,e,r,n]}function h(t){return d(1/0,1/0,-1/0,-1/0,t)}function m(t,e){var r=t[0],n=t[1];return d(r,n,r,n,e)}function g(t,e){return C(h(e),t)}function T(t,e,r,n,o){return R(h(o),t,e,r,n)}function E(t,e){return F(h(e),t)}function M(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function O(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function v(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C(t,e){for(var r=0,n=e.length;r<n;++r)v(t,e[r]);return t}function R(t,e,r,n,o){for(;r<n;r+=o)I(t,e[r],e[r+1]);return t}function F(t,e){for(var r=0,n=e.length;r<n;++r)C(t,e[r]);return t}function I(t,e,r){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],r),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],r)}function N(t,e,r){var n;return(n=e.call(r,L(t)))?n:(n=e.call(r,y(t)))?n:(n=e.call(r,b(t)))?n:(n=e.call(r,V(t)))||!1}function B(t){var e=0;return Y(t)||(e=P(t)*S(t)),e}function L(t){return[t[0],t[1]]}function y(t){return[t[2],t[1]]}function U(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function G(r,n){var o;return n===e.default.BOTTOM_LEFT?o=L(r):n===e.default.BOTTOM_RIGHT?o=y(r):n===e.default.TOP_LEFT?o=V(r):n===e.default.TOP_RIGHT?o=b(r):(0,t.assert)(!1,13),o}function _(t,e){var r=Math.min(t[0],e[0]),n=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-r)*(Math.max(t[3],e[3])-n)}function A(t,e,r,n,o){var u=e*n[0]/2,a=e*n[1]/2,i=Math.cos(r),s=Math.sin(r),f=u*i,c=u*s,p=a*i,x=a*s,l=t[0],h=t[1],m=l-f+x,g=l-f-x,T=l+f-x,E=l+f+x,M=h-c-p,O=h-c+p,v=h+c+p,C=h+c-p;return d(Math.min(m,g,T,E),Math.min(M,O,v,C),Math.max(m,g,T,E),Math.max(M,O,v,C),o)}function S(t){return t[3]-t[1]}function H(t,e){return B(W(t,e))}function W(t,e,r){var n=r||l();return X(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):h(n),n}function q(t){return P(t)+S(t)}function j(t){return[t[2]-t[0],t[3]-t[1]]}function V(t){return[t[0],t[3]]}function b(t){return[t[2],t[3]]}function P(t){return t[2]-t[0]}function X(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Y(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function K(t,e){var r=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=r,t[2]+=r,t[1]-=n,t[3]+=n}function w(t,e,n){var o=!1,u=x(t,e),a=x(t,n);if(u===r.default.INTERSECTING||a===r.default.INTERSECTING)o=!0;else{var i,s,f=t[0],c=t[1],p=t[2],l=t[3],d=e[0],h=e[1],m=n[0],g=n[1],T=(g-h)/(m-d);a&r.default.ABOVE&&!(u&r.default.ABOVE)&&(o=(i=m-(g-l)/T)>=f&&i<=p),o||!(a&r.default.RIGHT)||u&r.default.RIGHT||(o=(s=g-(m-p)*T)>=c&&s<=l),o||!(a&r.default.BELOW)||u&r.default.BELOW||(o=(i=m-(g-c)/T)>=f&&i<=p),o||!(a&r.default.LEFT)||u&r.default.LEFT||(o=(s=g-(m-f)*T)>=c&&s<=l)}return o}function D(t,e,r){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(n,n,2),u([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],r)}
},{"./asserts.js":"fLG6","./extent/Corner.js":"urGY","./extent/Relationship.js":"bUAS"}],"Utvi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};exports.default=e;
},{}],"lmV0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};exports.default=e;
},{}],"LGwr":[function(require,module,exports) {
"use strict";function r(r,t,e,n,o,a){for(var f=a||[],s=0,l=t;l<e;l+=n){var u=r[l],v=r[l+1];f[s++]=o[0]*u+o[2]*v+o[4],f[s++]=o[1]*u+o[3]*v+o[5]}return a&&f.length!=s&&(f.length=s),f}function t(r,t,e,n,o,a,f){for(var s=f||[],l=Math.cos(o),u=Math.sin(o),v=a[0],h=a[1],c=0,g=t;g<e;g+=n){var i=r[g]-v,p=r[g+1]-h;s[c++]=v+i*l-p*u,s[c++]=h+i*u+p*l;for(var x=g+2;x<g+n;++x)s[c++]=r[x]}return f&&s.length!=c&&(s.length=c),s}function e(r,t,e,n,o,a,f,s){for(var l=s||[],u=f[0],v=f[1],h=0,c=t;c<e;c+=n){var g=r[c]-u,i=r[c+1]-v;l[h++]=u+o*g,l[h++]=v+a*i;for(var p=c+2;p<c+n;++p)l[h++]=r[p]}return s&&l.length!=h&&(l.length=h),l}function n(r,t,e,n,o,a,f){for(var s=f||[],l=0,u=t;u<e;u+=n){s[l++]=r[u]+o,s[l++]=r[u+1]+a;for(var v=u+2;v<u+n;++v)s[l++]=r[v]}return f&&s.length!=l&&(s.length=l),s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.transform2D=r,exports.rotate=t,exports.scale=e,exports.translate=n;
},{}],"B96G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clamp=t,exports.roundUpToPowerOfTwo=o,exports.squaredSegmentDistance=a,exports.squaredDistance=n,exports.solveLinearSystem=s,exports.toDegrees=u,exports.toRadians=i,exports.modulo=c,exports.lerp=f,exports.cosh=void 0;var r=require("./asserts.js");function t(r,t,e){return Math.min(Math.max(r,t),e)}var e="cosh"in Math?Math.cosh:function(r){var t=Math.exp(r);return(t+1/t)/2};function o(t){return(0,r.assert)(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function a(r,t,e,o,a,s){var u=a-e,i=s-o;if(0!==u||0!==i){var c=((r-e)*u+(t-o)*i)/(u*u+i*i);c>1?(e=a,o=s):c>0&&(e+=u*c,o+=i*c)}return n(r,t,e,o)}function n(r,t,e,o){var a=e-r,n=o-t;return a*a+n*n}function s(r){for(var t=r.length,e=0;e<t;e++){for(var o=e,a=Math.abs(r[e][e]),n=e+1;n<t;n++){var s=Math.abs(r[n][e]);s>a&&(a=s,o=n)}if(0===a)return null;var u=r[o];r[o]=r[e],r[e]=u;for(var i=e+1;i<t;i++)for(var c=-r[i][e]/r[e][e],f=e;f<t+1;f++)e==f?r[i][f]=0:r[i][f]+=c*r[e][f]}for(var h=new Array(t),p=t-1;p>=0;p--){h[p]=r[p][t]/r[p][p];for(var v=p-1;v>=0;v--)r[v][t]-=r[v][p]*h[p]}return h}function u(r){return 180*r/Math.PI}function i(r){return r*Math.PI/180}function c(r,t){var e=r%t;return e*t<0?e+t:e}function f(r,t,e){return r+e*(t-r)}exports.cosh=e;
},{"./asserts.js":"fLG6"}],"q4ER":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDistance=s,exports.getLength=n,exports.getArea=u,exports.offset=h,exports.DEFAULT_RADIUS=void 0;var e=require("./math.js"),t=a(require("./geom/GeometryType.js"));function a(e){return e&&e.__esModule?e:{default:e}}var r=6371008.8;function s(t,a,s){var o=s||r,n=(0,e.toRadians)(t[1]),i=(0,e.toRadians)(a[1]),u=(i-n)/2,h=(0,e.toRadians)(a[0]-t[0])/2,f=Math.sin(u)*Math.sin(u)+Math.sin(h)*Math.sin(h)*Math.cos(n)*Math.cos(i);return 2*o*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}function o(e,t){for(var a=0,r=0,o=e.length;r<o-1;++r)a+=s(e[r],e[r+1],t);return a}function n(e,a){var s=a||{},i=s.radius||r,u=s.projection||"EPSG:3857",h=e.getType();h!==t.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(u,"EPSG:4326"));var f,d,M,c,l,g,I=0;switch(h){case t.default.POINT:case t.default.MULTI_POINT:break;case t.default.LINE_STRING:case t.default.LINEAR_RING:I=o(f=e.getCoordinates(),i);break;case t.default.MULTI_LINE_STRING:case t.default.POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)I+=o(f[M],i);break;case t.default.MULTI_POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)for(l=0,g=(d=f[M]).length;l<g;++l)I+=o(d[l],i);break;case t.default.GEOMETRY_COLLECTION:var L=e.getGeometries();for(M=0,c=L.length;M<c;++M)I+=n(L[M],a);break;default:throw new Error("Unsupported geometry type: "+h)}return I}function i(t,a){for(var r=0,s=t.length,o=t[s-1][0],n=t[s-1][1],i=0;i<s;i++){var u=t[i][0],h=t[i][1];r+=(0,e.toRadians)(u-o)*(2+Math.sin((0,e.toRadians)(n))+Math.sin((0,e.toRadians)(h))),o=u,n=h}return r*a*a/2}function u(e,a){var s=a||{},o=s.radius||r,n=s.projection||"EPSG:3857",h=e.getType();h!==t.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(n,"EPSG:4326"));var f,d,M,c,l,g,I=0;switch(h){case t.default.POINT:case t.default.MULTI_POINT:case t.default.LINE_STRING:case t.default.MULTI_LINE_STRING:case t.default.LINEAR_RING:break;case t.default.POLYGON:for(f=e.getCoordinates(),I=Math.abs(i(f[0],o)),M=1,c=f.length;M<c;++M)I-=Math.abs(i(f[M],o));break;case t.default.MULTI_POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)for(d=f[M],I+=Math.abs(i(d[0],o)),l=1,g=d.length;l<g;++l)I-=Math.abs(i(d[l],o));break;case t.default.GEOMETRY_COLLECTION:var L=e.getGeometries();for(M=0,c=L.length;M<c;++M)I+=u(L[M],a);break;default:throw new Error("Unsupported geometry type: "+h)}return I}function h(t,a,s,o){var n=o||r,i=(0,e.toRadians)(t[1]),u=(0,e.toRadians)(t[0]),h=a/n,f=Math.asin(Math.sin(i)*Math.cos(h)+Math.cos(i)*Math.sin(h)*Math.cos(s)),d=u+Math.atan2(Math.sin(s)*Math.sin(h)*Math.cos(i),Math.cos(h)-Math.sin(i)*Math.sin(f));return[(0,e.toDegrees)(d),(0,e.toDegrees)(f)]}exports.DEFAULT_RADIUS=r;
},{"./math.js":"B96G","./geom/GeometryType.js":"lmV0"}],"yZx6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.METERS_PER_UNIT=void 0;var E={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},e={};exports.METERS_PER_UNIT=e,e[E.DEGREES]=2*Math.PI*6370997/360,e[E.FEET]=.3048,e[E.METERS]=1,e[E.USFEET]=1200/3937;var t=E;exports.default=t;
},{}],"WUar":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./Units.js"),n=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||e.METERS_PER_UNIT[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},n.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},n.prototype.setWorldExtent=function(t){this.worldExtent_=t},n.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var i=n;exports.default=i;
},{"./Units.js":"yZx6"}],"lohs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEPSG4326=E,exports.toEPSG4326=c,exports.PROJECTIONS=exports.WORLD_EXTENT=exports.EXTENT=exports.HALF_SIZE=exports.RADIUS=void 0;var e=require("../math.js"),t=o(require("./Projection.js")),r=o(require("./Units.js"));function o(e){return e&&e.__esModule?e:{default:e}}var n=6378137;exports.RADIUS=n;var s=Math.PI*n;exports.HALF_SIZE=s;var a=[-s,-s,s,s];exports.EXTENT=a;var u=[-180,-85,180,85];exports.WORLD_EXTENT=u;var p=function(t){function o(o){t.call(this,{code:o,units:r.default.METERS,extent:a,global:!0,worldExtent:u,getPointResolution:function(t,r){return t/(0,e.cosh)(r[1]/n)}})}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o}(t.default),i=[new p("EPSG:3857"),new p("EPSG:102100"),new p("EPSG:102113"),new p("EPSG:900913"),new p("urn:ogc:def:crs:EPSG:6.18:3:3857"),new p("urn:ogc:def:crs:EPSG::3857"),new p("http://www.opengis.net/gml/srs/epsg.xml#3857")];function E(e,t,r){var o=e.length,a=r>1?r:2,u=t;void 0===u&&(u=a>2?e.slice():new Array(o));for(var p=s,i=0;i<o;i+=a){u[i]=p*e[i]/180;var E=n*Math.log(Math.tan(Math.PI*(e[i+1]+90)/360));E>p?E=p:E<-p&&(E=-p),u[i+1]=E}return u}function c(e,t,r){var o=e.length,a=r>1?r:2,u=t;void 0===u&&(u=a>2?e.slice():new Array(o));for(var p=0;p<o;p+=a)u[p]=180*e[p]/s,u[p+1]=360*Math.atan(Math.exp(e[p+1]/n))/Math.PI-90;return u}exports.PROJECTIONS=i;
},{"../math.js":"B96G","./Projection.js":"WUar","./Units.js":"yZx6"}],"ZniN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PROJECTIONS=exports.METERS_PER_UNIT=exports.EXTENT=exports.RADIUS=void 0;var e=t(require("./Projection.js")),r=t(require("./Units.js"));function t(e){return e&&e.__esModule?e:{default:e}}var n=6378137;exports.RADIUS=n;var o=[-180,-90,180,90];exports.EXTENT=o;var s=Math.PI*n/180;exports.METERS_PER_UNIT=s;var u=function(e){function t(t,n){e.call(this,{code:t,units:r.default.DEGREES,extent:o,axisOrientation:n,global:!0,metersPerUnit:s,worldExtent:o})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.default),c=[new u("CRS:84"),new u("EPSG:4326","neu"),new u("urn:ogc:def:crs:EPSG::4326","neu"),new u("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new u("urn:ogc:def:crs:OGC:1.3:CRS84"),new u("urn:ogc:def:crs:OGC:2:84"),new u("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new u("urn:x-ogc:def:crs:EPSG:4326","neu")];exports.PROJECTIONS=c;
},{"./Projection.js":"WUar","./Units.js":"yZx6"}],"tlE8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=t,exports.get=r,exports.add=n;var e={};function t(){e={}}function r(t){return e[t]||null}function n(t,r){e[t]=r}
},{}],"uhlP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=r,exports.add=o,exports.remove=n,exports.get=i;var e=require("../obj.js"),t={};function r(){t={}}function o(e,r,o){var n=e.getCode(),i=r.getCode();n in t||(t[n]={}),t[n][i]=o}function n(r,o){var n=r.getCode(),i=o.getCode(),d=t[n][i];return delete t[n][i],(0,e.isEmpty)(t[n])&&delete t[n],d}function i(e,r){var o;return e in t&&r in t[e]&&(o=t[e][r]),o}
},{"../obj.js":"mH6q"}],"Diht":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cloneTransform=p,exports.identityTransform=l,exports.addProjection=E,exports.addProjections=P,exports.get=j,exports.getPointResolution=v,exports.addEquivalentProjections=g,exports.addEquivalentTransforms=x,exports.clearAllProjections=m,exports.createProjection=O,exports.createTransformFromCoordinateTransform=T,exports.addCoordinateTransforms=S,exports.fromLonLat=y,exports.toLonLat=h,exports.equivalent=R,exports.getTransformFromProjections=q,exports.getTransform=C,exports.transform=_,exports.transformExtent=b,exports.transformWithProjections=G,exports.addCommon=M,Object.defineProperty(exports,"Projection",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"METERS_PER_UNIT",{enumerable:!0,get:function(){return u.METERS_PER_UNIT}});var e=require("./sphere.js"),r=require("./extent.js"),t=require("./math.js"),n=require("./proj/epsg3857.js"),o=require("./proj/epsg4326.js"),i=d(require("./proj/Projection.js")),u=c(require("./proj/Units.js")),s=c(require("./proj/projections.js")),a=require("./proj/transforms.js");function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function c(e){if(e&&e.__esModule)return e;var r=f();if(r&&r.has(e))return r.get(e);var t={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=e[o]}}return t.default=e,r&&r.set(e,t),t}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,r,t){var n;if(void 0!==r){for(var o=0,i=e.length;o<i;++o)r[o]=e[o];n=r}else n=e.slice();return n}function l(e,r,t){if(void 0!==r&&e!==r){for(var n=0,o=e.length;n<o;++n)r[n]=e[n];e=r}return e}function E(e){s.add(e.getCode(),e),(0,a.add)(e,e,p)}function P(e){e.forEach(E)}function j(e){return"string"==typeof e?s.get(e):e||null}function v(r,t,n,o){var i,s=(r=j(r)).getPointResolutionFunc();if(s)i=s(t,n);else if(r.getUnits()==u.default.DEGREES&&!o||o==u.default.DEGREES)i=t;else{var a=q(r,j("EPSG:4326")),f=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];f=a(f,f,2),i=((0,e.getDistance)(f.slice(0,2),f.slice(2,4))+(0,e.getDistance)(f.slice(4,6),f.slice(6,8)))/2;var c=o?u.METERS_PER_UNIT[o]:r.getMetersPerUnit();void 0!==c&&(i/=c)}return i}function g(e){P(e),e.forEach(function(r){e.forEach(function(e){r!==e&&(0,a.add)(r,e,p)})})}function x(e,r,t,n){e.forEach(function(e){r.forEach(function(r){(0,a.add)(e,r,t),(0,a.add)(r,e,n)})})}function m(){s.clear(),(0,a.clear)()}function O(e,r){return e?"string"==typeof e?j(e):e:j(r)}function T(e){return function(r,t,n){for(var o=r.length,i=void 0!==n?n:2,u=void 0!==t?t:new Array(o),s=0;s<o;s+=i){var a=e([r[s],r[s+1]]);u[s]=a[0],u[s+1]=a[1];for(var f=i-1;f>=2;--f)u[s+f]=r[s+f]}return u}}function S(e,r,t,n){var o=j(e),i=j(r);(0,a.add)(o,i,T(t)),(0,a.add)(i,o,T(n))}function y(e,r){return _(e,"EPSG:4326",void 0!==r?r:"EPSG:3857")}function h(e,r){var n=_(e,void 0!==r?r:"EPSG:3857","EPSG:4326"),o=n[0];return(o<-180||o>180)&&(n[0]=(0,t.modulo)(o+180,360)-180),n}function R(e,r){if(e===r)return!0;var t=e.getUnits()===r.getUnits();return e.getCode()===r.getCode()?t:q(e,r)===p&&t}function q(e,r){var t=e.getCode(),n=r.getCode(),o=(0,a.get)(t,n);return o||(o=l),o}function C(e,r){return q(j(e),j(r))}function _(e,r,t){return C(r,t)(e,void 0,e.length)}function b(e,t,n){var o=C(t,n);return(0,r.applyTransform)(e,o)}function G(e,r,t){return q(r,t)(e)}function M(){g(n.PROJECTIONS),g(o.PROJECTIONS),x(o.PROJECTIONS,n.PROJECTIONS,n.fromEPSG4326,n.toEPSG4326)}M();
},{"./sphere.js":"q4ER","./extent.js":"QDir","./math.js":"B96G","./proj/epsg3857.js":"lohs","./proj/epsg4326.js":"ZniN","./proj/Projection.js":"WUar","./proj/Units.js":"yZx6","./proj/projections.js":"tlE8","./proj/transforms.js":"uhlP"}],"P4eA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=e,exports.reset=n,exports.multiply=o,exports.set=s,exports.setFromArray=u,exports.apply=a,exports.rotate=i,exports.scale=c,exports.translate=p,exports.compose=f,exports.invert=x,exports.determinant=v;var r=require("./asserts.js"),t=new Array(6);function e(){return[1,0,0,1,0,0]}function n(r){return s(r,1,0,0,1,0,0)}function o(r,t){var e=r[0],n=r[1],o=r[2],s=r[3],u=r[4],a=r[5],i=t[0],c=t[1],p=t[2],f=t[3],x=t[4],v=t[5];return r[0]=e*i+o*c,r[1]=n*i+s*c,r[2]=e*p+o*f,r[3]=n*p+s*f,r[4]=e*x+o*v+u,r[5]=n*x+s*v+a,r}function s(r,t,e,n,o,s,u){return r[0]=t,r[1]=e,r[2]=n,r[3]=o,r[4]=s,r[5]=u,r}function u(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function a(r,t){var e=t[0],n=t[1];return t[0]=r[0]*e+r[2]*n+r[4],t[1]=r[1]*e+r[3]*n+r[5],t}function i(r,e){var n=Math.cos(e),u=Math.sin(e);return o(r,s(t,n,u,-u,n,0,0))}function c(r,e,n){return o(r,s(t,e,0,0,n,0,0))}function p(r,e,n){return o(r,s(t,1,0,0,1,e,n))}function f(r,t,e,n,o,s,u,a){var i=Math.sin(s),c=Math.cos(s);return r[0]=n*c,r[1]=o*i,r[2]=-n*i,r[3]=o*c,r[4]=u*n*c-a*n*i+t,r[5]=u*o*i+a*o*c+e,r}function x(t){var e=v(t);(0,r.assert)(0!==e,32);var n=t[0],o=t[1],s=t[2],u=t[3],a=t[4],i=t[5];return t[0]=u/e,t[1]=-o/e,t[2]=-s/e,t[3]=n/e,t[4]=(s*i-u*a)/e,t[5]=-(n*i-o*a)/e,t}function v(r){return r[0]*r[3]-r[1]*r[2]}
},{"./asserts.js":"fLG6"}],"F8sI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=p(require("../Object.js")),r=require("../extent.js"),o=require("./flat/transform.js"),n=require("../proj.js"),i=p(require("../proj/Units.js")),s=require("../transform.js");function p(t){return t&&t.__esModule?t:{default:t}}var a=(0,s.create)(),u=function(e){function p(){e.call(this),this.extent_=(0,r.createEmpty)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return e&&(p.__proto__=e),p.prototype=Object.create(e&&e.prototype),p.prototype.constructor=p,p.prototype.clone=function(){return(0,t.abstract)()},p.prototype.closestPointXY=function(e,r,o,n){return(0,t.abstract)()},p.prototype.containsXY=function(t,e){return!1},p.prototype.getClosestPoint=function(t,e){var r=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},p.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},p.prototype.computeExtent=function(e){return(0,t.abstract)()},p.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),(0,r.returnOrUpdate)(this.extent_,t)},p.prototype.rotate=function(e,r){(0,t.abstract)()},p.prototype.scale=function(e,r,o){(0,t.abstract)()},p.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},p.prototype.getSimplifiedGeometry=function(e){return(0,t.abstract)()},p.prototype.getType=function(){return(0,t.abstract)()},p.prototype.applyTransform=function(e){(0,t.abstract)()},p.prototype.intersectsExtent=function(e){return(0,t.abstract)()},p.prototype.translate=function(e,r){(0,t.abstract)()},p.prototype.transform=function(t,e){var p=(0,n.get)(t),u=p.getUnits()==i.default.TILE_PIXELS?function(t,i,u){var c=p.getExtent(),f=p.getWorldExtent(),y=(0,r.getHeight)(f)/(0,r.getHeight)(c);return(0,s.compose)(a,f[0],f[3],y,-y,0,0,0),(0,o.transform2D)(t,0,t.length,u,a,i),(0,n.getTransform)(p,e)(t,i,u)}:(0,n.getTransform)(p,e);return this.applyTransform(u),this},p}(e.default),c=u;exports.default=c;
},{"../util.js":"KniQ","../Object.js":"PhPh","../extent.js":"QDir","./flat/transform.js":"LGwr","../proj.js":"Diht","../proj/Units.js":"yZx6","../transform.js":"P4eA"}],"pnrv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStrideForLayout=u,exports.transformGeom2D=d,exports.default=void 0;var t=require("../util.js"),e=require("../extent.js"),i=a(require("./Geometry.js")),r=a(require("./GeometryLayout.js")),o=require("./flat/transform.js"),s=require("../obj.js");function a(t){return t&&t.__esModule?t:{default:t}}var n=function(i){function a(){i.call(this),this.layout=r.default.XY,this.stride=2,this.flatCoordinates=null}return i&&(a.__proto__=i),a.prototype=Object.create(i&&i.prototype),a.prototype.constructor=a,a.prototype.computeExtent=function(t){return(0,e.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},a.prototype.getCoordinates=function(){return(0,t.abstract)()},a.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},a.prototype.getFlatCoordinates=function(){return this.flatCoordinates},a.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},a.prototype.getLayout=function(){return this.layout},a.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,s.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var i=this.getSimplifiedGeometryInternal(t);return i.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=i,i):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},a.prototype.getSimplifiedGeometryInternal=function(t){return this},a.prototype.getStride=function(){return this.stride},a.prototype.setFlatCoordinates=function(t,e){this.stride=u(t),this.layout=t,this.flatCoordinates=e},a.prototype.setCoordinates=function(e,i){(0,t.abstract)()},a.prototype.setLayout=function(t,e,i){var o;if(t)o=u(t);else{for(var s=0;s<i;++s){if(0===e.length)return this.layout=r.default.XY,void(this.stride=2);e=e[0]}t=l(o=e.length)}this.layout=t,this.stride=o},a.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},a.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var r=this.getStride();(0,o.rotate)(i,0,i.length,r,t,e,i),this.changed()}},a.prototype.scale=function(t,i,r){var s=i;void 0===s&&(s=t);var a=r;a||(a=(0,e.getCenter)(this.getExtent()));var n=this.getFlatCoordinates();if(n){var l=this.getStride();(0,o.scale)(n,0,n.length,l,t,s,a,n),this.changed()}},a.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var r=this.getStride();(0,o.translate)(i,0,i.length,r,t,e,i),this.changed()}},a}(i.default);function l(t){var e;return 2==t?e=r.default.XY:3==t?e=r.default.XYZ:4==t&&(e=r.default.XYZM),e}function u(t){var e;return t==r.default.XY?e=2:t==r.default.XYZ||t==r.default.XYM?e=3:t==r.default.XYZM&&(e=4),e}function d(t,e,i){var r=t.getFlatCoordinates();if(r){var s=t.getStride();return(0,o.transform2D)(r,0,r.length,s,e,i)}return null}var f=n;exports.default=f;
},{"../util.js":"KniQ","../extent.js":"QDir","./Geometry.js":"F8sI","./GeometryLayout.js":"Utvi","./flat/transform.js":"LGwr","../obj.js":"mH6q"}],"EOSm":[function(require,module,exports) {
"use strict";function r(r,e,n,t){for(var o=0,i=r[n-t],a=r[n-t+1];e<n;e+=t){var s=r[e],u=r[e+1];o+=a*s-i*u,i=s,a=u}return o/2}function e(e,n,t,o){for(var i=0,a=0,s=t.length;a<s;++a){var u=t[a];i+=r(e,n,u,o),n=u}return i}function n(r,n,t,o){for(var i=0,a=0,s=t.length;a<s;++a){var u=t[a];i+=e(r,n,u,o),n=u[u.length-1]}return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRing=r,exports.linearRings=e,exports.linearRingss=n;
},{}],"rMra":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maxSquaredDelta=t,exports.arrayMaxSquaredDelta=a,exports.multiArrayMaxSquaredDelta=n,exports.assignClosestPoint=s,exports.assignClosestArrayPoint=o,exports.assignClosestMultiArrayPoint=i;var r=require("../../math.js");function e(e,t,a,n,s,o,i){var u,f=e[t],l=e[t+1],v=e[a]-f,h=e[a+1]-l;if(0===v&&0===h)u=t;else{var g=((s-f)*v+(o-l)*h)/(v*v+h*h);if(g>1)u=a;else{if(g>0){for(var c=0;c<n;++c)i[c]=(0,r.lerp)(e[t+c],e[a+c],g);return void(i.length=n)}u=t}}for(var N=0;N<n;++N)i[N]=e[u+N];i.length=n}function t(e,t,a,n,s){var o=e[t],i=e[t+1];for(t+=n;t<a;t+=n){var u=e[t],f=e[t+1],l=(0,r.squaredDistance)(o,i,u,f);l>s&&(s=l),o=u,i=f}return s}function a(r,e,a,n,s){for(var o=0,i=a.length;o<i;++o){var u=a[o];s=t(r,e,u,n,s),e=u}return s}function n(r,e,t,n,s){for(var o=0,i=t.length;o<i;++o){var u=t[o];s=a(r,e,u,n,s),e=u[u.length-1]}return s}function s(t,a,n,s,o,i,u,f,l,v,h){if(a==n)return v;var g,c;if(0===o){if((c=(0,r.squaredDistance)(u,f,t[a],t[a+1]))<v){for(g=0;g<s;++g)l[g]=t[a+g];return l.length=s,c}return v}for(var N=h||[NaN,NaN],x=a+s;x<n;)if(e(t,x-s,x,s,u,f,N),(c=(0,r.squaredDistance)(u,f,N[0],N[1]))<v){for(v=c,g=0;g<s;++g)l[g]=N[g];l.length=s,x+=s}else x+=s*Math.max((Math.sqrt(c)-Math.sqrt(v))/o|0,1);if(i&&(e(t,n-s,a,s,u,f,N),(c=(0,r.squaredDistance)(u,f,N[0],N[1]))<v)){for(v=c,g=0;g<s;++g)l[g]=N[g];l.length=s}return v}function o(r,e,t,a,n,o,i,u,f,l,v){for(var h=v||[NaN,NaN],g=0,c=t.length;g<c;++g){var N=t[g];l=s(r,e,N,a,n,o,i,u,f,l,h),e=N}return l}function i(r,e,t,a,n,s,i,u,f,l,v){for(var h=v||[NaN,NaN],g=0,c=t.length;g<c;++g){var N=t[g];l=o(r,e,N,a,n,s,i,u,f,l,h),e=N[N.length-1]}return l}
},{"../../math.js":"B96G"}],"FNhl":[function(require,module,exports) {
"use strict";function e(e,r,t,n){for(var o=0,a=t.length;o<a;++o)e[r++]=t[o];return r}function r(e,r,t,n){for(var o=0,a=t.length;o<a;++o)for(var f=t[o],l=0;l<n;++l)e[r++]=f[l];return r}function t(e,t,n,o,a){for(var f=a||[],l=0,u=0,i=n.length;u<i;++u){var s=r(e,t,n[u],o);f[l++]=s,t=s}return f.length=l,f}function n(e,r,n,o,a){for(var f=a||[],l=0,u=0,i=n.length;u<i;++u){var s=t(e,r,n[u],o,f[l]);f[l++]=s,r=s[s.length-1]}return f.length=l,f}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deflateCoordinate=e,exports.deflateCoordinates=r,exports.deflateCoordinatesArray=t,exports.deflateMultiCoordinatesArray=n;
},{}],"znXl":[function(require,module,exports) {
"use strict";function e(e,r,t,n,o){for(var i=void 0!==o?o:[],a=0,l=r;l<t;l+=n)i[a++]=e.slice(l,l+n);return i.length=a,i}function r(r,t,n,o,i){for(var a=void 0!==i?i:[],l=0,s=0,f=n.length;s<f;++s){var u=n[s];a[l++]=e(r,t,u,o,a[l]),t=u}return a.length=l,a}function t(e,t,n,o,i){for(var a=void 0!==i?i:[],l=0,s=0,f=n.length;s<f;++s){var u=n[s];a[l++]=r(e,t,u,o,a[l]),t=u[u.length-1]}return a.length=l,a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inflateCoordinates=e,exports.inflateCoordinatesArray=r,exports.inflateMultiCoordinatesArray=t;
},{}],"IEpt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.simplifyLineString=e,exports.douglasPeucker=t,exports.douglasPeuckerArray=n,exports.douglasPeuckerMultiArray=u,exports.radialDistance=a,exports.snap=o,exports.quantize=i,exports.quantizeArray=s,exports.quantizeMultiArray=f;var r=require("../../math.js");function e(r,e,n,u,o,i,s){var f=void 0!==s?s:[];return i||(n=a(r,e,n,u,o,f,0),r=f,e=0,u=2),f.length=t(r,e,n,u,o,f,0),f}function t(e,t,n,u,a,o,i){var s=(n-t)/u;if(s<3){for(;t<n;t+=u)o[i++]=e[t],o[i++]=e[t+1];return i}var f=new Array(s);f[0]=1,f[s-1]=1;for(var p=[t,n-u],v=0;p.length>0;){for(var l=p.pop(),c=p.pop(),h=0,g=e[c],d=e[c+1],x=e[l],y=e[l+1],q=c+u;q<l;q+=u){var A=e[q],M=e[q+1],P=(0,r.squaredSegmentDistance)(A,M,g,d,x,y);P>h&&(v=q,h=P)}h>a&&(f[(v-t)/u]=1,c+u<v&&p.push(c,v),v+u<l&&p.push(v,l))}for(var k=0;k<s;++k)f[k]&&(o[i++]=e[t+k*u],o[i++]=e[t+k*u+1]);return i}function n(r,e,n,u,a,o,i,s){for(var f=0,p=n.length;f<p;++f){var v=n[f];i=t(r,e,v,u,a,o,i),s.push(i),e=v}return i}function u(r,e,t,u,a,o,i,s){for(var f=0,p=t.length;f<p;++f){var v=t[f],l=[];i=n(r,e,v,u,a,o,i,l),s.push(l),e=v[v.length-1]}return i}function a(e,t,n,u,a,o,i){if(n<=t+u){for(;t<n;t+=u)o[i++]=e[t],o[i++]=e[t+1];return i}var s=e[t],f=e[t+1];o[i++]=s,o[i++]=f;var p=s,v=f;for(t+=u;t<n;t+=u)p=e[t],v=e[t+1],(0,r.squaredDistance)(s,f,p,v)>a&&(o[i++]=p,o[i++]=v,s=p,f=v);return p==s&&v==f||(o[i++]=p,o[i++]=v),i}function o(r,e){return e*Math.round(r/e)}function i(r,e,t,n,u,a,i){if(e==t)return i;var s,f,p=o(r[e],u),v=o(r[e+1],u);e+=n,a[i++]=p,a[i++]=v;do{if(s=o(r[e],u),f=o(r[e+1],u),(e+=n)==t)return a[i++]=s,a[i++]=f,i}while(s==p&&f==v);for(;e<t;){var l=o(r[e],u),c=o(r[e+1],u);if(e+=n,l!=s||c!=f){var h=s-p,g=f-v,d=l-p,x=c-v;h*x==g*d&&(h<0&&d<h||h==d||h>0&&d>h)&&(g<0&&x<g||g==x||g>0&&x>g)?(s=l,f=c):(a[i++]=s,a[i++]=f,p=s,v=f,s=l,f=c)}}return a[i++]=s,a[i++]=f,i}function s(r,e,t,n,u,a,o,s){for(var f=0,p=t.length;f<p;++f){var v=t[f];o=i(r,e,v,n,u,a,o),s.push(o),e=v}return o}function f(r,e,t,n,u,a,o,i){for(var f=0,p=t.length;f<p;++f){var v=t[f],l=[];o=s(r,e,v,n,u,a,o,l),i.push(l),e=v[v.length-1]}return o}
},{"../../math.js":"B96G"}],"jRgU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=u(require("./GeometryLayout.js")),i=u(require("./GeometryType.js")),o=u(require("./SimpleGeometry.js")),s=require("./flat/area.js"),r=require("./flat/closest.js"),a=require("./flat/deflate.js"),n=require("./flat/inflate.js"),l=require("./flat/simplify.js");function u(t){return t&&t.__esModule?t:{default:t}}var d=function(o){function u(t,e){o.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}return o&&(u.__proto__=o),u.prototype=Object.create(o&&o.prototype),u.prototype.constructor=u,u.prototype.clone=function(){return new u(this.flatCoordinates.slice(),this.layout)},u.prototype.closestPointXY=function(e,i,o,s){return s<(0,t.closestSquaredDistanceXY)(this.getExtent(),e,i)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,r.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,r.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,i,o,s))},u.prototype.getArea=function(){return(0,s.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getCoordinates=function(){return(0,n.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=(0,l.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new u(i,e.default.XY)},u.prototype.getType=function(){return i.default.LINEAR_RING},u.prototype.intersectsExtent=function(t){return!1},u.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,a.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},u}(o.default),h=d;exports.default=h;
},{"../extent.js":"QDir","./GeometryLayout.js":"Utvi","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/area.js":"EOSm","./flat/closest.js":"rMra","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","./flat/simplify.js":"IEpt"}],"gLcY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=n(require("./GeometryType.js")),o=n(require("./SimpleGeometry.js")),r=require("./flat/deflate.js"),i=require("../math.js");function n(t){return t&&t.__esModule?t:{default:t}}var s=function(o){function n(t,e){o.call(this),this.setCoordinates(t,e)}return o&&(n.__proto__=o),n.prototype=Object.create(o&&o.prototype),n.prototype.constructor=n,n.prototype.clone=function(){return new n(this.flatCoordinates.slice(),this.layout)},n.prototype.closestPointXY=function(t,e,o,r){var n=this.flatCoordinates,s=(0,i.squaredDistance)(t,e,n[0],n[1]);if(s<r){for(var a=this.stride,u=0;u<a;++u)o[u]=n[u];return o.length=a,s}return r},n.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},n.prototype.computeExtent=function(e){return(0,t.createOrUpdateFromCoordinate)(this.flatCoordinates,e)},n.prototype.getType=function(){return e.default.POINT},n.prototype.intersectsExtent=function(e){return(0,t.containsXY)(e,this.flatCoordinates[0],this.flatCoordinates[1])},n.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,r.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()},n}(o.default),a=s;exports.default=a;
},{"../extent.js":"QDir","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"FNhl","../math.js":"B96G"}],"dzdN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingContainsExtent=n,exports.linearRingContainsXY=e,exports.linearRingsContainsXY=t,exports.linearRingssContainsXY=i;var r=require("../../extent.js");function n(n,t,i,o,u){return!(0,r.forEachCorner)(u,function(r){return!e(n,t,i,o,r[0],r[1])})}function e(r,n,e,t,i,o){for(var u=0,a=r[e-t],s=r[e-t+1];n<e;n+=t){var f=r[n],l=r[n+1];s<=o?l>o&&(f-a)*(o-s)-(i-a)*(l-s)>0&&u++:l<=o&&(f-a)*(o-s)-(i-a)*(l-s)<0&&u--,a=f,s=l}return 0!==u}function t(r,n,t,i,o,u){if(0===t.length)return!1;if(!e(r,n,t[0],i,o,u))return!1;for(var a=1,s=t.length;a<s;++a)if(e(r,t[a-1],t[a],i,o,u))return!1;return!0}function i(r,n,e,i,o,u){if(0===e.length)return!1;for(var a=0,s=e.length;a<s;++a){var f=e[a];if(t(r,n,f,i,o,u))return!0;n=f[f.length-1]}return!1}
},{"../../extent.js":"QDir"}],"UDvN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInteriorPointOfArray=t,exports.getInteriorPointsOfMultiArray=n;var r=require("../../array.js"),e=require("./contains.js");function t(t,n,a,o,i,s,u){for(var f,l,v,g,h,p,c,y=i[s+1],N=[],b=0,j=a.length;b<j;++b){var x=a[b];for(g=t[x-o],p=t[x-o+1],f=n;f<x;f+=o)h=t[f],c=t[f+1],(y<=p&&c<=y||p<=y&&y<=c)&&(v=(y-p)/(c-p)*(h-g)+g,N.push(v)),g=h,p=c}var M=NaN,O=-1/0;for(N.sort(r.numberSafeCompareFunction),g=N[0],f=1,l=N.length;f<l;++f){h=N[f];var P=Math.abs(h-g);P>O&&(v=(g+h)/2,(0,e.linearRingsContainsXY)(t,n,a,o,v,y)&&(M=v,O=P)),g=h}return isNaN(M)&&(M=i[s]),u?(u.push(M,y,O),u):[M,y,O]}function n(r,e,n,a,o){for(var i=[],s=0,u=n.length;s<u;++s){var f=n[s];i=t(r,e,f,a,o,2*s,i),e=f[f.length-1]}return i}
},{"../../array.js":"luEr","./contains.js":"dzdN"}],"U8i0":[function(require,module,exports) {
"use strict";function e(e,r,t,o,u,c){for(var f,n=[e[r],e[r+1]],s=[];r+o<t;r+=o){if(s[0]=e[r+o],s[1]=e[r+o+1],f=u.call(c,n,s))return f;n[0]=s[0],n[1]=s[1]}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=e;
},{}],"GZir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersectsLineString=t,exports.intersectsLineStringArray=i,exports.intersectsLinearRing=s,exports.intersectsLinearRingArray=a,exports.intersectsLinearRingMultiArray=o;var n=require("../../extent.js"),e=require("./contains.js"),r=require("./segments.js");function t(e,t,i,s,a){var o=(0,n.extendFlatCoordinates)((0,n.createEmpty)(),e,t,i,s);return!!(0,n.intersects)(a,o)&&(!!(0,n.containsExtent)(a,o)||(o[0]>=a[0]&&o[2]<=a[2]||(o[1]>=a[1]&&o[3]<=a[3]||(0,r.forEach)(e,t,i,s,function(e,r){return(0,n.intersectsSegment)(a,e,r)}))))}function i(n,e,r,i,s){for(var a=0,o=r.length;a<o;++a){if(t(n,e,r[a],i,s))return!0;e=r[a]}return!1}function s(n,r,i,s,a){return!!t(n,r,i,s,a)||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[0],a[1])||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[0],a[3])||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[2],a[1])||!!(0,e.linearRingContainsXY)(n,r,i,s,a[2],a[3]))))}function a(n,r,i,a,o){if(!s(n,r,i[0],a,o))return!1;if(1===i.length)return!0;for(var u=1,c=i.length;u<c;++u)if((0,e.linearRingContainsExtent)(n,i[u-1],i[u],a,o)&&!t(n,i[u-1],i[u],a,o))return!1;return!0}function o(n,e,r,t,i){for(var s=0,o=r.length;s<o;++s){var u=r[s];if(a(n,e,u,t,i))return!0;e=u[u.length-1]}return!1}
},{"../../extent.js":"QDir","./contains.js":"dzdN","./segments.js":"U8i0"}],"ElTe":[function(require,module,exports) {
"use strict";function e(e,r,o,t){for(;r<o-t;){for(var s=0;s<t;++s){var a=e[r+s];e[r+s]=e[o-t+s],e[o-t+s]=a}r+=t,o-=t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.coordinates=e;
},{}],"cJkE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingIsClockwise=e,exports.linearRingIsOriented=n,exports.linearRingsAreOriented=t,exports.orientLinearRings=i,exports.orientLinearRingsArray=o;var r=require("./reverse.js");function e(r,e,n,t){for(var i=0,o=r[n-t],s=r[n-t+1];e<n;e+=t){var a=r[e],u=r[e+1];i+=(a-o)*(u+s),o=a,s=u}return i>0}function n(r,n,t,i,o){for(var s=void 0!==o&&o,a=0,u=t.length;a<u;++a){var f=t[a],v=e(r,n,f,i);if(0===a){if(s&&v||!s&&!v)return!1}else if(s&&!v||!s&&v)return!1;n=f}return!0}function t(r,e,t,i,o){for(var s=0,a=t.length;s<a;++s)if(!n(r,e,t[s],i,o))return!1;return!0}function i(n,t,i,o,s){for(var a=void 0!==s&&s,u=0,f=i.length;u<f;++u){var v=i[u],l=e(n,t,v,o);(0===u?a&&l||!a&&!l:a&&!l||!a&&l)&&(0,r.coordinates)(n,t,v,o),t=v}return t}function o(r,e,n,t,o){for(var s=0,a=n.length;s<a;++s)e=i(r,e,n[s],t,o);return e}
},{"./reverse.js":"ElTe"}],"Nwwk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.circular=q,exports.fromExtent=x,exports.fromCircle=j,exports.makeRegular=m,exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=C(require("./GeometryLayout.js")),r=C(require("./GeometryType.js")),n=C(require("./LinearRing.js")),s=C(require("./Point.js")),o=C(require("./SimpleGeometry.js")),a=require("../sphere.js"),l=require("./flat/area.js"),d=require("./flat/closest.js"),h=require("./flat/contains.js"),u=require("./flat/deflate.js"),f=require("./flat/inflate.js"),g=require("./flat/interiorpoint.js"),p=require("./flat/intersectsextent.js"),c=require("./flat/orient.js"),_=require("./flat/simplify.js"),y=require("../math.js");function C(t){return t&&t.__esModule?t:{default:t}}var v=function(o){function a(t,e,i){o.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.appendLinearRing=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},a.prototype.clone=function(){return new a(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},a.prototype.closestPointXY=function(t,i,r,n){return n<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,d.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,d.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,i,r,n))},a.prototype.containsXY=function(t,e){return(0,h.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},a.prototype.getArea=function(){return(0,l.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},a.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,c.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,f.inflateCoordinatesArray)(e,0,this.ends_,this.stride)},a.prototype.getEnds=function(){return this.ends_},a.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,e.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,g.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},a.prototype.getInteriorPoint=function(){return new s.default(this.getFlatInteriorPoint(),i.default.XYM)},a.prototype.getLinearRingCount=function(){return this.ends_.length},a.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new n.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},a.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,r=[],s=0,o=0,a=i.length;o<a;++o){var l=i[o],d=new n.default(e.slice(s,l),t);r.push(d),s=l}return r},a.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,c.linearRingIsOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,c.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},a.prototype.getSimplifiedGeometryInternal=function(t){var e=[],r=[];return e.length=(0,_.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,r),new a(e,i.default.XY,r)},a.prototype.getType=function(){return r.default.POLYGON},a.prototype.intersectsExtent=function(t){return(0,p.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},a.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,u.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},a}(o.default),R=v;function q(e,r,n,s){for(var o=n||32,l=[],d=0;d<o;++d)(0,t.extend)(l,(0,a.offset)(e,r,2*Math.PI*d/o,s));return l.push(l[0],l[1]),new v(l,i.default.XY,[l.length])}function x(t){var e=t[0],r=t[1],n=t[2],s=t[3],o=[e,r,e,s,n,s,n,r,e,r];return new v(o,i.default.XY,[o.length])}function j(t,e,i){for(var r=e||32,n=t.getStride(),s=t.getLayout(),o=t.getCenter(),a=n*(r+1),l=new Array(a),d=0;d<a;d+=n){l[d]=0,l[d+1]=0;for(var h=2;h<n;h++)l[d+h]=o[h]}var u=[l.length],f=new v(l,s,u);return m(f,o,t.getRadius(),i),f}function m(t,e,i,r){for(var n=t.getFlatCoordinates(),s=t.getStride(),o=n.length/s-1,a=r||0,l=0;l<=o;++l){var d=l*s,h=a+2*(0,y.modulo)(l,o)*Math.PI/o;n[d]=e[0]+i*Math.cos(h),n[d+1]=e[1]+i*Math.sin(h)}t.changed()}exports.default=R;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"Utvi","./GeometryType.js":"lmV0","./LinearRing.js":"jRgU","./Point.js":"gLcY","./SimpleGeometry.js":"pnrv","../sphere.js":"q4ER","./flat/area.js":"EOSm","./flat/closest.js":"rMra","./flat/contains.js":"dzdN","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","./flat/interiorpoint.js":"UDvN","./flat/intersectsextent.js":"GZir","./flat/orient.js":"cJkE","./flat/simplify.js":"IEpt","../math.js":"B96G"}],"SCyv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getContext=u,exports.EXTENSIONS=exports.MAX_TEXTURE_SIZE=exports.HAS=exports.DEBUG=exports.FRAMEBUFFER=exports.COMPILE_STATUS=exports.CLAMP_TO_EDGE=exports.TEXTURE0=exports.TEXTURE_2D=exports.TEXTURE_WRAP_T=exports.TEXTURE_WRAP_S=exports.TEXTURE_MIN_FILTER=exports.TEXTURE_MAG_FILTER=exports.LINEAR=exports.LINK_STATUS=exports.VERTEX_SHADER=exports.FRAGMENT_SHADER=exports.RGBA=exports.FLOAT=exports.UNSIGNED_INT=exports.UNSIGNED_SHORT=exports.UNSIGNED_BYTE=exports.SCISSOR_TEST=exports.DEPTH_TEST=exports.STENCIL_TEST=exports.BLEND=exports.CULL_FACE=exports.DYNAMIC_DRAW=exports.STATIC_DRAW=exports.STREAM_DRAW=exports.ELEMENT_ARRAY_BUFFER=exports.ARRAY_BUFFER=exports.ONE_MINUS_SRC_ALPHA=exports.TRIANGLE_STRIP=exports.TRIANGLES=exports.COLOR_BUFFER_BIT=exports.COLOR_ATTACHMENT0=exports.SRC_ALPHA=exports.ONE=void 0;var r=1;exports.ONE=r;var e=770;exports.SRC_ALPHA=e;var E=36064;exports.COLOR_ATTACHMENT0=E;var t=16384;exports.COLOR_BUFFER_BIT=t;var T=4;exports.TRIANGLES=T;var o=5;exports.TRIANGLE_STRIP=o;var s=771;exports.ONE_MINUS_SRC_ALPHA=s;var p=34962;exports.ARRAY_BUFFER=p;var x=34963;exports.ELEMENT_ARRAY_BUFFER=x;var _=35040;exports.STREAM_DRAW=_;var R=35044;exports.STATIC_DRAW=R;var A=35048;exports.DYNAMIC_DRAW=A;var S=2884;exports.CULL_FACE=S;var a=3042;exports.BLEND=a;var N=2960;exports.STENCIL_TEST=N;var I=2929;exports.DEPTH_TEST=I;var v=3089;exports.SCISSOR_TEST=v;var U=5121;exports.UNSIGNED_BYTE=U;var L=5123;exports.UNSIGNED_SHORT=L;var C=5125;exports.UNSIGNED_INT=C;var D=5126;exports.FLOAT=D;var F=6408;exports.RGBA=F;var M=35632;exports.FRAGMENT_SHADER=M;var O=35633;exports.VERTEX_SHADER=O;var X=35714;exports.LINK_STATUS=X;var n=9729;exports.LINEAR=n;var G=10240;exports.TEXTURE_MAG_FILTER=G;var P=10241;exports.TEXTURE_MIN_FILTER=P;var B=10242;exports.TEXTURE_WRAP_S=B;var H=10243;exports.TEXTURE_WRAP_T=H;var i=3553;exports.TEXTURE_2D=i;var c=33984;exports.TEXTURE0=c;var d=33071;exports.CLAMP_TO_EDGE=d;var l=35713;exports.COMPILE_STATUS=l;var W=36160;exports.FRAMEBUFFER=W;var f=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function u(r,e){for(var E=f.length,t=0;t<E;++t)try{var T=r.getContext(f[t],e);if(T)return T}catch(o){}return null}var g,w,Y=!0;exports.DEBUG=Y,exports.MAX_TEXTURE_SIZE=g,exports.EXTENSIONS=w;var b=!1;if(exports.HAS=b,"undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var m=document.createElement("canvas"),y=u(m,{failIfMajorPerformanceCaveat:!0});y&&(exports.HAS=b=!0,exports.MAX_TEXTURE_SIZE=g=y.getParameter(y.MAX_TEXTURE_SIZE),exports.EXTENSIONS=w=y.getSupportedExtensions())}catch(Z){}
},{}],"f3Nv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"WEBGL",{enumerable:!0,get:function(){return e.HAS}}),exports.MSPOINTER=exports.POINTER=exports.TOUCH=exports.GEOLOCATION=exports.CANVAS_LINE_DASH=exports.DEVICE_PIXEL_RATIO=exports.MAC=exports.WEBKIT=exports.SAFARI=exports.FIREFOX=void 0;var e=require("./webgl.js"),r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",t=-1!==r.indexOf("firefox");exports.FIREFOX=t;var o=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom");exports.SAFARI=o;var n=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge");exports.WEBKIT=n;var i=-1!==r.indexOf("macintosh");exports.MAC=i;var s=window.devicePixelRatio||1;exports.DEVICE_PIXEL_RATIO=s;var a=function(){var e=!1;try{e=!!document.createElement("canvas").getContext("2d").setLineDash}catch(r){}return e}();exports.CANVAS_LINE_DASH=a;var x="geolocation"in navigator;exports.GEOLOCATION=x;var p="ontouchstart"in window;exports.TOUCH=p;var O="PointerEvent"in window;exports.POINTER=O;var E=!!navigator.msPointerEnabled;exports.MSPOINTER=E;
},{"./webgl.js":"SCyv"}],"X4ix":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("./Object.js")),e=require("./events.js"),i=c(require("./events/Event.js")),o=c(require("./events/EventType.js")),r=require("./geom/Polygon.js"),n=require("./has.js"),s=require("./math.js"),a=require("./proj.js");function c(t){return t&&t.__esModule?t:{default:t}}function p(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return p=function(){return t},t}function u(t){if(t&&t.__esModule)return t;var e=p();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=o?Object.getOwnPropertyDescriptor(t,r):null;n&&(n.get||n.set)?Object.defineProperty(i,r,n):i[r]=t[r]}}return i.default=t,e&&e.set(t,i),i}var h={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},g=function(t){function e(e){t.call(this,o.default.ERROR),this.code=e.code,this.message=e.message}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.default),d=function(i){function o(o){i.call(this);var r=o||{};this.position_=null,this.transform_=a.identityTransform,this.watchId_=void 0,(0,e.listen)(this,(0,t.getChangeEventType)(h.PROJECTION),this.handleProjectionChanged_,this),(0,e.listen)(this,(0,t.getChangeEventType)(h.TRACKING),this.handleTrackingChanged_,this),void 0!==r.projection&&this.setProjection(r.projection),void 0!==r.trackingOptions&&this.setTrackingOptions(r.trackingOptions),this.setTracking(void 0!==r.tracking&&r.tracking)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.disposeInternal=function(){this.setTracking(!1),i.prototype.disposeInternal.call(this)},o.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=(0,a.getTransformFromProjections)((0,a.get)("EPSG:4326"),t),this.position_&&this.set(h.POSITION,this.transform_(this.position_)))},o.prototype.handleTrackingChanged_=function(){if(n.GEOLOCATION){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},o.prototype.positionChange_=function(t){var e=t.coords;this.set(h.ACCURACY,e.accuracy),this.set(h.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(h.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(h.HEADING,null===e.heading?void 0:(0,s.toRadians)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(h.POSITION,i),this.set(h.SPEED,null===e.speed?void 0:e.speed);var o=(0,r.circular)(this.position_,e.accuracy);o.applyTransform(this.transform_),this.set(h.ACCURACY_GEOMETRY,o),this.changed()},o.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new g(t))},o.prototype.getAccuracy=function(){return this.get(h.ACCURACY)},o.prototype.getAccuracyGeometry=function(){return this.get(h.ACCURACY_GEOMETRY)||null},o.prototype.getAltitude=function(){return this.get(h.ALTITUDE)},o.prototype.getAltitudeAccuracy=function(){return this.get(h.ALTITUDE_ACCURACY)},o.prototype.getHeading=function(){return this.get(h.HEADING)},o.prototype.getPosition=function(){return this.get(h.POSITION)},o.prototype.getProjection=function(){return this.get(h.PROJECTION)},o.prototype.getSpeed=function(){return this.get(h.SPEED)},o.prototype.getTracking=function(){return this.get(h.TRACKING)},o.prototype.getTrackingOptions=function(){return this.get(h.TRACKING_OPTIONS)},o.prototype.setProjection=function(t){this.set(h.PROJECTION,(0,a.get)(t))},o.prototype.setTracking=function(t){this.set(h.TRACKING,t)},o.prototype.setTrackingOptions=function(t){this.set(h.TRACKING_OPTIONS,t)},o}(t.default),l=d;exports.default=l;
},{"./Object.js":"PhPh","./events.js":"UqnM","./events/Event.js":"fKNg","./events/EventType.js":"C8cu","./geom/Polygon.js":"Nwwk","./has.js":"f3Nv","./math.js":"B96G","./proj.js":"Diht"}],"AiCK":[function(require,module,exports) {
"use strict";function e(e,r,t){var n=void 0!==t?e.toFixed(t):""+e,i=n.indexOf(".");return(i=-1===i?n.length:i)>r?n:new Array(1+r-i).join("0")+n}function r(e,r){for(var t=(""+e).split("."),n=(""+r).split("."),i=0;i<Math.max(t.length,n.length);i++){var o=parseInt(t[i]||"0",10),s=parseInt(n[i]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.padNumber=e,exports.compareVersions=r;
},{}],"nGsj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=e,exports.closestOnCircle=n,exports.closestOnSegment=o,exports.createStringXY=u,exports.degreesToStringHDMS=s,exports.format=a,exports.equals=i,exports.rotate=c,exports.scale=f,exports.squaredDistance=p,exports.distance=x,exports.squaredDistanceToSegment=d,exports.toStringHDMS=l,exports.toStringXY=h;var t=require("./math.js"),r=require("./string.js");function e(t,r){return t[0]+=r[0],t[1]+=r[1],t}function n(t,r){var e=r.getRadius(),n=r.getCenter(),o=n[0],u=n[1],s=t[0]-o,a=t[1]-u;0===s&&0===a&&(s=1);var i=Math.sqrt(s*s+a*a);return[o+e*s/i,u+e*a/i]}function o(t,r){var e,n,o=t[0],u=t[1],s=r[0],a=r[1],i=s[0],c=s[1],f=a[0],p=a[1],x=f-i,d=p-c,l=0===x&&0===d?0:(x*(o-i)+d*(u-c))/(x*x+d*d||0);return l<=0?(e=i,n=c):l>=1?(e=f,n=p):(e=i+l*x,n=c+l*d),[e,n]}function u(t){return function(r){return h(r,t)}}function s(e,n,o){var u=(0,t.modulo)(n+180,360)-180,s=Math.abs(3600*u),a=o||0,i=Math.pow(10,a),c=Math.floor(s/3600),f=Math.floor((s-3600*c)/60),p=s-3600*c-60*f;return(p=Math.ceil(p*i)/i)>=60&&(p=0,f+=1),f>=60&&(f=0,c+=1),c+"° "+(0,r.padNumber)(f,2)+"′ "+(0,r.padNumber)(p,2,a)+"″"+(0==u?"":" "+e.charAt(u<0?1:0))}function a(t,r,e){return t?r.replace("{x}",t[0].toFixed(e)).replace("{y}",t[1].toFixed(e)):""}function i(t,r){for(var e=!0,n=t.length-1;n>=0;--n)if(t[n]!=r[n]){e=!1;break}return e}function c(t,r){var e=Math.cos(r),n=Math.sin(r),o=t[0]*e-t[1]*n,u=t[1]*e+t[0]*n;return t[0]=o,t[1]=u,t}function f(t,r){return t[0]*=r,t[1]*=r,t}function p(t,r){var e=t[0]-r[0],n=t[1]-r[1];return e*e+n*n}function x(t,r){return Math.sqrt(p(t,r))}function d(t,r){return p(t,o(t,r))}function l(t,r){return t?s("NS",t[1],r)+" "+s("EW",t[0],r):""}function h(t,r){return a(t,"{x}, {y}",r)}
},{"./math.js":"B96G","./string.js":"AiCK"}],"rDTq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolatePoint=n,exports.lineStringCoordinateAtM=t,exports.lineStringsCoordinateAtM=i;var r=require("../../array.js"),e=require("../../math.js");function n(n,t,i,l,u,a){var f=NaN,s=NaN,o=(i-t)/l;if(1===o)f=n[t],s=n[t+1];else if(2==o)f=(1-u)*n[t]+u*n[t+l],s=(1-u)*n[t+1]+u*n[t+l+1];else if(0!==o){for(var v=n[t],c=n[t+1],p=0,h=[0],g=t+l;g<i;g+=l){var d=n[g],x=n[g+1];p+=Math.sqrt((d-v)*(d-v)+(x-c)*(x-c)),h.push(p),v=d,c=x}var M=u*p,N=(0,r.binarySearch)(h,M);if(N<0){var j=(M-h[-N-2])/(h[-N-1]-h[-N-2]),q=t+(-N-2)*l;f=(0,e.lerp)(n[q],n[q+l],j),s=(0,e.lerp)(n[q+1],n[q+l+1],j)}else f=n[t+N*l],s=n[t+N*l+1]}return a?(a[0]=f,a[1]=s,a):[f,s]}function t(r,n,t,i,l,u){if(t==n)return null;var a;if(l<r[n+i-1])return u?((a=r.slice(n,n+i))[i-1]=l,a):null;if(r[t-1]<l)return u?((a=r.slice(t-i,t))[i-1]=l,a):null;if(l==r[n+i-1])return r.slice(n,n+i);for(var f=n/i,s=t/i;f<s;){var o=f+s>>1;l<r[(o+1)*i-1]?s=o:f=o+1}var v=r[f*i-1];if(l==v)return r.slice((f-1)*i,(f-1)*i+i);var c=(l-v)/(r[(f+1)*i-1]-v);a=[];for(var p=0;p<i-1;++p)a.push((0,e.lerp)(r[(f-1)*i+p],r[f*i+p],c));return a.push(l),a}function i(r,e,n,i,l,u,a){if(a)return t(r,e,n[n.length-1],i,l,u);var f;if(l<r[i-1])return u?((f=r.slice(0,i))[i-1]=l,f):null;if(r[r.length-1]<l)return u?((f=r.slice(r.length-i))[i-1]=l,f):null;for(var s=0,o=n.length;s<o;++s){var v=n[s];if(e!=v){if(l<r[e+i-1])return null;if(l<=r[v-1])return t(r,e,v,i,l,!1);e=v}}return null}
},{"../../array.js":"luEr","../../math.js":"B96G"}],"ZZrx":[function(require,module,exports) {
"use strict";function r(r,t,e,n){for(var i=r[t],o=r[t+1],s=0,a=t+n;a<e;a+=n){var u=r[a],c=r[a+1];s+=Math.sqrt((u-i)*(u-i)+(c-o)*(c-o)),i=u,o=c}return s}function t(t,e,n,i){var o=r(t,e,n,i),s=t[n-i]-t[e],a=t[n-i+1]-t[e+1];return o+=Math.sqrt(s*s+a*a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.lineStringLength=r,exports.linearRingLength=t;
},{}],"DfxW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=p(require("./GeometryLayout.js")),o=p(require("./GeometryType.js")),s=p(require("./SimpleGeometry.js")),r=require("./flat/closest.js"),n=require("./flat/deflate.js"),a=require("./flat/inflate.js"),l=require("./flat/interpolate.js"),h=require("./flat/intersectsextent.js"),d=require("./flat/length.js"),f=require("./flat/segments.js"),u=require("./flat/simplify.js");function p(t){return t&&t.__esModule?t:{default:t}}var c=function(s){function p(t,e){s.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}return s&&(p.__proto__=s),p.prototype=Object.create(s&&s.prototype),p.prototype.constructor=p,p.prototype.appendCoordinate=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},p.prototype.clone=function(){return new p(this.flatCoordinates.slice(),this.layout)},p.prototype.closestPointXY=function(t,i,o,s){return s<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,r.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,r.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,i,o,s))},p.prototype.forEachSegment=function(t){return(0,f.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},p.prototype.getCoordinateAtM=function(t,e){if(this.layout!=i.default.XYM&&this.layout!=i.default.XYZM)return null;var o=void 0!==e&&e;return(0,l.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o)},p.prototype.getCoordinates=function(){return(0,a.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},p.prototype.getCoordinateAt=function(t,e){return(0,l.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},p.prototype.getLength=function(){return(0,d.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},p.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},p.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=(0,u.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new p(e,i.default.XY)},p.prototype.getType=function(){return o.default.LINE_STRING},p.prototype.intersectsExtent=function(t){return(0,h.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},p.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,n.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},p}(s.default),C=c;exports.default=C;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"Utvi","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/closest.js":"rMra","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","./flat/interpolate.js":"rDTq","./flat/intersectsextent.js":"GZir","./flat/length.js":"ZZrx","./flat/segments.js":"U8i0","./flat/simplify.js":"IEpt"}],"w0c6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.greatCircleArc=n,exports.meridian=e,exports.parallel=o;var t=require("../../math.js"),a=require("../../proj.js");function r(a,r,n){for(var e,o,s,i,u,p,h=[],c=a(0),M=a(1),f=r(c),g=r(M),d=[M,c],l=[g,f],v=[1,0],R={},m=1e5;--m>0&&v.length>0;)s=v.pop(),c=d.pop(),f=l.pop(),(p=s.toString())in R||(h.push(f[0],f[1]),R[p]=!0),i=v.pop(),M=d.pop(),g=l.pop(),o=r(e=a(u=(s+i)/2)),(0,t.squaredSegmentDistance)(o[0],o[1],f[0],f[1],g[0],g[1])<n?(h.push(g[0],g[1]),R[p=i.toString()]=!0):(v.push(i,u,u,s),l.push(g,o,o,f),d.push(M,e,e,c));return h}function n(n,e,o,s,i,u){var p=(0,a.get)("EPSG:4326"),h=Math.cos((0,t.toRadians)(e)),c=Math.sin((0,t.toRadians)(e)),M=Math.cos((0,t.toRadians)(s)),f=Math.sin((0,t.toRadians)(s)),g=Math.cos((0,t.toRadians)(o-n)),d=Math.sin((0,t.toRadians)(o-n)),l=c*f+h*M*g;return r(function(a){if(1<=l)return[o,s];var r=a*Math.acos(l),e=Math.cos(r),i=Math.sin(r),u=d*M,p=h*f-c*M*g,v=Math.atan2(u,p),R=Math.asin(c*e+h*i*Math.cos(v)),m=(0,t.toRadians)(n)+Math.atan2(Math.sin(v)*i*h,e-c*Math.sin(R));return[(0,t.toDegrees)(m),(0,t.toDegrees)(R)]},(0,a.getTransform)(p,i),u)}function e(t,n,e,o,s){var i=(0,a.get)("EPSG:4326");return r(function(a){return[t,n+(e-n)*a]},(0,a.getTransform)(i,o),s)}function o(t,n,e,o,s){var i=(0,a.get)("EPSG:4326");return r(function(a){return[n+(e-n)*a,t]},(0,a.getTransform)(i,o),s)}
},{"../../math.js":"B96G","../../proj.js":"Diht"}],"z39m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"};exports.default=e;
},{}],"eucy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asString=a,exports.asArray=i,exports.normalize=p,exports.toString=c,exports.fromString=void 0;var r=require("./asserts.js"),e=require("./math.js"),t=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,n=/^([a-z]*)$/i;function a(r){return"string"==typeof r?r:c(r)}function s(r){var e=document.createElement("div");if(e.style.color=r,""!==e.style.color){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}var o=function(){var r={},e=0;return function(t){var n;if(r.hasOwnProperty(t))n=r[t];else{if(e>=1024){var a=0;for(var s in r)0==(3&a++)&&(delete r[s],--e)}n=u(t),r[t]=n,++e}return n}}();function i(r){return Array.isArray(r)?r:o(r)}function u(e){var a,o,i,u,c;if(n.exec(e)&&(e=s(e)),t.exec(e)){var l,f=e.length-1;l=f<=4?1:2;var v=4===f||8===f;a=parseInt(e.substr(1+0*l,l),16),o=parseInt(e.substr(1+1*l,l),16),i=parseInt(e.substr(1+2*l,l),16),u=v?parseInt(e.substr(1+3*l,l),16):255,1==l&&(a=(a<<4)+a,o=(o<<4)+o,i=(i<<4)+i,v&&(u=(u<<4)+u)),c=[a,o,i,u/255]}else 0==e.indexOf("rgba(")?p(c=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((c=e.slice(4,-1).split(",").map(Number)).push(1),p(c)):(0,r.assert)(!1,14);return c}function p(r){return r[0]=(0,e.clamp)(r[0]+.5|0,0,255),r[1]=(0,e.clamp)(r[1]+.5|0,0,255),r[2]=(0,e.clamp)(r[2]+.5|0,0,255),r[3]=(0,e.clamp)(r[3],0,1),r}function c(r){var e=r[0];e!=(0|e)&&(e=e+.5|0);var t=r[1];t!=(0|t)&&(t=t+.5|0);var n=r[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+t+","+n+","+(void 0===r[3]?1:r[3])+")"}exports.fromString=o;
},{"./asserts.js":"fLG6","./math.js":"B96G"}],"AFcg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("../util.js"),r=require("../color.js"),t=function(o){var r=o||{};this.color_=void 0!==r.color?r.color:null,this.checksum_=void 0};t.prototype.clone=function(){var o=this.getColor();return new t({color:Array.isArray(o)?o.slice():o||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(o){this.color_=o,this.checksum_=void 0},t.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+(0,r.asString)(t):this.checksum_=(0,o.getUid)(this.color_):this.checksum_="f-"}return this.checksum_};var e=t;exports.default=e;
},{"../util.js":"KniQ","../color.js":"eucy"}],"TXDt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),i=function(t){var i=t||{};this.color_=void 0!==i.color?i.color:null,this.lineCap_=i.lineCap,this.lineDash_=void 0!==i.lineDash?i.lineDash:null,this.lineDashOffset_=i.lineDashOffset,this.lineJoin_=i.lineJoin,this.miterLimit_=i.miterLimit,this.width_=i.width,this.checksum_=void 0};i.prototype.clone=function(){var t=this.getColor();return new i({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},i.prototype.getColor=function(){return this.color_},i.prototype.getLineCap=function(){return this.lineCap_},i.prototype.getLineDash=function(){return this.lineDash_},i.prototype.getLineDashOffset=function(){return this.lineDashOffset_},i.prototype.getLineJoin=function(){return this.lineJoin_},i.prototype.getMiterLimit=function(){return this.miterLimit_},i.prototype.getWidth=function(){return this.width_},i.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},i.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},i.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},i.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},i.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},i.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},i.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},i.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=(0,t.getUid)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var e=i;exports.default=e;
},{"../util.js":"KniQ"}],"AXKs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINT:"point",LINE:"line"};exports.default=e;
},{}],"RPsG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Fill.js")),e=o(require("./TextPlacement.js"));function o(t){return t&&t.__esModule?t:{default:t}}var i="#333",n=function(o){var n=o||{};this.font_=n.font,this.rotation_=n.rotation,this.rotateWithView_=n.rotateWithView,this.scale_=n.scale,this.text_=n.text,this.textAlign_=n.textAlign,this.textBaseline_=n.textBaseline,this.fill_=void 0!==n.fill?n.fill:new t.default({color:i}),this.maxAngle_=void 0!==n.maxAngle?n.maxAngle:Math.PI/4,this.placement_=void 0!==n.placement?n.placement:e.default.POINT,this.overflow_=!!n.overflow,this.stroke_=void 0!==n.stroke?n.stroke:null,this.offsetX_=void 0!==n.offsetX?n.offsetX:0,this.offsetY_=void 0!==n.offsetY?n.offsetY:0,this.backgroundFill_=n.backgroundFill?n.backgroundFill:null,this.backgroundStroke_=n.backgroundStroke?n.backgroundStroke:null,this.padding_=void 0===n.padding?null:n.padding};n.prototype.clone=function(){return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(t){this.overflow_=t},n.prototype.setFont=function(t){this.font_=t},n.prototype.setMaxAngle=function(t){this.maxAngle_=t},n.prototype.setOffsetX=function(t){this.offsetX_=t},n.prototype.setOffsetY=function(t){this.offsetY_=t},n.prototype.setPlacement=function(t){this.placement_=t},n.prototype.setFill=function(t){this.fill_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setStroke=function(t){this.stroke_=t},n.prototype.setText=function(t){this.text_=t},n.prototype.setTextAlign=function(t){this.textAlign_=t},n.prototype.setTextBaseline=function(t){this.textBaseline_=t},n.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},n.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},n.prototype.setPadding=function(t){this.padding_=t};var r=n;exports.default=r;
},{"./Fill.js":"AFcg","./TextPlacement.js":"AXKs"}],"QUiD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./coordinate.js"),e=require("./events.js"),i=require("./extent.js"),a=d(require("./geom/GeometryLayout.js")),s=d(require("./geom/LineString.js")),l=d(require("./geom/Point.js")),r=require("./geom/flat/geodesic.js"),n=require("./math.js"),o=require("./proj.js"),h=d(require("./render/EventType.js")),_=d(require("./style/Fill.js")),m=d(require("./style/Stroke.js")),L=d(require("./style/Text.js"));function d(t){return t&&t.__esModule?t:{default:t}}var p=new m.default({color:"rgba(0,0,0,0.2)"}),u=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],f=function(e){var i=e||{};this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==i.targetSize?i.targetSize:100,this.maxLines_=void 0!==i.maxLines?i.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==i.strokeStyle?i.strokeStyle:p,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==i.showLabels&&(this.lonLabelFormatter_=null==i.lonLabelFormatter?t.degreesToStringHDMS.bind(this,"EW"):i.lonLabelFormatter,this.latLabelFormatter_=null==i.latLabelFormatter?t.degreesToStringHDMS.bind(this,"NS"):i.latLabelFormatter,this.lonLabelPosition_=null==i.lonLabelPosition?0:i.lonLabelPosition,this.latLabelPosition_=null==i.latLabelPosition?1:i.latLabelPosition,this.lonLabelStyle_=void 0!==i.lonLabelStyle?i.lonLabelStyle:new L.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new _.default({color:"rgba(0,0,0,1)"}),stroke:new m.default({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==i.latLabelStyle?i.latLabelStyle:new L.default({font:"12px Calibri,sans-serif",textAlign:"end",fill:new _.default({color:"rgba(0,0,0,1)"}),stroke:new m.default({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==i.intervals?i.intervals:u,this.setMap(void 0!==i.map?i.map:null)};f.prototype.addMeridian_=function(t,e,a,s,l,r){var n=this.getMeridian_(t,e,a,s,r);if((0,i.intersects)(n.getExtent(),l)){if(this.meridiansLabels_){var o=this.getMeridianPoint_(n,l,r);this.meridiansLabels_[r]={geom:o,text:this.lonLabelFormatter_(t)}}this.meridians_[r++]=n}return r},f.prototype.getMeridianPoint_=function(t,e,i){var a,s=t.getFlatCoordinates(),r=Math.max(e[1],s[1]),o=Math.min(e[3],s[s.length-1]),h=(0,n.clamp)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,r,o),_=[s[0],h];return i in this.meridiansLabels_?(a=this.meridiansLabels_[i].geom).setCoordinates(_):a=new l.default(_),a},f.prototype.addParallel_=function(t,e,a,s,l,r){var n=this.getParallel_(t,e,a,s,r);if((0,i.intersects)(n.getExtent(),l)){if(this.parallelsLabels_){var o=this.getParallelPoint_(n,l,r);this.parallelsLabels_[r]={geom:o,text:this.latLabelFormatter_(t)}}this.parallels_[r++]=n}return r},f.prototype.getParallelPoint_=function(t,e,i){var a,s=t.getFlatCoordinates(),r=Math.max(e[0],s[0]),o=Math.min(e[2],s[s.length-2]),h=[(0,n.clamp)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,r,o),s[1]];return i in this.parallelsLabels_?(a=this.parallelsLabels_[i].geom).setCoordinates(h):a=new l.default(h),a},f.prototype.createGraticule_=function(t,e,i,a){var s=this.getInterval_(i);if(-1==s)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var l,r,h,_,m=this.toLonLatTransform_(e),L=m[0],d=m[1],p=this.maxLines_,u=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],f=(u=(0,o.transformExtent)(u,this.projection_,"EPSG:4326"))[3],b=u[2],g=u[1],c=u[0];for(L=Math.floor(L/s)*s,_=(0,n.clamp)(L,this.minLon_,this.maxLon_),r=this.addMeridian_(_,g,f,a,t,0),l=0;_!=this.minLon_&&l++<p;)_=Math.max(_-s,this.minLon_),r=this.addMeridian_(_,g,f,a,t,r);for(_=(0,n.clamp)(L,this.minLon_,this.maxLon_),l=0;_!=this.maxLon_&&l++<p;)_=Math.min(_+s,this.maxLon_),r=this.addMeridian_(_,g,f,a,t,r);for(this.meridians_.length=r,this.meridiansLabels_&&(this.meridiansLabels_.length=r),d=Math.floor(d/s)*s,h=(0,n.clamp)(d,this.minLat_,this.maxLat_),r=this.addParallel_(h,c,b,a,t,0),l=0;h!=this.minLat_&&l++<p;)h=Math.max(h-s,this.minLat_),r=this.addParallel_(h,c,b,a,t,r);for(h=(0,n.clamp)(d,this.minLat_,this.maxLat_),l=0;h!=this.maxLat_&&l++<p;)h=Math.min(h+s,this.maxLat_),r=this.addParallel_(h,c,b,a,t,r);this.parallels_.length=r,this.parallelsLabels_&&(this.parallelsLabels_.length=r)},f.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],i=this.projectionCenterLonLat_[1],a=-1,s=Math.pow(this.targetSize_*t,2),l=[],r=[],n=0,o=this.intervals_.length;n<o;++n){var h=this.intervals_[n]/2;if(l[0]=e-h,l[1]=i-h,r[0]=e+h,r[1]=i+h,this.fromLonLatTransform_(l,l),this.fromLonLatTransform_(r,r),Math.pow(r[0]-l[0],2)+Math.pow(r[1]-l[1],2)<=s)break;a=this.intervals_[n]}return a},f.prototype.getMap=function(){return this.map_},f.prototype.getMeridian_=function(t,e,i,l,n){var o=(0,r.meridian)(t,e,i,this.projection_,l),h=this.meridians_[n];return h?(h.setFlatCoordinates(a.default.XY,o),h.changed()):h=this.meridians_[n]=new s.default(o,a.default.XY),h},f.prototype.getMeridians=function(){return this.meridians_},f.prototype.getParallel_=function(t,e,i,l,n){var o=(0,r.parallel)(t,e,i,this.projection_,l),h=this.parallels_[n];return h?(h.setFlatCoordinates(a.default.XY,o),h.changed()):h=new s.default(o,a.default.XY),h},f.prototype.getParallels=function(){return this.parallels_},f.prototype.handlePostCompose_=function(t){var e,i,a,s,l=t.vectorContext,r=t.frameState,n=r.extent,h=r.viewState,_=h.center,m=h.projection,L=h.resolution,d=r.pixelRatio,p=L*L/(4*d*d);for((!this.projection_||!(0,o.equivalent)(this.projection_,m))&&this.updateProjectionInfo_(m),this.createGraticule_(n,_,L,p),l.setFillStrokeStyle(null,this.strokeStyle_),e=0,i=this.meridians_.length;e<i;++e)a=this.meridians_[e],l.drawGeometry(a);for(e=0,i=this.parallels_.length;e<i;++e)a=this.parallels_[e],l.drawGeometry(a);if(this.meridiansLabels_)for(e=0,i=this.meridiansLabels_.length;e<i;++e)s=this.meridiansLabels_[e],this.lonLabelStyle_.setText(s.text),l.setTextStyle(this.lonLabelStyle_),l.drawGeometry(s.geom);if(this.parallelsLabels_)for(e=0,i=this.parallelsLabels_.length;e<i;++e)s=this.parallelsLabels_[e],this.latLabelStyle_.setText(s.text),l.setTextStyle(this.latLabelStyle_),l.drawGeometry(s.geom)},f.prototype.updateProjectionInfo_=function(t){var e=(0,o.get)("EPSG:4326"),a=t.getWorldExtent(),s=(0,o.transformExtent)(a,e,t);this.maxLat_=a[3],this.maxLon_=a[2],this.minLat_=a[1],this.minLon_=a[0],this.maxLatP_=s[3],this.maxLonP_=s[2],this.minLatP_=s[1],this.minLonP_=s[0],this.fromLonLatTransform_=(0,o.getTransform)(e,t),this.toLonLatTransform_=(0,o.getTransform)(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_((0,i.getCenter)(t.getExtent())),this.projection_=t},f.prototype.setMap=function(t){this.map_&&((0,e.unlistenByKey)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),t&&(this.postcomposeListenerKey_=(0,e.listen)(t,h.default.POSTCOMPOSE,this.handlePostCompose_,this),t.render()),this.map_=t};var b=f;exports.default=b;
},{"./coordinate.js":"nGsj","./events.js":"UqnM","./extent.js":"QDir","./geom/GeometryLayout.js":"Utvi","./geom/LineString.js":"DfxW","./geom/Point.js":"gLcY","./geom/flat/geodesic.js":"w0c6","./math.js":"B96G","./proj.js":"Diht","./render/EventType.js":"z39m","./style/Fill.js":"AFcg","./style/Stroke.js":"TXDt","./style/Text.js":"RPsG"}],"Ojbp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./util.js"),e=r(require("./events/Target.js")),o=r(require("./events/EventType.js"));function r(t){return t&&t.__esModule?t:{default:t}}var n=function(e){function r(t,o,r,n){e.call(this),this.extent=t,this.pixelRatio_=r,this.resolution=o,this.state=n}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.changed=function(){this.dispatchEvent(o.default.CHANGE)},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return(0,t.abstract)()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){(0,t.abstract)()},r}(e.default),i=n;exports.default=i;
},{"./util.js":"KniQ","./events/Target.js":"CR4Y","./events/EventType.js":"C8cu"}],"u3kG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IDLE:0,LOADING:1,LOADED:2,ERROR:3};exports.default=e;
},{}],"DHWK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./ImageBase.js")),t=n(require("./ImageState.js")),i=require("./events.js"),s=n(require("./events/EventType.js")),a=require("./extent.js");function n(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function n(i,s,a,n,o,r){e.call(this,i,s,a,t.default.IDLE),this.src_=n,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.state=t.default.IDLE,this.imageLoadFunction_=r}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getImage=function(){return this.image_},n.prototype.handleImageError_=function(){this.state=t.default.ERROR,this.unlistenImage_(),this.changed()},n.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,a.getHeight)(this.extent)/this.image_.height),this.state=t.default.LOADED,this.unlistenImage_(),this.changed()},n.prototype.load=function(){this.state!=t.default.IDLE&&this.state!=t.default.ERROR||(this.state=t.default.LOADING,this.changed(),this.imageListenerKeys_=[(0,i.listenOnce)(this.image_,s.default.ERROR,this.handleImageError_,this),(0,i.listenOnce)(this.image_,s.default.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},n.prototype.setImage=function(e){this.image_=e},n.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(i.unlistenByKey),this.imageListenerKeys_=null},n}(e.default),r=o;exports.default=r;
},{"./ImageBase.js":"Ojbp","./ImageState.js":"u3kG","./events.js":"UqnM","./events/EventType.js":"C8cu","./extent.js":"QDir"}],"K7j2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ImageBase.js")),e=r(require("./ImageState.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function r(r,o,a,s,i){var u=void 0!==i?e.default.IDLE:e.default.LOADED;t.call(this,r,o,a,u),this.loader_=void 0!==i?i:null,this.canvas_=s,this.error_=null}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getError=function(){return this.error_},r.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=e.default.ERROR):this.state=e.default.LOADED,this.changed()},r.prototype.load=function(){this.state==e.default.IDLE&&(this.state=e.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},r.prototype.getImage=function(){return this.canvas_},r}(t.default),a=o;exports.default=a;
},{"./ImageBase.js":"Ojbp","./ImageState.js":"u3kG"}],"Xz9x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};exports.default=e;
},{}],"IeCz":[function(require,module,exports) {
"use strict";function e(e){return Math.pow(e,3)}function t(t){return 1-e(1-t)}function n(e){return 3*e*e-2*e*e*e}function r(e){return e}function u(e){return e<.5?n(2*e):1-n(2*(e-.5))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.easeIn=e,exports.easeOut=t,exports.inAndOut=n,exports.linear=r,exports.upAndDown=u;
},{}],"IWZI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./TileState.js")),i=require("./easing.js"),e=n(require("./events/Target.js")),r=n(require("./events/EventType.js"));function n(t){return t&&t.__esModule?t:{default:t}}var o=function(e){function n(t,i,r){e.call(this);var n=r||{};this.tileCoord=t,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.changed=function(){this.dispatchEvent(r.default.CHANGE)},n.prototype.getKey=function(){return this.key+"/"+this.tileCoord},n.prototype.getInterimTile=function(){if(!this.interimTile)return this;var i=this.interimTile;do{if(i.getState()==t.default.LOADED)return i;i=i.interimTile}while(i);return this},n.prototype.refreshInterimChain=function(){if(this.interimTile){var i=this.interimTile,e=this;do{if(i.getState()==t.default.LOADED){i.interimTile=null;break}i.getState()==t.default.LOADING?e=i:i.getState()==t.default.IDLE?e.interimTile=i.interimTile:e=i,i=e.interimTile}while(i)}},n.prototype.getTileCoord=function(){return this.tileCoord},n.prototype.getState=function(){return this.state},n.prototype.setState=function(t){this.state=t,this.changed()},n.prototype.load=function(){},n.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(r){if(-1===r)return 1}else r=e,this.transitionStarts_[t]=r;var n=e-r+1e3/60;return n>=this.transition_?1:(0,i.easeIn)(n/this.transition_)},n.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},n.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},n}(e.default),s=o;exports.default=s;
},{"./TileState.js":"Xz9x","./easing.js":"IeCz","./events/Target.js":"CR4Y","./events/EventType.js":"C8cu"}],"Xno5":[function(require,module,exports) {
"use strict";function e(e,t){var r=document.createElement("canvas");return e&&(r.width=e),t&&(r.height=t),r.getContext("2d")}function t(e){var t=e.offsetWidth,r=getComputedStyle(e);return t+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function r(e){var t=e.offsetHeight,r=getComputedStyle(e);return t+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function o(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function n(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function a(e){for(;e.lastChild;)e.removeChild(e.lastChild)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCanvasContext2D=e,exports.outerWidth=t,exports.outerHeight=r,exports.replaceNode=o,exports.removeNode=n,exports.removeChildren=a;
},{}],"TOsW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Tile.js")),e=n(require("./TileState.js")),i=require("./dom.js"),s=require("./events.js"),a=n(require("./events/EventType.js"));function n(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function i(e,i,s,a,n,r){t.call(this,e,i,r),this.crossOrigin_=a,this.src_=s,this.image_=new Image,null!==a&&(this.image_.crossOrigin=a),this.imageListenerKeys_=null,this.tileLoadFunction_=n}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){this.state==e.default.LOADING&&(this.unlistenImage_(),this.image_=o()),this.interimTile&&this.interimTile.dispose(),this.state=e.default.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},i.prototype.getImage=function(){return this.image_},i.prototype.getKey=function(){return this.src_},i.prototype.handleImageError_=function(){this.state=e.default.ERROR,this.unlistenImage_(),this.image_=o(),this.changed()},i.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=e.default.LOADED:this.state=e.default.EMPTY,this.unlistenImage_(),this.changed()},i.prototype.load=function(){this.state==e.default.ERROR&&(this.state=e.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==e.default.IDLE&&(this.state=e.default.LOADING,this.changed(),this.imageListenerKeys_=[(0,s.listenOnce)(this.image_,a.default.ERROR,this.handleImageError_,this),(0,s.listenOnce)(this.image_,a.default.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},i.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.unlistenByKey),this.imageListenerKeys_=null},i}(t.default);function o(){var t=(0,i.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var h=r;exports.default=h;
},{"./Tile.js":"IWZI","./TileState.js":"Xz9x","./dom.js":"Xno5","./events.js":"UqnM","./events/EventType.js":"C8cu"}],"gAnK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,i,n){this.decay_=t,this.minVelocity_=i,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,i){this.points_.push(t,i,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,i=this.points_.length-3;if(this.points_[i+2]<t)return!1;for(var n=i-3;n>0&&this.points_[n+2]>t;)n-=3;var e=this.points_[i+2]-this.points_[n+2];if(e<1e3/60)return!1;var s=this.points_[i]-this.points_[n],o=this.points_[i+1]-this.points_[n+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/e,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_};var i=t;exports.default=i;
},{}],"vFcA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o){t.call(this,e),this.map=r,this.frameState=void 0!==o?o:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./events/Event.js":"fKNg"}],"HMLS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./MapEvent.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e,o,r,i,n){t.call(this,e,o,n),this.originalEvent=r,this.pixel=o.getEventPixel(r),this.coordinate=o.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(t.default),r=o;exports.default=r;
},{"./MapEvent.js":"vFcA"}],"YhDM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./events/EventType.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r={SINGLECLICK:"singleclick",CLICK:e.default.CLICK,DBLCLICK:e.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};exports.default=r;
},{"./events/EventType.js":"C8cu"}],"J1WQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./MapBrowserEvent.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o,n,u){t.call(this,e,r,o.originalEvent,n,u),this.pointerEvent=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./MapBrowserEvent.js":"HMLS"}],"TaSm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};exports.default=e;
},{}],"R8kl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e){this.dispatcher=t,this.mapping_=e};t.prototype.getEvents=function(){return Object.keys(this.mapping_)},t.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var e=t;exports.default=e;
},{}],"Plx9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.prepareEvent=h,exports.default=exports.POINTER_TYPE=exports.POINTER_ID=void 0;var t=e(require("./EventSource.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=1;exports.POINTER_ID=i;var r="mouse";exports.POINTER_TYPE=r;var o=25;function s(t){if(!this.isEventSimulatedFromTouch_(t)){i.toString()in this.pointerMap&&this.cancel(t);var e=h(t,this.dispatcher);this.pointerMap[i.toString()]=t,this.dispatcher.down(e,t)}}function n(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.move(e,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[i.toString()];if(e&&e.button===t.button){var r=h(t,this.dispatcher);this.dispatcher.up(r,t),this.cleanupMouse()}}}function u(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function p(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}var c=function(t){function e(e){var i={mousedown:s,mousemove:n,mouseup:a,mouseover:u,mouseout:p};t.call(this,e,i),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,i=t.clientX,r=t.clientY,s=0,n=e.length,a=void 0;s<n&&(a=e[s]);s++){var u=Math.abs(i-a[0]),p=Math.abs(r-a[1]);if(u<=o&&p<=o)return!0}return!1},e.prototype.cancel=function(t){var e=h(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[i.toString()]},e}(t.default);function h(t,e){var o=e.cloneEvent(t,t),s=o.preventDefault;return o.preventDefault=function(){t.preventDefault(),s()},o.pointerId=i,o.isPrimary=!0,o.pointerType=r,o}var v=c;exports.default=v;
},{"./EventSource.js":"R8kl"}],"qKvi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./EventSource.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=["","unavailable","touch","pen","mouse"];function n(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function i(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function p(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function o(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function a(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function s(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function c(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function u(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var h=function(t){function e(e){var r={MSPointerDown:n,MSPointerMove:i,MSPointerUp:p,MSPointerOut:o,MSPointerOver:a,MSPointerCancel:s,MSGotPointerCapture:u,MSLostPointerCapture:c};t.call(this,e,r),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=r[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(t.default),v=h;exports.default=v;
},{"./EventSource.js":"R8kl"}],"Hw3i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./EventSource.js"));function e(t){return t&&t.__esModule?t:{default:t}}function i(t){this.dispatcher.fireNativeEvent(t)}function r(t){this.dispatcher.fireNativeEvent(t)}function n(t){this.dispatcher.fireNativeEvent(t)}function o(t){this.dispatcher.fireNativeEvent(t)}function c(t){this.dispatcher.fireNativeEvent(t)}function p(t){this.dispatcher.fireNativeEvent(t)}function a(t){this.dispatcher.fireNativeEvent(t)}function u(t){this.dispatcher.fireNativeEvent(t)}var s=function(t){function e(e){var s={pointerdown:i,pointermove:r,pointerup:n,pointerout:o,pointerover:c,pointercancel:p,gotpointercapture:u,lostpointercapture:a};t.call(this,e,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),f=s;exports.default=f;
},{"./EventSource.js":"R8kl"}],"rjJl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=!1,n=function(t){function e(e,i,n){t.call(this,e),this.originalEvent=i;var l=n||{};this.buttons=s(l),this.pressure=r(l,this.buttons),this.bubbles="bubbles"in l&&l.bubbles,this.cancelable="cancelable"in l&&l.cancelable,this.view="view"in l?l.view:null,this.detail="detail"in l?l.detail:null,this.screenX="screenX"in l?l.screenX:0,this.screenY="screenY"in l?l.screenY:0,this.clientX="clientX"in l?l.clientX:0,this.clientY="clientY"in l?l.clientY:0,this.ctrlKey="ctrlKey"in l&&l.ctrlKey,this.altKey="altKey"in l&&l.altKey,this.shiftKey="shiftKey"in l&&l.shiftKey,this.metaKey="metaKey"in l&&l.metaKey,this.button="button"in l?l.button:0,this.relatedTarget="relatedTarget"in l?l.relatedTarget:null,this.pointerId="pointerId"in l?l.pointerId:0,this.width="width"in l?l.width:0,this.height="height"in l?l.height:0,this.tiltX="tiltX"in l?l.tiltX:0,this.tiltY="tiltY"in l?l.tiltY:0,this.pointerType="pointerType"in l?l.pointerType:"",this.hwTimestamp="hwTimestamp"in l?l.hwTimestamp:0,this.isPrimary="isPrimary"in l&&l.isPrimary,i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default);function s(t){var e;if(t.buttons||i)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}function r(t,e){return t.pressure?t.pressure:e?.5:0}!function(){try{var t=new MouseEvent("click",{buttons:1});i=1===t.buttons}catch(e){}}();var l=n;exports.default=l;
},{"../events/Event.js":"fKNg"}],"XfdC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=r(require("./EventSource.js")),i=require("./MouseSource.js");function r(t){return t&&t.__esModule?t:{default:t}}var o=200,s="touch";function n(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function c(t){this.processTouches_(t,this.moveOverOut_)}function u(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function h(t){this.processTouches_(t,this.cancelOut_)}var a=function(e){function r(t,i){var r={touchstart:n,touchmove:c,touchend:u,touchcancel:h};e.call(this,t,r),this.pointerMap=t.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},r.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&i.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},r.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},r.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),o)},r.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},r.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},r.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.radiusX||0,i.height=e.radiusY||0,i.pressure=e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType=s,i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},r.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),r=i.length;function o(){t.preventDefault()}for(var s=0;s<r;++s){var n=this.touchToPointer_(t,i[s]);n.preventDefault=o,e.call(this,t,n)}},r.prototype.findTouch_=function(t,e){for(var i=t.length,r=0;r<i;r++){if(t[r].identifier===e)return!0}return!1},r.prototype.vacuumTouches_=function(t){var e=t.touches,r=Object.keys(this.pointerMap),o=r.length;if(o>=e.length){for(var s=[],n=0;n<o;++n){var c=Number(r[n]),u=this.pointerMap[c];c==i.POINTER_ID||this.findTouch_(e,c-2)||s.push(u.out)}for(var h=0;h<s.length;++h)this.cancelOut_(t,s[h])}},r.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},r.prototype.moveOverOut_=function(t,e){var i=e,r=this.pointerMap[i.pointerId];if(r){var o=r.out,s=r.outTarget;this.dispatcher.move(i,t),o&&s!==i.target&&(o.relatedTarget=i.target,i.relatedTarget=s,o.target=s,i.target?(this.dispatcher.leaveOut(o,t),this.dispatcher.enterOver(i,t)):(i.target=s,i.relatedTarget=null,this.cancelOut_(t,i))),r.out=i,r.outTarget=i.target}},r.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},r.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},r.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},r.prototype.dedupSynthMouse_=function(e){var i=this.mouseSource.lastTouches,r=e.changedTouches[0];if(this.isPrimaryTouch_(r)){var o=[r.clientX,r.clientY];i.push(o),setTimeout(function(){(0,t.remove)(i,o)},this.dedupTimeout_)}},r}(e.default),p=a;exports.default=p;
},{"../array.js":"luEr","./EventSource.js":"R8kl","./MouseSource.js":"Plx9"}],"zTqe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=l(require("../events/Target.js")),r=require("../has.js"),n=l(require("./EventType.js")),i=c(require("./MouseSource.js")),o=l(require("./MsSource.js")),s=l(require("./NativeSource.js")),u=l(require("./PointerEvent.js")),a=l(require("./TouchSource.js"));function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function c(e){if(e&&e.__esModule)return e;var t=p();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}function l(e){return e&&e.__esModule?e:{default:e}}var f=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],v=function(t){function p(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(p.__proto__=t),p.prototype=Object.create(t&&t.prototype),p.prototype.constructor=p,p.prototype.registerSources=function(){if(r.POINTER)this.registerSource("native",new s.default(this));else if(r.MSPOINTER)this.registerSource("ms",new o.default(this));else{var e=new i.default(this);this.registerSource("mouse",e),r.TOUCH&&this.registerSource("touch",new a.default(this,e))}this.register_()},p.prototype.registerSource=function(e,t){var r=t,n=r.getEvents();n&&(n.forEach(function(e){var t=r.getHandlerForEvent(e);t&&(this.eventMap_[e]=t.bind(r))}.bind(this)),this.eventSourceList_.push(r))},p.prototype.register_=function(){for(var e=this.eventSourceList_.length,t=0;t<e;t++){var r=this.eventSourceList_[t];this.addEvents_(r.getEvents())}},p.prototype.unregister_=function(){for(var e=this.eventSourceList_.length,t=0;t<e;t++){var r=this.eventSourceList_[t];this.removeEvents_(r.getEvents())}},p.prototype.eventHandler_=function(e){var t=e.type,r=this.eventMap_[t];r&&r(e)},p.prototype.addEvents_=function(t){t.forEach(function(t){(0,e.listen)(this.element_,t,this.eventHandler_,this)}.bind(this))},p.prototype.removeEvents_=function(t){t.forEach(function(t){(0,e.unlisten)(this.element_,t,this.eventHandler_,this)}.bind(this))},p.prototype.cloneEvent=function(e,t){for(var r={},n=0,i=f.length;n<i;n++){var o=f[n][0];r[o]=e[o]||t[o]||f[n][1]}return r},p.prototype.down=function(e,t){this.fireEvent(n.default.POINTERDOWN,e,t)},p.prototype.move=function(e,t){this.fireEvent(n.default.POINTERMOVE,e,t)},p.prototype.up=function(e,t){this.fireEvent(n.default.POINTERUP,e,t)},p.prototype.enter=function(e,t){e.bubbles=!1,this.fireEvent(n.default.POINTERENTER,e,t)},p.prototype.leave=function(e,t){e.bubbles=!1,this.fireEvent(n.default.POINTERLEAVE,e,t)},p.prototype.over=function(e,t){e.bubbles=!0,this.fireEvent(n.default.POINTEROVER,e,t)},p.prototype.out=function(e,t){e.bubbles=!0,this.fireEvent(n.default.POINTEROUT,e,t)},p.prototype.cancel=function(e,t){this.fireEvent(n.default.POINTERCANCEL,e,t)},p.prototype.leaveOut=function(e,t){this.out(e,t),this.contains_(e.target,e.relatedTarget)||this.leave(e,t)},p.prototype.enterOver=function(e,t){this.over(e,t),this.contains_(e.target,e.relatedTarget)||this.enter(e,t)},p.prototype.contains_=function(e,t){return!(!e||!t)&&e.contains(t)},p.prototype.makeEvent=function(e,t,r){return new u.default(e,r,t)},p.prototype.fireEvent=function(e,t,r){var n=this.makeEvent(e,t,r);this.dispatchEvent(n)},p.prototype.fireNativeEvent=function(e){var t=this.makeEvent(e.type,e,e);this.dispatchEvent(t)},p.prototype.wrapMouseEvent=function(e,t){return this.makeEvent(e,(0,i.prepareEvent)(t,this),t)},p.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},p}(t.default),h=v;exports.default=h;
},{"../events.js":"UqnM","../events/Target.js":"CR4Y","../has.js":"f3Nv","./EventType.js":"TaSm","./MouseSource.js":"Plx9","./MsSource.js":"qKvi","./NativeSource.js":"Hw3i","./PointerEvent.js":"rjJl","./TouchSource.js":"XfdC"}],"ohHk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./has.js"),e=a(require("./MapBrowserEventType.js")),i=a(require("./MapBrowserPointerEvent.js")),n=require("./events.js"),s=a(require("./events/Target.js")),r=a(require("./pointer/EventType.js")),o=a(require("./pointer/PointerEventHandler.js"));function a(t){return t&&t.__esModule?t:{default:t}}var d=function(s){function a(e,i){s.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*t.DEVICE_PIXEL_RATIO:t.DEVICE_PIXEL_RATIO,this.down_=null;var a=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new o.default(a),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=(0,n.listen)(this.pointerEventHandler_,r.default.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=(0,n.listen)(this.pointerEventHandler_,r.default.POINTERMOVE,this.relayEvent_,this)}return s&&(a.__proto__=s),a.prototype=Object.create(s&&s.prototype),a.prototype.constructor=a,a.prototype.emulateClick_=function(t){var n=new i.default(e.default.CLICK,this.map_,t);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new i.default(e.default.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var n=new i.default(e.default.SINGLECLICK,this.map_,t);this.dispatchEvent(n)}.bind(this),250)},a.prototype.updateActivePointers_=function(t){var i=t;i.type==e.default.POINTERUP||i.type==e.default.POINTERCANCEL?delete this.trackedTouches_[i.pointerId]:i.type==e.default.POINTERDOWN&&(this.trackedTouches_[i.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},a.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var s=new i.default(e.default.POINTERUP,this.map_,t);this.dispatchEvent(s),s.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},a.prototype.isMouseActionButton_=function(t){return 0===t.button},a.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var s=new i.default(e.default.POINTERDOWN,this.map_,t);this.dispatchEvent(s),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new o.default(document),this.dragListenerKeys_.push((0,n.listen)(this.documentPointerEventHandler_,e.default.POINTERMOVE,this.handlePointerMove_,this),(0,n.listen)(this.documentPointerEventHandler_,e.default.POINTERUP,this.handlePointerUp_,this),(0,n.listen)(this.pointerEventHandler_,e.default.POINTERCANCEL,this.handlePointerUp_,this)))},a.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var n=new i.default(e.default.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(n)}t.preventDefault()},a.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new i.default(t.type,this.map_,t,e))},a.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},a.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,n.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,n.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),s.prototype.disposeInternal.call(this)},a}(s.default),h=d;exports.default=h;
},{"./has.js":"f3Nv","./MapBrowserEventType.js":"YhDM","./MapBrowserPointerEvent.js":"J1WQ","./events.js":"UqnM","./events/Target.js":"CR4Y","./pointer/EventType.js":"TaSm","./pointer/PointerEventHandler.js":"zTqe"}],"xLGm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};exports.default=e;
},{}],"zlNQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};exports.default=e;
},{}],"RQLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DROP=void 0;var t=require("../asserts.js"),e=require("../obj.js"),i=1/0;exports.DROP=i;var n=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,e.clear)(this.queuedElements_)},n.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i},n.prototype.enqueue=function(e){(0,t.assert)(!(this.keyFunction_(e)in this.queuedElements_),31);var n=this.priorityFunction_(e);return n!=i&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(t){return 2*t+1},n.prototype.getRightChildIndex_=function(t){return 2*t+2},n.prototype.getParentIndex_=function(t){return t-1>>1},n.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},n.prototype.isEmpty=function(){return 0===this.elements_.length},n.prototype.isKeyQueued=function(t){return t in this.queuedElements_},n.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},n.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,s=e[t],r=i[t],o=t;t<n>>1;){var u=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),p=h<n&&i[h]<i[u]?h:u;e[t]=e[p],i[t]=i[p],t=p}e[t]=s,i[t]=r,this.siftDown_(o,t)},n.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,s=i[e],r=n[e];e>t;){var o=this.getParentIndex_(e);if(!(n[o]>r))break;i[e]=i[o],n[e]=n[o],e=o}i[e]=s,n[e]=r},n.prototype.reprioritize=function(){var t,e,n,s=this.priorityFunction_,r=this.elements_,o=this.priorities_,u=0,h=r.length;for(e=0;e<h;++e)(n=s(t=r[e]))==i?delete this.queuedElements_[this.keyFunction_(t)]:(o[u]=n,r[u++]=t);r.length=u,o.length=u,this.heapify_()};var s=n;exports.default=s;
},{"../asserts.js":"fLG6","../obj.js":"mH6q"}],"tHOl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./TileState.js")),t=require("./events.js"),i=a(require("./events/EventType.js")),n=a(require("./structs/PriorityQueue.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(n){function a(e,t){n.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()}),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return n&&(a.__proto__=n),a.prototype=Object.create(n&&n.prototype),a.prototype.constructor=a,a.prototype.enqueue=function(e){var a=n.prototype.enqueue.call(this,e);if(a){var s=e[0];(0,t.listen)(s,i.default.CHANGE,this.handleTileChange,this)}return a},a.prototype.getTilesLoading=function(){return this.tilesLoading_},a.prototype.handleTileChange=function(n){var a=n.target,s=a.getState();if(s===e.default.LOADED||s===e.default.ERROR||s===e.default.EMPTY||s===e.default.ABORT){(0,t.unlisten)(a,i.default.CHANGE,this.handleTileChange,this);var l=a.getKey();l in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[l],--this.tilesLoading_),this.tileChangeCallback_()}},a.prototype.loadMoreTiles=function(t,i){for(var n,a,s,l=0,o=!1;this.tilesLoading_<t&&l<i&&this.getCount()>0;)s=(a=this.dequeue()[0]).getKey(),(n=a.getState())===e.default.ABORT?o=!0:n!==e.default.IDLE||s in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++l,a.load());0===l&&o&&this.tileChangeCallback_()},a}(n.default),l=s;exports.default=l;
},{"./TileState.js":"Xz9x","./events.js":"UqnM","./events/EventType.js":"C8cu","./structs/PriorityQueue.js":"RQLY"}],"mOEX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_TILE_SIZE=exports.DEFAULT_MAX_ZOOM=void 0;var e=42;exports.DEFAULT_MAX_ZOOM=e;var r=256;exports.DEFAULT_TILE_SIZE=r;
},{}],"Rc7z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createExtent=t,exports.none=r;var e=require("./math.js");function t(t){return function(r){return r?[(0,e.clamp)(r[0],t[0],t[2]),(0,e.clamp)(r[1],t[1],t[3])]:void 0}}function r(e){return e}
},{"./math.js":"B96G"}],"o7nl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSnapToResolutions=t,exports.createSnapToPower=a;var r=require("./array.js"),e=require("./math.js");function t(t){return function(a,o,n){if(void 0!==a){var i=(0,r.linearFindNearest)(t,a,n);i=(0,e.clamp)(i+o,0,t.length-1);var u=Math.floor(i);if(i!=u&&u<t.length-1){var h=t[u]/t[u+1];return t[u]/Math.pow(h,i-u)}return t[u]}}}function a(r,e,t){return function(a,o,n){if(void 0!==a){var i=-n/2+.5,u=Math.floor(Math.log(e/a)/Math.log(r)+i),h=Math.max(u+o,0);return void 0!==t&&(h=Math.min(h,t)),e/Math.pow(r,h)}}}
},{"./array.js":"luEr","./math.js":"B96G"}],"EKd0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.disable=e,exports.none=o,exports.createSnapToN=t,exports.createSnapToZero=n;var r=require("./math.js");function e(r,e){return void 0!==r?0:void 0}function o(r,e){return void 0!==r?r+e:void 0}function t(r){var e=2*Math.PI/r;return function(r,o){return void 0!==r?r=Math.floor((r+o)/e+.5)*e:void 0}}function n(e){var o=e||(0,r.toRadians)(5);return function(r,e){return void 0!==r?Math.abs(r+e)<=o?0:r+e:void 0}}
},{"./math.js":"B96G"}],"cuLW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ANIMATING:0,INTERACTING:1};exports.default=e;
},{}],"cE7c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};exports.default=e;
},{}],"hNqE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCenterConstraint=A,exports.createResolutionConstraint=E,exports.createRotationConstraint=T,exports.isNoopAnimation=I,exports.default=void 0;var t=require("./tilegrid/common.js"),o=require("./util.js"),e=require("./functions.js"),i=require("./centerconstraint.js"),n=y(require("./Object.js")),r=require("./resolutionconstraint.js"),s=require("./rotationconstraint.js"),a=y(require("./ViewHint.js")),u=y(require("./ViewProperty.js")),h=require("./array.js"),l=require("./asserts.js"),c=require("./coordinate.js"),p=require("./easing.js"),m=require("./extent.js"),g=y(require("./geom/GeometryType.js")),d=require("./geom/Polygon.js"),R=require("./math.js"),f=require("./obj.js"),v=require("./proj.js"),_=y(require("./proj/Units.js"));function y(t){return t&&t.__esModule?t:{default:t}}var M=0,C=function(t){function i(o){t.call(this);var e=(0,f.assign)({},o);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=(0,v.createProjection)(e.projection,"EPSG:3857"),this.applyOptions_(e)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.applyOptions_=function(t){var o={};o[u.default.CENTER]=void 0!==t.center?t.center:null;var e=E(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var i=A(t),n=e.constraint,r=T(t);this.constraints_={center:i,resolution:n,rotation:r},void 0!==t.resolution?o[u.default.RESOLUTION]=t.resolution:void 0!==t.zoom&&(o[u.default.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(o[u.default.RESOLUTION]=(0,R.clamp)(Number(this.getResolution()||o[u.default.RESOLUTION]),this.minResolution_,this.maxResolution_))),o[u.default.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(o),this.options_=t},i.prototype.getUpdatedOptions_=function(t){var o=(0,f.assign)({},this.options_);return void 0!==o.resolution?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenter(),o.rotation=this.getRotation(),(0,f.assign)({},o,t)},i.prototype.animate=function(t){var o,e=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(o=arguments[i-1],--i),!this.isDef()){var n=arguments[i-1];return n.center&&this.setCenter(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(o&&x(o,!0))}for(var r=Date.now(),s=this.getCenter().slice(),u=this.getResolution(),h=this.getRotation(),l=[],c=0;c<i;++c){var m=e[c],g={start:r,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1e3,easing:m.easing||p.inAndOut};if(m.center&&(g.sourceCenter=s,g.targetCenter=m.center,s=g.targetCenter),void 0!==m.zoom?(g.sourceResolution=u,g.targetResolution=this.constrainResolution(this.maxResolution_,m.zoom-this.minZoom_,0),u=g.targetResolution):m.resolution&&(g.sourceResolution=u,g.targetResolution=m.resolution,u=g.targetResolution),void 0!==m.rotation){g.sourceRotation=h;var d=(0,R.modulo)(m.rotation-h+Math.PI,2*Math.PI)-Math.PI;g.targetRotation=h+d,h=g.targetRotation}g.callback=o,I(g)?g.complete=!0:r+=g.duration,l.push(g)}this.animations_.push(l),this.setHint(a.default.ANIMATING,1),this.updateAnimations_()},i.prototype.getAnimating=function(){return this.hints_[a.default.ANIMATING]>0},i.prototype.getInteracting=function(){return this.hints_[a.default.INTERACTING]>0},i.prototype.cancelAnimations=function(){this.setHint(a.default.ANIMATING,-this.hints_[a.default.ANIMATING]);for(var t=0,o=this.animations_.length;t<o;++t){var e=this.animations_[t];e[0].callback&&x(e[0].callback,!1)}this.animations_.length=0},i.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),o=!1,e=this.animations_.length-1;e>=0;--e){for(var i=this.animations_[e],n=!0,r=0,s=i.length;r<s;++r){var h=i[r];if(!h.complete){var l=t-h.start,c=h.duration>0?l/h.duration:1;c>=1?(h.complete=!0,c=1):n=!1;var p=h.easing(c);if(h.sourceCenter){var m=h.sourceCenter[0],g=h.sourceCenter[1],d=m+p*(h.targetCenter[0]-m),f=g+p*(h.targetCenter[1]-g);this.set(u.default.CENTER,[d,f])}if(h.sourceResolution&&h.targetResolution){var v=1===p?h.targetResolution:h.sourceResolution+p*(h.targetResolution-h.sourceResolution);h.anchor&&this.set(u.default.CENTER,this.calculateCenterZoom(v,h.anchor)),this.set(u.default.RESOLUTION,v)}if(void 0!==h.sourceRotation&&void 0!==h.targetRotation){var _=1===p?(0,R.modulo)(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+p*(h.targetRotation-h.sourceRotation);h.anchor&&this.set(u.default.CENTER,this.calculateCenterRotate(_,h.anchor)),this.set(u.default.ROTATION,_)}if(o=!0,!h.complete)break}}if(n){this.animations_[e]=null,this.setHint(a.default.ANIMATING,-1);var y=i[0].callback;y&&x(y,!0)}}this.animations_=this.animations_.filter(Boolean),o&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},i.prototype.calculateCenterRotate=function(t,o){var e,i=this.getCenter();return void 0!==i&&(e=[i[0]-o[0],i[1]-o[1]],(0,c.rotate)(e,t-this.getRotation()),(0,c.add)(e,o)),e},i.prototype.calculateCenterZoom=function(t,o){var e,i=this.getCenter(),n=this.getResolution();void 0!==i&&void 0!==n&&(e=[o[0]-t*(o[0]-i[0])/n,o[1]-t*(o[1]-i[1])/n]);return e},i.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+(0,o.getUid)(this)+'"]',i=document.querySelector(e);if(i){var n=getComputedStyle(i);t[0]=parseInt(n.width,10),t[1]=parseInt(n.height,10)}return t},i.prototype.constrainCenter=function(t){return this.constraints_.center(t)},i.prototype.constrainResolution=function(t,o,e){var i=o||0,n=e||0;return this.constraints_.resolution(t,i,n)},i.prototype.constrainRotation=function(t,o){var e=o||0;return this.constraints_.rotation(t,e)},i.prototype.getCenter=function(){return this.get(u.default.CENTER)},i.prototype.getConstraints=function(){return this.constraints_},i.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},i.prototype.calculateExtent=function(t){var o=t||this.getSizeFromViewport_(),e=this.getCenter();(0,l.assert)(e,1);var i=this.getResolution();(0,l.assert)(void 0!==i,2);var n=this.getRotation();return(0,l.assert)(void 0!==n,3),(0,m.getForViewAndSize)(e,i,n,o)},i.prototype.getMaxResolution=function(){return this.maxResolution_},i.prototype.getMinResolution=function(){return this.minResolution_},i.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},i.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},i.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},i.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},i.prototype.getProjection=function(){return this.projection_},i.prototype.getResolution=function(){return this.get(u.default.RESOLUTION)},i.prototype.getResolutions=function(){return this.resolutions_},i.prototype.getResolutionForExtent=function(t,o){var e=o||this.getSizeFromViewport_(),i=(0,m.getWidth)(t)/e[0],n=(0,m.getHeight)(t)/e[1];return Math.max(i,n)},i.prototype.getResolutionForValueFunction=function(t){var o=t||2,e=this.maxResolution_,i=this.minResolution_,n=Math.log(e/i)/Math.log(o);return function(t){return e/Math.pow(o,t*n)}},i.prototype.getRotation=function(){return this.get(u.default.ROTATION)},i.prototype.getValueForResolutionFunction=function(t){var o=t||2,e=this.maxResolution_,i=this.minResolution_,n=Math.log(e/i)/Math.log(o);return function(t){return Math.log(e/t)/Math.log(o)/n}},i.prototype.getState=function(t){var o=this.getCenter(),e=this.getProjection(),i=this.getResolution(),n=i/t,r=this.getRotation();return{center:[Math.round(o[0]/n)*n,Math.round(o[1]/n)*n],projection:void 0!==e?e:null,resolution:i,rotation:r,zoom:this.getZoom()}},i.prototype.getZoom=function(){var t,o=this.getResolution();return void 0!==o&&(t=this.getZoomForResolution(o)),t},i.prototype.getZoomForResolution=function(t){var o,e,i=this.minZoom_||0;if(this.resolutions_){var n=(0,h.linearFindNearest)(this.resolutions_,t,1);i=n,o=this.resolutions_[n],e=n==this.resolutions_.length-1?2:o/this.resolutions_[n+1]}else o=this.maxResolution_,e=this.zoomFactor_;return i+Math.log(o/t)/Math.log(e)},i.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},i.prototype.fit=function(t,o){var i,n=o||{},r=n.size;r||(r=this.getSizeFromViewport_()),(0,l.assert)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?((0,l.assert)(!(0,m.isEmpty)(t),25),i=(0,d.fromExtent)(t)):t.getType()===g.default.CIRCLE?(t=t.getExtent(),(i=(0,d.fromExtent)(t)).rotate(this.getRotation(),(0,m.getCenter)(t))):i=t;var s,a=void 0!==n.padding?n.padding:[0,0,0,0],u=void 0===n.constrainResolution||n.constrainResolution,h=void 0!==n.nearest&&n.nearest;s=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.maxResolution_,n.maxZoom-this.minZoom_,0):0;for(var c=i.getFlatCoordinates(),p=this.getRotation(),R=Math.cos(-p),f=Math.sin(-p),v=1/0,_=1/0,y=-1/0,M=-1/0,C=i.getStride(),A=0,E=c.length;A<E;A+=C){var T=c[A]*R-c[A+1]*f,I=c[A]*f+c[A+1]*R;v=Math.min(v,T),_=Math.min(_,I),y=Math.max(y,T),M=Math.max(M,I)}var N=this.getResolutionForExtent([v,_,y,M],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);if(N=isNaN(N)?s:Math.max(N,s),u){var Z=this.constrainResolution(N,0,0);!h&&Z<N&&(Z=this.constrainResolution(Z,-1,0)),N=Z}f=-f;var j=(v+y)/2,O=(_+M)/2,F=[(j+=(a[1]-a[3])/2*N)*R-(O+=(a[0]-a[2])/2*N)*f,O*R+j*f],S=n.callback?n.callback:e.VOID;void 0!==n.duration?this.animate({resolution:N,center:F,duration:n.duration,easing:n.easing},S):(this.setResolution(N),this.setCenter(F),x(S,!0))},i.prototype.centerOn=function(t,o,e){var i=this.getRotation(),n=Math.cos(-i),r=Math.sin(-i),s=t[0]*n-t[1]*r,a=t[1]*n+t[0]*r,u=this.getResolution(),h=(s+=(o[0]/2-e[0])*u)*n-(a+=(e[1]-o[1]/2)*u)*(r=-r),l=a*n+s*r;this.setCenter([h,l])},i.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},i.prototype.rotate=function(t,o){if(void 0!==o){var e=this.calculateCenterRotate(t,o);this.setCenter(e)}this.setRotation(t)},i.prototype.setCenter=function(t){this.set(u.default.CENTER,t),this.getAnimating()&&this.cancelAnimations()},i.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},i.prototype.setResolution=function(t){this.set(u.default.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},i.prototype.setRotation=function(t){this.set(u.default.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},i.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},i}(n.default);function x(t,o){setTimeout(function(){t(o)},0)}function A(t){return void 0!==t.extent?(0,i.createExtent)(t.extent):i.none}function E(o){var e,i,n,s=void 0!==o.minZoom?o.minZoom:M,a=void 0!==o.maxZoom?o.maxZoom:28,u=void 0!==o.zoomFactor?o.zoomFactor:2;if(void 0!==o.resolutions){var h=o.resolutions;i=h[s],n=void 0!==h[a]?h[a]:h[h.length-1],e=(0,r.createSnapToResolutions)(h)}else{var l=(0,v.createProjection)(o.projection,"EPSG:3857"),c=l.getExtent(),p=(c?Math.max((0,m.getWidth)(c),(0,m.getHeight)(c)):360*v.METERS_PER_UNIT[_.default.DEGREES]/l.getMetersPerUnit())/t.DEFAULT_TILE_SIZE/Math.pow(2,M),g=p/Math.pow(2,28-M);void 0!==(i=o.maxResolution)?s=0:i=p/Math.pow(u,s),void 0===(n=o.minResolution)&&(n=void 0!==o.maxZoom?void 0!==o.maxResolution?i/Math.pow(u,a):p/Math.pow(u,a):g),a=s+Math.floor(Math.log(i/n)/Math.log(u)),n=i/Math.pow(u,a-s),e=(0,r.createSnapToPower)(u,i,a-s)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:s,zoomFactor:u}}function T(t){if(void 0===t.enableRotation||t.enableRotation){var o=t.constrainRotation;return void 0===o||!0===o?(0,s.createSnapToZero)():!1===o?s.none:"number"==typeof o?(0,s.createSnapToN)(o):s.none}return s.disable}function I(t){return!(t.sourceCenter&&t.targetCenter&&!(0,c.equals)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var N=C;exports.default=N;
},{"./tilegrid/common.js":"mOEX","./util.js":"KniQ","./functions.js":"RgA2","./centerconstraint.js":"Rc7z","./Object.js":"PhPh","./resolutionconstraint.js":"o7nl","./rotationconstraint.js":"EKd0","./ViewHint.js":"cuLW","./ViewProperty.js":"cE7c","./array.js":"luEr","./asserts.js":"fLG6","./coordinate.js":"nGsj","./easing.js":"IeCz","./extent.js":"QDir","./geom/GeometryType.js":"lmV0","./geom/Polygon.js":"Nwwk","./math.js":"B96G","./obj.js":"mH6q","./proj.js":"Diht","./proj/Units.js":"yZx6"}],"HbeD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"};exports.default=e;
},{}],"T6DQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=n(require("../Object.js")),o=n(require("./Property.js")),i=require("../math.js"),r=require("../obj.js");function n(t){return t&&t.__esModule?t:{default:t}}var s=function(e){function n(t){e.call(this);var i=(0,r.assign)({},t);i[o.default.OPACITY]=void 0!==t.opacity?t.opacity:1,i[o.default.VISIBLE]=void 0===t.visible||t.visible,i[o.default.Z_INDEX]=t.zIndex,i[o.default.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,i[o.default.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,this.setProperties(i),this.state_=null,this.type}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getType=function(){return this.type},n.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=(0,i.clamp)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},n.prototype.getLayersArray=function(e){return(0,t.abstract)()},n.prototype.getLayerStatesArray=function(e){return(0,t.abstract)()},n.prototype.getExtent=function(){return this.get(o.default.EXTENT)},n.prototype.getMaxResolution=function(){return this.get(o.default.MAX_RESOLUTION)},n.prototype.getMinResolution=function(){return this.get(o.default.MIN_RESOLUTION)},n.prototype.getOpacity=function(){return this.get(o.default.OPACITY)},n.prototype.getSourceState=function(){return(0,t.abstract)()},n.prototype.getVisible=function(){return this.get(o.default.VISIBLE)},n.prototype.getZIndex=function(){return this.get(o.default.Z_INDEX)},n.prototype.setExtent=function(t){this.set(o.default.EXTENT,t)},n.prototype.setMaxResolution=function(t){this.set(o.default.MAX_RESOLUTION,t)},n.prototype.setMinResolution=function(t){this.set(o.default.MIN_RESOLUTION,t)},n.prototype.setOpacity=function(t){this.set(o.default.OPACITY,t)},n.prototype.setVisible=function(t){this.set(o.default.VISIBLE,t)},n.prototype.setZIndex=function(t){this.set(o.default.Z_INDEX,t)},n}(e.default),u=s;exports.default=u;
},{"../util.js":"KniQ","../Object.js":"PhPh","./Property.js":"HbeD","../math.js":"B96G","../obj.js":"mH6q"}],"iC8j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};exports.default=e;
},{}],"q0nK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=d(require("../Collection.js")),r=d(require("../CollectionEventType.js")),s=require("../Object.js"),i=d(require("../ObjectEventType.js")),n=require("../asserts.js"),a=require("../events.js"),o=d(require("../events/EventType.js")),l=require("../extent.js"),y=d(require("./Base.js")),h=require("../obj.js"),u=d(require("../source/State.js"));function d(e){return e&&e.__esModule?e:{default:e}}var c={LAYERS:"layers"},f=function(y){function d(e){var r=e||{},i=(0,h.assign)({},r);delete i.layers;var o=r.layers;y.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},(0,a.listen)(this,(0,s.getChangeEventType)(c.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new t.default(o.slice(),{unique:!0}):(0,n.assert)("function"==typeof o.getArray,43):o=new t.default(void 0,{unique:!0}),this.setLayers(o)}return y&&(d.__proto__=y),d.prototype=Object.create(y&&y.prototype),d.prototype.constructor=d,d.prototype.handleLayerChange_=function(){this.changed()},d.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(a.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var s in this.layersListenerKeys_.push((0,a.listen)(t,r.default.ADD,this.handleLayersAdd_,this),(0,a.listen)(t,r.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[s].forEach(a.unlistenByKey);(0,h.clear)(this.listenerKeys_);for(var n=t.getArray(),l=0,y=n.length;l<y;l++){var u=n[l];this.listenerKeys_[(0,e.getUid)(u)]=[(0,a.listen)(u,i.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,a.listen)(u,o.default.CHANGE,this.handleLayerChange_,this)]}this.changed()},d.prototype.handleLayersAdd_=function(t){var r=t.element;this.listenerKeys_[(0,e.getUid)(r)]=[(0,a.listen)(r,i.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,a.listen)(r,o.default.CHANGE,this.handleLayerChange_,this)],this.changed()},d.prototype.handleLayersRemove_=function(t){var r=t.element,s=(0,e.getUid)(r);this.listenerKeys_[s].forEach(a.unlistenByKey),delete this.listenerKeys_[s],this.changed()},d.prototype.getLayers=function(){return this.get(c.LAYERS)},d.prototype.setLayers=function(e){this.set(c.LAYERS,e)},d.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach(function(e){e.getLayersArray(t)}),t},d.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],r=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});for(var s=this.getLayerState(),i=r,n=t.length;i<n;i++){var a=t[i];a.opacity*=s.opacity,a.visible=a.visible&&s.visible,a.maxResolution=Math.min(a.maxResolution,s.maxResolution),a.minResolution=Math.max(a.minResolution,s.minResolution),void 0!==s.extent&&(void 0!==a.extent?a.extent=(0,l.getIntersection)(a.extent,s.extent):a.extent=s.extent)}return t},d.prototype.getSourceState=function(){return u.default.READY},d}(y.default),p=f;exports.default=p;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../Object.js":"PhPh","../ObjectEventType.js":"zehl","../asserts.js":"fLG6","../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir","./Base.js":"T6DQ","../obj.js":"mH6q","../source/State.js":"iC8j"}],"TAHd":[function(require,module,exports) {
"use strict";function r(r,e,t){return void 0===t&&(t=[0,0]),t[0]=r[0]+2*e,t[1]=r[1]+2*e,t}function e(r){return r[0]>0&&r[1]>0}function t(r,e,t){return void 0===t&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function o(r,e){return Array.isArray(r)?r:(void 0===e?e=[r,r]:e[0]=e[1]=r,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buffer=r,exports.hasArea=e,exports.scale=t,exports.toSize=o;
},{}],"kRwz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./util.js"),t=x(require("./Collection.js")),i=x(require("./CollectionEventType.js")),r=x(require("./MapBrowserEvent.js")),n=x(require("./MapBrowserEventHandler.js")),o=x(require("./MapBrowserEventType.js")),s=x(require("./MapEvent.js")),a=x(require("./MapEventType.js")),l=x(require("./MapProperty.js")),h=x(require("./render/EventType.js")),d=A(require("./Object.js")),u=x(require("./ObjectEventType.js")),p=x(require("./TileQueue.js")),y=x(require("./View.js")),f=x(require("./ViewHint.js")),v=require("./asserts.js"),c=require("./dom.js"),_=require("./events.js"),g=require("./events/Event.js"),E=x(require("./events/EventType.js")),m=require("./extent.js"),T=require("./functions.js"),w=require("./has.js"),R=x(require("./layer/Group.js")),C=require("./size.js"),L=require("./structs/PriorityQueue.js"),S=require("./transform.js");function P(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return P=function(){return e},e}function A(e){if(e&&e.__esModule)return e;var t=P();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=e[n]}}return i.default=e,t&&t.set(e,i),i}function x(e){return e&&e.__esModule?e:{default:e}}var I=function(y){function v(e){y.call(this);var r=O(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:w.DEVICE_PIXEL_RATIO,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=(0,S.create)(),this.pixelToCoordinateTransform_=(0,S.create)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(w.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var s=[E.default.CLICK,E.default.DBLCLICK,E.default.MOUSEDOWN,E.default.TOUCHSTART,E.default.MSPOINTERDOWN,o.default.POINTERDOWN,E.default.MOUSEWHEEL,E.default.WHEEL],a=0,h=s.length;a<h;++a)(0,_.listen)(this.overlayContainerStopEvent_,s[a],g.stopPropagation);for(var u in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new n.default(this,e.moveTolerance),o.default)(0,_.listen)(this.mapBrowserEventHandler_,o.default[u],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=r.keyboardEventTarget,this.keyHandlerKeys_=null,(0,_.listen)(this.viewport_,E.default.CONTEXTMENU,this.handleBrowserEvent,this),(0,_.listen)(this.viewport_,E.default.WHEEL,this.handleBrowserEvent,this),(0,_.listen)(this.viewport_,E.default.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=r.controls||new t.default,this.interactions=r.interactions||new t.default,this.overlays_=r.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new p.default(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},(0,_.listen)(this,(0,d.getChangeEventType)(l.default.LAYERGROUP),this.handleLayerGroupChanged_,this),(0,_.listen)(this,(0,d.getChangeEventType)(l.default.VIEW),this.handleViewChanged_,this),(0,_.listen)(this,(0,d.getChangeEventType)(l.default.SIZE),this.handleSizeChanged_,this),(0,_.listen)(this,(0,d.getChangeEventType)(l.default.TARGET),this.handleTargetChanged_,this),this.setProperties(r.values),this.controls.forEach(function(e){e.setMap(this)}.bind(this)),(0,_.listen)(this.controls,i.default.ADD,function(e){e.element.setMap(this)},this),(0,_.listen)(this.controls,i.default.REMOVE,function(e){e.element.setMap(null)},this),this.interactions.forEach(function(e){e.setMap(this)}.bind(this)),(0,_.listen)(this.interactions,i.default.ADD,function(e){e.element.setMap(this)},this),(0,_.listen)(this.interactions,i.default.REMOVE,function(e){e.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),(0,_.listen)(this.overlays_,i.default.ADD,function(e){this.addOverlayInternal_(e.element)},this),(0,_.listen)(this.overlays_,i.default.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)},this)}return y&&(v.__proto__=y),v.prototype=Object.create(y&&y.prototype),v.prototype.constructor=v,v.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},v.prototype.addControl=function(e){this.getControls().push(e)},v.prototype.addInteraction=function(e){this.getInteractions().push(e)},v.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},v.prototype.addOverlay=function(e){this.getOverlays().push(e)},v.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},v.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),(0,_.unlisten)(this.viewport_,E.default.CONTEXTMENU,this.handleBrowserEvent,this),(0,_.unlisten)(this.viewport_,E.default.WHEEL,this.handleBrowserEvent,this),(0,_.unlisten)(this.viewport_,E.default.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(E.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),y.prototype.disposeInternal.call(this)},v.prototype.forEachFeatureAtPixel=function(e,t,i){if(this.frameState_){var r=this.getCoordinateFromPixel(e),n=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==i.layerFilter?i.layerFilter:T.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,n,t,null,o,null)}},v.prototype.getFeaturesAtPixel=function(e,t){var i=null;return this.forEachFeatureAtPixel(e,function(e){i||(i=[]),i.push(e)},t),i},v.prototype.forEachLayerAtPixel=function(e,t,i){if(this.frameState_){var r=i||{},n=void 0!==r.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=r.layerFilter||T.TRUE;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,n,t,null,o,null)}},v.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(e),r=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:T.TRUE,n=void 0!==t.hitTolerance?t.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,n,r,null)},v.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},v.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-t.left,i.clientY-t.top]},v.prototype.getTarget=function(){return this.get(l.default.TARGET)},v.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},v.prototype.getCoordinateFromPixel=function(e){var t=this.frameState_;return t?(0,S.apply)(t.pixelToCoordinateTransform,e.slice()):null},v.prototype.getControls=function(){return this.controls},v.prototype.getOverlays=function(){return this.overlays_},v.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},v.prototype.getInteractions=function(){return this.interactions},v.prototype.getLayerGroup=function(){return this.get(l.default.LAYERGROUP)},v.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},v.prototype.getPixelFromCoordinate=function(e){var t=this.frameState_;return t?(0,S.apply)(t.coordinateToPixelTransform,e.slice(0,2)):null},v.prototype.getRenderer=function(){return this.renderer_},v.prototype.getSize=function(){return this.get(l.default.SIZE)},v.prototype.getView=function(){return this.get(l.default.VIEW)},v.prototype.getViewport=function(){return this.viewport_},v.prototype.getOverlayContainer=function(){return this.overlayContainer_},v.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},v.prototype.getTilePriority=function(e,t,i,r){var n=this.frameState_;if(!(n&&t in n.wantedTiles))return L.DROP;if(!n.wantedTiles[t][e.getKey()])return L.DROP;var o=i[0]-n.focus[0],s=i[1]-n.focus[1];return 65536*Math.log(r)+Math.sqrt(o*o+s*s)/r},v.prototype.handleBrowserEvent=function(e,t){var i=t||e.type,n=new r.default(i,this,e);this.handleMapBrowserEvent(n)},v.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){this.focus_=e.coordinate,e.frameState=this.frameState_;var t=this.getInteractions().getArray();if(!1!==this.dispatchEvent(e))for(var i=t.length-1;i>=0;i--){var r=t[i];if(r.getActive())if(!r.handleEvent(e))break}}},v.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var i=this.maxTilesLoading_,r=i;if(e){var n=e.viewHints;n[f.default.ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,r=2),n[f.default.INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,r=2)}t.getTilesLoading()<i&&(t.reprioritize(),t.loadMoreTiles(i,r))}!e||!this.hasListener(h.default.RENDERCOMPLETE)||e.animate||this.tileQueue_.getTilesLoading()||M(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(h.default.RENDERCOMPLETE,e);for(var o=this.postRenderFunctions_,s=0,a=o.length;s<a;++s)o[s](this,e);o.length=0},v.prototype.handleSizeChanged_=function(){this.render()},v.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.keyHandlerKeys_){for(var t=0,i=this.keyHandlerKeys_.length;t<i;++t)(0,_.unlistenByKey)(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null}if(e){e.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[(0,_.listen)(r,E.default.KEYDOWN,this.handleBrowserEvent,this),(0,_.listen)(r,E.default.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(E.default.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),(0,c.removeNode)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(E.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},v.prototype.handleTileChange_=function(){this.render()},v.prototype.handleViewPropertyChanged_=function(){this.render()},v.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,_.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,_.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,e.getUid)(t)),this.viewPropertyListenerKey_=(0,_.listen)(t,u.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,_.listen)(t,E.default.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},v.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(_.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[(0,_.listen)(e,u.default.PROPERTYCHANGE,this.render,this),(0,_.listen)(e,E.default.CHANGE,this.render,this)]),this.render()},v.prototype.isRendered=function(){return!!this.frameState_},v.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},v.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},v.prototype.removeControl=function(e){return this.getControls().remove(e)},v.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},v.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},v.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},v.prototype.renderFrame_=function(t){var i,r=this.getSize(),n=this.getView(),o=(0,m.createEmpty)(),l=this.frameState_,h=null;if(void 0!==r&&(0,C.hasArea)(r)&&n&&n.isDef()){for(var d=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),p={},y=0,v=u.length;y<v;++y)p[(0,e.getUid)(u[y].layer)]=u[y];i=n.getState(this.pixelRatio_),h={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:o,focus:this.focus_?this.focus_:i.center,index:this.frameIndex_++,layerStates:p,layerStatesArray:u,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:i,viewHints:d,wantedTiles:{}}}if(h&&(h.extent=(0,m.getForViewAndSize)(i.center,i.resolution,i.rotation,h.size,o)),this.frameState_=h,this.renderer_.renderFrame(h),h){if(h.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,h.postRenderFunctions),l)(!this.previousExtent_||!(0,m.isEmpty)(this.previousExtent_)&&!(0,m.equals)(h.extent,this.previousExtent_))&&(this.dispatchEvent(new s.default(a.default.MOVESTART,this,l)),this.previousExtent_=(0,m.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!h.viewHints[f.default.ANIMATING]&&!h.viewHints[f.default.INTERACTING]&&!(0,m.equals)(h.extent,this.previousExtent_)&&(this.dispatchEvent(new s.default(a.default.MOVEEND,this,h)),(0,m.clone)(h.extent,this.previousExtent_))}this.dispatchEvent(new s.default(a.default.POSTRENDER,this,h)),setTimeout(this.handlePostRender.bind(this),0)},v.prototype.setLayerGroup=function(e){this.set(l.default.LAYERGROUP,e)},v.prototype.setSize=function(e){this.set(l.default.SIZE,e)},v.prototype.setTarget=function(e){this.set(l.default.TARGET,e)},v.prototype.setView=function(e){this.set(l.default.VIEW,e)},v.prototype.skipFeature=function(t){this.skippedFeatureUids_[(0,e.getUid)(t)]=!0,this.render()},v.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}else this.setSize(void 0)},v.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[(0,e.getUid)(t)],this.render()},v}(d.default);function O(e){var i=null;void 0!==e.keyboardEventTarget&&(i="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var r,n,o,s={},a=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new R.default({layers:e.layers});return s[l.default.LAYERGROUP]=a,s[l.default.TARGET]=e.target,s[l.default.VIEW]=void 0!==e.view?e.view:new y.default,void 0!==e.controls&&(Array.isArray(e.controls)?r=new t.default(e.controls.slice()):((0,v.assert)("function"==typeof e.controls.getArray,47),r=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?n=new t.default(e.interactions.slice()):((0,v.assert)("function"==typeof e.interactions.getArray,48),n=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?o=new t.default(e.overlays.slice()):((0,v.assert)("function"==typeof e.overlays.getArray,49),o=e.overlays):o=new t.default,{controls:r,interactions:n,keyboardEventTarget:i,overlays:o,values:s}}var F=I;function M(e){for(var t=0,i=e.length;t<i;++t){var r=e[t];if("function"==typeof r.getLayers)return M(r.getLayers().getArray());var n=r.getSource();if(n&&n.loading)return!0}return!1}exports.default=F;
},{"./util.js":"KniQ","./Collection.js":"FnDa","./CollectionEventType.js":"BTrx","./MapBrowserEvent.js":"HMLS","./MapBrowserEventHandler.js":"ohHk","./MapBrowserEventType.js":"YhDM","./MapEvent.js":"vFcA","./MapEventType.js":"xLGm","./MapProperty.js":"zlNQ","./render/EventType.js":"z39m","./Object.js":"PhPh","./ObjectEventType.js":"zehl","./TileQueue.js":"tHOl","./View.js":"hNqE","./ViewHint.js":"cuLW","./asserts.js":"fLG6","./dom.js":"Xno5","./events.js":"UqnM","./events/Event.js":"fKNg","./events/EventType.js":"C8cu","./extent.js":"QDir","./functions.js":"RgA2","./has.js":"f3Nv","./layer/Group.js":"q0nK","./size.js":"TAHd","./structs/PriorityQueue.js":"RQLY","./transform.js":"P4eA"}],"xxE2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../functions.js"),t=i(require("../MapEventType.js")),r=i(require("../Object.js")),s=require("../dom.js"),n=require("../events.js");function i(e){return e&&e.__esModule?e:{default:e}}var o=function(r){function i(t){r.call(this),this.element=t.element?t.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=t.render?t.render:e.VOID,t.target&&this.setTarget(t.target)}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){(0,s.removeNode)(this.element),r.prototype.disposeInternal.call(this)},i.prototype.getMap=function(){return this.map_},i.prototype.setMap=function(r){this.map_&&(0,s.removeNode)(this.element);for(var i=0,o=this.listenerKeys.length;i<o;++i)(0,n.unlistenByKey)(this.listenerKeys[i]);(this.listenerKeys.length=0,this.map_=r,this.map_)&&((this.target_?this.target_:r.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==e.VOID&&this.listenerKeys.push((0,n.listen)(r,t.default.POSTRENDER,this.render,this)),r.render())},i.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},i}(r.default),l=o;exports.default=l;
},{"../functions.js":"RgA2","../MapEventType.js":"xLGm","../Object.js":"PhPh","../dom.js":"Xno5","../events.js":"UqnM"}],"HgMV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFontFamilies=exports.CLASS_COLLAPSED=exports.CLASS_CONTROL=exports.CLASS_UNSUPPORTED=exports.CLASS_UNSELECTABLE=exports.CLASS_SELECTABLE=exports.CLASS_HIDDEN=void 0;var e="ol-hidden";exports.CLASS_HIDDEN=e;var t="ol-selectable";exports.CLASS_SELECTABLE=t;var o="ol-unselectable";exports.CLASS_UNSELECTABLE=o;var r="ol-unsupported";exports.CLASS_UNSUPPORTED=r;var S="ol-control";exports.CLASS_CONTROL=S;var s="ol-collapsed";exports.CLASS_COLLAPSED=s;var L=function(){var e,t={};return function(o){if(e||(e=document.createElement("div").style),!(o in t)){e.font=o;var r=e.fontFamily;if(e.font="",!r)return null;t[o]=r.split(/,\s?/)}return t[o]}}();exports.getFontFamilies=L;
},{}],"GCgv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.visibleAtResolution=l,exports.default=void 0;var e=require("../events.js"),t=h(require("../events/EventType.js")),r=require("../util.js"),s=require("../Object.js"),n=h(require("./Base.js")),o=h(require("./Property.js")),a=require("../obj.js"),i=h(require("../render/EventType.js")),u=h(require("../source/State.js"));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(n){function h(t){var r=(0,a.assign)({},t);delete r.source,n.call(this,r),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),(0,e.listen)(this,(0,s.getChangeEventType)(o.default.SOURCE),this.handleSourcePropertyChange_,this);var i=t.source?t.source:null;this.setSource(i)}return n&&(h.__proto__=n),h.prototype=Object.create(n&&n.prototype),h.prototype.constructor=h,h.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},h.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},h.prototype.getSource=function(){return this.get(o.default.SOURCE)||null},h.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():u.default.UNDEFINED},h.prototype.handleSourceChange_=function(){this.changed()},h.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,e.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var r=this.getSource();r&&(this.sourceChangeKey_=(0,e.listen)(r,t.default.CHANGE,this.handleSourceChange_,this)),this.changed()},h.prototype.setMap=function(s){this.mapPrecomposeKey_&&((0,e.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),s||this.changed(),this.mapRenderKey_&&((0,e.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),s&&(this.mapPrecomposeKey_=(0,e.listen)(s,i.default.PRECOMPOSE,function(e){var t=e,s=this.getLayerState();s.managed=!1,void 0===this.getZIndex()&&(s.zIndex=1/0),t.frameState.layerStatesArray.push(s),t.frameState.layerStates[(0,r.getUid)(this)]=s},this),this.mapRenderKey_=(0,e.listen)(this,t.default.CHANGE,s.render,s),this.changed())},h.prototype.setSource=function(e){this.set(o.default.SOURCE,e)},h}(n.default);function l(e,t){return e.visible&&t>=e.minResolution&&t<e.maxResolution}var c=p;exports.default=c;
},{"../events.js":"UqnM","../events/EventType.js":"C8cu","../util.js":"KniQ","../Object.js":"PhPh","./Base.js":"T6DQ","./Property.js":"HbeD","../obj.js":"mH6q","../render/EventType.js":"z39m","../source/State.js":"iC8j"}],"Q4Cf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=p,exports.default=void 0;var e=require("../array.js"),t=a(require("./Control.js")),l=require("../css.js"),i=require("../dom.js"),s=require("../events.js"),o=a(require("../events/EventType.js")),r=require("../layer/Layer.js");function a(e){return e&&e.__esModule?e:{default:e}}var n=function(t){function a(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||p,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.overrideCollapsible_=void 0!==i.collapsible,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var r=void 0!==i.className?i.className:"ol-attribution",a=void 0!==i.tipLabel?i.tipLabel:"Attributions",n=void 0!==i.collapseLabel?i.collapseLabel:"»";"string"==typeof n?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n):this.collapseLabel_=n;var c=void 0!==i.label?i.label:"i";"string"==typeof c?(this.label_=document.createElement("span"),this.label_.textContent=c):this.label_=c;var d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=a,h.appendChild(d),(0,s.listen)(h,o.default.CLICK,this.handleClick_,this);var u=r+" "+l.CLASS_UNSELECTABLE+" "+l.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+l.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=u,_.appendChild(this.ulElement_),_.appendChild(h),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(a.__proto__=t),a.prototype=Object.create(t&&t.prototype),a.prototype.constructor=a,a.prototype.collectSourceAttributions_=function(e){for(var t={},l=[],i=e.layerStatesArray,s=e.viewState.resolution,o=0,a=i.length;o<a;++o){var n=i[o];if((0,r.visibleAtResolution)(n,s)){var p=n.layer.getSource();if(p){var c=p.getAttributions();if(c){var d=c(e);if(d)if(this.overrideCollapsible_||!1!==p.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(d))for(var h=0,u=d.length;h<u;++h)d[h]in t||(l.push(d[h]),t[d[h]]=!0);else d in t||(l.push(d),t[d]=!0)}}}}return l},a.prototype.updateElement_=function(t){if(t){var l=this.collectSourceAttributions_(t),s=l.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!(0,e.equals)(l,this.renderedAttributions_)){(0,i.removeChildren)(this.ulElement_);for(var o=0,r=l.length;o<r;++o){var a=document.createElement("li");a.innerHTML=l[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=l}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},a.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},a.prototype.handleToggle_=function(){this.element.classList.toggle(l.CLASS_COLLAPSED),this.collapsed_?(0,i.replaceNode)(this.collapseLabel_,this.label_):(0,i.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},a.prototype.getCollapsible=function(){return this.collapsible_},a.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},a.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},a.prototype.getCollapsed=function(){return this.collapsed_},a}(t.default);function p(e){this.updateElement_(e.frameState)}var c=n;exports.default=c;
},{"../array.js":"luEr","./Control.js":"xxE2","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"UqnM","../events/EventType.js":"C8cu","../layer/Layer.js":"GCgv"}],"sCgw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=l,exports.default=void 0;var t=r(require("./Control.js")),e=require("../css.js"),s=require("../easing.js"),a=require("../events.js"),i=r(require("../events/EventType.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function r(s){var r=s||{};t.call(this,{element:document.createElement("div"),render:r.render||l,target:r.target});var o=void 0!==r.className?r.className:"ol-rotate",n=void 0!==r.label?r.label:"⇧";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=n):(this.label_=n,this.label_.classList.add("ol-compass"));var d=r.tipLabel?r.tipLabel:"Reset rotation",h=document.createElement("button");h.className=o+"-reset",h.setAttribute("type","button"),h.title=d,h.appendChild(this.label_),(0,a.listen)(h,i.default.CLICK,this.handleClick_,this);var u=o+" "+e.CLASS_UNSELECTABLE+" "+e.CLASS_CONTROL,_=this.element;_.className=u,_.appendChild(h),this.callResetNorth_=r.resetNorth?r.resetNorth:void 0,this.duration_=void 0!==r.duration?r.duration:250,this.autoHide_=void 0===r.autoHide||r.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(e.CLASS_HIDDEN)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:s.easeOut}):t.setRotation(0))},r}(t.default);function l(t){var s=t.frameState;if(s){var a=s.viewState.rotation;if(a!=this.rotation_){var i="rotate("+a+"rad)";if(this.autoHide_){var r=this.element.classList.contains(e.CLASS_HIDDEN);r||0!==a?r&&0!==a&&this.element.classList.remove(e.CLASS_HIDDEN):this.element.classList.add(e.CLASS_HIDDEN)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=a}}var n=o;exports.default=n;
},{"./Control.js":"xxE2","../css.js":"HgMV","../easing.js":"IeCz","../events.js":"UqnM","../events/EventType.js":"C8cu"}],"L3CO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=a(require("../events/EventType.js")),o=a(require("./Control.js")),i=require("../css.js"),n=require("../easing.js");function a(e){return e&&e.__esModule?e:{default:e}}var r=function(o){function a(n){var a=n||{};o.call(this,{element:document.createElement("div"),target:a.target});var r=void 0!==a.className?a.className:"ol-zoom",l=void 0!==a.delta?a.delta:1,s=void 0!==a.zoomInLabel?a.zoomInLabel:"+",u=void 0!==a.zoomOutLabel?a.zoomOutLabel:"−",d=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",c=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=r+"-in",p.setAttribute("type","button"),p.title=d,p.appendChild("string"==typeof s?document.createTextNode(s):s),(0,e.listen)(p,t.default.CLICK,this.handleClick_.bind(this,l));var m=document.createElement("button");m.className=r+"-out",m.setAttribute("type","button"),m.title=c,m.appendChild("string"==typeof u?document.createTextNode(u):u),(0,e.listen)(m,t.default.CLICK,this.handleClick_.bind(this,-l));var v=r+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL,b=this.element;b.className=v,b.appendChild(p),b.appendChild(m),this.duration_=void 0!==a.duration?a.duration:250}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},a.prototype.zoomByDelta_=function(e){var t=this.getMap().getView();if(t){var o=t.getResolution();if(o){var i=t.constrainResolution(o,e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:i,duration:this.duration_,easing:n.easeOut})):t.setResolution(i)}}},a}(o.default),l=r;exports.default=l;
},{"../events.js":"UqnM","../events/EventType.js":"C8cu","./Control.js":"xxE2","../css.js":"HgMV","../easing.js":"IeCz"}],"uzbE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaults=i;var t=u(require("../Collection.js")),e=u(require("./Attribution.js")),o=u(require("./Rotate.js")),r=u(require("./Zoom.js"));function u(t){return t&&t.__esModule?t:{default:t}}function i(u){var i=u||{},n=new t.default;return(void 0===i.zoom||i.zoom)&&n.push(new r.default(i.zoomOptions)),(void 0===i.rotate||i.rotate)&&n.push(new o.default(i.rotateOptions)),(void 0===i.attribution||i.attribution)&&n.push(new e.default(i.attributionOptions)),n}
},{"../Collection.js":"FnDa","./Attribution.js":"Q4Cf","./Rotate.js":"sCgw","./Zoom.js":"L3CO"}],"caOi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ACTIVE:"active"};exports.default=e;
},{}],"jB2p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pan=a,exports.rotate=s,exports.rotateWithoutConstraints=u,exports.zoom=c,exports.zoomByDelta=l,exports.zoomWithoutConstraints=p,exports.default=void 0;var t=r(require("../Object.js")),e=require("../easing.js"),o=r(require("./Property.js")),n=require("../math.js");function r(t){return t&&t.__esModule?t:{default:t}}var i=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o.default.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o.default.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(t.default);function a(t,o,n){var r=t.getCenter();if(r){var i=t.constrainCenter([r[0]+o[0],r[1]+o[1]]);n?t.animate({duration:n,easing:e.linear,center:i}):t.setCenter(i)}}function s(t,e,o,n){e=t.constrainRotation(e,0),u(t,e,o,n)}function u(t,o,n,r){if(void 0!==o){var i=t.getRotation(),a=t.getCenter();void 0!==i&&a&&r>0?t.animate({rotation:o,anchor:n,duration:r,easing:e.easeOut}):t.rotate(o,n)}}function c(t,e,o,n,r){e=t.constrainResolution(e,0,r),p(t,e,o,n)}function l(t,e,o,r){var i=t.getResolution(),a=t.constrainResolution(i,e,0);if(void 0!==a){var s=t.getResolutions();a=(0,n.clamp)(a,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(o&&void 0!==a&&a!==i){var u=t.getCenter(),c=t.calculateCenterZoom(a,o);c=t.constrainCenter(c),o=[(a*u[0]-i*c[0])/(a-i),(a*u[1]-i*c[1])/(a-i)]}p(t,a,o,r)}function p(t,o,n,r){if(o){var i=t.getResolution(),a=t.getCenter();if(void 0!==i&&a&&o!==i&&r)t.animate({resolution:o,anchor:n,duration:r,easing:e.easeOut});else{if(n){var s=t.calculateCenterZoom(o,n);t.setCenter(s)}t.setResolution(o)}}}var f=i;exports.default=f;
},{"../Object.js":"PhPh","../easing.js":"IeCz","./Property.js":"caOi","../math.js":"B96G"}],"NSa4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../MapBrowserEventType.js")),e=n(require("./Interaction.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;var e=r();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var i=o?Object.getOwnPropertyDescriptor(t,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=t[a]}}return n.default=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(e){t.call(this,{handleEvent:i});var r=e||{};this.delta_=r.delta?r.delta:1,this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(e.default);function i(r){var n=!1;if(r.type==t.default.DBLCLICK){var o=r.originalEvent,a=r.map,i=r.coordinate,u=o.shiftKey?-this.delta_:this.delta_,l=a.getView();(0,e.zoomByDelta)(l,u,i,this.duration_),r.preventDefault(),n=!0}return!n}var u=a;exports.default=u;
},{"../MapBrowserEventType.js":"YhDM","./Interaction.js":"jB2p"}],"YcID":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.primaryAction=exports.mouseOnly=exports.targetNotEditable=exports.shiftKeyOnly=exports.platformModifierKeyOnly=exports.noModifierKeys=exports.doubleClick=exports.singleClick=exports.pointerMove=exports.never=exports.mouseActionButton=exports.click=exports.always=exports.focus=exports.altShiftKeysOnly=exports.altKeyOnly=void 0;var e=n(require("../MapBrowserEventType.js")),t=require("../asserts.js"),r=require("../functions.js"),o=require("../has.js");function n(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};exports.altKeyOnly=i;var a=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};exports.altShiftKeysOnly=a;var s=function(e){return e.target.getTargetElement()===document.activeElement};exports.focus=s;var l=r.TRUE;exports.always=l;var u=function(t){return t.type==e.default.CLICK};exports.click=u;var y=function(e){var t=e.originalEvent;return 0==t.button&&!(o.WEBKIT&&o.MAC&&t.ctrlKey)};exports.mouseActionButton=y;var p=r.FALSE;exports.never=p;var v=function(e){return"pointermove"==e.type};exports.pointerMove=v;var c=function(t){return t.type==e.default.SINGLECLICK};exports.singleClick=c;var f=function(t){return t.type==e.default.DBLCLICK};exports.doubleClick=f;var K=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};exports.noModifierKeys=K;var x=function(e){var t=e.originalEvent;return!t.altKey&&(o.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey};exports.platformModifierKeyOnly=x;var E=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};exports.shiftKeyOnly=E;var m=function(e){var t=e.originalEvent.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t};exports.targetNotEditable=m;var d=function(e){var r=e.pointerEvent;return(0,t.assert)(void 0!==r,56),"mouse"==r.pointerType};exports.mouseOnly=d;var g=function(e){var r=e.pointerEvent;return(0,t.assert)(void 0!==r,56),r.isPrimary&&0===r.button};exports.primaryAction=g;
},{"../MapBrowserEventType.js":"YhDM","../asserts.js":"fLG6","../functions.js":"RgA2","../has.js":"f3Nv"}],"dnA2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.centroid=a,exports.default=void 0;var e=r(require("../MapBrowserEventType.js")),t=r(require("./Interaction.js")),n=require("../obj.js");function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.handleDownEvent=function(e){return!1},r.prototype.handleDragEvent=function(e){},r.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==e.default.POINTERDRAG)this.handleDragEvent(t);else if(t.type==e.default.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==e.default.POINTERDOWN){var o=this.handleDownEvent(t);o&&t.preventDefault(),this.handlingDownUpSequence=o,n=this.stopDown(o)}else t.type==e.default.POINTERMOVE&&this.handleMoveEvent(t);return!n},r.prototype.handleMoveEvent=function(e){},r.prototype.handleUpEvent=function(e){return!1},r.prototype.stopDown=function(e){return e},r.prototype.updateTrackedPointers_=function(t){if(i(t)){var r=t.pointerEvent,o=r.pointerId.toString();t.type==e.default.POINTERUP?delete this.trackedPointers_[o]:t.type==e.default.POINTERDOWN?this.trackedPointers_[o]=r:o in this.trackedPointers_&&(this.trackedPointers_[o]=r),this.targetPointers=(0,n.getValues)(this.trackedPointers_)}},r}(t.default);function a(e){for(var t=e.length,n=0,r=0,o=0;o<t;o++)n+=e[o].clientX,r+=e[o].clientY;return[n/t,r/t]}function i(t){var n=t.type;return n===e.default.POINTERDOWN||n===e.default.POINTERDRAG||n===e.default.POINTERUP}var s=o;exports.default=s;
},{"../MapBrowserEventType.js":"YhDM","./Interaction.js":"jB2p","../obj.js":"mH6q"}],"N4gU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=c(require("../ViewHint.js")),e=require("../coordinate.js"),i=require("../easing.js"),n=require("../events/condition.js"),r=require("../functions.js"),o=a(require("./Pointer.js"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function a(t){if(t&&t.__esModule)return t;var e=s();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=n?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=t[r]}}return i.default=t,e&&e.set(t,i),i}function c(t){return t&&t.__esModule?t:{default:t}}var u=function(s){function a(t){s.call(this,{stopDown:r.FALSE});var e=t||{};this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=e.condition?e.condition:n.noModifierKeys,this.noKinetic_=!1}return s&&(a.__proto__=s),a.prototype=Object.create(s&&s.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(i){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(t.default.INTERACTING,1));var n=this.targetPointers,r=(0,o.centroid)(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var s=this.lastCentroid[0]-r[0],a=r[1]-this.lastCentroid[1],c=i.map.getView(),u=[s,a];(0,e.scale)(u,c.getResolution()),(0,e.rotate)(u,c.getRotation()),(0,e.add)(u,c.getCenter()),u=c.constrainCenter(u),c.setCenter(u)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=n.length},a.prototype.handleUpEvent=function(e){var n=e.map,r=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=r.getCenter(),c=n.getPixelFromCoordinate(a),u=n.getCoordinateFromPixel([c[0]-o*Math.cos(s),c[1]-o*Math.sin(s)]);r.animate({center:r.constrainCenter(u),duration:500,easing:i.easeOut})}return this.panning_&&(this.panning_=!1,r.setHint(t.default.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},a.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},a}(o.default),h=u;exports.default=h;
},{"../ViewHint.js":"cuLW","../coordinate.js":"nGsj","../easing.js":"IeCz","../events/condition.js":"YcID","../functions.js":"RgA2","./Pointer.js":"dnA2"}],"PgBj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../rotationconstraint.js"),e=a(require("../ViewHint.js")),o=require("../events/condition.js"),n=require("../functions.js"),i=require("./Interaction.js"),r=a(require("./Pointer.js"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(r){function a(t){var e=t||{};r.call(this,{stopDown:n.FALSE}),this.condition_=e.condition?e.condition:o.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}return r&&(a.__proto__=r),a.prototype=Object.create(r&&r.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(e){if((0,o.mouseOnly)(e)){var n=e.map,r=n.getView();if(r.getConstraints().rotation!==t.disable){var a=n.getSize(),s=e.pixel,u=Math.atan2(a[1]/2-s[1],s[0]-a[0]/2);if(void 0!==this.lastAngle_){var l=u-this.lastAngle_,d=r.getRotation();(0,i.rotateWithoutConstraints)(r,d-l)}this.lastAngle_=u}}},a.prototype.handleUpEvent=function(t){if(!(0,o.mouseOnly)(t))return!0;var n=t.map.getView();n.setHint(e.default.INTERACTING,-1);var r=n.getRotation();return(0,i.rotate)(n,r,void 0,this.duration_),!1},a.prototype.handleDownEvent=function(t){return!!(0,o.mouseOnly)(t)&&(!(!(0,o.mouseActionButton)(t)||!this.condition_(t))&&(t.map.getView().setHint(e.default.INTERACTING,1),this.lastAngle_=void 0,!0))},a}(r.default),u=s;exports.default=u;
},{"../rotationconstraint.js":"EKd0","../ViewHint.js":"cuLW","../events/condition.js":"YcID","../functions.js":"RgA2","./Interaction.js":"jB2p","./Pointer.js":"dnA2"}],"bMDg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../Disposable.js")),e=i(require("../geom/Polygon.js"));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function i(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){this.setMap(null)},i.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"},i.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},i.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},i.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,i=this.endPixel_,o=[t,[t[0],i[1]],i,[i[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new e.default([o])},i.prototype.getGeometry=function(){return this.geometry_},i}(t.default),s=o;exports.default=s;
},{"../Disposable.js":"DDda","../geom/Polygon.js":"Nwwk"}],"AQRw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../events/Event.js")),o=require("../events/condition.js"),e=require("../functions.js"),n=r(require("./Pointer.js")),i=r(require("../render/Box.js"));function r(t){return t&&t.__esModule?t:{default:t}}var s={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},a=function(t){function o(o,e,n){t.call(this,o),this.coordinate=e,this.mapBrowserEvent=n}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o}(t.default),d=function(t){function n(n){t.call(this);var r=n||{};this.box_=new i.default(r.className||"ol-dragbox"),this.minArea_=void 0!==r.minArea?r.minArea:64,this.onBoxEnd_=r.onBoxEnd?r.onBoxEnd:e.VOID,this.startPixel_=null,this.condition_=r.condition?r.condition:o.always,this.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:this.defaultBoxEndCondition}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.defaultBoxEndCondition=function(t,o,e){var n=e[0]-o[0],i=e[1]-o[1];return n*n+i*i>=this.minArea_},n.prototype.getGeometry=function(){return this.box_.getGeometry()},n.prototype.handleDragEvent=function(t){(0,o.mouseOnly)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new a(s.BOXDRAG,t.coordinate,t)))},n.prototype.handleUpEvent=function(t){return!(0,o.mouseOnly)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new a(s.BOXEND,t.coordinate,t))),!1)},n.prototype.handleDownEvent=function(t){return!!(0,o.mouseOnly)(t)&&(!(!(0,o.mouseActionButton)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new a(s.BOXSTART,t.coordinate,t)),!0))},n}(n.default),u=d;exports.default=u;
},{"../events/Event.js":"fKNg","../events/condition.js":"YcID","../functions.js":"RgA2","./Pointer.js":"dnA2","../render/Box.js":"bMDg"}],"pTqW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../easing.js"),e=require("../events/condition.js"),o=require("../extent.js"),r=i(require("./DragBox.js"));function i(t){return t&&t.__esModule?t:{default:t}}var n=function(t){function o(o){var r=o||{},i=r.condition?r.condition:e.shiftKeyOnly;t.call(this,{condition:i,className:r.className||"ol-dragzoom",onBoxEnd:a}),this.duration_=void 0!==r.duration?r.duration:200,this.out_=void 0!==r.out&&r.out}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o}(r.default);function a(){var e=this.getMap(),r=e.getView(),i=e.getSize(),n=this.getGeometry().getExtent();if(this.out_){var a=r.calculateExtent(i),s=(0,o.createOrUpdateFromCoordinates)([e.getPixelFromCoordinate((0,o.getBottomLeft)(n)),e.getPixelFromCoordinate((0,o.getTopRight)(n))]),u=r.getResolutionForExtent(s,i);(0,o.scaleFromCenter)(a,1/u),n=a}var d=r.constrainResolution(r.getResolutionForExtent(n,i)),c=(0,o.getCenter)(n);c=r.constrainCenter(c),r.animate({resolution:d,center:c,duration:this.duration_,easing:t.easeOut})}var s=n;exports.default=s;
},{"../easing.js":"IeCz","../events/condition.js":"YcID","../extent.js":"QDir","./DragBox.js":"AQRw"}],"mmJk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LEFT:37,UP:38,RIGHT:39,DOWN:40};exports.default=e;
},{}],"CFRo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../coordinate.js"),t=u(require("../events/EventType.js")),r=u(require("../events/KeyCode.js")),n=require("../events/condition.js"),i=a(require("./Interaction.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;var t=o();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(t){e.call(this,{handleEvent:l});var r=t||{};this.defaultCondition_=function(e){return(0,n.noModifierKeys)(e)&&(0,n.targetNotEditable)(e)},this.condition_=void 0!==r.condition?r.condition:this.defaultCondition_,this.duration_=void 0!==r.duration?r.duration:100,this.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(i.default);function l(n){var o=!1;if(n.type==t.default.KEYDOWN){var a=n.originalEvent.keyCode;if(this.condition_(n)&&(a==r.default.DOWN||a==r.default.LEFT||a==r.default.RIGHT||a==r.default.UP)){var u=n.map.getView(),d=u.getResolution()*this.pixelDelta_,l=0,f=0;a==r.default.DOWN?f=-d:a==r.default.LEFT?l=-d:a==r.default.RIGHT?l=d:f=d;var s=[l,f];(0,e.rotate)(s,u.getRotation()),(0,i.pan)(u,s,this.duration_),n.preventDefault(),o=!0}}return!o}var f=d;exports.default=f;
},{"../coordinate.js":"nGsj","../events/EventType.js":"C8cu","../events/KeyCode.js":"mmJk","../events/condition.js":"YcID","./Interaction.js":"jB2p"}],"S8wR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../events/EventType.js")),e=require("../events/condition.js"),r=n(require("./Interaction.js"));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function n(t){if(t&&t.__esModule)return t;var e=o();if(e&&e.has(t))return e.get(t);var r={};if(null!=t){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=n?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}}return r.default=t,e&&e.set(t,r),r}function i(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function r(r){t.call(this,{handleEvent:u});var o=r||{};this.condition_=o.condition?o.condition:e.targetNotEditable,this.delta_=o.delta?o.delta:1,this.duration_=void 0!==o.duration?o.duration:100}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(r.default);function u(e){var o=!1;if(e.type==t.default.KEYDOWN||e.type==t.default.KEYPRESS){var n=e.originalEvent.charCode;if(this.condition_(e)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=e.map,a=n=="+".charCodeAt(0)?this.delta_:-this.delta_,u=i.getView();(0,r.zoomByDelta)(u,a,void 0,this.duration_),e.preventDefault(),o=!0}}return!o}var d=a;exports.default=d;
},{"../events/EventType.js":"C8cu","../events/condition.js":"YcID","./Interaction.js":"jB2p"}],"kPt6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Mode=void 0;var t=h(require("../ViewHint.js")),e=require("../events/condition.js"),i=require("../easing.js"),o=h(require("../events/EventType.js")),r=require("../has.js"),a=u(require("./Interaction.js")),n=require("../math.js");function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function u(t){if(t&&t.__esModule)return t;var e=s();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=o?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(i,r,a):i[r]=t[r]}}return i.default=t,e&&e.set(t,i),i}function h(t){return t&&t.__esModule?t:{default:t}}var d=1,c={TRACKPAD:"trackpad",WHEEL:"wheel"};exports.Mode=c;var l=function(s){function u(t){var i=t||{};s.call(this,i),this.delta_=0,this.duration_=void 0!==i.duration?i.duration:250,this.timeout_=void 0!==i.timeout?i.timeout:80,this.useAnchor_=void 0===i.useAnchor||i.useAnchor,this.constrainResolution_=i.constrainResolution||!1,this.condition_=i.condition?i.condition:e.always,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return s&&(u.__proto__=s),u.prototype=Object.create(s&&s.prototype),u.prototype.constructor=u,u.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(t.default.INTERACTING,-1)},u.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var a=e.type;if(a!==o.default.WHEEL&&a!==o.default.MOUSEWHEEL)return!0;e.preventDefault();var n,s=e.map,u=e.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==o.default.WHEEL?(n=u.deltaY,r.FIREFOX&&u.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=r.DEVICE_PIXEL_RATIO),u.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):e.type==o.default.MOUSEWHEEL&&(n=-u.wheelDeltaY,r.SAFARI&&(n/=3)),0===n)return!1;var h=Date.now();if(void 0===this.startTime_&&(this.startTime_=h),(!this.mode_||h-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?c.TRACKPAD:c.WHEEL),this.mode_===c.TRACKPAD){var d=s.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):d.setHint(t.default.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var l=d.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),_=d.getMinResolution(),p=d.getMaxResolution(),m=0;if(l<_?(l=Math.max(l,_/this.trackpadZoomBuffer_),m=1):l>p&&(l=Math.min(l,p*this.trackpadZoomBuffer_),m=-1),this.lastAnchor_){var f=d.calculateCenterZoom(l,this.lastAnchor_);d.setCenter(d.constrainCenter(f))}return d.setResolution(l),0===m&&this.constrainResolution_&&d.animate({resolution:d.constrainResolution(l,n>0?-1:1),easing:i.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),m>0?d.animate({resolution:_,easing:i.easeOut,anchor:this.lastAnchor_,duration:500}):m<0&&d.animate({resolution:p,easing:i.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=h,!1}this.delta_+=n;var v=Math.max(this.timeout_-(h-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),v),!1},u.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=d,o=(0,n.clamp)(this.delta_,-i,i);(0,a.zoomByDelta)(e,-o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},u.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},u}(a.default),_=l;exports.default=_;
},{"../ViewHint.js":"cuLW","../events/condition.js":"YcID","../easing.js":"IeCz","../events/EventType.js":"C8cu","../has.js":"f3Nv","./Interaction.js":"jB2p","../math.js":"B96G"}],"hbGN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../ViewHint.js")),e=require("../functions.js"),r=require("./Interaction.js"),i=a(require("./Pointer.js")),n=require("../rotationconstraint.js");function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function a(t){if(t&&t.__esModule)return t;var e=o();if(e&&e.has(t))return e.get(t);var r={};if(null!=t){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var a=i?Object.getOwnPropertyDescriptor(t,n):null;a&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n]}}return r.default=t,e&&e.set(t,r),r}function s(t){return t&&t.__esModule?t:{default:t}}var l=function(o){function a(t){var r=t||{},i=r;i.stopDown||(i.stopDown=e.FALSE),o.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==r.threshold?r.threshold:.3,this.duration_=void 0!==r.duration?r.duration:250}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(t){var e=0,o=this.targetPointers[0],a=this.targetPointers[1],s=Math.atan2(a.clientY-o.clientY,a.clientX-o.clientX);if(void 0!==this.lastAngle_){var l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=l}this.lastAngle_=s;var h=t.map,u=h.getView();if(u.getConstraints().rotation!==n.disable){var c=h.getViewport().getBoundingClientRect(),p=(0,i.centroid)(this.targetPointers);if(p[0]-=c.left,p[1]-=c.top,this.anchor_=h.getCoordinateFromPixel(p),this.rotating_){var d=u.getRotation();h.render(),(0,r.rotateWithoutConstraints)(u,d+e,this.anchor_)}}},a.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var i=e.map.getView();if(i.setHint(t.default.INTERACTING,-1),this.rotating_){var n=i.getRotation();(0,r.rotate)(i,n,this.anchor_,this.duration_)}return!1}return!0},a.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var r=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().setHint(t.default.INTERACTING,1),!0}return!1},a}(i.default),h=l;exports.default=h;
},{"../ViewHint.js":"cuLW","../functions.js":"RgA2","./Interaction.js":"jB2p","./Pointer.js":"dnA2","../rotationconstraint.js":"EKd0"}],"rcXm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../ViewHint.js")),e=require("../functions.js"),n=require("./Interaction.js"),r=o(require("./Pointer.js"));function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){if(t&&t.__esModule)return t;var e=i();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}}return n.default=t,e&&e.set(t,n),n}function a(t){return t&&t.__esModule?t:{default:t}}var s=function(i){function o(t){var n=t||{},r=n;r.stopDown||(r.stopDown=e.FALSE),i.call(this,r),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,s=i.clientY-o.clientY,l=Math.sqrt(a*a+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/l),this.lastDistance_=l;var u=t.map,c=u.getView(),h=c.getResolution(),p=c.getMaxResolution(),f=c.getMinResolution(),d=h*e;d>p?(e=p/h,d=p):d<f&&(e=f/h,d=f),1!=e&&(this.lastScaleDelta_=e);var _=u.getViewport().getBoundingClientRect(),g=(0,r.centroid)(this.targetPointers);g[0]-=_.left,g[1]-=_.top,this.anchor_=u.getCoordinateFromPixel(g),u.render(),(0,n.zoomWithoutConstraints)(c,d,this.anchor_)},o.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var r=e.map.getView();r.setHint(t.default.INTERACTING,-1);var i=r.getResolution();if(this.constrainResolution_||i<r.getMinResolution()||i>r.getMaxResolution()){var o=this.lastScaleDelta_-1;(0,n.zoom)(r,i,this.anchor_,this.duration_,o)}return!1}return!0},o.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().setHint(t.default.INTERACTING,1),!0}return!1},o}(r.default),l=s;exports.default=l;
},{"../ViewHint.js":"cuLW","../functions.js":"RgA2","./Interaction.js":"jB2p","./Pointer.js":"dnA2"}],"IYO6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../functions.js"),e=require("../events.js"),r=n(require("../events/Event.js")),s=n(require("../events/EventType.js")),i=n(require("./Interaction.js")),o=require("../proj.js");function n(t){return t&&t.__esModule?t:{default:t}}var a={ADD_FEATURES:"addfeatures"},u=function(t){function e(e,r,s,i){t.call(this,e),this.features=s,this.file=r,this.projection=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.default),p=function(r){function i(e){var s=e||{};r.call(this,{handleEvent:t.TRUE}),this.formatConstructors_=s.formatConstructors?s.formatConstructors:[],this.projection_=s.projection?(0,o.get)(s.projection):null,this.dropListenKeys_=null,this.source_=s.source||null,this.target=s.target?s.target:null}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.handleResult_=function(t,e){var r=e.target.result,s=this.getMap(),i=this.projection_;i||(i=s.getView().getProjection());for(var o=this.formatConstructors_,n=[],p=0,c=o.length;p<c;++p){var l=new o[p];if((n=this.tryReadFeatures_(l,r,{featureProjection:i}))&&n.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(n)),this.dispatchEvent(new u(a.ADD_FEATURES,t,n,i))},i.prototype.registerListeners_=function(){var t=this.getMap();if(t){var r=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,e.listen)(r,s.default.DROP,c,this),(0,e.listen)(r,s.default.DRAGENTER,l,this),(0,e.listen)(r,s.default.DRAGOVER,l,this),(0,e.listen)(r,s.default.DROP,l,this)]}},i.prototype.setActive=function(t){r.prototype.setActive.call(this,t),t?this.registerListeners_():this.unregisterListeners_()},i.prototype.setMap=function(t){this.unregisterListeners_(),r.prototype.setMap.call(this,t),this.getActive()&&this.registerListeners_()},i.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(s){return null}},i.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(e.unlistenByKey),this.dropListenKeys_=null)},i}(i.default);function c(t){for(var e=t.dataTransfer.files,r=0,i=e.length;r<i;++r){var o=e.item(r),n=new FileReader;n.addEventListener(s.default.LOAD,this.handleResult_.bind(this,o)),n.readAsText(o)}}function l(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}var h=p;exports.default=h;
},{"../functions.js":"RgA2","../events.js":"UqnM","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","./Interaction.js":"jB2p","../proj.js":"Diht"}],"ITeC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../rotationconstraint.js"),e=a(require("../ViewHint.js")),i=require("../events/condition.js"),o=require("./Interaction.js"),n=a(require("./Pointer.js"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(n){function a(t){var e=t||{};n.call(this,e),this.condition_=e.condition?e.condition:i.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==e.duration?e.duration:400}return n&&(a.__proto__=n),a.prototype=Object.create(n&&n.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(e){if((0,i.mouseOnly)(e)){var n=e.map,a=n.getSize(),s=e.pixel,r=s[0]-a[0]/2,l=a[1]/2-s[1],u=Math.atan2(l,r),d=Math.sqrt(r*r+l*l),h=n.getView();if(h.getConstraints().rotation!==t.disable&&void 0!==this.lastAngle_){var _=u-this.lastAngle_;(0,o.rotateWithoutConstraints)(h,h.getRotation()-_)}if(this.lastAngle_=u,void 0!==this.lastMagnitude_){var c=this.lastMagnitude_*(h.getResolution()/d);(0,o.zoomWithoutConstraints)(h,c)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/d),this.lastMagnitude_=d}},a.prototype.handleUpEvent=function(t){if(!(0,i.mouseOnly)(t))return!0;var n=t.map.getView();n.setHint(e.default.INTERACTING,-1);var a=this.lastScaleDelta_-1;return(0,o.rotate)(n,n.getRotation()),(0,o.zoom)(n,n.getResolution(),void 0,this.duration_,a),this.lastScaleDelta_=0,!1},a.prototype.handleDownEvent=function(t){return!!(0,i.mouseOnly)(t)&&(!!this.condition_(t)&&(t.map.getView().setHint(e.default.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},a}(n.default),r=s;exports.default=r;
},{"../rotationconstraint.js":"EKd0","../ViewHint.js":"cuLW","../events/condition.js":"YcID","./Interaction.js":"jB2p","./Pointer.js":"dnA2"}],"AyCw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=i(require("./GeometryType.js")),r=i(require("./SimpleGeometry.js")),o=require("./flat/deflate.js");function i(t){return t&&t.__esModule?t:{default:t}}var s=function(r){function i(t,e,o){if(r.call(this),void 0!==o&&void 0===e)this.setFlatCoordinates(o,t);else{var i=e||0;this.setCenterAndRadius(t,i,o)}}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.clone=function(){return new i(this.flatCoordinates.slice(),void 0,this.layout)},i.prototype.closestPointXY=function(t,e,r,o){var i=this.flatCoordinates,s=t-i[0],n=e-i[1],a=s*s+n*n;if(a<o){if(0===a)for(var d=0;d<this.stride;++d)r[d]=i[d];else{var u=this.getRadius()/Math.sqrt(a);r[0]=i[0]+u*s,r[1]=i[1]+u*n;for(var f=2;f<this.stride;++f)r[f]=i[f]}return r.length=this.stride,a}return o},i.prototype.containsXY=function(t,e){var r=this.flatCoordinates,o=t-r[0],i=e-r[1];return o*o+i*i<=this.getRadiusSquared_()},i.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},i.prototype.computeExtent=function(e){var r=this.flatCoordinates,o=r[this.stride]-r[0];return(0,t.createOrUpdate)(r[0]-o,r[1]-o,r[0]+o,r[1]+o,e)},i.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},i.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},i.prototype.getType=function(){return e.default.CIRCLE},i.prototype.intersectsExtent=function(e){var r=this.getExtent();if((0,t.intersects)(e,r)){var o=this.getCenter();return e[0]<=o[0]&&e[2]>=o[0]||(e[1]<=o[1]&&e[3]>=o[1]||(0,t.forEachCorner)(e,this.intersectsCoordinate,this))}return!1},i.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],o=t.slice();o[e]=o[0]+r;for(var i=1;i<e;++i)o[e+i]=t[i];this.setFlatCoordinates(this.layout,o),this.changed()},i.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=(0,o.deflateCoordinate)(i,0,t,this.stride);i[s++]=i[0]+e;for(var n=1,a=this.stride;n<a;++n)i[s++]=i[n];i.length=s,this.changed()},i.prototype.getCoordinates=function(){return null},i.prototype.setCoordinates=function(t,e){},i.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},i}(r.default);s.prototype.transform;var n=s;exports.default=n;
},{"../extent.js":"QDir","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"FNhl"}],"fbCo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=f(require("./GeometryLayout.js")),s=f(require("./GeometryType.js")),r=f(require("./LineString.js")),n=f(require("./SimpleGeometry.js")),o=require("./flat/closest.js"),a=require("./flat/deflate.js"),l=require("./flat/inflate.js"),d=require("./flat/interpolate.js"),h=require("./flat/intersectsextent.js"),u=require("./flat/simplify.js");function f(t){return t&&t.__esModule?t:{default:t}}var p=function(n){function f(e,i,s){if(n.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,i);else if(void 0!==i&&s)this.setFlatCoordinates(i,e),this.ends_=s;else{for(var r=this.getLayout(),o=e,a=[],l=[],d=0,h=o.length;d<h;++d){var u=o[d];0===d&&(r=u.getLayout()),(0,t.extend)(a,u.getFlatCoordinates()),l.push(a.length)}this.setFlatCoordinates(r,a),this.ends_=l}}return n&&(f.__proto__=n),f.prototype=Object.create(n&&n.prototype),f.prototype.constructor=f,f.prototype.appendLineString=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},f.prototype.clone=function(){return new f(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},f.prototype.closestPointXY=function(t,i,s,r){return r<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,o.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,o.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,i,s,r))},f.prototype.getCoordinateAtM=function(t,e,s){if(this.layout!=i.default.XYM&&this.layout!=i.default.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,n=void 0!==s&&s;return(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,r,n)},f.prototype.getCoordinates=function(){return(0,l.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)},f.prototype.getEnds=function(){return this.ends_},f.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new r.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},f.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,s=[],n=0,o=0,a=e.length;o<a;++o){var l=e[o],d=new r.default(t.slice(n,l),i);s.push(d),n=l}return s},f.prototype.getFlatMidpoints=function(){for(var e=[],i=this.flatCoordinates,s=0,r=this.ends_,n=this.stride,o=0,a=r.length;o<a;++o){var l=r[o],h=(0,d.interpolatePoint)(i,s,l,n,.5);(0,t.extend)(e,h),s=l}return e},f.prototype.getSimplifiedGeometryInternal=function(t){var e=[],s=[];return e.length=(0,u.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,s),new f(e,i.default.XY,s)},f.prototype.getType=function(){return s.default.MULTI_LINE_STRING},f.prototype.intersectsExtent=function(t){return(0,h.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)},f.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,a.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},f}(n.default),y=p;exports.default=y;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"Utvi","./GeometryType.js":"lmV0","./LineString.js":"DfxW","./SimpleGeometry.js":"pnrv","./flat/closest.js":"rMra","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","./flat/interpolate.js":"rDTq","./flat/intersectsextent.js":"GZir","./flat/simplify.js":"IEpt"}],"dNu5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),r=l(require("./GeometryType.js")),o=l(require("./Point.js")),i=l(require("./SimpleGeometry.js")),s=require("./flat/deflate.js"),n=require("./flat/inflate.js"),a=require("../math.js");function l(t){return t&&t.__esModule?t:{default:t}}var d=function(i){function l(t,e){i.call(this),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}return i&&(l.__proto__=i),l.prototype=Object.create(i&&i.prototype),l.prototype.constructor=l,l.prototype.appendPoint=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},l.prototype.clone=function(){return new l(this.flatCoordinates.slice(),this.layout)},l.prototype.closestPointXY=function(t,r,o,i){if(i<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,r))return i;for(var s=this.flatCoordinates,n=this.stride,l=0,d=s.length;l<d;l+=n){var u=(0,a.squaredDistance)(t,r,s[l],s[l+1]);if(u<i){i=u;for(var f=0;f<n;++f)o[f]=s[l+f];o.length=n}}return i},l.prototype.getCoordinates=function(){return(0,n.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},l.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new o.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},l.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,r=this.stride,i=[],s=0,n=t.length;s<n;s+=r){var a=new o.default(t.slice(s,s+r),e);i.push(a)}return i},l.prototype.getType=function(){return r.default.MULTI_POINT},l.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,o=this.stride,i=0,s=r.length;i<s;i+=o){var n=r[i],a=r[i+1];if((0,e.containsXY)(t,n,a))return!0}return!1},l.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},l}(i.default),u=d;exports.default=u;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryType.js":"lmV0","./Point.js":"gLcY","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","../math.js":"B96G"}],"VjQP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingss=r;var e=require("../../extent.js");function r(r,t,a,n){for(var s=[],o=(0,e.createEmpty)(),i=0,u=a.length;i<u;++i){var l=a[i];o=(0,e.createOrUpdateFromFlatCoordinates)(r,t,l[0],n),s.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=l[l.length-1]}return s}
},{"../../extent.js":"QDir"}],"ouhF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=y(require("./GeometryLayout.js")),s=y(require("./GeometryType.js")),r=y(require("./MultiPoint.js")),n=y(require("./Polygon.js")),o=y(require("./SimpleGeometry.js")),a=require("./flat/area.js"),l=require("./flat/center.js"),h=require("./flat/closest.js"),d=require("./flat/contains.js"),u=require("./flat/deflate.js"),f=require("./flat/inflate.js"),g=require("./flat/interiorpoint.js"),p=require("./flat/intersectsextent.js"),_=require("./flat/orient.js"),c=require("./flat/simplify.js");function y(t){return t&&t.__esModule?t:{default:t}}var v=function(o){function y(e,i,s){if(o.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!s&&!Array.isArray(e[0])){for(var r=this.getLayout(),n=e,a=[],l=[],h=0,d=n.length;h<d;++h){var u=n[h];0===h&&(r=u.getLayout());for(var f=a.length,g=u.getEnds(),p=0,_=g.length;p<_;++p)g[p]+=f;(0,t.extend)(a,u.getFlatCoordinates()),l.push(g)}i=r,e=a,s=l}void 0!==i&&s?(this.setFlatCoordinates(i,e),this.endss_=s):this.setCoordinates(e,i)}return o&&(y.__proto__=o),y.prototype=Object.create(o&&o.prototype),y.prototype.constructor=y,y.prototype.appendPolygon=function(e){var i;if(this.flatCoordinates){var s=this.flatCoordinates.length;(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates());for(var r=0,n=(i=e.getEnds().slice()).length;r<n;++r)i[r]+=s}else this.flatCoordinates=e.getFlatCoordinates().slice(),i=e.getEnds().slice(),this.endss_.push();this.endss_.push(i),this.changed()},y.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),i=0;i<t;++i)e[i]=this.endss_[i].slice();return new y(this.flatCoordinates.slice(),this.layout,e)},y.prototype.closestPointXY=function(t,i,s,r){return r<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,h.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,h.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,i,s,r))},y.prototype.containsXY=function(t,e){return(0,d.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},y.prototype.getArea=function(){return(0,a.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},y.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.orientLinearRingsArray)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,f.inflateMultiCoordinatesArray)(e,0,this.endss_,this.stride)},y.prototype.getEndss=function(){return this.endss_},y.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=(0,l.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,g.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},y.prototype.getInteriorPoints=function(){return new r.default(this.getFlatInteriorPoints().slice(),i.default.XYM)},y.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.linearRingsAreOriented)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},y.prototype.getSimplifiedGeometryInternal=function(t){var e=[],s=[];return e.length=(0,c.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,s),new y(e,i.default.XY,s)},y.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var s=this.endss_[t].slice(),r=s[s.length-1];if(0!==e)for(var o=0,a=s.length;o<a;++o)s[o]-=e;return new n.default(this.flatCoordinates.slice(e,r),this.layout,s)},y.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,s=[],r=0,o=0,a=i.length;o<a;++o){var l=i[o].slice(),h=l[l.length-1];if(0!==r)for(var d=0,u=l.length;d<u;++d)l[d]-=r;var f=new n.default(e.slice(r,h),t,l);s.push(f),r=h}return s},y.prototype.getType=function(){return s.default.MULTI_POLYGON},y.prototype.intersectsExtent=function(t){return(0,p.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},y.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,u.deflateMultiCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var s=i[i.length-1];this.flatCoordinates.length=0===s.length?0:s[s.length-1]}this.changed()},y}(o.default),C=v;exports.default=C;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"Utvi","./GeometryType.js":"lmV0","./MultiPoint.js":"dNu5","./Polygon.js":"Nwwk","./SimpleGeometry.js":"pnrv","./flat/area.js":"EOSm","./flat/center.js":"VjQP","./flat/closest.js":"rMra","./flat/contains.js":"dzdN","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","./flat/interiorpoint.js":"UDvN","./flat/intersectsextent.js":"GZir","./flat/orient.js":"cJkE","./flat/simplify.js":"IEpt"}],"bQ7c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"};exports.default=e;
},{}],"oqAD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IMAGE:"image",VECTOR:"vector"};exports.default=e;
},{}],"V5XN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asColorLike=e;var r=require("./color.js");function e(e){return Array.isArray(e)?(0,r.toString)(e):e}
},{"./color.js":"eucy"}],"oMDz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../asserts.js"),t=s(require("../events/Target.js")),r=s(require("../events/EventType.js"));function s(e){return e&&e.__esModule?e:{default:e}}var n=function(t){function s(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(s.__proto__=t),s.prototype=Object.create(t&&t.prototype),s.prototype.constructor=s,s.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},s.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(r.default.CLEAR)},s.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},s.prototype.forEach=function(e,t){for(var r=this.oldest_;r;)e.call(t,r.value_,r.key_,this),r=r.newer},s.prototype.get=function(t){var r=this.entries_[t];return(0,e.assert)(void 0!==r,15),r===this.newest_?r.value_:(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r,r.value_)},s.prototype.remove=function(t){var r=this.entries_[t];return(0,e.assert)(void 0!==r,15),r===this.newest_?(this.newest_=r.older,this.newest_&&(this.newest_.newer=null)):r===this.oldest_?(this.oldest_=r.newer,this.oldest_&&(this.oldest_.older=null)):(r.newer.older=r.older,r.older.newer=r.newer),delete this.entries_[t],--this.count_,r.value_},s.prototype.getCount=function(){return this.count_},s.prototype.getKeys=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.key_;return t},s.prototype.getValues=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.value_;return t},s.prototype.peekLast=function(){return this.oldest_.value_},s.prototype.peekLastKey=function(){return this.oldest_.key_},s.prototype.peekFirstKey=function(){return this.newest_.key_},s.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},s.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},s.prototype.set=function(t,r){(0,e.assert)(!(t in this.entries_),16);var s={key_:t,newer:null,older:this.newest_,value_:r};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_},s.prototype.setSize=function(e){this.highWaterMark=e},s.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},s}(t.default),o=n;exports.default=o;
},{"../asserts.js":"fLG6","../events/Target.js":"CR4Y","../events/EventType.js":"C8cu"}],"iAG7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.measureTextWidth=j,exports.rotateAtOffset=w,exports.drawImage=A,exports.resetTransform=exports.measureTextHeight=exports.checkFont=exports.textHeights=exports.checkedFonts=exports.labelCache=exports.defaultLineWidth=exports.defaultPadding=exports.defaultTextBaseline=exports.defaultTextAlign=exports.defaultStrokeStyle=exports.defaultMiterLimit=exports.defaultLineJoin=exports.defaultLineDashOffset=exports.defaultLineDash=exports.defaultLineCap=exports.defaultFillStyle=exports.defaultFont=void 0;var e=require("../css.js"),t=require("../dom.js"),r=require("../obj.js"),a=s(require("../structs/LRUCache.js")),o=require("../transform.js");function s(e){return e&&e.__esModule?e:{default:e}}var n="10px sans-serif";exports.defaultFont=n;var l=[0,0,0,1];exports.defaultFillStyle=l;var i="round";exports.defaultLineCap=i;var u=[];exports.defaultLineDash=u;var f=0;exports.defaultLineDashOffset=f;var p="round";exports.defaultLineJoin=p;var d=10;exports.defaultMiterLimit=d;var x=[0,0,0,1];exports.defaultStrokeStyle=x;var v="center";exports.defaultTextAlign=v;var c="middle";exports.defaultTextBaseline=c;var h=[0,0,0,0];exports.defaultPadding=h;var m=1;exports.defaultLineWidth=m;var g=new a.default;exports.labelCache=g;var y={};exports.checkedFonts=y;var T=null,L={};exports.textHeights=L;var b=function(){var t,a,o=60,s=y,n="32px ",l=["monospace","serif"],i=l.length,u="wmytzilWMYTZIL@#/&?$%10";function f(e){for(var t=C(),r=100;r<=700;r+=300){for(var o=r+" ",s=!0,f=0;f<i;++f){var p=l[f];if(t.font=o+n+p,a=t.measureText(u).width,e!=p){t.font=o+n+e+","+p;var d=t.measureText(u).width;s=s&&d!=a}}if(s)return!0}return!1}function p(){var e=!0;for(var a in s)s[a]<o&&(f(a)?(s[a]=o,(0,r.clear)(L),T=null,g.clear()):(++s[a],e=!1));e&&(clearInterval(t),t=void 0)}return function(r){var a=(0,e.getFontFamilies)(r);if(a)for(var n=0,l=a.length;n<l;++n){var i=a[n];i in s||(s[i]=o,f(i)||(s[i]=0,void 0===t&&(t=setInterval(p,32))))}}}();function C(){return T||(T=(0,t.createCanvasContext2D)(1,1)),T}exports.checkFont=b;var F=function(){var e,t=L;return function(r){var a=t[r];return null==a&&(e||((e=document.createElement("span")).textContent="M",e.style.margin=e.style.padding="0 !important",e.style.position="absolute !important",e.style.left="-99999px !important"),e.style.font=r,document.body.appendChild(e),a=t[r]=e.offsetHeight,document.body.removeChild(e)),a}}();function j(e,t){var r=C();return e!=r.font&&(r.font=e),r.measureText(t).width}function w(e,t,r,a){0!==t&&(e.translate(r,a),e.rotate(t),e.translate(-r,-a))}exports.measureTextHeight=F;var k=(0,o.create)();function A(e,t,r,a,o,s,n,l,i,u,f){var p;1!=r&&(p=e.globalAlpha,e.globalAlpha=p*r),t&&e.setTransform.apply(e,t),e.drawImage(a,o,s,n,l,i,u,n*f,l*f),p&&(e.globalAlpha=p),t&&e.setTransform.apply(e,k)}exports.resetTransform=k;
},{"../css.js":"HgMV","../dom.js":"Xno5","../obj.js":"mH6q","../structs/LRUCache.js":"oMDz","../transform.js":"P4eA"}],"S8ow":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};e.prototype.clone=function(){return new e({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getSnapToPixel=function(){return!1},e.prototype.getAnchor=function(){return(0,t.abstract)()},e.prototype.getImage=function(e){return(0,t.abstract)()},e.prototype.getHitDetectionImage=function(e){return(0,t.abstract)()},e.prototype.getImageState=function(){return(0,t.abstract)()},e.prototype.getImageSize=function(){return(0,t.abstract)()},e.prototype.getHitDetectionImageSize=function(){return(0,t.abstract)()},e.prototype.getOrigin=function(){return(0,t.abstract)()},e.prototype.getSize=function(){return(0,t.abstract)()},e.prototype.setOpacity=function(t){this.opacity_=t},e.prototype.setRotateWithView=function(t){this.rotateWithView_=t},e.prototype.setRotation=function(t){this.rotation_=t},e.prototype.setScale=function(t){this.scale_=t},e.prototype.setSnapToPixel=function(t){},e.prototype.listenImageChange=function(e,o){return(0,t.abstract)()},e.prototype.load=function(){(0,t.abstract)()},e.prototype.unlistenImageChange=function(e,o){(0,t.abstract)()};var o=e;exports.default=o;
},{"../util.js":"KniQ"}],"il3X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../color.js"),i=require("../colorlike.js"),e=require("../dom.js"),s=require("../has.js"),a=r(require("../ImageState.js")),n=require("../render/canvas.js"),o=r(require("./Image.js"));function r(t){return t&&t.__esModule?t:{default:t}}var h=function(o){function r(t){var i=void 0!==t.rotateWithView&&t.rotateWithView;o.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==t.rotation?t.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=t.atlasManager,this.render_(this.atlasManager_)}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.clone=function(){var t=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},r.prototype.getAnchor=function(){return this.anchor_},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},r.prototype.getImage=function(t){return this.canvas_},r.prototype.getImageSize=function(){return this.imageSize_},r.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},r.prototype.getImageState=function(){return a.default.LOADED},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(t,i){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t,i){},r.prototype.render_=function(t){var a,o,r="",h="",l=0,u=null,_=0,c=0;this.stroke_&&(null===(o=this.stroke_.getColor())&&(o=n.defaultStrokeStyle),o=(0,i.asColorLike)(o),void 0===(c=this.stroke_.getWidth())&&(c=n.defaultLineWidth),u=this.stroke_.getLineDash(),_=this.stroke_.getLineDashOffset(),s.CANVAS_LINE_DASH||(u=null,_=0),void 0===(h=this.stroke_.getLineJoin())&&(h=n.defaultLineJoin),void 0===(r=this.stroke_.getLineCap())&&(r=n.defaultLineCap),void 0===(l=this.stroke_.getMiterLimit())&&(l=n.defaultMiterLimit));var d=2*(this.radius_+c)+1,g={strokeStyle:o,strokeWidth:c,size:d,lineCap:r,lineDash:u,lineDashOffset:_,lineJoin:h,miterLimit:l};if(void 0===t){var f=(0,e.createCanvasContext2D)(d,d);this.canvas_=f.canvas,a=d=this.canvas_.width,this.draw_(g,f,0,0),this.createHitDetectionCanvas_(g)}else{d=Math.round(d);var p,v=!this.fill_;v&&(p=this.drawHitDetectionCanvas_.bind(this,g));var k=this.getChecksum(),m=t.add(k,d,d,this.draw_.bind(this,g),p);this.canvas_=m.image,this.origin_=[m.offsetX,m.offsetY],a=m.image.width,v?(this.hitDetectionCanvas_=m.hitImage,this.hitDetectionImageSize_=[m.hitImage.width,m.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[a,a])}this.anchor_=[d/2,d/2],this.size_=[d,d],this.imageSize_=[a,a]},r.prototype.draw_=function(t,e,s,a){var o,r,h;e.setTransform(1,0,0,1,0,0),e.translate(s,a),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(l*=2),o=0;o<=l;o++)r=2*o*Math.PI/l-Math.PI/2+this.angle_,h=o%2==0?this.radius_:u,e.lineTo(t.size/2+h*Math.cos(r),t.size/2+h*Math.sin(r))}if(this.fill_){var _=this.fill_.getColor();null===_&&(_=n.defaultFillStyle),e.fillStyle=(0,i.asColorLike)(_),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},r.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var i=(0,e.createCanvasContext2D)(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}},r.prototype.drawHitDetectionCanvas_=function(i,e,s,a){e.setTransform(1,0,0,1,0,0),e.translate(s,a),e.beginPath();var o=this.points_;if(o===1/0)e.arc(i.size/2,i.size/2,this.radius_,0,2*Math.PI,!0);else{var r,h,l,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(o*=2),r=0;r<=o;r++)l=2*r*Math.PI/o-Math.PI/2+this.angle_,h=r%2==0?this.radius_:u,e.lineTo(i.size/2+h*Math.cos(l),i.size/2+h*Math.sin(l))}e.fillStyle=(0,t.asString)(n.defaultFillStyle),e.fill(),this.stroke_&&(e.strokeStyle=i.strokeStyle,e.lineWidth=i.strokeWidth,i.lineDash&&(e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset),e.stroke()),e.closePath()},r.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",i=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||i!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var e="r"+t+i+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[e,t,i,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},r}(o.default),l=h;exports.default=l;
},{"../color.js":"eucy","../colorlike.js":"V5XN","../dom.js":"Xno5","../has.js":"f3Nv","../ImageState.js":"u3kG","../render/canvas.js":"iAG7","./Image.js":"S8ow"}],"cdf1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./RegularShape.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e){var r=e||{};t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,atlasManager:r.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(t.default),a=r;exports.default=a;
},{"./RegularShape.js":"il3X"}],"he4w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toFunction=l,exports.createDefaultStyle=f,exports.createEditingStyle=d,exports.default=void 0;var e=require("../asserts.js"),t=i(require("../geom/GeometryType.js")),o=i(require("./Circle.js")),r=i(require("./Fill.js")),n=i(require("./Stroke.js"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e||{};this.geometry_=null,this.geometryFunction_=a,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex};function l(t){var o;if("function"==typeof t)o=t;else{var r;if(Array.isArray(t))r=t;else(0,e.assert)("function"==typeof t.getZIndex,41),r=[t];o=function(){return r}}return o}u.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new u({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},u.prototype.getRenderer=function(){return this.renderer_},u.prototype.setRenderer=function(e){this.renderer_=e},u.prototype.getGeometry=function(){return this.geometry_},u.prototype.getGeometryFunction=function(){return this.geometryFunction_},u.prototype.getFill=function(){return this.fill_},u.prototype.setFill=function(e){this.fill_=e},u.prototype.getImage=function(){return this.image_},u.prototype.setImage=function(e){this.image_=e},u.prototype.getStroke=function(){return this.stroke_},u.prototype.setStroke=function(e){this.stroke_=e},u.prototype.getText=function(){return this.text_},u.prototype.setText=function(e){this.text_=e},u.prototype.getZIndex=function(){return this.zIndex_},u.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=a,this.geometry_=e},u.prototype.setZIndex=function(e){this.zIndex_=e};var s=null;function f(e,t){if(!s){var i=new r.default({color:"rgba(255,255,255,0.4)"}),l=new n.default({color:"#3399CC",width:1.25});s=[new u({image:new o.default({fill:i,stroke:l,radius:5}),fill:i,stroke:l})]}return s}function d(){var e={},i=[255,255,255,1],l=[0,153,255,1];return e[t.default.POLYGON]=[new u({fill:new r.default({color:[255,255,255,.5]})})],e[t.default.MULTI_POLYGON]=e[t.default.POLYGON],e[t.default.LINE_STRING]=[new u({stroke:new n.default({color:i,width:5})}),new u({stroke:new n.default({color:l,width:3})})],e[t.default.MULTI_LINE_STRING]=e[t.default.LINE_STRING],e[t.default.CIRCLE]=e[t.default.POLYGON].concat(e[t.default.LINE_STRING]),e[t.default.POINT]=[new u({image:new o.default({radius:6,fill:new r.default({color:l}),stroke:new n.default({color:i,width:1.5})}),zIndex:1/0})],e[t.default.MULTI_POINT]=e[t.default.POINT],e[t.default.GEOMETRY_COLLECTION]=e[t.default.POLYGON].concat(e[t.default.LINE_STRING],e[t.default.POINT]),e}function a(e){return e.getGeometry()}var c=u;exports.default=c;
},{"../asserts.js":"fLG6","../geom/GeometryType.js":"lmV0","./Circle.js":"cdf1","./Fill.js":"AFcg","./Stroke.js":"TXDt"}],"dflx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../LayerType.js")),t=o(require("./Layer.js")),r=o(require("./VectorRenderType.js")),n=require("../obj.js"),i=require("../style/Style.js");function o(e){return e&&e.__esModule?e:{default:e}}var u={RENDER_ORDER:"renderOrder"},d=function(t){function o(i){var o=i||{},u=(0,n.assign)({},o);delete u.style,delete u.renderBuffer,delete u.updateWhileAnimating,delete u.updateWhileInteracting,t.call(this,u),this.declutter_=void 0!==o.declutter&&o.declutter,this.renderBuffer_=void 0!==o.renderBuffer?o.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(o.style),this.updateWhileAnimating_=void 0!==o.updateWhileAnimating&&o.updateWhileAnimating,this.updateWhileInteracting_=void 0!==o.updateWhileInteracting&&o.updateWhileInteracting,this.renderMode_=o.renderMode||r.default.VECTOR,this.type=e.default.VECTOR}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.getDeclutter=function(){return this.declutter_},o.prototype.setDeclutter=function(e){this.declutter_=e},o.prototype.getRenderBuffer=function(){return this.renderBuffer_},o.prototype.getRenderOrder=function(){return this.get(u.RENDER_ORDER)},o.prototype.getStyle=function(){return this.style_},o.prototype.getStyleFunction=function(){return this.styleFunction_},o.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},o.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},o.prototype.setRenderOrder=function(e){this.set(u.RENDER_ORDER,e)},o.prototype.setStyle=function(e){this.style_=void 0!==e?e:i.createDefaultStyle,this.styleFunction_=null===e?void 0:(0,i.toFunction)(this.style_),this.changed()},o.prototype.getRenderMode=function(){return this.renderMode_},o}(t.default);d.prototype.getSource;var l=d;exports.default=l;
},{"../LayerType.js":"bQ7c","./Layer.js":"GCgv","./VectorRenderType.js":"oqAD","../obj.js":"mH6q","../style/Style.js":"he4w"}],"AbO3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};exports.default=e;
},{}],"U3JP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadFeaturesXhr=s,exports.xhr=n;var e=require("./functions.js"),t=r(require("./format/FormatType.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,r,s,n){return function(a,o,u){var i=new XMLHttpRequest;i.open("GET","function"==typeof e?e(a,o,u):e,!0),r.getType()==t.default.ARRAY_BUFFER&&(i.responseType="arraybuffer"),i.onload=function(e){if(!i.status||i.status>=200&&i.status<300){var a,o=r.getType();o==t.default.JSON||o==t.default.TEXT?a=i.responseText:o==t.default.XML?(a=i.responseXML)||(a=(new DOMParser).parseFromString(i.responseText,"application/xml")):o==t.default.ARRAY_BUFFER&&(a=i.response),a?s.call(this,r.readFeatures(a,{featureProjection:u}),r.readProjection(a),r.getLastExtent()):n.call(this)}else n.call(this)}.bind(this),i.onerror=function(){n.call(this)}.bind(this),i.send()}}function n(t,r){return s(t,r,function(e,t){"function"==typeof this.addFeatures&&this.addFeatures(e)},e.VOID)}
},{"./functions.js":"RgA2","./format/FormatType.js":"AbO3"}],"JpXE":[function(require,module,exports) {
"use strict";function e(e,t){return[[-1/0,-1/0,1/0,1/0]]}function t(e,t){return[e]}function r(e){return function(t,r){var n=e.getZForResolution(r),o=e.getTileRangeForExtentAndZ(t,n),u=[],i=[n,0,0];for(i[1]=o.minX;i[1]<=o.maxX;++i[1])for(i[2]=o.minY;i[2]<=o.maxY;++i[2])u.push(e.getTileCoordExtent(i));return u}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.all=e,exports.bbox=t,exports.tile=r;
},{}],"H38a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=i(require("../Object.js")),o=require("../proj.js"),r=i(require("./State.js"));function i(t){return t&&t.__esModule?t:{default:t}}var n=function(e){function i(t){e.call(this),this.projection_=(0,o.get)(t.projection),this.attributions_=s(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:r.default.READY,this.wrapX_=void 0!==t.wrapX&&t.wrapX}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getAttributions=function(){return this.attributions_},i.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},i.prototype.getProjection=function(){return this.projection_},i.prototype.getResolutions=function(){return(0,t.abstract)()},i.prototype.getState=function(){return this.state_},i.prototype.getWrapX=function(){return this.wrapX_},i.prototype.refresh=function(){this.changed()},i.prototype.setAttributions=function(t){this.attributions_=s(t),this.changed()},i.prototype.setState=function(t){this.state_=t,this.changed()},i}(e.default);function s(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var u=n;exports.default=u;
},{"../util.js":"KniQ","../Object.js":"PhPh","../proj.js":"Diht","./State.js":"iC8j"}],"s8Fc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};exports.default=e;
},{}],"J5sx":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,o=arguments[3];!function(o,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof t&&t.amd?t(n):o.quickselect=n()}(this,function(){"use strict";function t(t,o,n){var r=t[o];t[o]=t[n],t[n]=r}function o(t,o){return t<o?-1:t>o?1:0}return function(n,r,e,f,u){!function o(n,r,e,f,u){for(;f>e;){if(f-e>600){var a=f-e+1,i=r-e+1,c=Math.log(a),h=.5*Math.exp(2*c/3),s=.5*Math.sqrt(c*h*(a-h)/a)*(i-a/2<0?-1:1),l=Math.max(e,Math.floor(r-i*h/a+s)),M=Math.min(f,Math.floor(r+(a-i)*h/a+s));o(n,r,l,M,u)}var m=n[r],p=e,d=f;for(t(n,e,r),u(n[f],m)>0&&t(n,e,f);p<d;){for(t(n,p,d),p++,d--;u(n[p],m)<0;)p++;for(;u(n[d],m)>0;)d--}0===u(n[e],m)?t(n,e,d):t(n,++d,f),d<=r&&(e=d+1),r<=d&&(f=d-1)}}(n,r,e||0,f||n.length-1,u||o)}});
},{}],"y0Xa":[function(require,module,exports) {
"use strict";module.exports=i,module.exports.default=i;var t=require("quickselect");function i(t,n){if(!(this instanceof i))return new i(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function n(t,i,n){if(!n)return i.indexOf(t);for(var a=0;a<i.length;a++)if(n(t,i[a]))return a;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,a,h){h||(h=x(null)),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(var r,o=i;o<n;o++)r=t.children[o],e(h,t.leaf?a(r):r);return h}function e(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function r(t,i){return t.minX-i.minX}function o(t,i){return t.minY-i.minY}function s(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function u(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function m(t,i){var n=Math.max(t.minX,i.minX),a=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),e=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,e-a)}function c(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function x(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,a,h,e){for(var r,o=[n,a];o.length;)(a=o.pop())-(n=o.pop())<=h||(r=n+Math.ceil((a-n)/h/2)*h,t(i,r,n,a,e),o.push(n,r,r,a))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],a=this.toBBox;if(!f(t,i))return n;for(var h,e,r,o,s=[];i;){for(h=0,e=i.children.length;h<e;h++)r=i.children[h],f(t,o=i.leaf?a(r):r)&&(i.leaf?n.push(r):c(t,o)?this._all(r,n):s.push(r));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!f(t,i))return!1;for(var a,h,e,r,o=[];i;){for(a=0,h=i.children.length;a<h;a++)if(e=i.children[a],f(t,r=i.leaf?n(e):e)){if(i.leaf||c(t,r))return!0;o.push(e)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var a=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var h=this.data;this.data=a,a=h}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(t,i){if(!t)return this;for(var a,h,e,r,o=this.data,s=this.toBBox(t),l=[],u=[];o||l.length;){if(o||(o=l.pop(),h=l[l.length-1],a=u.pop(),r=!0),o.leaf&&-1!==(e=n(t,o.children,i)))return o.children.splice(e,1),l.push(o),this._condense(l),this;r||o.leaf||!c(o,s)?h?(a++,o=h.children[a],r=!1):o=null:(l.push(o),u.push(a),a=0,h=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:r,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,h){var e,r=n-i+1,o=this._maxEntries;if(r<=o)return a(e=x(t.slice(i,n+1)),this.toBBox),e;h||(h=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,h-1))),(e=x([])).leaf=!1,e.height=h;var s,l,u,m,c=Math.ceil(r/o),f=c*Math.ceil(Math.sqrt(o));for(d(t,i,n,f,this.compareMinX),s=i;s<=n;s+=f)for(d(t,s,u=Math.min(s+f-1,n),c,this.compareMinY),l=s;l<=u;l+=c)m=Math.min(l+c-1,u),e.children.push(this._build(t,l,m,h-1));return a(e,this.toBBox),e},_chooseSubtree:function(t,i,n,a){for(var h,e,r,o,l,m,c,f;a.push(i),!i.leaf&&a.length-1!==n;){for(c=f=1/0,h=0,e=i.children.length;h<e;h++)l=s(r=i.children[h]),(m=u(t,r)-l)<f?(f=m,c=l<c?l:c,o=r):m===f&&l<c&&(c=l,o=r);i=o||i.children[0]}return i},_insert:function(t,i,n){var a=this.toBBox,h=n?t:a(t),r=[],o=this._chooseSubtree(h,this.data,i,r);for(o.children.push(t),e(o,h);i>=0&&r[i].children.length>this._maxEntries;)this._split(r,i),i--;this._adjustParentBBoxes(h,r,i)},_split:function(t,i){var n=t[i],h=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,h);var r=this._chooseSplitIndex(n,e,h),o=x(n.children.splice(r,n.children.length-r));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,i){this.data=x([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var a,e,r,o,l,u,c,f;for(u=c=1/0,a=i;a<=n-i;a++)o=m(e=h(t,0,a,this.toBBox),r=h(t,a,n,this.toBBox)),l=s(e)+s(r),o<u?(u=o,f=a,c=l<c?l:c):o===u&&l<c&&(c=l,f=a);return f},_chooseSplitAxis:function(t,i,n){var a=t.leaf?this.compareMinX:r,h=t.leaf?this.compareMinY:o;this._allDistMargin(t,i,n,a)<this._allDistMargin(t,i,n,h)&&t.children.sort(a)},_allDistMargin:function(t,i,n,a){t.children.sort(a);var r,o,s=this.toBBox,u=h(t,0,i,s),m=h(t,n-i,n,s),c=l(u)+l(m);for(r=i;r<n-i;r++)o=t.children[r],e(u,t.leaf?s(o):o),c+=l(u);for(r=n-i-1;r>=i;r--)o=t.children[r],e(m,t.leaf?s(o):o),c+=l(m);return c},_adjustParentBBoxes:function(t,i,n){for(var a=n;a>=0;a--)e(i[a],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(t[0])),this.compareMinY=new Function("a","b",i.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};
},{"quickselect":"J5sx"}],"MiUH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=n(require("rbush")),r=require("../extent.js"),i=require("../obj.js");function n(t){return t&&t.__esModule?t:{default:t}}var o=function(t){this.rbush_=(0,e.default)(t,void 0),this.items_={}};o.prototype.insert=function(e,r){var i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:r};this.rbush_.insert(i),this.items_[(0,t.getUid)(r)]=i},o.prototype.load=function(e,r){for(var i=new Array(r.length),n=0,o=r.length;n<o;n++){var s=e[n],u=r[n],a={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:u};i[n]=a,this.items_[(0,t.getUid)(u)]=a}this.rbush_.load(i)},o.prototype.remove=function(e){var r=(0,t.getUid)(e),i=this.items_[r];return delete this.items_[r],null!==this.rbush_.remove(i)},o.prototype.update=function(e,i){var n=this.items_[(0,t.getUid)(i)],o=[n.minX,n.minY,n.maxX,n.maxY];(0,r.equals)(o,e)||(this.remove(i),this.insert(e,i))},o.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},o.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},o.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},o.prototype.forEachInExtent=function(t,e,r){return this.forEach_(this.getInExtent(t),e,r)},o.prototype.forEach_=function(t,e,r){for(var i,n=0,o=t.length;n<o;n++)if(i=e.call(r,t[n]))return i;return i},o.prototype.isEmpty=function(){return(0,i.isEmpty)(this.items_)},o.prototype.clear=function(){this.rbush_.clear(),this.items_={}},o.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,r.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},o.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var s=o;exports.default=s;
},{"../util.js":"KniQ","rbush":"y0Xa","../extent.js":"QDir","../obj.js":"mH6q"}],"ZS12":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.VectorSourceEvent=void 0;var e=require("../util.js"),t=E(require("../Collection.js")),r=E(require("../CollectionEventType.js")),n=E(require("../ObjectEventType.js")),i=require("../array.js"),s=require("../asserts.js"),o=require("../events.js"),a=E(require("../events/Event.js")),u=E(require("../events/EventType.js")),h=require("../extent.js"),d=require("../featureloader.js"),l=require("../functions.js"),f=require("../loadingstrategy.js"),_=require("../obj.js"),c=E(require("./Source.js")),p=E(require("./State.js")),v=E(require("./VectorEventType.js")),y=E(require("../structs/RBush.js"));function E(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(t,r){e.call(this,t),this.feature=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(a.default);exports.VectorSourceEvent=g;var I=function(a){function c(e){var r=e||{};a.call(this,{attributions:r.attributions,projection:void 0,state:p.default.READY,wrapX:void 0===r.wrapX||r.wrapX}),this.loader_=l.VOID,this.format_=r.format,this.overlaps_=null==r.overlaps||r.overlaps,this.url_=r.url,void 0!==r.loader?this.loader_=r.loader:void 0!==this.url_&&((0,s.assert)(this.format_,7),this.loader_=(0,d.xhr)(this.url_,this.format_)),this.strategy_=void 0!==r.strategy?r.strategy:f.all;var n,i,o=void 0===r.useSpatialIndex||r.useSpatialIndex;this.featuresRtree_=o?new y.default:null,this.loadedExtentsRtree_=new y.default,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(r.features)?i=r.features:r.features&&(i=(n=r.features).getArray()),o||void 0!==n||(n=new t.default(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}return a&&(c.__proto__=a),c.prototype=Object.create(a&&a.prototype),c.prototype.constructor=c,c.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},c.prototype.addFeatureInternal=function(t){var r=(0,e.getUid)(t);if(this.addToIndex_(r,t)){this.setupChangeEvents_(r,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new g(v.default.ADDFEATURE,t))}},c.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[(0,o.listen)(t,u.default.CHANGE,this.handleFeatureChange_,this),(0,o.listen)(t,n.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]},c.prototype.addToIndex_=function(e,t){var r=!0,n=t.getId();return void 0!==n?n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=t:((0,s.assert)(!(e in this.undefIdIndex_),30),this.undefIdIndex_[e]=t),r},c.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},c.prototype.addFeaturesInternal=function(t){for(var r=[],n=[],i=[],s=0,o=t.length;s<o;s++){var a=t[s],u=(0,e.getUid)(a);this.addToIndex_(u,a)&&n.push(a)}for(var h=0,d=n.length;h<d;h++){var l=n[h],f=(0,e.getUid)(l);this.setupChangeEvents_(f,l);var _=l.getGeometry();if(_){var c=_.getExtent();r.push(c),i.push(l)}else this.nullGeometryFeatures_[f]=l}this.featuresRtree_&&this.featuresRtree_.load(r,i);for(var p=0,y=n.length;p<y;p++)this.dispatchEvent(new g(v.default.ADDFEATURE,n[p]))},c.prototype.bindFeaturesCollection_=function(e){var t=!1;(0,o.listen)(this,v.default.ADDFEATURE,function(r){t||(t=!0,e.push(r.feature),t=!1)}),(0,o.listen)(this,v.default.REMOVEFEATURE,function(r){t||(t=!0,e.remove(r.feature),t=!1)}),(0,o.listen)(e,r.default.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)},this),(0,o.listen)(e,r.default.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)},this),this.featuresCollection_=e},c.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(o.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var n=new g(v.default.CLEAR);this.dispatchEvent(n),this.changed()},c.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},c.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){return r.getGeometry().intersectsCoordinate(e)?t(r):void 0})},c.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},c.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){var n=t(r);if(n)return n}})},c.prototype.getFeaturesCollection=function(){return this.featuresCollection_},c.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,_.isEmpty)(this.nullGeometryFeatures_)||(0,i.extend)(e,(0,_.getValues)(this.nullGeometryFeatures_))),e},c.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t},c.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)},c.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],n=e[1],i=null,s=[NaN,NaN],o=1/0,a=[-1/0,-1/0,1/0,1/0],u=t||l.TRUE;return this.featuresRtree_.forEachInExtent(a,function(e){if(u(e)){var t=e.getGeometry(),h=o;if((o=t.closestPointXY(r,n,s,o))<h){i=e;var d=Math.sqrt(o);a[0]=r-d,a[1]=n-d,a[2]=r+d,a[3]=n+d}}}),i},c.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},c.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},c.prototype.getFormat=function(){return this.format_},c.prototype.getOverlaps=function(){return this.overlaps_},c.prototype.getUrl=function(){return this.url_},c.prototype.handleFeatureChange_=function(t){var r=t.target,n=(0,e.getUid)(r),i=r.getGeometry();if(i){var s=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[n]=r);var o=r.getId();if(void 0!==o){var a=o.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=r):this.idIndex_[a]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[a]=r)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(r),this.undefIdIndex_[n]=r);this.changed(),this.dispatchEvent(new g(v.default.CHANGEFEATURE,r))},c.prototype.hasFeature=function(t){var r=t.getId();return void 0!==r?r in this.idIndex_:(0,e.getUid)(t)in this.undefIdIndex_},c.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,_.isEmpty)(this.nullGeometryFeatures_)},c.prototype.loadFeatures=function(e,t,r){var n=this,i=this.loadedExtentsRtree_,s=this.strategy_(e,t);this.loading=!1;for(var o=function(e,o){var a=s[e];i.forEachInExtent(a,function(e){return(0,h.containsExtent)(e.extent,a)})||(n.loader_.call(n,a,t,r),i.insert(a,{extent:a.slice()}),n.loading=n.loader_!==l.VOID)},a=0,u=s.length;a<u;++a)o(a)},c.prototype.removeLoadedExtent=function(e){var t,r=this.loadedExtentsRtree_;r.forEachInExtent(e,function(r){if((0,h.equals)(r.extent,e))return t=r,!0}),t&&r.remove(t)},c.prototype.removeFeature=function(t){var r=(0,e.getUid)(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},c.prototype.removeFeatureInternal=function(t){var r=(0,e.getUid)(t);this.featureChangeKeys_[r].forEach(o.unlistenByKey),delete this.featureChangeKeys_[r];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[r],this.dispatchEvent(new g(v.default.REMOVEFEATURE,t))},c.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}return t},c.prototype.setLoader=function(e){this.loader_=e},c}(c.default),x=I;exports.default=x;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../ObjectEventType.js":"zehl","../array.js":"luEr","../asserts.js":"fLG6","../events.js":"UqnM","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../extent.js":"QDir","../featureloader.js":"U3JP","../functions.js":"RgA2","../loadingstrategy.js":"JpXE","../obj.js":"mH6q","./Source.js":"H38a","./State.js":"iC8j","./VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH"}],"e7i2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createRegularPolygon=R,exports.createBox=M,exports.default=void 0;var t=L(require("../events/EventType.js")),e=L(require("../Feature.js")),i=L(require("../MapBrowserEventType.js")),s=L(require("../MapBrowserPointerEvent.js")),o=require("../Object.js"),r=require("../coordinate.js"),n=require("../events.js"),h=L(require("../events/Event.js")),a=require("../events/condition.js"),d=require("../extent.js"),u=require("../functions.js"),_=L(require("../geom/Circle.js")),l=L(require("../geom/GeometryType.js")),c=L(require("../geom/LineString.js")),f=L(require("../geom/MultiLineString.js")),p=L(require("../geom/MultiPoint.js")),y=L(require("../geom/MultiPolygon.js")),g=require("../pointer/MouseSource.js"),m=L(require("../geom/Point.js")),C=N(require("../geom/Polygon.js")),k=L(require("./Pointer.js")),P=L(require("./Property.js")),v=L(require("../layer/Vector.js")),T=L(require("../source/Vector.js")),O=require("../style/Style.js");function w(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return w=function(){return t},t}function N(t){if(t&&t.__esModule)return t;var e=w();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=s?Object.getOwnPropertyDescriptor(t,o):null;r&&(r.get||r.set)?Object.defineProperty(i,o,r):i[o]=t[o]}}return i.default=t,e&&e.set(t,i),i}function L(t){return t&&t.__esModule?t:{default:t}}var I={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},E={DRAWSTART:"drawstart",DRAWEND:"drawend"},D=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h.default),G=function(h){function d(t){var e=t;e.stopDown||(e.stopDown=u.FALSE),h.call(this,e),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=S(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:this.mode_===I.POLYGON?3:2,this.maxPoints_=t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:u.TRUE;var i=t.geometryFunction;if(!i)if(this.type_===l.default.CIRCLE)i=function(t,e){var i=e||new _.default([NaN,NaN]),s=(0,r.squaredDistance)(t[0],t[1]);return i.setCenterAndRadius(t[0],Math.sqrt(s)),i};else{var s,d=this.mode_;d===I.POINT?s=m.default:d===I.LINE_STRING?s=c.default:d===I.POLYGON&&(s=C.default),i=function(t,e){var i=e;return i?d===I.POLYGON?t[0].length?i.setCoordinates([t[0].concat([t[0][0]])]):i.setCoordinates([]):i.setCoordinates(t):i=new s(t),i}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new v.default({source:new T.default({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:F(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:a.noModifierKeys,this.freehandCondition_,t.freehand?this.freehandCondition_=a.always:this.freehandCondition_=t.freehandCondition?t.freehandCondition:a.shiftKeyOnly,(0,n.listen)(this,(0,o.getChangeEventType)(P.default.ACTIVE),this.updateState_,this)}return h&&(d.__proto__=h),d.prototype=Object.create(h&&h.prototype),d.prototype.constructor=d,d.prototype.setMap=function(t){h.prototype.setMap.call(this,t),this.updateState_()},d.prototype.getOverlay=function(){return this.overlay_},d.prototype.handleEvent=function(e){e.originalEvent.type===t.default.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==I.POINT&&this.freehandCondition_(e);var s=e.type===i.default.POINTERMOVE,o=!0;!this.freehand_&&this.lastDragTime_&&e.type===i.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,s=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===i.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),o=!1):this.freehand_&&e.type===i.default.POINTERDOWN?o=!1:s?(o=e.type===i.default.POINTERMOVE)&&this.freehand_?o=this.handlePointerMove_(e):(e.pointerEvent.pointerType==g.POINTER_TYPE||e.type===i.default.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===i.default.DBLCLICK&&(o=!1),h.prototype.handleEvent.call(this,e)&&o},d.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new s.default(i.default.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},d.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var i=this.mode_===I.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||i?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===I.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},d.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,s=e[0]-i[0],o=e[1]-i[1],r=s*s+o*o;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},d.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,s=[this.finishCoordinate_];if(this.mode_===I.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===I.POLYGON){var o=this.sketchCoords_;i=o[0].length>this.minPoints_,s=[o[0][0],o[0][o[0].length-2]]}if(i)for(var r=t.map,n=0,h=s.length;n<h;n++){var a=s[n],d=r.getPixelFromCoordinate(a),u=t.pixel,_=u[0]-d[0],l=u[1]-d[1],c=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(_*_+l*l)<=c){this.finishCoordinate_=a;break}}}return e},d.prototype.createOrUpdateSketchPoint_=function(t){var i=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(i):(this.sketchPoint_=new e.default(new m.default(i)),this.updateSketchFeatures_())},d.prototype.startDrawing_=function(t){var i=t.coordinate;this.finishCoordinate_=i,this.mode_===I.POINT?this.sketchCoords_=i.slice():this.mode_===I.POLYGON?(this.sketchCoords_=[[i.slice(),i.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[i.slice(),i.slice()],this.sketchLineCoords_&&(this.sketchLine_=new e.default(new c.default(this.sketchLineCoords_)));var s=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new e.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(s),this.updateSketchFeatures_(),this.dispatchEvent(new D(E.DRAWSTART,this.sketchFeature_))},d.prototype.modifyDrawing_=function(t){var i,s,o,r=t.coordinate,n=this.sketchFeature_.getGeometry();(this.mode_===I.POINT?s=this.sketchCoords_:this.mode_===I.POLYGON?(s=(i=this.sketchCoords_[0])[i.length-1],this.atFinish_(t)&&(r=this.finishCoordinate_.slice())):s=(i=this.sketchCoords_)[i.length-1],s[0]=r[0],s[1]=r[1],this.geometryFunction_(this.sketchCoords_,n),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(r);if(n.getType()==l.default.POLYGON&&this.mode_!==I.POLYGON){this.sketchLine_||(this.sketchLine_=new e.default);var h=n.getLinearRing(0);(o=this.sketchLine_.getGeometry())?(o.setFlatCoordinates(h.getLayout(),h.getFlatCoordinates()),o.changed()):(o=new c.default(h.getFlatCoordinates(),h.getLayout()),this.sketchLine_.setGeometry(o))}else this.sketchLineCoords_&&(o=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},d.prototype.addToDrawing_=function(t){var e,i,s=t.coordinate,o=this.sketchFeature_.getGeometry();this.mode_===I.LINE_STRING?(this.finishCoordinate_=s.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(s.slice()),this.geometryFunction_(i,o)):this.mode_===I.POLYGON&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(s.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),e&&this.finishDrawing()},d.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===I.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===I.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},d.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,i=t.getGeometry();this.mode_===I.LINE_STRING?(e.pop(),this.geometryFunction_(e,i)):this.mode_===I.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i),e=i.getCoordinates()),this.type_===l.default.MULTI_POINT?t.setGeometry(new p.default([e])):this.type_===l.default.MULTI_LINE_STRING?t.setGeometry(new f.default([e])):this.type_===l.default.MULTI_POLYGON&&t.setGeometry(new y.default([e])),this.dispatchEvent(new D(E.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},d.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},d.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new D(E.DRAWSTART,this.sketchFeature_))},d.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},d.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},d}(k.default);function F(){var t=(0,O.createEditingStyle)();return function(e,i){return t[e.getGeometry().getType()]}}function R(t,e){return function(i,s){var o=i[0],n=i[1],h=Math.sqrt((0,r.squaredDistance)(o,n)),a=s||(0,C.fromCircle)(new _.default(o),t),d=e;if(!e){var u=n[0]-o[0],l=n[1]-o[1];d=Math.atan(l/u)-(u<0?Math.PI:0)}return(0,C.makeRegular)(a,o,h,d),a}}function M(){return function(t,e){var i=(0,d.boundingExtent)(t),s=[[(0,d.getBottomLeft)(i),(0,d.getBottomRight)(i),(0,d.getTopRight)(i),(0,d.getTopLeft)(i),(0,d.getBottomLeft)(i)]],o=e;return o?o.setCoordinates(s):o=new C.default(s),o}}function S(t){var e;return t===l.default.POINT||t===l.default.MULTI_POINT?e=I.POINT:t===l.default.LINE_STRING||t===l.default.MULTI_LINE_STRING?e=I.LINE_STRING:t===l.default.POLYGON||t===l.default.MULTI_POLYGON?e=I.POLYGON:t===l.default.CIRCLE&&(e=I.CIRCLE),e}var j=G;exports.default=j;
},{"../events/EventType.js":"C8cu","../Feature.js":"mYW9","../MapBrowserEventType.js":"YhDM","../MapBrowserPointerEvent.js":"J1WQ","../Object.js":"PhPh","../coordinate.js":"nGsj","../events.js":"UqnM","../events/Event.js":"fKNg","../events/condition.js":"YcID","../extent.js":"QDir","../functions.js":"RgA2","../geom/Circle.js":"AyCw","../geom/GeometryType.js":"lmV0","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../pointer/MouseSource.js":"Plx9","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","./Pointer.js":"dnA2","./Property.js":"caOi","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../style/Style.js":"he4w"}],"o7b8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("../Feature.js")),t=c(require("../MapBrowserEventType.js")),r=require("../coordinate.js"),n=c(require("../events/Event.js")),o=require("../extent.js"),i=c(require("../geom/GeometryType.js")),a=c(require("../geom/Point.js")),u=require("../geom/Polygon.js"),l=c(require("./Pointer.js")),s=c(require("../layer/Vector.js")),p=c(require("../source/Vector.js")),d=require("../style/Style.js");function c(e){return e&&e.__esModule?e:{default:e}}var h={EXTENTCHANGED:"extentchanged"},x=function(e){function t(t){e.call(this,h.EXTENTCHANGED),this.extent=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(n.default),_=function(n){function i(e){var t=e||{};n.call(this,t),this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new s.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:f(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new s.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:v(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}return n&&(i.__proto__=n),i.prototype=Object.create(n&&n.prototype),i.prototype.constructor=i,i.prototype.snapToVertex_=function(e,t){var n=t.getCoordinateFromPixel(e),o=this.getExtent();if(o){var i=g(o);i.sort(function(e,t){return(0,r.squaredDistanceToSegment)(n,e)-(0,r.squaredDistanceToSegment)(n,t)});var a=i[0],u=(0,r.closestOnSegment)(n,a),l=t.getPixelFromCoordinate(u);if((0,r.distance)(e,l)<=this.pixelTolerance_){var s=t.getPixelFromCoordinate(a[0]),p=t.getPixelFromCoordinate(a[1]),d=(0,r.squaredDistance)(l,s),c=(0,r.squaredDistance)(l,p),h=Math.sqrt(Math.min(d,c));return this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(u=d>c?a[1]:a[0]),u}}return null},i.prototype.handlePointerMove_=function(e){var t=e.pixel,r=e.map,n=this.snapToVertex_(t,r);n||(n=r.getCoordinateFromPixel(t)),this.createOrUpdatePointerFeature_(n)},i.prototype.createOrUpdateExtentFeature_=function(t){var r=this.extentFeature_;return r?t?r.setGeometry((0,u.fromExtent)(t)):r.setGeometry(void 0):(r=t?new e.default((0,u.fromExtent)(t)):new e.default({}),this.extentFeature_=r,this.extentOverlay_.getSource().addFeature(r)),r},i.prototype.createOrUpdatePointerFeature_=function(t){var r=this.vertexFeature_;r?r.getGeometry().setCoordinates(t):(r=new e.default(new a.default(t)),this.vertexFeature_=r,this.vertexOverlay_.getSource().addFeature(r));return r},i.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=t.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),n.prototype.handleEvent.call(this,e),!1)},i.prototype.handleDownEvent=function(e){var t=e.pixel,r=e.map,n=this.getExtent(),o=this.snapToVertex_(t,r),i=function(e){var t=null,r=null;return e[0]==n[0]?t=n[2]:e[0]==n[2]&&(t=n[0]),e[1]==n[1]?r=n[3]:e[1]==n[3]&&(r=n[1]),null!==t&&null!==r?[t,r]:null};if(o&&n){var a=o[0]==n[0]||o[0]==n[2]?o[0]:null,u=o[1]==n[1]||o[1]==n[3]?o[1]:null;null!==a&&null!==u?this.pointerHandler_=y(i(o)):null!==a?this.pointerHandler_=E(i([a,n[1]]),i([a,n[3]])):null!==u&&(this.pointerHandler_=E(i([n[0],u]),i([n[2],u])))}else o=r.getCoordinateFromPixel(t),this.setExtent([o[0],o[1],o[0],o[1]]),this.pointerHandler_=y(o);return!0},i.prototype.handleDragEvent=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}return!0},i.prototype.handleUpEvent=function(e){this.pointerHandler_=null;var t=this.getExtent();return t&&0!==(0,o.getArea)(t)||this.setExtent(null),!1},i.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),n.prototype.setMap.call(this,e)},i.prototype.getExtent=function(){return this.extent_},i.prototype.setExtent=function(e){this.extent_=e||null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new x(this.extent_))},i}(l.default);function f(){var e=(0,d.createEditingStyle)();return function(t,r){return e[i.default.POLYGON]}}function v(){var e=(0,d.createEditingStyle)();return function(t,r){return e[i.default.POINT]}}function y(e){return function(t){return(0,o.boundingExtent)([e,t])}}function E(e,t){return e[0]==t[0]?function(r){return(0,o.boundingExtent)([e,[r[0],t[1]]])}:e[1]==t[1]?function(r){return(0,o.boundingExtent)([e,[t[0],r[1]]])}:null}function g(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]}var m=_;exports.default=m;
},{"../Feature.js":"mYW9","../MapBrowserEventType.js":"YhDM","../coordinate.js":"nGsj","../events/Event.js":"fKNg","../extent.js":"QDir","../geom/GeometryType.js":"lmV0","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","./Pointer.js":"dnA2","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../style/Style.js":"he4w"}],"qrxo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ModifyEvent=void 0;var e=require("../util.js"),t=x(require("../Collection.js")),r=x(require("../CollectionEventType.js")),i=x(require("../Feature.js")),n=x(require("../MapBrowserEventType.js")),o=require("../array.js"),s=require("../coordinate.js"),a=require("../events.js"),u=x(require("../events/Event.js")),h=x(require("../events/EventType.js")),d=require("../events/condition.js"),l=require("../extent.js"),g=x(require("../geom/GeometryType.js")),_=x(require("../geom/Point.js")),p=x(require("./Pointer.js")),f=x(require("../layer/Vector.js")),c=x(require("../source/Vector.js")),m=x(require("../source/VectorEventType.js")),v=x(require("../structs/RBush.js")),y=require("../style/Style.js");function x(e){return e&&e.__esModule?e:{default:e}}var E=0,C=1,S={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},F=function(e){function t(t,r,i){e.call(this,t),this.features=r,this.mapBrowserEvent=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(u.default);exports.ModifyEvent=F;var T=function(u){function p(e){var i;if(u.call(this,e),this.condition_=e.condition?e.condition:d.primaryAction,this.defaultDeleteCondition_=function(e){return(0,d.altKeyOnly)(e)&&(0,d.singleClick)(e)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:d.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new v.default,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new f.default({source:new c.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:M(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,i=new t.default(this.source_.getFeatures()),(0,a.listen)(this.source_,m.default.ADDFEATURE,this.handleSourceAdd_,this),(0,a.listen)(this.source_,m.default.REMOVEFEATURE,this.handleSourceRemove_,this)):i=e.features,!i)throw new Error("The modify interaction requires features or a source");this.features_=i,this.features_.forEach(this.addFeature_.bind(this)),(0,a.listen)(this.features_,r.default.ADD,this.handleFeatureAdd_,this),(0,a.listen)(this.features_,r.default.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return u&&(p.__proto__=u),p.prototype=Object.create(u&&u.prototype),p.prototype.constructor=p,p.prototype.addFeature_=function(e){var t=e.getGeometry();t&&t.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[t.getType()].call(this,e,t);var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),(0,a.listen)(e,h.default.CHANGE,this.handleFeatureChange_,this)},p.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new F(S.MODIFYSTART,this.features_,e)))},p.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),(0,a.unlisten)(e,h.default.CHANGE,this.handleFeatureChange_,this)},p.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,r=[];t.forEach(function(t){e===t.feature&&r.push(t)});for(var i=r.length-1;i>=0;--i)t.remove(r[i])},p.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),u.prototype.setActive.call(this,e)},p.prototype.setMap=function(e){this.overlay_.setMap(e),u.prototype.setMap.call(this,e)},p.prototype.getOverlay=function(){return this.overlay_},p.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},p.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},p.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},p.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},p.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},p.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),i={feature:e,geometry:t,segment:[r,r]};this.rBush_.insert(t.getExtent(),i)},p.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],s={feature:e,geometry:t,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(t.getExtent(),s)}},p.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),s={feature:e,geometry:t,index:i,segment:o};this.rBush_.insert((0,l.boundingExtent)(o),s)}},p.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length-1;s<a;++s){var u=o.slice(s,s+2),h={feature:e,geometry:t,depth:[i],index:s,segment:u};this.rBush_.insert((0,l.boundingExtent)(u),h)}},p.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length-1;s<a;++s){var u=o.slice(s,s+2),h={feature:e,geometry:t,depth:[i],index:s,segment:u};this.rBush_.insert((0,l.boundingExtent)(u),h)}},p.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length;s<a;++s)for(var u=o[s],h=0,d=u.length-1;h<d;++h){var g=u.slice(h,h+2),_={feature:e,geometry:t,depth:[s,i],index:h,segment:g};this.rBush_.insert((0,l.boundingExtent)(g),_)}},p.prototype.writeCircleGeometry_=function(e,t){var r=t.getCenter(),i={feature:e,geometry:t,index:E,segment:[r,r]},n={feature:e,geometry:t,index:C,segment:[r,r]},o=[i,n];i.featureSegments=n.featureSegments=o,this.rBush_.insert((0,l.createOrUpdateFromCoordinate)(r),i),this.rBush_.insert(t.getExtent(),n)},p.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),i=0;i<r.length;++i)this.SEGMENT_WRITERS_[r[i].getType()].call(this,e,r[i])},p.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;t?t.getGeometry().setCoordinates(e):(t=new i.default(new _.default(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t));return t},p.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=n.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(t=!(e.type!=n.default.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==n.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),u.prototype.handleEvent.call(this,e)&&!t);var t},p.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,r=0,i=this.dragSegments_.length;r<i;++r){for(var n=this.dragSegments_[r],o=n[0],a=o.depth,u=o.geometry,h=void 0,d=o.segment,l=n[1];t.length<u.getStride();)t.push(d[l][t.length]);switch(u.getType()){case g.default.POINT:h=t,d[0]=d[1]=t;break;case g.default.MULTI_POINT:(h=u.getCoordinates())[o.index]=t,d[0]=d[1]=t;break;case g.default.LINE_STRING:(h=u.getCoordinates())[o.index+l]=t,d[l]=t;break;case g.default.MULTI_LINE_STRING:case g.default.POLYGON:(h=u.getCoordinates())[a[0]][o.index+l]=t,d[l]=t;break;case g.default.MULTI_POLYGON:(h=u.getCoordinates())[a[1]][a[0]][o.index+l]=t,d[l]=t;break;case g.default.CIRCLE:d[0]=d[1]=t,o.index===E?(this.changingFeature_=!0,u.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,u.setRadius((0,s.distance)(u.getCenter(),t)),this.changingFeature_=!1)}h&&this.setGeometryCoordinates_(u,h)}this.createOrUpdateVertexFeature_(t)},p.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var r=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var i=this.vertexFeature_;if(i){var n=[],o=i.getGeometry().getCoordinates(),a=(0,l.boundingExtent)([o]),u=this.rBush_.getInExtent(a),h={};u.sort(I);for(var d=0,_=u.length;d<_;++d){var p=u[d],f=p.segment,c=(0,e.getUid)(p.feature),m=p.depth;if(m&&(c+="-"+m.join("-")),h[c]||(h[c]=new Array(2)),p.geometry.getType()===g.default.CIRCLE&&p.index===C){var v=P(r,p);(0,s.equals)(v,o)&&!h[c][0]&&(this.dragSegments_.push([p,0]),h[c][0]=p)}else if((0,s.equals)(f[0],o)&&!h[c][0])this.dragSegments_.push([p,0]),h[c][0]=p;else if((0,s.equals)(f[1],o)&&!h[c][1]){if((p.geometry.getType()===g.default.LINE_STRING||p.geometry.getType()===g.default.MULTI_LINE_STRING)&&h[c][0]&&0===h[c][0].index)continue;this.dragSegments_.push([p,1]),h[c][1]=p}else this.insertVertexCondition_(t)&&(0,e.getUid)(f)in this.vertexSegments_&&!h[c][0]&&!h[c][1]&&n.push([p,o])}n.length&&this.willModifyFeatures_(t);for(var y=n.length-1;y>=0;--y)this.insertVertex_.apply(this,n[y])}return!!this.vertexFeature_},p.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var r=this.dragSegments_[t][0],i=r.geometry;if(i.getType()===g.default.CIRCLE){var n=i.getCenter(),o=r.featureSegments[0],s=r.featureSegments[1];o.segment[0]=o.segment[1]=n,s.segment[0]=s.segment[1]=n,this.rBush_.update((0,l.createOrUpdateFromCoordinate)(n),o),this.rBush_.update(i.getExtent(),s)}else this.rBush_.update((0,l.boundingExtent)(r.segment),r)}return this.modified_&&(this.dispatchEvent(new F(S.MODIFYEND,this.features_,e)),this.modified_=!1),!1},p.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},p.prototype.handlePointerAtPixel_=function(t,r){var i=r.getCoordinateFromPixel(t),n=(0,l.buffer)((0,l.createOrUpdateFromCoordinate)(i),r.getView().getResolution()*this.pixelTolerance_),o=this.rBush_.getInExtent(n);if(o.length>0){o.sort(function(e,t){return G(i,e)-G(i,t)});var a=o[0],u=a.segment,h=P(i,a),d=r.getPixelFromCoordinate(h),_=(0,s.distance)(t,d);if(_<=this.pixelTolerance_){var p={};if(a.geometry.getType()===g.default.CIRCLE&&a.index===C)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h);else{var f=r.getPixelFromCoordinate(u[0]),c=r.getPixelFromCoordinate(u[1]),m=(0,s.squaredDistance)(d,f),v=(0,s.squaredDistance)(d,c);_=Math.sqrt(Math.min(m,v)),this.snappedToVertex_=_<=this.pixelTolerance_,this.snappedToVertex_&&(h=m>v?u[1]:u[0]),this.createOrUpdateVertexFeature_(h);for(var y=1,x=o.length;y<x;++y){var E=o[y].segment;if(!((0,s.equals)(u[0],E[0])&&(0,s.equals)(u[1],E[1])||(0,s.equals)(u[0],E[1])&&(0,s.equals)(u[1],E[0])))break;p[(0,e.getUid)(E)]=!0}}return p[(0,e.getUid)(u)]=!0,void(this.vertexSegments_=p)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},p.prototype.insertVertex_=function(e,t){for(var r,i=e.segment,n=e.feature,o=e.geometry,s=e.depth,a=e.index;t.length<o.getStride();)t.push(0);switch(o.getType()){case g.default.MULTI_LINE_STRING:case g.default.POLYGON:(r=o.getCoordinates())[s[0]].splice(a+1,0,t);break;case g.default.MULTI_POLYGON:(r=o.getCoordinates())[s[1]][s[0]].splice(a+1,0,t);break;case g.default.LINE_STRING:(r=o.getCoordinates()).splice(a+1,0,t);break;default:return}this.setGeometryCoordinates_(o,r);var u=this.rBush_;u.remove(e),this.updateSegmentIndices_(o,a,s,1);var h={segment:[i[0],t],feature:n,geometry:o,depth:s,index:a};u.insert((0,l.boundingExtent)(h.segment),h),this.dragSegments_.push([h,1]);var d={segment:[t,i[1]],feature:n,geometry:o,depth:s,index:a+1};u.insert((0,l.boundingExtent)(d.segment),d),this.dragSegments_.push([d,0]),this.ignoreNextSingleClick_=!0},p.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=n.default.POINTERDRAG){var e=this.lastPointerEvent_;return this.willModifyFeatures_(e),this.removeVertex_(),this.dispatchEvent(new F(S.MODIFYEND,this.features_,e)),this.modified_=!1,!0}return!1},p.prototype.removeVertex_=function(){var t,r,i,n,o,s,a,u,h,d,_,p=this.dragSegments_,f={},c=!1;for(o=p.length-1;o>=0;--o)d=(i=p[o])[0],_=(0,e.getUid)(d.feature),d.depth&&(_+="-"+d.depth.join("-")),_ in f||(f[_]={}),0===i[1]?(f[_].right=d,f[_].index=d.index):1==i[1]&&(f[_].left=d,f[_].index=d.index+1);for(_ in f){switch(h=f[_].right,a=f[_].left,(u=(s=f[_].index)-1)<0&&(u=0),t=r=(n=(d=void 0!==a?a:h).geometry).getCoordinates(),c=!1,n.getType()){case g.default.MULTI_LINE_STRING:r[d.depth[0]].length>2&&(r[d.depth[0]].splice(s,1),c=!0);break;case g.default.LINE_STRING:r.length>2&&(r.splice(s,1),c=!0);break;case g.default.MULTI_POLYGON:t=t[d.depth[1]];case g.default.POLYGON:(t=t[d.depth[0]]).length>4&&(s==t.length-1&&(s=0),t.splice(s,1),c=!0,0===s&&(t.pop(),t.push(t[0]),u=t.length-1))}if(c){this.setGeometryCoordinates_(n,r);var m=[];if(void 0!==a&&(this.rBush_.remove(a),m.push(a.segment[0])),void 0!==h&&(this.rBush_.remove(h),m.push(h.segment[1])),void 0!==a&&void 0!==h){var v={depth:d.depth,feature:d.feature,geometry:d.geometry,index:u,segment:m};this.rBush_.insert((0,l.boundingExtent)(v.segment),v)}this.updateSegmentIndices_(n,s,d.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),p.length=0}}return c},p.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},p.prototype.updateSegmentIndices_=function(e,t,r,i){this.rBush_.forEachInExtent(e.getExtent(),function(n){n.geometry===e&&(void 0===r||void 0===n.depth||(0,o.equals)(n.depth,r))&&n.index>t&&(n.index+=i)})},p}(p.default);function I(e,t){return e.index-t.index}function G(e,t){var r=t.geometry;if(r.getType()===g.default.CIRCLE){var i=r;if(t.index===C){var n=(0,s.squaredDistance)(i.getCenter(),e),o=Math.sqrt(n)-i.getRadius();return o*o}}return(0,s.squaredDistanceToSegment)(e,t.segment)}function P(e,t){var r=t.geometry;return r.getType()===g.default.CIRCLE&&t.index===C?r.getClosestPoint(e):(0,s.closestOnSegment)(e,t.segment)}function M(){var e=(0,y.createEditingStyle)();return function(t,r){return e[g.default.POINT]}}var w=T;exports.default=w;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../Feature.js":"mYW9","../MapBrowserEventType.js":"YhDM","../array.js":"luEr","../coordinate.js":"nGsj","../events.js":"UqnM","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../events/condition.js":"YcID","../extent.js":"QDir","../geom/GeometryType.js":"lmV0","../geom/Point.js":"gLcY","./Pointer.js":"dnA2","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../source/VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH","../style/Style.js":"he4w"}],"SMGe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=p(require("../CollectionEventType.js")),r=require("../array.js"),i=require("../events.js"),o=p(require("../events/Event.js")),n=require("../events/condition.js"),a=require("../functions.js"),s=p(require("../geom/GeometryType.js")),u=p(require("./Interaction.js")),l=p(require("../layer/Vector.js")),c=require("../obj.js"),h=p(require("../source/Vector.js")),d=require("../style/Style.js");function p(e){return e&&e.__esModule?e:{default:e}}var f={SELECT:"select"},y=function(e){function t(t,r,i,o){e.call(this,t),this.selected=r,this.deselected=i,this.mapBrowserEvent=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(o.default),_=function(o){function s(e){o.call(this,{handleEvent:v});var s=e||{};this.condition_=s.condition?s.condition:n.singleClick,this.addCondition_=s.addCondition?s.addCondition:n.never,this.removeCondition_=s.removeCondition?s.removeCondition:n.never,this.toggleCondition_=s.toggleCondition?s.toggleCondition:n.shiftKeyOnly,this.multi_=!!s.multi&&s.multi,this.filter_=s.filter?s.filter:a.TRUE,this.hitTolerance_=s.hitTolerance?s.hitTolerance:0;var u,c=new l.default({source:new h.default({useSpatialIndex:!1,features:s.features,wrapX:s.wrapX}),style:s.style?s.style:g(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=c,s.layers)if("function"==typeof s.layers)u=s.layers;else{var d=s.layers;u=function(e){return(0,r.includes)(d,e)}}else u=a.TRUE;this.layerFilter_=u,this.featureLayerAssociation_={};var p=this.getFeatures();(0,i.listen)(p,t.default.ADD,this.addFeature_,this),(0,i.listen)(p,t.default.REMOVE,this.removeFeature_,this)}return o&&(s.__proto__=o),s.prototype=Object.create(o&&o.prototype),s.prototype.constructor=s,s.prototype.addFeatureLayerAssociation_=function(t,r){this.featureLayerAssociation_[(0,e.getUid)(t)]=r},s.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},s.prototype.getHitTolerance=function(){return this.hitTolerance_},s.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,e.getUid)(t)]},s.prototype.getOverlay=function(){return this.featureOverlay_},s.prototype.setHitTolerance=function(e){this.hitTolerance_=e},s.prototype.setMap=function(e){var t=this.getMap(),r=this.getFeatures();t&&r.forEach(t.unskipFeature.bind(t)),o.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&r.forEach(e.skipFeature.bind(e))},s.prototype.addFeature_=function(e){var t=this.getMap();t&&t.skipFeature(e.element)},s.prototype.removeFeature_=function(e){var t=this.getMap();t&&t.unskipFeature(e.element)},s.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,e.getUid)(t)]},s}(u.default);function v(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),i=this.removeCondition_(e),o=this.toggleCondition_(e),a=!t&&!i&&!o,s=e.map,u=this.getFeatures(),l=[],h=[];if(a){(0,c.clear)(this.featureLayerAssociation_),s.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return h.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=u.getLength()-1;d>=0;--d){var p=u.item(d),_=h.indexOf(p);_>-1?h.splice(_,1):(u.remove(p),l.push(p))}0!==h.length&&u.extend(h)}else{s.forEachFeatureAtPixel(e.pixel,function(e,n){if(this.filter_(e,n))return!t&&!o||(0,r.includes)(u.getArray(),e)?(i||o)&&(0,r.includes)(u.getArray(),e)&&(l.push(e),this.removeFeatureLayerAssociation_(e)):(h.push(e),this.addFeatureLayerAssociation_(e,n)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var v=l.length-1;v>=0;--v)u.remove(l[v]);u.extend(h)}return(h.length>0||l.length>0)&&this.dispatchEvent(new y(f.SELECT,h,l,e)),(0,n.pointerMove)(e)}function g(){var e=(0,d.createEditingStyle)();return(0,r.extend)(e[s.default.POLYGON],e[s.default.LINE_STRING]),(0,r.extend)(e[s.default.GEOMETRY_COLLECTION],e[s.default.LINE_STRING]),function(t,r){return t.getGeometry()?e[t.getGeometry().getType()]:null}}var m=_;exports.default=m;
},{"../util.js":"KniQ","../CollectionEventType.js":"BTrx","../array.js":"luEr","../events.js":"UqnM","../events/Event.js":"fKNg","../events/condition.js":"YcID","../functions.js":"RgA2","../geom/GeometryType.js":"lmV0","./Interaction.js":"jB2p","../layer/Vector.js":"dflx","../obj.js":"mH6q","../source/Vector.js":"ZS12","../style/Style.js":"he4w"}],"NnGW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=p(require("../CollectionEventType.js")),r=require("../coordinate.js"),i=require("../events.js"),n=p(require("../events/EventType.js")),o=require("../extent.js"),s=require("../functions.js"),a=p(require("../geom/GeometryType.js")),u=require("../geom/Polygon.js"),h=p(require("./Pointer.js")),l=require("../obj.js"),d=p(require("../source/VectorEventType.js")),g=p(require("../structs/RBush.js"));function p(e){return e&&e.__esModule?e:{default:e}}function _(e){return e.feature?e.feature:e.element?e.element:void 0}var c=function(h){function p(e){var t=e||{},r=t;r.handleDownEvent||(r.handleDownEvent=s.TRUE),r.stopDown||(r.stopDown=s.FALSE),h.call(this,r),this.source_=t.source?t.source:null,this.vertex_=void 0===t.vertex||t.vertex,this.edge_=void 0===t.edge||t.edge,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.sortByDistance_=f.bind(this),this.rBush_=new g.default,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return h&&(p.__proto__=h),p.prototype=Object.create(h&&h.prototype),p.prototype.constructor=p,p.prototype.addFeature=function(t,r){var s=void 0===r||r,a=(0,e.getUid)(t),u=t.getGeometry();if(u){var h=this.SEGMENT_WRITERS_[u.getType()];h&&(this.indexedFeaturesExtents_[a]=u.getExtent((0,o.createEmpty)()),h.call(this,t,u))}s&&(this.featureChangeListenerKeys_[a]=(0,i.listen)(t,n.default.CHANGE,this.handleFeatureChange_,this))},p.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},p.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},p.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},p.prototype.handleEvent=function(e){var t=this.snapTo(e.pixel,e.coordinate,e.map);return t.snapped&&(e.coordinate=t.vertex.slice(0,2),e.pixel=t.vertexPixel),h.prototype.handleEvent.call(this,e)},p.prototype.handleFeatureAdd_=function(e){var t=_(e);this.addFeature(t)},p.prototype.handleFeatureRemove_=function(e){var t=_(e);this.removeFeature(t)},p.prototype.handleFeatureChange_=function(t){var r=t.target;if(this.handlingDownUpSequence){var i=(0,e.getUid)(r);i in this.pendingFeatures_||(this.pendingFeatures_[i]=r)}else this.updateFeature_(r)},p.prototype.handleUpEvent=function(e){var t=(0,l.getValues)(this.pendingFeatures_);return t.length&&(t.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},p.prototype.removeFeature=function(t,r){var n=void 0===r||r,o=(0,e.getUid)(t),s=this.indexedFeaturesExtents_[o];if(s){var a=this.rBush_,u=[];a.forEachInExtent(s,function(e){t===e.feature&&u.push(e)});for(var h=u.length-1;h>=0;--h)a.remove(u[h])}n&&((0,i.unlistenByKey)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},p.prototype.setMap=function(e){var r=this.getMap(),n=this.featuresListenerKeys_,o=this.getFeatures_();r&&(n.forEach(i.unlistenByKey),n.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),h.prototype.setMap.call(this,e),e&&(this.features_?n.push((0,i.listen)(this.features_,t.default.ADD,this.handleFeatureAdd_,this),(0,i.listen)(this.features_,t.default.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push((0,i.listen)(this.source_,d.default.ADDFEATURE,this.handleFeatureAdd_,this),(0,i.listen)(this.source_,d.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},p.prototype.snapTo=function(e,t,i){var n=i.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),s=i.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),u=(0,o.boundingExtent)([n,s]),h=this.rBush_.getInExtent(u);this.vertex_&&!this.edge_&&(h=h.filter(function(e){return e.feature.getGeometry().getType()!==a.default.CIRCLE}));var l,d,g,p,_=!1,c=null,f=null;if(h.length>0){this.pixelCoordinate_=t,h.sort(this.sortByDistance_);var y=h[0].segment,v=h[0].feature.getGeometry().getType()===a.default.CIRCLE;this.vertex_&&!this.edge_?(l=i.getPixelFromCoordinate(y[0]),d=i.getPixelFromCoordinate(y[1]),g=(0,r.squaredDistance)(e,l),p=(0,r.squaredDistance)(e,d),Math.sqrt(Math.min(g,p))<=this.pixelTolerance_&&(_=!0,c=g>p?y[1]:y[0],f=i.getPixelFromCoordinate(c))):this.edge_&&(c=v?(0,r.closestOnCircle)(t,h[0].feature.getGeometry()):(0,r.closestOnSegment)(t,y),f=i.getPixelFromCoordinate(c),(0,r.distance)(e,f)<=this.pixelTolerance_&&(_=!0,this.vertex_&&!v&&(l=i.getPixelFromCoordinate(y[0]),d=i.getPixelFromCoordinate(y[1]),g=(0,r.squaredDistance)(f,l),p=(0,r.squaredDistance)(f,d),Math.sqrt(Math.min(g,p))<=this.pixelTolerance_&&(c=g>p?y[1]:y[0],f=i.getPixelFromCoordinate(c))))),_&&(f=[Math.round(f[0]),Math.round(f[1])])}return{snapped:_,vertex:c,vertexPixel:f}},p.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},p.prototype.writeCircleGeometry_=function(e,t){for(var r=(0,u.fromCircle)(t).getCoordinates()[0],i=0,n=r.length-1;i<n;++i){var s=r.slice(i,i+2),a={feature:e,segment:s};this.rBush_.insert((0,o.boundingExtent)(s),a)}},p.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),i=0;i<r.length;++i){var n=this.SEGMENT_WRITERS_[r[i].getType()];n&&n.call(this,e,r[i])}},p.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length-1;i<n;++i){var s=r.slice(i,i+2),a={feature:e,segment:s};this.rBush_.insert((0,o.boundingExtent)(s),a)}},p.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var s=r[i],a=0,u=s.length-1;a<u;++a){var h=s.slice(a,a+2),l={feature:e,segment:h};this.rBush_.insert((0,o.boundingExtent)(h),l)}},p.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],s={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),s)}},p.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var s=r[i],a=0,u=s.length;a<u;++a)for(var h=s[a],l=0,d=h.length-1;l<d;++l){var g=h.slice(l,l+2),p={feature:e,segment:g};this.rBush_.insert((0,o.boundingExtent)(g),p)}},p.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),i={feature:e,segment:[r,r]};this.rBush_.insert(t.getExtent(),i)},p.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var s=r[i],a=0,u=s.length-1;a<u;++a){var h=s.slice(a,a+2),l={feature:e,segment:h};this.rBush_.insert((0,o.boundingExtent)(h),l)}},p}(h.default);function f(e,t){return(0,r.squaredDistanceToSegment)(this.pixelCoordinate_,e.segment)-(0,r.squaredDistanceToSegment)(this.pixelCoordinate_,t.segment)}var y=c;exports.default=y;
},{"../util.js":"KniQ","../CollectionEventType.js":"BTrx","../coordinate.js":"nGsj","../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir","../functions.js":"RgA2","../geom/GeometryType.js":"lmV0","../geom/Polygon.js":"Nwwk","./Pointer.js":"dnA2","../obj.js":"mH6q","../source/VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH"}],"dAAZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TranslateEvent=void 0;var t=l(require("../Collection.js")),e=require("../Object.js"),r=require("../events.js"),a=l(require("../events/Event.js")),i=require("../functions.js"),o=require("../array.js"),s=l(require("./Pointer.js")),n=l(require("./Property.js"));function l(t){return t&&t.__esModule?t:{default:t}}var u={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},h=function(t){function e(e,r,a){t.call(this,e),this.features=r,this.coordinate=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default);exports.TranslateEvent=h;var c=function(a){function s(t){var s,l=t||{};if(a.call(this,l),this.lastCoordinate_=null,this.features_=void 0!==l.features?l.features:null,l.layers)if("function"==typeof l.layers)s=l.layers;else{var u=l.layers;s=function(t){return(0,o.includes)(u,t)}}else s=i.TRUE;this.layerFilter_=s,this.hitTolerance_=l.hitTolerance?l.hitTolerance:0,this.lastFeature_=null,(0,r.listen)(this,(0,e.getChangeEventType)(n.default.ACTIVE),this.handleActiveChanged_,this)}return a&&(s.__proto__=a),s.prototype=Object.create(a&&a.prototype),s.prototype.constructor=s,s.prototype.handleDownEvent=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);var r=this.features_||new t.default([this.lastFeature_]);return this.dispatchEvent(new h(u.TRANSLATESTART,r,e.coordinate)),!0}return!1},s.prototype.handleUpEvent=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);var r=this.features_||new t.default([this.lastFeature_]);return this.dispatchEvent(new h(u.TRANSLATEEND,r,e.coordinate)),!0}return!1},s.prototype.handleDragEvent=function(e){if(this.lastCoordinate_){var r=e.coordinate,a=r[0]-this.lastCoordinate_[0],i=r[1]-this.lastCoordinate_[1],o=this.features_||new t.default([this.lastFeature_]);o.forEach(function(t){var e=t.getGeometry();e.translate(a,i),t.setGeometry(e)}),this.lastCoordinate_=r,this.dispatchEvent(new h(u.TRANSLATING,o,r))}},s.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},s.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||(0,o.includes)(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},s.prototype.getHitTolerance=function(){return this.hitTolerance_},s.prototype.setHitTolerance=function(t){this.hitTolerance_=t},s.prototype.setMap=function(t){var e=this.getMap();a.prototype.setMap.call(this,t),this.updateState_(e)},s.prototype.handleActiveChanged_=function(){this.updateState_(null)},s.prototype.updateState_=function(t){var e=this.getMap(),r=this.getActive();e&&r||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},s}(s.default),p=c;exports.default=p;
},{"../Collection.js":"FnDa","../Object.js":"PhPh","../events.js":"UqnM","../events/Event.js":"fKNg","../functions.js":"RgA2","../array.js":"luEr","./Pointer.js":"dnA2","./Property.js":"caOi"}],"aMDX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaults=O,Object.defineProperty(exports,"DoubleClickZoom",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"DragPan",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"DragRotate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"DragZoom",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"KeyboardPan",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"KeyboardZoom",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"MouseWheelZoom",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"PinchRotate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"PinchZoom",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"DragAndDrop",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"DragBox",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"DragRotateAndZoom",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"Draw",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"Extent",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"Interaction",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"Modify",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"Pointer",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"Select",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(exports,"Snap",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"Translate",{enumerable:!0,get:function(){return h.default}});var e=q(require("./Collection.js")),t=q(require("./Kinetic.js")),r=q(require("./interaction/DoubleClickZoom.js")),n=q(require("./interaction/DragPan.js")),o=q(require("./interaction/DragRotate.js")),i=q(require("./interaction/DragZoom.js")),u=q(require("./interaction/KeyboardPan.js")),a=q(require("./interaction/KeyboardZoom.js")),c=q(require("./interaction/MouseWheelZoom.js")),d=q(require("./interaction/PinchRotate.js")),l=q(require("./interaction/PinchZoom.js")),f=require("./events/condition.js"),s=q(require("./interaction/DragAndDrop.js")),p=q(require("./interaction/DragBox.js")),b=q(require("./interaction/DragRotateAndZoom.js")),m=q(require("./interaction/Draw.js")),j=q(require("./interaction/Extent.js")),g=q(require("./interaction/Interaction.js")),P=q(require("./interaction/Modify.js")),y=q(require("./interaction/Pointer.js")),D=q(require("./interaction/Select.js")),x=q(require("./interaction/Snap.js")),h=q(require("./interaction/Translate.js"));function q(e){return e&&e.__esModule?e:{default:e}}function O(s){var p=s||{},b=new e.default,m=new t.default(-.005,.05,100);return(void 0===p.altShiftDragRotate||p.altShiftDragRotate)&&b.push(new o.default),(void 0===p.doubleClickZoom||p.doubleClickZoom)&&b.push(new r.default({delta:p.zoomDelta,duration:p.zoomDuration})),(void 0===p.dragPan||p.dragPan)&&b.push(new n.default({condition:p.onFocusOnly?f.focus:void 0,kinetic:m})),(void 0===p.pinchRotate||p.pinchRotate)&&b.push(new d.default),(void 0===p.pinchZoom||p.pinchZoom)&&b.push(new l.default({constrainResolution:p.constrainResolution,duration:p.zoomDuration})),(void 0===p.keyboard||p.keyboard)&&(b.push(new u.default),b.push(new a.default({delta:p.zoomDelta,duration:p.zoomDuration}))),(void 0===p.mouseWheelZoom||p.mouseWheelZoom)&&b.push(new c.default({condition:p.onFocusOnly?f.focus:void 0,constrainResolution:p.constrainResolution,duration:p.zoomDuration})),(void 0===p.shiftDragZoom||p.shiftDragZoom)&&b.push(new i.default({duration:p.zoomDuration})),b}
},{"./Collection.js":"FnDa","./Kinetic.js":"gAnK","./interaction/DoubleClickZoom.js":"NSa4","./interaction/DragPan.js":"N4gU","./interaction/DragRotate.js":"PgBj","./interaction/DragZoom.js":"pTqW","./interaction/KeyboardPan.js":"CFRo","./interaction/KeyboardZoom.js":"S8wR","./interaction/MouseWheelZoom.js":"kPt6","./interaction/PinchRotate.js":"hbGN","./interaction/PinchZoom.js":"rcXm","./events/condition.js":"YcID","./interaction/DragAndDrop.js":"IYO6","./interaction/DragBox.js":"AQRw","./interaction/DragRotateAndZoom.js":"ITeC","./interaction/Draw.js":"e7i2","./interaction/Extent.js":"o7b8","./interaction/Interaction.js":"jB2p","./interaction/Modify.js":"qrxo","./interaction/Pointer.js":"dnA2","./interaction/Select.js":"SMGe","./interaction/Snap.js":"NnGW","./interaction/Translate.js":"dAAZ"}],"fF5X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ENABLE_RASTER_REPROJECTION=exports.ERROR_THRESHOLD=void 0;var R=.5;exports.ERROR_THRESHOLD=R;var E=!0;exports.ENABLE_RASTER_REPROJECTION=E;
},{}],"EB6P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e,o,r,n,s){t.call(this,e),this.vectorContext=o,this.frameState=r,this.context=n,this.glContext=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),r=o;exports.default=r;
},{"../events/Event.js":"fKNg"}],"LQER":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){};t.prototype.drawCustom=function(t,o,e){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,o){},t.prototype.drawFeature=function(t,o){},t.prototype.drawGeometryCollection=function(t,o){},t.prototype.drawLineString=function(t,o){},t.prototype.drawMultiLineString=function(t,o){},t.prototype.drawMultiPoint=function(t,o){},t.prototype.drawMultiPolygon=function(t,o){},t.prototype.drawPoint=function(t,o){},t.prototype.drawPolygon=function(t,o){},t.prototype.drawText=function(t,o){},t.prototype.setFillStrokeStyle=function(t,o){},t.prototype.setImageStyle=function(t,o){},t.prototype.setTextStyle=function(t,o){};var o=t;exports.default=o;
},{}],"fo6K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../array.js"),e=require("../../colorlike.js"),i=require("../../extent.js"),s=_(require("../../geom/GeometryType.js")),a=require("../../geom/SimpleGeometry.js"),o=require("../../geom/flat/transform.js"),l=require("../../has.js"),n=_(require("../VectorContext.js")),r=require("../canvas.js"),h=require("../../transform.js");function _(t){return t&&t.__esModule?t:{default:t}}var f=function(n){function _(t,e,i,s,a){n.call(this),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=s,this.viewRotation_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,h.create)()}return n&&(_.__proto__=n),_.prototype=Object.create(n&&n.prototype),_.prototype.constructor=_,_.prototype.drawImages_=function(t,e,i,s){if(this.image_){var a=(0,o.transform2D)(t,e,i,2,this.transform_,this.pixelCoordinates_),l=this.context_,n=this.tmpLocalTransform_,r=l.globalAlpha;1!=this.imageOpacity_&&(l.globalAlpha=r*this.imageOpacity_);var _=this.imageRotation_;this.imageRotateWithView_&&(_+=this.viewRotation_);for(var f=0,g=a.length;f<g;f+=2){var S=a[f]-this.imageAnchorX_,x=a[f+1]-this.imageAnchorY_;if(0!==_||1!=this.imageScale_){var d=S+this.imageAnchorX_,m=x+this.imageAnchorY_;(0,h.compose)(n,d,m,this.imageScale_,this.imageScale_,_,-d,-m),l.setTransform.apply(l,n)}l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,S,x,this.imageWidth_,this.imageHeight_)}0===_&&1==this.imageScale_||l.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(l.globalAlpha=r)}},_.prototype.drawText_=function(t,e,i,s){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=(0,o.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_),l=this.context_,n=this.textRotation_;for(this.textRotateWithView_&&(n+=this.viewRotation_);e<i;e+=s){var r=a[e]+this.textOffsetX_,_=a[e+1]+this.textOffsetY_;if(0!==n||1!=this.textScale_){var f=(0,h.compose)(this.tmpLocalTransform_,r,_,this.textScale_,this.textScale_,n,-r,-_);l.setTransform.apply(l,f)}this.textStrokeState_&&l.strokeText(this.text_,r,_),this.textFillState_&&l.fillText(this.text_,r,_)}0===n&&1==this.textScale_||l.setTransform(1,0,0,1,0,0)}},_.prototype.moveToLineTo_=function(t,e,i,s,a){var l=this.context_,n=(0,o.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_);l.moveTo(n[0],n[1]);var r=n.length;a&&(r-=2);for(var h=2;h<r;h+=2)l.lineTo(n[h],n[h+1]);return a&&l.closePath(),i},_.prototype.drawRings_=function(t,e,i,s){for(var a=0,o=i.length;a<o;++a)e=this.moveToLineTo_(t,e,i[a],s,!0);return e},_.prototype.drawCircle=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,a.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),s=e[2]-e[0],o=e[3]-e[1],l=Math.sqrt(s*s+o*o),n=this.context_;n.beginPath(),n.arc(e[0],e[1],l,0,2*Math.PI),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},_.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},_.prototype.drawGeometry=function(t){switch(t.getType()){case s.default.POINT:this.drawPoint(t);break;case s.default.LINE_STRING:this.drawLineString(t);break;case s.default.POLYGON:this.drawPolygon(t);break;case s.default.MULTI_POINT:this.drawMultiPoint(t);break;case s.default.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.default.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.default.CIRCLE:this.drawCircle(t)}},_.prototype.drawFeature=function(t,e){var s=e.getGeometryFunction()(t);s&&(0,i.intersects)(this.extent_,s.getExtent())&&(this.setStyle(e),this.drawGeometry(s))},_.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,s=e.length;i<s;++i)this.drawGeometry(e[i])},_.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},_.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},_.prototype.drawLineString=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,s=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var a=t.getFlatMidpoint();this.drawText_(a,0,2,2)}}},_.prototype.drawMultiLineString=function(t){var e=t.getExtent();if((0,i.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var s=this.context_,a=t.getFlatCoordinates(),o=0,l=t.getEnds(),n=t.getStride();s.beginPath();for(var r=0,h=l.length;r<h;++r)o=this.moveToLineTo_(a,o,l[r],n,!1);s.stroke()}if(""!==this.text_){var _=t.getFlatMidpoints();this.drawText_(_,0,_.length,2)}}},_.prototype.drawPolygon=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var s=t.getFlatInteriorPoint();this.drawText_(s,0,2,2)}}},_.prototype.drawMultiPolygon=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,s=t.getOrientedFlatCoordinates(),a=0,o=t.getEndss(),l=t.getStride();e.beginPath();for(var n=0,r=o.length;n<r;++n){var h=o[n];a=this.drawRings_(s,a,h,l)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var _=t.getFlatInteriorPoints();this.drawText_(_,0,_.length,2)}}},_.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},_.prototype.setContextStrokeState_=function(e){var i=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=e.lineCap&&(s.lineCap=i.lineCap=e.lineCap),l.CANVAS_LINE_DASH&&((0,t.equals)(s.lineDash,e.lineDash)||i.setLineDash(s.lineDash=e.lineDash),s.lineDashOffset!=e.lineDashOffset&&(s.lineDashOffset=i.lineDashOffset=e.lineDashOffset)),s.lineJoin!=e.lineJoin&&(s.lineJoin=i.lineJoin=e.lineJoin),s.lineWidth!=e.lineWidth&&(s.lineWidth=i.lineWidth=e.lineWidth),s.miterLimit!=e.miterLimit&&(s.miterLimit=i.miterLimit=e.miterLimit),s.strokeStyle!=e.strokeStyle&&(s.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,l.CANVAS_LINE_DASH&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},_.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,s=t.textAlign?t.textAlign:r.defaultTextAlign;i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=s&&(i.textAlign=e.textAlign=s),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=s,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:s,textBaseline:t.textBaseline})},_.prototype.setFillStrokeStyle=function(t,i){if(t){var s=t.getColor();this.fillState_={fillStyle:(0,e.asColorLike)(s||r.defaultFillStyle)}}else this.fillState_=null;if(i){var a=i.getColor(),o=i.getLineCap(),l=i.getLineDash(),n=i.getLineDashOffset(),h=i.getLineJoin(),_=i.getWidth(),f=i.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:r.defaultLineCap,lineDash:l||r.defaultLineDash,lineDashOffset:n||r.defaultLineDashOffset,lineJoin:void 0!==h?h:r.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==_?_:r.defaultLineWidth),miterLimit:void 0!==f?f:r.defaultMiterLimit,strokeStyle:(0,e.asColorLike)(a||r.defaultStrokeStyle)}}else this.strokeState_=null},_.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),s=t.getOrigin(),a=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=a[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=a[0]}else this.image_=null},_.prototype.setTextStyle=function(t){if(t){var i=t.getFill();if(i){var s=i.getColor();this.textFillState_={fillStyle:(0,e.asColorLike)(s||r.defaultFillStyle)}}else this.textFillState_=null;var a=t.getStroke();if(a){var o=a.getColor(),l=a.getLineCap(),n=a.getLineDash(),h=a.getLineDashOffset(),_=a.getLineJoin(),f=a.getWidth(),g=a.getMiterLimit();this.textStrokeState_={lineCap:void 0!==l?l:r.defaultLineCap,lineDash:n||r.defaultLineDash,lineDashOffset:h||r.defaultLineDashOffset,lineJoin:void 0!==_?_:r.defaultLineJoin,lineWidth:void 0!==f?f:r.defaultLineWidth,miterLimit:void 0!==g?g:r.defaultMiterLimit,strokeStyle:(0,e.asColorLike)(o||r.defaultStrokeStyle)}}else this.textStrokeState_=null;var S=t.getFont(),x=t.getOffsetX(),d=t.getOffsetY(),m=t.getRotateWithView(),c=t.getRotation(),p=t.getScale(),u=t.getText(),y=t.getTextAlign(),k=t.getTextBaseline();this.textState_={font:void 0!==S?S:r.defaultFont,textAlign:void 0!==y?y:r.defaultTextAlign,textBaseline:void 0!==k?k:r.defaultTextBaseline},this.text_=void 0!==u?u:"",this.textOffsetX_=void 0!==x?this.pixelRatio_*x:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==c?c:0,this.textScale_=this.pixelRatio_*(void 0!==p?p:1)}else this.text_=""},_}(n.default),g=f;exports.default=g;
},{"../../array.js":"luEr","../../colorlike.js":"V5XN","../../extent.js":"QDir","../../geom/GeometryType.js":"lmV0","../../geom/SimpleGeometry.js":"pnrv","../../geom/flat/transform.js":"LGwr","../../has.js":"f3Nv","../VectorContext.js":"LQER","../canvas.js":"iAG7","../../transform.js":"P4eA"}],"V0oB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shared=exports.default=void 0;var e=require("../color.js"),t=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function i(t,i,c){return i+":"+t+":"+(c?(0,e.asString)(c):"null")}t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var e=0;for(var t in this.cache_){var i=this.cache_[t];0!=(3&e++)||i.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},t.prototype.get=function(e,t,c){var h=i(e,t,c);return h in this.cache_?this.cache_[h]:null},t.prototype.set=function(e,t,c,h){var r=i(e,t,c);this.cache_[r]=h,++this.cacheSize_},t.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()};var c=t;exports.default=c;var h=new t;exports.shared=h;
},{"../color.js":"eucy"}],"oIh9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortByZIndex=l,exports.default=void 0;var e=require("../util.js"),r=d(require("../Disposable.js")),t=require("../events.js"),n=d(require("../events/EventType.js")),o=require("../extent.js"),s=require("../functions.js"),a=require("../layer/Layer.js"),i=require("../style/IconImageCache.js"),u=require("../transform.js");function d(e){return e&&e.__esModule?e:{default:e}}var y=function(r){function i(e){r.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.dispatchRenderEvent=function(r,t){(0,e.abstract)()},i.prototype.registerLayerRenderers=function(e){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,e)},i.prototype.calculateMatrices2D=function(e){var r=e.viewState,t=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;(0,u.compose)(t,e.size[0]/2,e.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),(0,u.invert)((0,u.setFromArray)(n,t))},i.prototype.removeLayerRenderers=function(){for(var e in this.layerRenderers_)this.removeLayerRendererByKey_(e).dispose()},i.prototype.forEachFeatureAtCoordinate=function(r,t,n,s,i,u,d){var y,p=t.viewState,l=p.resolution;function c(r,n){var o=t.layerStates[(0,e.getUid)(n)].managed;if(!((0,e.getUid)(r)in t.skippedFeatureUids)||o)return s.call(i,r,o?n:null)}var h=p.projection,f=r;if(h.canWrapX()){var R=h.getExtent(),_=(0,o.getWidth)(R),v=r[0];if(v<R[0]||v>R[2])f=[v+_*Math.ceil((R[0]-v)/_),r[1]]}var g,L=t.layerStatesArray;for(g=L.length-1;g>=0;--g){var m=L[g],C=m.layer;if((0,a.visibleAtResolution)(m,l)&&u.call(d,C)){var x=this.getLayerRenderer(C),j=C.getSource();if(j&&(y=x.forEachFeatureAtCoordinate(j.getWrapX()?f:r,t,n,c)),y)return y}}},i.prototype.forEachLayerAtPixel=function(r,t,n,o,s,a,i){return(0,e.abstract)()},i.prototype.hasFeatureAtCoordinate=function(e,r,t,n,o){return void 0!==this.forEachFeatureAtCoordinate(e,r,t,s.TRUE,this,n,o)},i.prototype.getLayerRenderer=function(r){var o=(0,e.getUid)(r);if(o in this.layerRenderers_)return this.layerRenderers_[o];for(var s,a=0,i=this.layerRendererConstructors_.length;a<i;++a){var u=this.layerRendererConstructors_[a];if(u.handles(r)){s=u.create(this,r);break}}if(!s)throw new Error("Unable to create renderer for layer: "+r.getType());return this.layerRenderers_[o]=s,this.layerRendererListeners_[o]=(0,t.listen)(s,n.default.CHANGE,this.handleLayerRendererChange_,this),s},i.prototype.getLayerRendererByKey=function(e){return this.layerRenderers_[e]},i.prototype.getLayerRenderers=function(){return this.layerRenderers_},i.prototype.getMap=function(){return this.map_},i.prototype.handleLayerRendererChange_=function(){this.map_.render()},i.prototype.removeLayerRendererByKey_=function(e){var r=this.layerRenderers_[e];return delete this.layerRenderers_[e],(0,t.unlistenByKey)(this.layerRendererListeners_[e]),delete this.layerRendererListeners_[e],r},i.prototype.removeUnusedLayerRenderers_=function(e,r){for(var t in this.layerRenderers_)r&&t in r.layerStates||this.removeLayerRendererByKey_(t).dispose()},i.prototype.renderFrame=function(r){(0,e.abstract)()},i.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(p)},i.prototype.scheduleRemoveUnusedLayerRenderers=function(e){for(var r in this.layerRenderers_)if(!(r in e.layerStates))return void e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},i}(r.default);function p(e,r){i.shared.expire()}function l(e,r){return e.zIndex-r.zIndex}var c=y;exports.default=c;
},{"../util.js":"KniQ","../Disposable.js":"DDda","../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir","../functions.js":"RgA2","../layer/Layer.js":"GCgv","../style/IconImageCache.js":"V0oB","../transform.js":"P4eA"}],"vJhp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.layerRendererConstructors=void 0;var e=require("../../transform.js"),t=require("../../array.js"),r=require("../../css.js"),a=require("../../dom.js"),s=require("../../layer/Layer.js"),i=p(require("../../render/Event.js")),n=p(require("../../render/EventType.js")),o=require("../../render/canvas.js"),c=p(require("../../render/canvas/Immediate.js")),l=d(require("../Map.js")),u=p(require("../../source/State.js"));function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function d(e){if(e&&e.__esModule)return e;var t=h();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(r,s,i):r[s]=e[s]}}return r.default=e,t&&t.set(e,r),r}function p(e){return e&&e.__esModule?e:{default:e}}var v=[];exports.layerRendererConstructors=v;var f=function(h){function d(t){h.call(this,t);var s=t.getViewport();this.context_=(0,a.createCanvasContext2D)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=r.CLASS_UNSELECTABLE,s.insertBefore(this.canvas_,s.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=(0,e.create)()}return h&&(d.__proto__=h),d.prototype=Object.create(h&&h.prototype),d.prototype.constructor=d,d.prototype.dispatchRenderEvent=function(e,t){var r=this.getMap(),a=this.context_;if(r.hasListener(e)){var s=t.extent,n=t.pixelRatio,o=t.viewState.rotation,l=this.getTransform(t),u=new c.default(a,n,s,l,o),h=new i.default(e,u,t,a,null);r.dispatchEvent(h)}},d.prototype.getTransform=function(t){var r=t.viewState,a=this.canvas_.width/2,s=this.canvas_.height/2,i=t.pixelRatio/r.resolution,n=-i,o=-r.rotation,c=-r.center[0],l=-r.center[1];return(0,e.compose)(this.transform_,a,s,i,n,o,c,l)},d.prototype.renderFrame=function(e){if(e){var r=this.context_,a=e.pixelRatio,i=Math.round(e.size[0]*a),c=Math.round(e.size[1]*a);this.canvas_.width!=i||this.canvas_.height!=c?(this.canvas_.width=i,this.canvas_.height=c):r.clearRect(0,0,i,c);var h=e.viewState.rotation;this.calculateMatrices2D(e),this.dispatchRenderEvent(n.default.PRECOMPOSE,e);var d=e.layerStatesArray;(0,t.stableSort)(d,l.sortByZIndex),h&&(r.save(),(0,o.rotateAtOffset)(r,h,i/2,c/2));var p,v,f=e.viewState.resolution;for(p=0,v=d.length;p<v;++p){var y=d[p],_=y.layer,g=this.getLayerRenderer(_);(0,s.visibleAtResolution)(y,f)&&y.sourceState==u.default.READY&&(g.prepareFrame(e,y)&&g.composeFrame(e,y,r))}h&&r.restore(),this.dispatchRenderEvent(n.default.POSTCOMPOSE,e),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},d.prototype.forEachLayerAtPixel=function(t,r,a,i,n,o,c){var l,u,h=r.viewState.resolution,d=r.layerStatesArray,p=d.length,v=(0,e.apply)(r.pixelToCoordinateTransform,t.slice());for(u=p-1;u>=0;--u){var f=d[u],y=f.layer;if((0,s.visibleAtResolution)(f,h)&&o.call(c,y))if(l=this.getLayerRenderer(y).forEachLayerAtCoordinate(v,r,a,i,n))return l}},d.prototype.registerLayerRenderers=function(e){h.prototype.registerLayerRenderers.call(this,e);for(var r=0,a=e.length;r<a;++r){var s=e[r];(0,t.includes)(v,s)||v.push(s)}},d}(l.default),y=f;exports.default=y;
},{"../../transform.js":"P4eA","../../array.js":"luEr","../../css.js":"HgMV","../../dom.js":"Xno5","../../layer/Layer.js":"GCgv","../../render/Event.js":"EB6P","../../render/EventType.js":"z39m","../../render/canvas.js":"iAG7","../../render/canvas/Immediate.js":"fo6K","../Map.js":"oIh9","../../source/State.js":"iC8j"}],"fpOz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=u(require("../ImageState.js")),r=u(require("../Observable.js")),i=u(require("../TileState.js")),o=require("../events.js"),n=u(require("../events/EventType.js")),a=u(require("../source/State.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(r){function u(e){r.call(this),this.layer_=e}return r&&(u.__proto__=r),u.prototype=Object.create(r&&r.prototype),u.prototype.constructor=u,u.prototype.createLoadedTileFinder=function(e,t,r){return function(i,o){return e.forEachLoadedTile(t,i,o,function(e){r[i]||(r[i]={}),r[i][e.tileCoord.toString()]=e})}},u.prototype.forEachFeatureAtCoordinate=function(e,t,r,i){},u.prototype.getLayer=function(){return this.layer_},u.prototype.handleImageChange_=function(e){e.target.getState()===t.default.LOADED&&this.renderIfReadyAndVisible()},u.prototype.hasFeatureAtCoordinate=function(e,t){return!1},u.prototype.loadImage=function(e){var r=e.getState();return r!=t.default.LOADED&&r!=t.default.ERROR&&(0,o.listen)(e,n.default.CHANGE,this.handleImageChange_,this),r==t.default.IDLE&&(e.load(),r=e.getState()),r==t.default.LOADED},u.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==a.default.READY&&this.changed()},u.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var i=function(t,r,i){var o=(0,e.getUid)(t);o in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[o])}.bind(null,r);t.postRenderFunctions.push(i)}},u.prototype.updateUsedTiles=function(t,r,i,o){var n=(0,e.getUid)(r),a=i.toString();n in t?a in t[n]?t[n][a].extend(o):t[n][a]=o:(t[n]={},t[n][a]=o)},u.prototype.manageTilePyramid=function(t,r,o,n,a,u,d,l,s,p){var c=(0,e.getUid)(r);c in t.wantedTiles||(t.wantedTiles[c]={});var f,g,y,h,v,T,E=t.wantedTiles[c],C=t.tileQueue;for(T=o.getMinZoom();T<=d;++T)for(g=o.getTileRangeForExtentAndZ(u,T,g),y=o.getResolution(T),h=g.minX;h<=g.maxX;++h)for(v=g.minY;v<=g.maxY;++v)d-T<=l?((f=r.getTile(T,h,v,n,a)).getState()==i.default.IDLE&&(E[f.getKey()]=!0,C.isKeyQueued(f.getKey())||C.enqueue([f,c,o.getTileCoordCenter(f.tileCoord),y])),void 0!==s&&s.call(p,f)):r.useTile(T,h,v,a)},u}(r.default),l=d;exports.default=l;
},{"../util.js":"KniQ","../ImageState.js":"u3kG","../Observable.js":"IdSm","../TileState.js":"Xz9x","../events.js":"UqnM","../events/EventType.js":"C8cu","../source/State.js":"iC8j"}],"vPfl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=require("../../extent.js"),o=require("../../functions.js"),r=u(require("../../render/Event.js")),i=u(require("../../render/EventType.js")),a=require("../../render/canvas.js"),n=u(require("../../render/canvas/Immediate.js")),s=u(require("../Layer.js")),p=require("../../transform.js");function u(e){return e&&e.__esModule?e:{default:e}}var f=function(s){function u(e){s.call(this,e),this.renderedResolution,this.transform_=(0,p.create)()}return s&&(u.__proto__=s),u.prototype=Object.create(s&&s.prototype),u.prototype.constructor=u,u.prototype.clip=function(e,o,r){var i=o.pixelRatio,n=o.size[0]*i,s=o.size[1]*i,u=o.viewState.rotation,f=(0,t.getTopLeft)(r),c=(0,t.getTopRight)(r),l=(0,t.getBottomRight)(r),d=(0,t.getBottomLeft)(r);(0,p.apply)(o.coordinateToPixelTransform,f),(0,p.apply)(o.coordinateToPixelTransform,c),(0,p.apply)(o.coordinateToPixelTransform,l),(0,p.apply)(o.coordinateToPixelTransform,d),e.save(),(0,a.rotateAtOffset)(e,-u,n/2,s/2),e.beginPath(),e.moveTo(f[0]*i,f[1]*i),e.lineTo(c[0]*i,c[1]*i),e.lineTo(l[0]*i,l[1]*i),e.lineTo(d[0]*i,d[1]*i),e.clip(),(0,a.rotateAtOffset)(e,u,n/2,s/2)},u.prototype.dispatchComposeEvent_=function(e,t,o,i){var s=this.getLayer();if(s.hasListener(e)){var p=o.size[0]*o.pixelRatio,u=o.size[1]*o.pixelRatio,f=o.viewState.rotation;(0,a.rotateAtOffset)(t,-f,p/2,u/2);var c=void 0!==i?i:this.getTransform(o,0),l=new n.default(t,o.pixelRatio,o.extent,c,o.viewState.rotation),d=new r.default(e,l,o,t,null);s.dispatchEvent(d),(0,a.rotateAtOffset)(t,f,p/2,u/2)}},u.prototype.forEachLayerAtCoordinate=function(e,t,r,i,a){return this.forEachFeatureAtCoordinate(e,t,r,o.TRUE)?i.call(a,this.getLayer(),null):void 0},u.prototype.postCompose=function(e,t,o,r){this.dispatchComposeEvent_(i.default.POSTCOMPOSE,e,t,r)},u.prototype.preCompose=function(e,t,o){this.dispatchComposeEvent_(i.default.PRECOMPOSE,e,t,o)},u.prototype.dispatchRenderEvent=function(e,t,o){this.dispatchComposeEvent_(i.default.RENDER,e,t,o)},u.prototype.getTransform=function(e,t){var o=e.viewState,r=e.pixelRatio,i=r*e.size[0]/2,a=r*e.size[1]/2,n=r/o.resolution,s=-n,u=-o.rotation,f=-o.center[0]+t,c=-o.center[1];return(0,p.compose)(this.transform_,i,a,n,s,u,f,c)},u.prototype.composeFrame=function(t,o,r){(0,e.abstract)()},u.prototype.prepareFrame=function(t,o){return(0,e.abstract)()},u}(s.default),c=f;exports.default=c;
},{"../../util.js":"KniQ","../../extent.js":"QDir","../../functions.js":"RgA2","../../render/Event.js":"EB6P","../../render/EventType.js":"z39m","../../render/canvas.js":"iAG7","../../render/canvas/Immediate.js":"fo6K","../Layer.js":"fpOz","../../transform.js":"P4eA"}],"F9mD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../coordinate.js"),a=require("../../dom.js"),r=require("../../extent.js"),o=n(require("./Layer.js")),i=require("../../transform.js");function n(t){return t&&t.__esModule?t:{default:t}}var s=function(o){function n(t){o.call(this,t),this.coordinateToCanvasPixelTransform=(0,i.create)(),this.hitCanvasContext_=null}return o&&(n.__proto__=o),n.prototype=Object.create(o&&o.prototype),n.prototype.constructor=n,n.prototype.composeFrame=function(t,e,a){this.preCompose(a,t);var o=this.getImage();if(o){var i=e.extent,n=void 0!==i&&!(0,r.containsExtent)(i,t.extent)&&(0,r.intersects)(i,t.extent);n&&this.clip(a,t,i);var s=this.getImageTransform(),h=a.globalAlpha;a.globalAlpha=e.opacity;var u=s[4],c=s[5],l=o.width*s[0],p=o.height*s[3];l>=.5&&p>=.5&&a.drawImage(o,0,0,+o.width,+o.height,Math.round(u),Math.round(c),Math.round(l),Math.round(p)),a.globalAlpha=h,n&&a.restore()}this.postCompose(a,t,e)},n.prototype.getImage=function(){return(0,t.abstract)()},n.prototype.getImageTransform=function(){return(0,t.abstract)()},n.prototype.forEachLayerAtCoordinate=function(t,r,o,n,s){if(this.getImage()){var h=(0,i.apply)(this.coordinateToCanvasPixelTransform,t.slice());(0,e.scale)(h,r.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=(0,a.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),h[0],h[1],1,1,0,0,1,1);var u=this.hitCanvasContext_.getImageData(0,0,1,1).data;return u[3]>0?n.call(s,this.getLayer(),u):void 0}},n}(o.default),h=s;exports.default=h;
},{"../../util.js":"KniQ","../../coordinate.js":"nGsj","../../dom.js":"Xno5","../../extent.js":"QDir","./Layer.js":"vPfl","../../transform.js":"P4eA"}],"rzNj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../reproj/common.js"),t=d(require("../../ImageCanvas.js")),r=d(require("../../LayerType.js")),i=d(require("../../ViewHint.js")),o=require("../../array.js"),a=require("../../extent.js"),s=d(require("../../layer/VectorRenderType.js")),n=require("../../obj.js"),u=require("./Map.js"),p=d(require("./IntermediateCanvas.js")),c=require("../../transform.js");function d(e){return e&&e.__esModule?e:{default:e}}var l=function(s){function p(e){if(s.call(this,e),this.image_=null,this.imageTransform_=(0,c.create)(),this.skippedFeatures_=[],this.vectorRenderer_=null,e.getType()===r.default.VECTOR)for(var t=0,i=u.layerRendererConstructors.length;t<i;++t){var o=u.layerRendererConstructors[t];if(o!==p&&o.handles(e)){this.vectorRenderer_=new o(e);break}}}return s&&(p.__proto__=s),p.prototype=Object.create(s&&s.prototype),p.prototype.constructor=p,p.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),s.prototype.disposeInternal.call(this)},p.prototype.getImage=function(){return this.image_?this.image_.getImage():null},p.prototype.getImageTransform=function(){return this.imageTransform_},p.prototype.prepareFrame=function(r,s){var u,p=r.pixelRatio,d=r.size,l=r.viewState,f=l.center,g=l.resolution,h=this.getLayer().getSource(),m=r.viewHints,v=this.vectorRenderer_,_=r.extent;if(v||void 0===s.extent||(_=(0,a.getIntersection)(_,s.extent)),!m[i.default.ANIMATING]&&!m[i.default.INTERACTING]&&!(0,a.isEmpty)(_)){var y=l.projection;if(!e.ENABLE_RASTER_REPROJECTION){var R=h.getProjection();R&&(y=R)}var j=this.skippedFeatures_;if(v){var T=v.context,I=(0,n.assign)({},r,{size:[(0,a.getWidth)(_)/g,(0,a.getHeight)(_)/g],viewState:(0,n.assign)({},r.viewState,{rotation:0})}),E=Object.keys(I.skippedFeatureUids).sort();u=new t.default(_,g,p,T.canvas,function(e){!v.prepareFrame(I,s)||!v.replayGroupChanged&&(0,o.equals)(j,E)||(T.canvas.width=I.size[0]*p,T.canvas.height=I.size[1]*p,v.compose(T,I,s),j=E,e())})}else u=h.getImage(_,g,p,y);u&&this.loadImage(u)&&(this.image_=u,this.skippedFeatures_=j)}if(this.image_){var C=(u=this.image_).getExtent(),q=u.getResolution(),x=u.getPixelRatio(),A=p*q/(g*x),w=(0,c.compose)(this.imageTransform_,p*d[0]/2,p*d[1]/2,A,A,0,x*(C[0]-f[0])/q,x*(f[1]-C[3])/q);(0,c.compose)(this.coordinateToCanvasPixelTransform,p*d[0]/2-w[4],p*d[1]/2-w[5],p/g,-p/g,0,-f[0],-f[1]),this.renderedResolution=q*p/x}return!!this.image_},p.prototype.forEachFeatureAtCoordinate=function(e,t,r,i){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,t,r,i):s.prototype.forEachFeatureAtCoordinate.call(this,e,t,r,i)},p}(p.default);l.handles=function(e){return e.getType()===r.default.IMAGE||e.getType()===r.default.VECTOR&&e.getRenderMode()===s.default.IMAGE},l.create=function(e,t){return new l(t)};var f=l;exports.default=f;
},{"../../reproj/common.js":"fF5X","../../ImageCanvas.js":"K7j2","../../LayerType.js":"bQ7c","../../ViewHint.js":"cuLW","../../array.js":"luEr","../../extent.js":"QDir","../../layer/VectorRenderType.js":"oqAD","../../obj.js":"mH6q","./Map.js":"vJhp","./IntermediateCanvas.js":"F9mD","../../transform.js":"P4eA"}],"snev":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrUpdate=i,exports.default=void 0;var t=function(t,i,n,m){this.minX=t,this.maxX=i,this.minY=n,this.maxY=m};function i(i,n,m,e,s){return void 0!==s?(s.minX=i,s.maxX=n,s.minY=m,s.maxY=e,s):new t(i,n,m,e)}t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var n=t;exports.default=n;
},{}],"hkMV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=d(require("../../LayerType.js")),i=d(require("../../TileRange.js")),r=d(require("../../TileState.js")),n=d(require("../../ViewHint.js")),o=require("../../dom.js"),s=require("../../extent.js"),a=d(require("./IntermediateCanvas.js")),l=require("../../transform.js");function d(e){return e&&e.__esModule?e:{default:e}}var h=function(t){function a(e,r){t.call(this,e),this.context=r?null:(0,o.createCanvasContext2D)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,s.createEmpty)(),this.tmpTileRange_=new i.default(0,0,0,0),this.imageTransform_=(0,l.create)(),this.zDirection=0}return t&&(a.__proto__=t),a.prototype=Object.create(t&&t.prototype),a.prototype.constructor=a,a.prototype.isDrawableTile_=function(e){var t=this.getLayer(),i=e.getState(),n=t.getUseInterimTilesOnError();return i==r.default.LOADED||i==r.default.EMPTY||i==r.default.ERROR&&!n},a.prototype.getTile=function(e,t,i,n,o){var s=this.getLayer(),a=s.getSource().getTile(e,t,i,n,o);return a.getState()==r.default.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(r.default.LOADED)),this.isDrawableTile_(a)||(a=a.getInterimTile()),a},a.prototype.prepareFrame=function(t,i){var o=t.pixelRatio,a=t.size,d=t.viewState,h=d.projection,u=d.resolution,g=d.center,c=this.getLayer(),T=c.getSource(),p=T.getRevision(),f=T.getTileGridForProjection(h),m=f.getZForResolution(u,this.zDirection),v=f.getResolution(m),x=Math.round(u/v)||1,_=t.extent;if(void 0!==i.extent&&(_=(0,s.getIntersection)(_,i.extent)),(0,s.isEmpty)(_))return!1;var R=f.getTileRangeForExtentAndZ(_,m),E=f.getTileRangeExtent(m,R),y=T.getTilePixelRatio(o),w={};w[m]={};var I,j,C,D=this.createLoadedTileFinder(T,h,w),S=t.viewHints,O=S[n.default.ANIMATING]||S[n.default.INTERACTING],P=this.tmpExtent,q=this.tmpTileRange_;for(this.newTiles_=!1,j=R.minX;j<=R.maxX;++j)for(C=R.minY;C<=R.maxY;++C)if(!(Date.now()-t.time>16&&O)){if(I=this.getTile(m,j,C,o,h),this.isDrawableTile_(I)){var A=(0,e.getUid)(this);if(I.getState()==r.default.LOADED){w[m][I.tileCoord.toString()]=I;var L=I.inTransition(A);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(I)||(this.newTiles_=!0)}if(1===I.getAlpha(A,t.time))continue}var b=f.getTileCoordChildTileRange(I.tileCoord,q,P),M=!1;b&&(M=D(m+1,b)),M||f.forEachTileCoordParentTileRange(I.tileCoord,D,null,q,P)}var F=v*o/y*x;if(!(this.renderedResolution&&Date.now()-t.time>16&&O)&&(this.newTiles_||!this.renderedExtent_||!(0,s.containsExtent)(this.renderedExtent_,_)||this.renderedRevision!=p||x!=this.oversampling_||!O&&F!=this.renderedResolution)){var z=this.context;if(z){var N=T.getTilePixelSize(m,o,h),U=Math.round(R.getWidth()*N[0]/x),G=Math.round(R.getHeight()*N[1]/x),H=z.canvas;H.width!=U||H.height!=G?(this.oversampling_=x,H.width=U,H.height=G):((this.renderedExtent_&&!(0,s.equals)(E,this.renderedExtent_)||this.renderedRevision!=p)&&z.clearRect(0,0,U,G),x=this.oversampling_)}this.renderedTiles.length=0;var Y,X,Z,k,V,W,B,J,K,Q,$=Object.keys(w).map(Number);for($.sort(function(e,t){return e===m?1:t===m?-1:e>t?1:e<t?-1:0}),k=0,V=$.length;k<V;++k)for(var ee in Z=$[k],X=T.getTilePixelSize(Z,o,h),Y=f.getResolution(Z)/v,B=y*T.getGutterForProjection(h),J=w[Z])I=J[ee],j=((W=f.getTileCoordExtent(I.getTileCoord(),P))[0]-E[0])/v*y/x,C=(E[3]-W[3])/v*y/x,K=X[0]*Y/x,Q=X[1]*Y/x,this.drawTileImage(I,t,i,j,C,K,Q,B,m===Z),this.renderedTiles.push(I);this.renderedRevision=p,this.renderedResolution=v*o/y*x,this.renderedExtent_=E}var te=this.renderedResolution/u,ie=(0,l.compose)(this.imageTransform_,o*a[0]/2,o*a[1]/2,te,te,0,(this.renderedExtent_[0]-g[0])/this.renderedResolution*o,(g[1]-this.renderedExtent_[3])/this.renderedResolution*o);return(0,l.compose)(this.coordinateToCanvasPixelTransform,o*a[0]/2-ie[4],o*a[1]/2-ie[5],o/u,-o/u,0,-g[0],-g[1]),this.updateUsedTiles(t.usedTiles,T,m,R),this.manageTilePyramid(t,T,f,o,h,_,m,c.getPreload()),this.scheduleExpireCache(t,T),this.renderedTiles.length>0},a.prototype.drawTileImage=function(t,i,r,n,o,s,a,l,d){var h=this.getTileImage(t);if(h){var u=(0,e.getUid)(this),g=d?t.getAlpha(u,i.time):1,c=this.getLayer().getSource();1!==g||c.getOpaque(i.viewState.projection)||this.context.clearRect(n,o,s,a);var T=g!==this.context.globalAlpha;T&&(this.context.save(),this.context.globalAlpha=g),this.context.drawImage(h,l,l,h.width-2*l,h.height-2*l,n,o,s,a),T&&this.context.restore(),1!==g?i.animate=!0:d&&t.endTransition(u)}},a.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},a.prototype.getImageTransform=function(){return this.imageTransform_},a.prototype.getTileImage=function(e){return e.getImage()},a}(a.default);h.handles=function(e){return e.getType()===t.default.TILE},h.create=function(e,t){return new h(t)},h.prototype.getLayer;var u=h;exports.default=u;
},{"../../util.js":"KniQ","../../LayerType.js":"bQ7c","../../TileRange.js":"snev","../../TileState.js":"Xz9x","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../extent.js":"QDir","./IntermediateCanvas.js":"F9mD","../../transform.js":"P4eA"}],"TK0U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=function(){};e.prototype.getReplay=function(e,r){return(0,t.abstract)()},e.prototype.isEmpty=function(){return(0,t.abstract)()},e.prototype.addDeclutter=function(e){return(0,t.abstract)()};var r=e;exports.default=r;
},{"../util.js":"KniQ"}],"D882":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};exports.default=e;
},{}],"JxN9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawTextOnPath=a;var t=require("../../math.js");function a(a,r,h,e,M,o,s,n){for(var p,u,v,i=[],P=a[r]>a[h-e],f=M.length,l=a[r],I=a[r+1],w=a[r+=e],c=a[r+1],d=0,q=Math.sqrt(Math.pow(w-l,2)+Math.pow(c-I,2)),x="",b=0,j=0;j<f;++j){u=P?f-j-1:j;var O=M.charAt(u),_=o(x=P?O+x:x+O)-b;b+=_;for(var g=s+_/2;r<h-e&&d+q<g;)l=w,I=c,w=a[r+=e],c=a[r+1],d+=q,q=Math.sqrt(Math.pow(w-l,2)+Math.pow(c-I,2));var m=g-d,y=Math.atan2(c-I,w-l);if(P&&(y+=y>0?-Math.PI:Math.PI),void 0!==v){var A=y-v;if(A+=A>Math.PI?-2*Math.PI:A<-Math.PI?2*Math.PI:0,Math.abs(A)>n)return null}var T=m/q,k=(0,t.lerp)(l,w,T),z=(0,t.lerp)(I,c,T);v==y?(P&&(p[0]=k,p[1]=z,p[2]=_/2),p[4]=x):(b=_,p=[k,z,_/2,y,x=O],P?i.unshift(p):i.push(p),v=y),s+=_}return i}
},{"../../math.js":"B96G"}],"kTJv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.closePathInstruction=exports.beginPathInstruction=exports.strokeInstruction=exports.fillInstruction=void 0;var t={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[t.FILL];exports.fillInstruction=r;var e=[t.STROKE];exports.strokeInstruction=e;var o=[t.BEGIN_PATH];exports.beginPathInstruction=o;var s=[t.CLOSE_PATH];exports.closePathInstruction=s;var E=t;exports.default=E;
},{}],"FzwX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TEXT_ALIGN=exports.ORDER=void 0;var e=t(require("./ReplayType.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=[e.default.POLYGON,e.default.CIRCLE,e.default.LINE_STRING,e.default.IMAGE,e.default.TEXT,e.default.DEFAULT];exports.ORDER=r;var a={};exports.TEXT_ALIGN=a,a.left=0,a.end=0,a.center=.5,a.right=1,a.start=1,a.top=0,a.middle=.5,a.hanging=.2,a.alphabetic=.8,a.ideographic=.8,a.bottom=1;
},{"./ReplayType.js":"D882"}],"zweS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),i=require("../../colorlike.js"),r=require("../../extent.js"),n=g(require("../../extent/Relationship.js")),o=g(require("../../geom/GeometryType.js")),a=require("../../geom/flat/inflate.js"),s=require("../../geom/flat/length.js"),l=require("../../geom/flat/textpath.js"),h=require("../../geom/flat/transform.js"),u=require("../../has.js"),d=require("../../obj.js"),f=g(require("../VectorContext.js")),p=require("../canvas.js"),c=g(require("./Instruction.js")),y=require("../replay.js"),_=require("../../transform.js");function g(t){return t&&t.__esModule?t:{default:t}}var v=(0,r.createEmpty)(),m=(0,_.create)(),x=function(f){function g(t,e,i,r,n,o){f.call(this),this.declutterTree=o,this.tolerance=t,this.maxExtent=e,this.overlaps=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=(0,_.create)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return f&&(g.__proto__=f),g.prototype=Object.create(f&&f.prototype),g.prototype.constructor=g,g.prototype.replayTextBackground_=function(t,e,i,r,n,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,n),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},g.prototype.replayImage_=function(t,e,i,n,o,a,s,l,h,u,d,f,c,y,g,x,E,L){var T=E||L;e-=o*=c,i-=a*=c;var S,C,I,O,k=g+u>n.width?n.width-u:g,b=l+d>n.height?n.height-d:l,D=x[3]+k*c+x[1],G=x[0]+b*c+x[2],M=e-x[3],R=i-x[0];(T||0!==f)&&(S=[M,R],C=[M+D,R],I=[M+D,R+G],O=[M,R+G]);var N=null;if(0!==f){var F=e+o,j=i+a;N=(0,_.compose)(m,F,j,1,1,f,-F,-j),(0,r.createOrUpdateEmpty)(v),(0,r.extendCoordinate)(v,(0,_.apply)(m,S)),(0,r.extendCoordinate)(v,(0,_.apply)(m,C)),(0,r.extendCoordinate)(v,(0,_.apply)(m,I)),(0,r.extendCoordinate)(v,(0,_.apply)(m,O))}else(0,r.createOrUpdate)(M,R,M+D,R+G,v);var q=t.canvas,w=L?L[2]*c/2:0,P=v[0]-w<=q.width&&v[2]+w>=0&&v[1]-w<=q.height&&v[3]+w>=0;if(y&&(e=Math.round(e),i=Math.round(i)),s){if(!P&&1==s[4])return;(0,r.extend)(s,v);var W=P?[t,N?N.slice(0):null,h,n,u,d,k,b,e,i,c]:null;W&&T&&W.push(E,L,S,C,I,O),s.push(W)}else P&&(T&&this.replayTextBackground_(t,S,C,I,O,E,L),(0,p.drawImage)(t,N,h,n,u,d,k,b,e,i,c))},g.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},g.prototype.appendFlatCoordinates=function(t,e,i,o,a,s){var l=this.coordinates.length,h=this.getBufferedMaxExtent();s&&(e+=o);var u,d,f,p=[t[e],t[e+1]],c=[NaN,NaN],y=!0;for(u=e+o;u<i;u+=o)c[0]=t[u],c[1]=t[u+1],(f=(0,r.coordinateRelationship)(h,c))!==d?(y&&(this.coordinates[l++]=p[0],this.coordinates[l++]=p[1]),this.coordinates[l++]=c[0],this.coordinates[l++]=c[1],y=!1):f===n.default.INTERSECTING?(this.coordinates[l++]=c[0],this.coordinates[l++]=c[1],y=!1):y=!0,p[0]=c[0],p[1]=c[1],d=f;return(a&&y||u===e+o)&&(this.coordinates[l++]=p[0],this.coordinates[l++]=p[1]),l},g.prototype.drawCustomCoordinates_=function(t,e,i,r,n){for(var o=0,a=i.length;o<a;++o){var s=i[o],l=this.appendFlatCoordinates(t,e,s,r,!1,!1);n.push(l),e=s}return e},g.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var r,n,s,l,h,u=t.getType(),d=t.getStride(),f=this.coordinates.length;if(u==o.default.MULTI_POLYGON){r=(t=t).getOrientedFlatCoordinates(),l=[];var p=t.getEndss();h=0;for(var y=0,_=p.length;y<_;++y){var g=[];h=this.drawCustomCoordinates_(r,h,p[y],d,g),l.push(g)}this.instructions.push([c.default.CUSTOM,f,l,t,i,a.inflateMultiCoordinatesArray])}else u==o.default.POLYGON||u==o.default.MULTI_LINE_STRING?(s=[],r=u==o.default.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(r,0,t.getEnds(),d,s),this.instructions.push([c.default.CUSTOM,f,s,t,i,a.inflateCoordinatesArray])):u==o.default.LINE_STRING||u==o.default.MULTI_POINT?(r=t.getFlatCoordinates(),n=this.appendFlatCoordinates(r,0,r.length,d,!1,!1),this.instructions.push([c.default.CUSTOM,f,n,t,i,a.inflateCoordinates])):u==o.default.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),n=this.coordinates.length,this.instructions.push([c.default.CUSTOM,f,n,t,i]));this.endGeometry(t,e)},g.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[c.default.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[c.default.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},g.prototype.finish=function(){},g.prototype.fill_=function(t){if(this.alignFill_){var e=(0,_.apply)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,p.resetTransform)},g.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],u.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},g.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(n)){this.declutterTree.insert(n);for(var o=5,a=t.length;o<a;++o){var s=t[o];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),p.drawImage.apply(void 0,s))}}t.length=5,(0,r.createOrUpdateEmpty)(t)}}},g.prototype.replay_=function(i,n,o,a,u,f,g){var v;this.pixelCoordinates_&&(0,e.equals)(n,this.renderedTransform_)?v=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),v=(0,h.transform2D)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,_.setFromArray)(this.renderedTransform_,n));for(var m,x,E,L,T,S,C,I,O,k,b,D,G=!(0,d.isEmpty)(o),M=0,R=a.length,N=0,F=0,j=0,q=null,w=null,P=this.coordinateCache_,W=this.viewRotation_,Y={context:i,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:W},A=this.instructions!=a||this.overlaps?0:200;M<R;){var U=a[M];switch(U[0]){case c.default.BEGIN_GEOMETRY:k=U[1],G&&o[(0,t.getUid)(k)]||!k.getGeometry()?M=U[2]:void 0===g||(0,r.intersects)(g,k.getGeometry().getExtent())?++M:M=U[2]+1;break;case c.default.BEGIN_PATH:F>A&&(this.fill_(i),F=0),j>A&&(i.stroke(),j=0),F||j||(i.beginPath(),L=T=NaN),++M;break;case c.default.CIRCLE:var B=v[N=U[1]],J=v[N+1],H=v[N+2]-B,K=v[N+3]-J,V=Math.sqrt(H*H+K*K);i.moveTo(B+V,J),i.arc(B,J,V,0,2*Math.PI,!0),++M;break;case c.default.CLOSE_PATH:i.closePath(),++M;break;case c.default.CUSTOM:N=U[1],m=U[2];var X=U[3],z=U[4],Q=6==U.length?U[5]:void 0;Y.geometry=X,Y.feature=k,M in P||(P[M]=[]);var Z=P[M];Q?Q(v,N,m,2,Z):(Z[0]=v[N],Z[1]=v[N+1],Z.length=2),z(Z,Y),++M;break;case c.default.DRAW_IMAGE:N=U[1],m=U[2],O=U[3],x=U[4],E=U[5],I=f?null:U[6];var $=U[7],tt=U[8],et=U[9],it=U[10],rt=U[11],nt=U[12],ot=U[13],at=U[14],st=void 0,lt=void 0,ht=void 0;for(U.length>16?(st=U[15],lt=U[16],ht=U[17]):(st=p.defaultPadding,lt=ht=!1),rt&&(nt+=W);N<m;N+=2)this.replayImage_(i,v[N],v[N+1],O,x,E,I,$,tt,et,it,nt,ot,u,at,st,lt?q:null,ht?w:null);this.renderDeclutter_(I,k),++M;break;case c.default.DRAW_CHARS:var ut=U[1],dt=U[2],ft=U[3];I=f?null:U[4];var pt=U[5],ct=U[6],yt=U[7],_t=U[8],gt=U[9],vt=U[10],mt=U[11],xt=U[12],Et=U[13],Lt=U[14],Tt=(0,s.lineStringLength)(v,ut,dt,2),St=_t(xt);if(pt||St<=Tt){var Ct=this.textStates[Et].textAlign,It=(Tt-St)*y.TEXT_ALIGN[Ct],Ot=(0,l.drawTextOnPath)(v,ut,dt,2,xt,_t,It,yt);if(Ot){var kt=void 0,bt=void 0,Dt=void 0,Gt=void 0,Mt=void 0;if(vt)for(kt=0,bt=Ot.length;kt<bt;++kt)Dt=(Mt=Ot[kt])[4],Gt=this.getImage(Dt,Et,"",vt),x=Mt[2]+mt,E=ft*Gt.height+2*(.5-ft)*mt-gt,this.replayImage_(i,Mt[0],Mt[1],Gt,x,E,I,Gt.height,1,0,0,Mt[3],Lt,!1,Gt.width,p.defaultPadding,null,null);if(ct)for(kt=0,bt=Ot.length;kt<bt;++kt)Dt=(Mt=Ot[kt])[4],Gt=this.getImage(Dt,Et,ct,""),x=Mt[2],E=ft*Gt.height-gt,this.replayImage_(i,Mt[0],Mt[1],Gt,x,E,I,Gt.height,1,0,0,Mt[3],Lt,!1,Gt.width,p.defaultPadding,null,null)}}this.renderDeclutter_(I,k),++M;break;case c.default.END_GEOMETRY:if(void 0!==f){var Rt=f(k=U[1]);if(Rt)return Rt}++M;break;case c.default.FILL:A?F++:this.fill_(i),++M;break;case c.default.MOVE_TO_LINE_TO:for(N=U[1],m=U[2],b=v[N],C=(D=v[N+1])+.5|0,(S=b+.5|0)===L&&C===T||(i.moveTo(b,D),L=S,T=C),N+=2;N<m;N+=2)S=(b=v[N])+.5|0,C=(D=v[N+1])+.5|0,N!=m-2&&S===L&&C===T||(i.lineTo(b,D),L=S,T=C);++M;break;case c.default.SET_FILL_STYLE:q=U,this.alignFill_=U[2],F&&(this.fill_(i),F=0,j&&(i.stroke(),j=0)),i.fillStyle=U[1],++M;break;case c.default.SET_STROKE_STYLE:w=U,j&&(i.stroke(),j=0),this.setStrokeStyle_(i,U),++M;break;case c.default.STROKE:A?j++:i.stroke(),++M;break;default:++M}}F&&this.fill_(i),j&&i.stroke()},g.prototype.replay=function(t,e,i,r,n){this.viewRotation_=i,this.replay_(t,e,r,this.instructions,n,void 0,void 0)},g.prototype.replayHitDetection=function(t,e,i,r,n,o){return this.viewRotation_=i,this.replay_(t,e,r,this.hitDetectionInstructions,!0,n,o)},g.prototype.reverseHitDetectionInstructions=function(){var t,i=this.hitDetectionInstructions;i.reverse();var r,n,o=i.length,a=-1;for(t=0;t<o;++t)(n=(r=i[t])[0])==c.default.END_GEOMETRY?a=t:n==c.default.BEGIN_GEOMETRY&&(r[2]=t,(0,e.reverseSubArray)(this.hitDetectionInstructions,a,t),a=-1)},g.prototype.setFillStrokeStyle=function(t,e){var r=this.state;if(t){var n=t.getColor();r.fillStyle=(0,i.asColorLike)(n||p.defaultFillStyle)}else r.fillStyle=void 0;if(e){var o=e.getColor();r.strokeStyle=(0,i.asColorLike)(o||p.defaultStrokeStyle);var a=e.getLineCap();r.lineCap=void 0!==a?a:p.defaultLineCap;var s=e.getLineDash();r.lineDash=s?s.slice():p.defaultLineDash;var l=e.getLineDashOffset();r.lineDashOffset=l||p.defaultLineDashOffset;var h=e.getLineJoin();r.lineJoin=void 0!==h?h:p.defaultLineJoin;var u=e.getWidth();r.lineWidth=void 0!==u?u:p.defaultLineWidth;var d=e.getMiterLimit();r.miterLimit=void 0!==d?d:p.defaultMiterLimit,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},g.prototype.createFill=function(t,e){var i=t.fillStyle,r=[c.default.SET_FILL_STYLE,i];return"string"!=typeof i&&r.push(!0),r},g.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},g.prototype.createStroke=function(t){return[c.default.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},g.prototype.updateFillStyle=function(t,e,i){var r=t.fillStyle;"string"==typeof r&&t.currentFillStyle==r||(void 0!==r&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=r)},g.prototype.updateStrokeStyle=function(t,i){var r=t.strokeStyle,n=t.lineCap,o=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,l=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=n||o!=t.currentLineDash&&!(0,e.equals)(t.currentLineDash,o)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=l||t.currentMiterLimit!=h)&&(void 0!==r&&i.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=n,t.currentLineDash=o,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=l,t.currentMiterLimit=h)},g.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[c.default.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},g.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,r.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,r.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},g}(f.default),E=x;exports.default=E;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../colorlike.js":"V5XN","../../extent.js":"QDir","../../extent/Relationship.js":"bUAS","../../geom/GeometryType.js":"lmV0","../../geom/flat/inflate.js":"znXl","../../geom/flat/length.js":"ZZrx","../../geom/flat/textpath.js":"JxN9","../../geom/flat/transform.js":"LGwr","../../has.js":"f3Nv","../../obj.js":"mH6q","../VectorContext.js":"LQER","../canvas.js":"iAG7","./Instruction.js":"kTJv","../replay.js":"FzwX","../../transform.js":"P4eA"}],"Nwxo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("./Instruction.js")),i=h(require("./Replay.js"));function h(t){return t&&t.__esModule?t:{default:t}}var e=function(i){function h(t,h,e,o,s,r){i.call(this,t,h,e,o,s,r),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return i&&(h.__proto__=i),h.prototype=Object.create(i&&i.prototype),h.prototype.constructor=h,h.prototype.drawCoordinates_=function(t,i,h,e){return this.appendFlatCoordinates(t,i,h,e,!1,!1)},h.prototype.drawPoint=function(i,h){if(this.image_){this.beginGeometry(i,h);var e=i.getFlatCoordinates(),o=i.getStride(),s=this.coordinates.length,r=this.drawCoordinates_(e,0,e.length,o);this.instructions.push([t.default.DRAW_IMAGE,s,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([t.default.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(i,h)}},h.prototype.drawMultiPoint=function(i,h){if(this.image_){this.beginGeometry(i,h);var e=i.getFlatCoordinates(),o=i.getStride(),s=this.coordinates.length,r=this.drawCoordinates_(e,0,e.length,o);this.instructions.push([t.default.DRAW_IMAGE,s,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([t.default.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(i,h)}},h.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},h.prototype.setImageStyle=function(t,i){var h=t.getAnchor(),e=t.getSize(),o=t.getHitDetectionImage(1),s=t.getImage(1),r=t.getOrigin();this.anchorX_=h[0],this.anchorY_=h[1],this.declutterGroup_=i,this.hitDetectionImage_=o,this.image_=s,this.height_=e[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=e[0]},h}(i.default),o=e;exports.default=o;
},{"./Instruction.js":"kTJv","./Replay.js":"zweS"}],"Z7Pq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Instruction.js")),e=i(require("./Replay.js"));function i(t){return t&&t.__esModule?t:{default:t}}function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;var e=r();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=n?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}}return i.default=t,e&&e.set(t,i),i}var o=function(e){function i(t,i,r,n,o,s){e.call(this,t,i,r,n,o,s)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.drawFlatCoordinates_=function(e,i,r,n){var o=this.coordinates.length,s=this.appendFlatCoordinates(e,i,r,n,!1,!1),a=[t.default.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),r},i.prototype.drawLineString=function(e,i){var r=this.state,n=r.strokeStyle,o=r.lineWidth;if(void 0!==n&&void 0!==o){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([t.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],t.beginPathInstruction);var s=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(t.strokeInstruction),this.endGeometry(e,i)}},i.prototype.drawMultiLineString=function(e,i){var r=this.state,n=r.strokeStyle,o=r.lineWidth;if(void 0!==n&&void 0!==o){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([t.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],t.beginPathInstruction);for(var s=e.getEnds(),a=e.getFlatCoordinates(),u=e.getStride(),l=0,h=0,p=s.length;h<p;++h)l=this.drawFlatCoordinates_(a,l,s[h],u);this.hitDetectionInstructions.push(t.strokeInstruction),this.endGeometry(e,i)}},i.prototype.finish=function(){var e=this.state;null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(t.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null},i.prototype.applyStroke=function(i){null!=i.lastStroke&&i.lastStroke!=this.coordinates.length&&(this.instructions.push(t.strokeInstruction),i.lastStroke=this.coordinates.length),i.lastStroke=0,e.prototype.applyStroke.call(this,i),this.instructions.push(t.beginPathInstruction)},i}(e.default),s=o;exports.default=s;
},{"./Instruction.js":"kTJv","./Replay.js":"zweS"}],"s4Hb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../color.js"),e=require("../../geom/flat/simplify.js"),i=require("../canvas.js"),s=l(require("./Instruction.js")),n=o(require("./Replay.js"));function o(t){return t&&t.__esModule?t:{default:t}}function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function l(t){if(t&&t.__esModule)return t;var e=r();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=s?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=t[n]}}return i.default=t,e&&e.set(t,i),i}var u=function(n){function o(t,e,i,s,o,r){n.call(this,t,e,i,s,o,r)}return n&&(o.__proto__=n),o.prototype=Object.create(n&&n.prototype),o.prototype.constructor=o,o.prototype.drawFlatCoordinatess_=function(t,e,i,n){var o=this.state,r=void 0!==o.fillStyle,l=null!=o.strokeStyle,u=i.length;this.instructions.push(s.beginPathInstruction),this.hitDetectionInstructions.push(s.beginPathInstruction);for(var h=0;h<u;++h){var a=i[h],c=this.coordinates.length,d=this.appendFlatCoordinates(t,e,a,n,!0,!l),p=[s.default.MOVE_TO_LINE_TO,c,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),l&&(this.instructions.push(s.closePathInstruction),this.hitDetectionInstructions.push(s.closePathInstruction)),e=a}return r&&(this.instructions.push(s.fillInstruction),this.hitDetectionInstructions.push(s.fillInstruction)),l&&(this.instructions.push(s.strokeInstruction),this.hitDetectionInstructions.push(s.strokeInstruction)),e},o.prototype.drawCircle=function(e,n){var o=this.state,r=o.fillStyle,l=o.strokeStyle;if(void 0!==r||void 0!==l){this.setFillStrokeStyles_(e),this.beginGeometry(e,n),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,t.asString)(i.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var u=e.getFlatCoordinates(),h=e.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(u,0,u.length,h,!1,!1);var c=[s.default.CIRCLE,a];this.instructions.push(s.beginPathInstruction,c),this.hitDetectionInstructions.push(s.beginPathInstruction,c),this.hitDetectionInstructions.push(s.fillInstruction),void 0!==o.fillStyle&&this.instructions.push(s.fillInstruction),void 0!==o.strokeStyle&&(this.instructions.push(s.strokeInstruction),this.hitDetectionInstructions.push(s.strokeInstruction)),this.endGeometry(e,n)}},o.prototype.drawPolygon=function(e,n){var o=this.state,r=o.fillStyle,l=o.strokeStyle;if(void 0!==r||void 0!==l){this.setFillStrokeStyles_(e),this.beginGeometry(e,n),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,t.asString)(i.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var u=e.getEnds(),h=e.getOrientedFlatCoordinates(),a=e.getStride();this.drawFlatCoordinatess_(h,0,u,a),this.endGeometry(e,n)}},o.prototype.drawMultiPolygon=function(e,n){var o=this.state,r=o.fillStyle,l=o.strokeStyle;if(void 0!==r||void 0!==l){this.setFillStrokeStyles_(e),this.beginGeometry(e,n),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,t.asString)(i.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);for(var u=e.getEndss(),h=e.getOrientedFlatCoordinates(),a=e.getStride(),c=0,d=0,p=u.length;d<p;++d)c=this.drawFlatCoordinatess_(h,c,u[d],a);this.endGeometry(e,n)}},o.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var i=this.coordinates,s=0,n=i.length;s<n;++s)i[s]=(0,e.snap)(i[s],t)},o.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},o}(n.default),h=u;exports.default=h;
},{"../../color.js":"eucy","../../geom/flat/simplify.js":"IEpt","../canvas.js":"iAG7","./Instruction.js":"kTJv","./Replay.js":"zweS"}],"hCfl":[function(require,module,exports) {
"use strict";function t(t,e,r,o,a){var s,i,n,u,c,v,d,h,f,p=r,M=r,l=0,x=0,_=r;for(s=r;s<o;s+=a){var b=e[s],g=e[s+1];void 0!==u&&(h=b-u,f=g-c,n=Math.sqrt(h*h+f*f),void 0!==v&&(x+=i,Math.acos((v*h+d*f)/(i*n))>t&&(x>l&&(l=x,p=_,M=s),x=0,_=s-a)),i=n,v=h,d=f),u=b,c=g}return(x+=n)>l?[_,s]:[p,M]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchingChunk=t;
},{}],"Bp20":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.measureTextWidths=x,exports.default=void 0;var t=require("../../util.js"),e=require("../../colorlike.js"),i=require("../../dom.js"),s=require("../../extent.js"),l=require("../../geom/flat/straightchunk.js"),a=d(require("../../geom/GeometryType.js")),n=require("../../has.js"),r=require("../canvas.js"),o=d(require("./Instruction.js")),h=d(require("./Replay.js")),f=require("../replay.js"),u=d(require("../../style/TextPlacement.js"));function d(t){return t&&t.__esModule?t:{default:t}}var g=function(h){function d(t,e,i,s,l,a){h.call(this,t,e,i,s,l,a),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},r.labelCache.prune()}return h&&(d.__proto__=h),d.prototype=Object.create(h&&h.prototype),d.prototype.constructor=d,d.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o,h,f=this.coordinates.length,d=t.getType(),g=null,x=2,_=2;if(r.placement===u.default.LINE){if(!(0,s.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var c;if(g=t.getFlatCoordinates(),_=t.getStride(),d==a.default.LINE_STRING)c=[g.length];else if(d==a.default.MULTI_LINE_STRING)c=t.getEnds();else if(d==a.default.POLYGON)c=t.getEnds().slice(0,1);else if(d==a.default.MULTI_POLYGON){var S=t.getEndss();for(c=[],o=0,h=S.length;o<h;++o)c.push(S[o][0])}this.beginGeometry(t,e);for(var p,k=r.textAlign,y=0,v=0,m=c.length;v<m;++v){if(null==k){var L=(0,l.matchingChunk)(r.maxAngle,g,y,c[v],_);y=L[0],p=L[1]}else p=c[v];for(o=y;o<p;o+=_)this.coordinates.push(g[o],g[o+1]);x=this.coordinates.length,y=c[v],this.drawChars_(f,x,this.declutterGroup_),f=x}this.endGeometry(t,e)}else{var T=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),I=T.width/this.pixelRatio;switch(d){case a.default.POINT:case a.default.MULTI_POINT:x=(g=t.getFlatCoordinates()).length;break;case a.default.LINE_STRING:g=t.getFlatMidpoint();break;case a.default.CIRCLE:g=t.getCenter();break;case a.default.MULTI_LINE_STRING:x=(g=t.getFlatMidpoints()).length;break;case a.default.POLYGON:if(g=t.getFlatInteriorPoint(),!r.overflow&&g[2]/this.resolution<I)return;_=3;break;case a.default.MULTI_POLYGON:var A=t.getFlatInteriorPoints();for(g=[],o=0,h=A.length;o<h;o+=3)(r.overflow||A[o+2]/this.resolution>=I)&&g.push(A[o],A[o+1]);if(0==(x=g.length))return}x=this.appendFlatCoordinates(g,0,x,_,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(T,f,x),this.endGeometry(t,e)}}},d.prototype.getImage=function(t,e,s,l){var a,o=l+e+t+s+this.pixelRatio;if(!r.labelCache.containsKey(o)){var h=l?this.strokeStates[l]||this.textStrokeState_:null,u=s?this.fillStates[s]||this.textFillState_:null,d=this.textStates[e]||this.textState_,g=this.pixelRatio,_=d.scale*g,c=f.TEXT_ALIGN[d.textAlign||r.defaultTextAlign],S=l&&h.lineWidth?h.lineWidth:0,p=t.split("\n"),k=p.length,y=[],v=x(d.font,p,y),m=(0,r.measureTextHeight)(d.font),L=m*k,T=v+S,I=(0,i.createCanvasContext2D)(Math.ceil(T*_),Math.ceil((L+S)*_));a=I.canvas,r.labelCache.set(o,a),1!=_&&I.scale(_,_),I.font=d.font,l&&(I.strokeStyle=h.strokeStyle,I.lineWidth=S,I.lineCap=h.lineCap,I.lineJoin=h.lineJoin,I.miterLimit=h.miterLimit,n.CANVAS_LINE_DASH&&h.lineDash.length&&(I.setLineDash(h.lineDash),I.lineDashOffset=h.lineDashOffset)),s&&(I.fillStyle=u.fillStyle),I.textBaseline="middle",I.textAlign="center";var A,O=.5-c,C=c*a.width/_+O*S;if(l)for(A=0;A<k;++A)I.strokeText(p[A],C+O*y[A],.5*(S+m)+A*m);if(s)for(A=0;A<k;++A)I.fillText(p[A],C+O*y[A],.5*(S+m)+A*m)}return r.labelCache.get(o)},d.prototype.drawTextImage_=function(t,e,i){var s=this.textState_,l=this.textStrokeState_,a=this.pixelRatio,n=f.TEXT_ALIGN[s.textAlign||r.defaultTextAlign],h=f.TEXT_ALIGN[s.textBaseline],u=l&&l.lineWidth?l.lineWidth:0,d=n*t.width/a+2*(.5-n)*u,g=h*t.height/a+2*(.5-h)*u;this.instructions.push([o.default.DRAW_IMAGE,e,i,t,(d-this.textOffsetX_)*a,(g-this.textOffsetY_)*a,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,s.padding==r.defaultPadding?r.defaultPadding:s.padding.map(function(t){return t*a}),!!s.backgroundFill,!!s.backgroundStroke]),this.hitDetectionInstructions.push([o.default.DRAW_IMAGE,e,i,t,(d-this.textOffsetX_)*a,(g-this.textOffsetY_)*a,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/a,t.width,s.padding,!!s.backgroundFill,!!s.backgroundStroke])},d.prototype.drawChars_=function(t,e,i){var s=this.textStrokeState_,l=this.textState_,a=this.textFillState_,n=this.strokeKey_;s&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:s.strokeStyle,lineCap:s.lineCap,lineDashOffset:s.lineDashOffset,lineWidth:s.lineWidth,lineJoin:s.lineJoin,miterLimit:s.miterLimit,lineDash:s.lineDash}));var h=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:l.font,textAlign:l.textAlign||r.defaultTextAlign,scale:l.scale});var u=this.fillKey_;a&&(u in this.fillStates||(this.fillStates[u]={fillStyle:a.fillStyle}));var d=this.pixelRatio,g=f.TEXT_ALIGN[l.textBaseline],x=this.textOffsetY_*d,_=this.text_,c=l.font,S=l.scale,p=s?s.lineWidth*S/2:0,k=this.widths_[c];k||(this.widths_[c]=k={}),this.instructions.push([o.default.DRAW_CHARS,t,e,g,i,l.overflow,u,l.maxAngle,function(t){var e=k[t];return e||(e=k[t]=(0,r.measureTextWidth)(c,t)),e*S*d},x,n,p*d,_,h,1]),this.hitDetectionInstructions.push([o.default.DRAW_CHARS,t,e,g,i,l.overflow,u,l.maxAngle,function(t){var e=k[t];return e||(e=k[t]=(0,r.measureTextWidth)(c,t)),e*S},x,n,p,_,h,1/d])},d.prototype.setTextStyle=function(i,s){var l,a,n;if(i){this.declutterGroup_=s;var o=i.getFill();o?((a=this.textFillState_)||(a=this.textFillState_={}),a.fillStyle=(0,e.asColorLike)(o.getColor()||r.defaultFillStyle)):a=this.textFillState_=null;var h=i.getStroke();if(h){(n=this.textStrokeState_)||(n=this.textStrokeState_={});var f=h.getLineDash(),u=h.getLineDashOffset(),d=h.getWidth(),g=h.getMiterLimit();n.lineCap=h.getLineCap()||r.defaultLineCap,n.lineDash=f?f.slice():r.defaultLineDash,n.lineDashOffset=void 0===u?r.defaultLineDashOffset:u,n.lineJoin=h.getLineJoin()||r.defaultLineJoin,n.lineWidth=void 0===d?r.defaultLineWidth:d,n.miterLimit=void 0===g?r.defaultMiterLimit:g,n.strokeStyle=(0,e.asColorLike)(h.getColor()||r.defaultStrokeStyle)}else n=this.textStrokeState_=null;l=this.textState_;var x=i.getFont()||r.defaultFont;(0,r.checkFont)(x);var _=i.getScale();l.overflow=i.getOverflow(),l.font=x,l.maxAngle=i.getMaxAngle(),l.placement=i.getPlacement(),l.textAlign=i.getTextAlign(),l.textBaseline=i.getTextBaseline()||r.defaultTextBaseline,l.backgroundFill=i.getBackgroundFill(),l.backgroundStroke=i.getBackgroundStroke(),l.padding=i.getPadding()||r.defaultPadding,l.scale=void 0===_?1:_;var c=i.getOffsetX(),S=i.getOffsetY(),p=i.getRotateWithView(),k=i.getRotation();this.text_=i.getText()||"",this.textOffsetX_=void 0===c?0:c,this.textOffsetY_=void 0===S?0:S,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0===k?0:k,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:(0,t.getUid)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=l.font+l.scale+(l.textAlign||"?"),this.fillKey_=a?"string"==typeof a.fillStyle?a.fillStyle:"|"+(0,t.getUid)(a.fillStyle):""}else this.text_=""},d}(h.default);function x(t,e,i){for(var s=e.length,l=0,a=0;a<s;++a){var n=(0,r.measureTextWidth)(t,e[a]);l=Math.max(l,n),i.push(n)}return l}var _=g;exports.default=_;
},{"../../util.js":"KniQ","../../colorlike.js":"V5XN","../../dom.js":"Xno5","../../extent.js":"QDir","../../geom/flat/straightchunk.js":"hCfl","../../geom/GeometryType.js":"lmV0","../../has.js":"f3Nv","../canvas.js":"iAG7","./Instruction.js":"kTJv","./Replay.js":"zweS","../replay.js":"FzwX","../../style/TextPlacement.js":"AXKs"}],"TGed":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCircleArray=m,exports.replayDeclutter=g,exports.default=void 0;var e=require("../../array.js"),t=require("../../dom.js"),r=require("../../extent.js"),i=require("../../geom/flat/transform.js"),o=require("../../obj.js"),a=y(require("../ReplayGroup.js")),n=y(require("../ReplayType.js")),s=y(require("./Replay.js")),l=y(require("./ImageReplay.js")),u=y(require("./LineStringReplay.js")),p=y(require("./PolygonReplay.js")),f=y(require("./TextReplay.js")),c=require("../replay.js"),h=require("../../transform.js");function y(e){return e&&e.__esModule?e:{default:e}}var d={Circle:p.default,Default:s.default,Image:l.default,LineString:u.default,Polygon:p.default,Text:f.default},v=function(a){function s(e,r,i,o,n,s,l){a.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=r,this.overlaps_=n,this.pixelRatio_=o,this.resolution_=i,this.renderBuffer_=l,this.replaysByZIndex_={},this.hitDetectionContext_=(0,t.createCanvasContext2D)(1,1),this.hitDetectionTransform_=(0,h.create)()}return a&&(s.__proto__=a),s.prototype=Object.create(a&&a.prototype),s.prototype.constructor=s,s.prototype.addDeclutter=function(e){var t=null;return this.declutterTree_&&(e?(t=this.declutterGroup_)[4]++:(t=this.declutterGroup_=(0,r.createEmpty)()).push(1)),t},s.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},s.prototype.hasReplays=function(e){for(var t in this.replaysByZIndex_)for(var r=this.replaysByZIndex_[t],i=0,o=e.length;i<o;++i)if(e[i]in r)return!0;return!1},s.prototype.finish=function(){for(var e in this.replaysByZIndex_){var t=this.replaysByZIndex_[e];for(var r in t)t[r].finish()}},s.prototype.forEachFeatureAtCoordinate=function(t,i,o,a,s,l,u){var p,f=2*(a=Math.round(a))+1,y=(0,h.compose)(this.hitDetectionTransform_,a+.5,a+.5,1/i,-1/i,-o,-t[0],-t[1]),d=this.hitDetectionContext_;d.canvas.width!==f||d.canvas.height!==f?(d.canvas.width=f,d.canvas.height=f):d.clearRect(0,0,f,f),void 0!==this.renderBuffer_&&(p=(0,r.createEmpty)(),(0,r.extendCoordinate)(p,t),(0,r.buffer)(p,i*(this.renderBuffer_+a),p));var v,_,x=m(a);function g(e){for(var t=d.getImageData(0,0,f,f).data,r=0;r<f;r++)for(var i=0;i<f;i++)if(x[r][i]&&t[4*(i*f+r)+3]>0){var o=void 0;return(!v||_!=n.default.IMAGE&&_!=n.default.TEXT||-1!==v.indexOf(e))&&(o=l(e)),o||void d.clearRect(0,0,f,f)}}this.declutterTree_&&(v=this.declutterTree_.all().map(function(e){return e.value}));var j,R,T,I,E,B=Object.keys(this.replaysByZIndex_).map(Number);for(B.sort(e.numberSafeCompareFunction),j=B.length-1;j>=0;--j){var C=B[j].toString();for(T=this.replaysByZIndex_[C],R=c.ORDER.length-1;R>=0;--R)if(void 0!==(I=T[_=c.ORDER[R]]))if(!u||_!=n.default.IMAGE&&_!=n.default.TEXT){if(E=I.replayHitDetection(d,y,o,s,g,p))return E}else{var b=u[C];b?b.push(I,y.slice(0)):u[C]=[I,y.slice(0)]}}},s.prototype.getClipCoords=function(e){var t=this.maxExtent_,r=t[0],o=t[1],a=t[2],n=t[3],s=[r,o,r,n,a,n,a,o];return(0,i.transform2D)(s,0,8,2,e,s),s},s.prototype.getReplay=function(e,t){var r=void 0!==e?e.toString():"0",i=this.replaysByZIndex_[r];void 0===i&&(i={},this.replaysByZIndex_[r]=i);var o=i[t];void 0===o&&(o=new(0,d[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[t]=o);return o},s.prototype.getReplays=function(){return this.replaysByZIndex_},s.prototype.isEmpty=function(){return(0,o.isEmpty)(this.replaysByZIndex_)},s.prototype.replay=function(t,r,i,o,a,s,l){var u=Object.keys(this.replaysByZIndex_).map(Number);u.sort(e.numberSafeCompareFunction),t.save(),this.clip(t,r);var p,f,h,y,d,v,_=s||c.ORDER;for(p=0,f=u.length;p<f;++p){var x=u[p].toString();for(d=this.replaysByZIndex_[x],h=0,y=_.length;h<y;++h){var m=_[h];if(v=d[m],void 0!==v)if(!l||m!=n.default.IMAGE&&m!=n.default.TEXT)v.replay(t,r,i,o,a);else{var g=l[x];g?g.push(v,r.slice(0)):l[x]=[v,r.slice(0)]}}}t.restore()},s}(a.default),_={0:[[!0]]};function x(e,t,r){var i,o=Math.floor(e.length/2);if(t>=o)for(i=o;i<t;i++)e[i][r]=!0;else if(t<o)for(i=t+1;i<o;i++)e[i][r]=!0}function m(e){if(void 0!==_[e])return _[e];for(var t=2*e+1,r=new Array(t),i=0;i<t;i++)r[i]=new Array(t);for(var o=e,a=0,n=0;o>=a;)x(r,e+o,e+a),x(r,e+a,e+o),x(r,e-a,e+o),x(r,e-o,e+a),x(r,e-o,e-a),x(r,e-a,e-o),x(r,e+a,e-o),x(r,e+o,e-a),2*((n+=1+2*++a)-o)+1>0&&(n+=1-2*(o-=1));return _[e]=r,r}function g(t,r,i,o){for(var a=Object.keys(t).map(Number).sort(e.numberSafeCompareFunction),n={},s=0,l=a.length;s<l;++s)for(var u=t[a[s].toString()],p=0,f=u.length;p<f;){var c=u[p++],h=u[p++];c.replay(r,h,i,n,o)}}var j=v;exports.default=j;
},{"../../array.js":"luEr","../../dom.js":"Xno5","../../extent.js":"QDir","../../geom/flat/transform.js":"LGwr","../../obj.js":"mH6q","../ReplayGroup.js":"TK0U","../ReplayType.js":"D882","./Replay.js":"zweS","./ImageReplay.js":"Nwxo","./LineStringReplay.js":"Z7Pq","./PolygonReplay.js":"s4Hb","./TextReplay.js":"Bp20","../replay.js":"FzwX","../../transform.js":"P4eA"}],"UCah":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultOrder=d,exports.getSquaredTolerance=i,exports.getTolerance=u,exports.renderFeature=o;var e=require("../util.js"),t=l(require("../ImageState.js")),r=l(require("../geom/GeometryType.js")),a=l(require("../render/ReplayType.js"));function l(e){return e&&e.__esModule?e:{default:e}}var g=.5,n={Point:s,LineString:v,Polygon:p,MultiPoint:c,MultiLineString:I,MultiPolygon:S,GeometryCollection:x,Circle:f};function d(t,r){return parseInt((0,e.getUid)(t),10)-parseInt((0,e.getUid)(r),10)}function i(e,t){var r=u(e,t);return r*r}function u(e,t){return g*e/t}function f(e,t,r,l){var g=r.getFill(),n=r.getStroke();if(g||n){var d=e.getReplay(r.getZIndex(),a.default.CIRCLE);d.setFillStrokeStyle(g,n),d.drawCircle(t,l)}var i=r.getText();if(i){var u=e.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!1)),u.drawText(t,l)}}function o(e,r,a,l,g,n){var d=!1,i=a.getImage();if(i){var u=i.getImageState();u==t.default.LOADED||u==t.default.ERROR?i.unlistenImageChange(g,n):(u==t.default.IDLE&&i.load(),u=i.getImageState(),i.listenImageChange(g,n),d=!0)}return T(e,r,a,l),d}function T(e,t,r,a){var l=r.getGeometryFunction()(t);if(l){var g=l.getSimplifiedGeometry(a);if(r.getRenderer())y(e,g,r,t);else(0,n[g.getType()])(e,g,r,t)}}function y(e,t,l,g){if(t.getType()!=r.default.GEOMETRY_COLLECTION)e.getReplay(l.getZIndex(),a.default.DEFAULT).drawCustom(t,g,l.getRenderer());else for(var n=t.getGeometries(),d=0,i=n.length;d<i;++d)y(e,n[d],l,g)}function x(e,t,r,a){var l,g,d=t.getGeometriesArray();for(l=0,g=d.length;l<g;++l){(0,n[d[l].getType()])(e,d[l],r,a)}}function v(e,t,r,l){var g=r.getStroke();if(g){var n=e.getReplay(r.getZIndex(),a.default.LINE_STRING);n.setFillStrokeStyle(null,g),n.drawLineString(t,l)}var d=r.getText();if(d){var i=e.getReplay(r.getZIndex(),a.default.TEXT);i.setTextStyle(d,e.addDeclutter(!1)),i.drawText(t,l)}}function I(e,t,r,l){var g=r.getStroke();if(g){var n=e.getReplay(r.getZIndex(),a.default.LINE_STRING);n.setFillStrokeStyle(null,g),n.drawMultiLineString(t,l)}var d=r.getText();if(d){var i=e.getReplay(r.getZIndex(),a.default.TEXT);i.setTextStyle(d,e.addDeclutter(!1)),i.drawText(t,l)}}function S(e,t,r,l){var g=r.getFill(),n=r.getStroke();if(n||g){var d=e.getReplay(r.getZIndex(),a.default.POLYGON);d.setFillStrokeStyle(g,n),d.drawMultiPolygon(t,l)}var i=r.getText();if(i){var u=e.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!1)),u.drawText(t,l)}}function s(e,r,l,g){var n=l.getImage();if(n){if(n.getImageState()!=t.default.LOADED)return;var d=e.getReplay(l.getZIndex(),a.default.IMAGE);d.setImageStyle(n,e.addDeclutter(!1)),d.drawPoint(r,g)}var i=l.getText();if(i){var u=e.getReplay(l.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!!n)),u.drawText(r,g)}}function c(e,r,l,g){var n=l.getImage();if(n){if(n.getImageState()!=t.default.LOADED)return;var d=e.getReplay(l.getZIndex(),a.default.IMAGE);d.setImageStyle(n,e.addDeclutter(!1)),d.drawMultiPoint(r,g)}var i=l.getText();if(i){var u=e.getReplay(l.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!!n)),u.drawText(r,g)}}function p(e,t,r,l){var g=r.getFill(),n=r.getStroke();if(g||n){var d=e.getReplay(r.getZIndex(),a.default.POLYGON);d.setFillStrokeStyle(g,n),d.drawPolygon(t,l)}var i=r.getText();if(i){var u=e.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!1)),u.drawText(t,l)}}
},{"../util.js":"KniQ","../ImageState.js":"u3kG","../geom/GeometryType.js":"lmV0","../render/ReplayType.js":"D882"}],"F2e3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=c(require("../../LayerType.js")),r=c(require("../../ViewHint.js")),a=require("../../dom.js"),i=require("../../events.js"),n=c(require("../../events/EventType.js")),o=c(require("rbush")),s=require("../../extent.js"),l=c(require("../../render/EventType.js")),d=require("../../render/canvas.js"),h=c(require("../../render/canvas/ReplayGroup.js")),u=c(require("./Layer.js")),p=require("../vector.js");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(t){function u(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?(0,o.default)(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,s.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=(0,a.createCanvasContext2D)(),(0,i.listen)(d.labelCache,n.default.CLEAR,this.handleFontsChanged_,this)}return t&&(u.__proto__=t),u.prototype=Object.create(t&&t.prototype),u.prototype.constructor=u,u.prototype.disposeInternal=function(){(0,i.unlisten)(d.labelCache,n.default.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},u.prototype.compose=function(e,t,a){var i=t.extent,n=t.pixelRatio,o=a.managed?t.skippedFeatureUids:{},h=t.viewState,u=h.projection,p=h.rotation,c=u.getExtent(),f=this.getLayer().getSource(),g=this.getTransform(t,0),v=a.extent,y=void 0!==v;y&&this.clip(e,t,v);var _=this.replayGroup_;if(_&&!_.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var x,E=this.getLayer(),R=0,m=0,A=1!==a.opacity,C=E.hasListener(l.default.RENDER);if(A||C){var T=e.canvas.width,I=e.canvas.height;if(p){var j=Math.round(Math.sqrt(T*T+I*I));R=(j-T)/2,m=(j-I)/2,T=I=j}this.context.canvas.width=T,this.context.canvas.height=I,x=this.context}else x=e;var F=x.globalAlpha;A||(x.globalAlpha=a.opacity),x!=e&&x.translate(R,m);var q=t.viewHints,b=!(q[r.default.ANIMATING]||q[r.default.INTERACTING]),G=t.size[0]*n,w=t.size[1]*n;if((0,d.rotateAtOffset)(x,-p,G/2,w/2),_.replay(x,g,p,o,b),f.getWrapX()&&u.canWrapX()&&!(0,s.containsExtent)(c,i)){for(var S,N=i[0],O=(0,s.getWidth)(c),L=0;N<c[0];)S=O*--L,g=this.getTransform(t,S),_.replay(x,g,p,o,b),N+=O;for(L=0,N=i[2];N>c[2];)S=O*++L,g=this.getTransform(t,S),_.replay(x,g,p,o,b),N-=O}if((0,d.rotateAtOffset)(x,p,G/2,w/2),C&&this.dispatchRenderEvent(x,t,g),x!=e){if(A){var W=e.globalAlpha;e.globalAlpha=a.opacity,e.drawImage(x.canvas,-R,-m),e.globalAlpha=W}else e.drawImage(x.canvas,-R,-m);x.translate(-R,-m)}A||(x.globalAlpha=F)}y&&e.restore()},u.prototype.composeFrame=function(e,t,r){var a=this.getTransform(e,0);this.preCompose(r,e,a),this.compose(r,e,t),this.postCompose(r,e,t,a)},u.prototype.forEachFeatureAtCoordinate=function(t,r,a,i,n){if(this.replayGroup_){var o=r.viewState.resolution,s=r.viewState.rotation,l=this.getLayer(),d={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,a,{},function(t){var r=(0,e.getUid)(t);if(!(r in d))return d[r]=!0,i.call(n,t,l)},null)}},u.prototype.handleFontsChanged_=function(e){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},u.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},u.prototype.prepareFrame=function(e,t){var a=this.getLayer(),i=a.getSource(),n=e.viewHints[r.default.ANIMATING],o=e.viewHints[r.default.INTERACTING],l=a.getUpdateWhileAnimating(),d=a.getUpdateWhileInteracting();if(!this.dirty_&&!l&&n||!d&&o)return!0;var u=e.extent,c=e.viewState,f=c.projection,g=c.resolution,v=e.pixelRatio,y=a.getRevision(),_=a.getRenderBuffer(),x=a.getRenderOrder();void 0===x&&(x=p.defaultOrder);var E=(0,s.buffer)(u,_*g),R=c.projection.getExtent();if(i.getWrapX()&&c.projection.canWrapX()&&!(0,s.containsExtent)(R,e.extent)){var m=(0,s.getWidth)(R),A=Math.max((0,s.getWidth)(E)/2,m);E[0]=R[0]-A,E[2]=R[2]+A}if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==y&&this.renderedRenderOrder_==x&&(0,s.containsExtent)(this.renderedExtent_,E))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var C=new h.default((0,p.getTolerance)(g,v),E,g,v,i.getOverlaps(),this.declutterTree_,a.getRenderBuffer());i.loadFeatures(E,g,f);var T=function(e){var t,r=e.getStyleFunction()||a.getStyleFunction();if(r&&(t=r(e,g)),t){var i=this.renderFeature(e,g,v,t,C);this.dirty_=this.dirty_||i}}.bind(this);if(x){var I=[];i.forEachFeatureInExtent(E,function(e){I.push(e)}),I.sort(x);for(var j=0,F=I.length;j<F;++j)T(I[j])}else i.forEachFeatureInExtent(E,T);return C.finish(),this.renderedResolution_=g,this.renderedRevision_=y,this.renderedRenderOrder_=x,this.renderedExtent_=E,this.replayGroup_=C,this.replayGroupChanged=!0,!0},u.prototype.renderFeature=function(e,t,r,a,i){if(!a)return!1;var n=!1;if(Array.isArray(a))for(var o=0,s=a.length;o<s;++o)n=(0,p.renderFeature)(i,e,a[o],(0,p.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this)||n;else n=(0,p.renderFeature)(i,e,a,(0,p.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this);return n},u}(u.default);f.handles=function(e){return e.getType()===t.default.VECTOR},f.create=function(e,t){return new f(t)};var g=f;exports.default=g;
},{"../../util.js":"KniQ","../../LayerType.js":"bQ7c","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../events.js":"UqnM","../../events/EventType.js":"C8cu","rbush":"y0Xa","../../extent.js":"QDir","../../render/EventType.js":"z39m","../../render/canvas.js":"iAG7","../../render/canvas/ReplayGroup.js":"TGed","./Layer.js":"vPfl","../vector.js":"UCah"}],"Q2C4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};exports.default=e;
},{}],"UST7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=C(require("../../LayerType.js")),r=C(require("../../TileState.js")),i=C(require("../../ViewHint.js")),o=require("../../dom.js"),n=require("../../events.js"),a=C(require("../../events/EventType.js")),l=C(require("rbush")),s=require("../../extent.js"),d=C(require("../../layer/VectorTileRenderType.js")),u=require("../../proj.js"),p=C(require("../../proj/Units.js")),f=C(require("../../render/ReplayType.js")),g=require("../../render/canvas.js"),h=E(require("../../render/canvas/ReplayGroup.js")),c=require("../../render/replay.js"),y=C(require("./TileLayer.js")),v=require("../vector.js"),T=require("../../transform.js");function R(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return R=function(){return e},e}function E(e){if(e&&e.__esModule)return e;var t=R();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=i?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(r,o,n):r[o]=e[o]}}return r.default=e,t&&t.set(e,r),r}function C(e){return e&&e.__esModule?e:{default:e}}var _={image:[f.default.POLYGON,f.default.CIRCLE,f.default.LINE_STRING,f.default.IMAGE,f.default.TEXT],hybrid:[f.default.POLYGON,f.default.LINE_STRING]},j={image:[f.default.DEFAULT],hybrid:[f.default.IMAGE,f.default.TEXT,f.default.DEFAULT],vector:c.ORDER},m=function(t){function f(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?(0,l.default)(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=(0,T.create)();var r=e.getRenderMode();this.zDirection=r===d.default.VECTOR?1:0,r!==d.default.VECTOR&&(this.context=(0,o.createCanvasContext2D)()),(0,n.listen)(g.labelCache,a.default.CLEAR,this.handleFontsChanged_,this)}return t&&(f.__proto__=t),f.prototype=Object.create(t&&t.prototype),f.prototype.constructor=f,f.prototype.disposeInternal=function(){(0,n.unlisten)(g.labelCache,a.default.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},f.prototype.getTile=function(e,i,o,n,a){var l=t.prototype.getTile.call(this,e,i,o,n,a);return l.getState()===r.default.LOADED&&(this.createReplayGroup_(l,n,a),this.context&&this.renderTileImage_(l,n,a)),l},f.prototype.getTileImage=function(e){var t=this.getLayer();return e.getImage(t)},f.prototype.prepareFrame=function(e,r){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,r)},f.prototype.createReplayGroup_=function(e,t,i){var o=this,n=this.getLayer(),a=n.getRevision(),l=n.getRenderOrder()||null,d=e.getReplayState(n);if(d.dirty||d.renderedRevision!=a||d.renderedRenderOrder!=l){for(var f=n.getSource(),g=f.getTileGrid(),c=f.getTileGridForProjection(i).getResolution(e.tileCoord[0]),y=e.extent,T=function(a,T){var R=e.getTile(e.tileKeys[a]);if(R.getState()==r.default.LOADED){var E=R.tileCoord,C=g.getTileCoordExtent(E),_=(0,s.getIntersection)(y,C),j=(0,s.equals)(C,_)?null:(0,s.buffer)(_,n.getRenderBuffer()*c,o.tmpExtent),m=R.getProjection(),L=!1;(0,u.equivalent)(i,m)||(L=!0,R.setProjection(i)),d.dirty=!1;var S=new h.default(0,_,c,t,f.getOverlaps(),o.declutterTree_,n.getRenderBuffer()),O=(0,v.getSquaredTolerance)(c,t),x=function(e){var t,r=e.getStyleFunction()||n.getStyleFunction();if(r&&(t=r(e,c)),t){var i=this.renderFeature(e,O,t,S);this.dirty_=this.dirty_||i,d.dirty=d.dirty||i}},I=R.getFeatures();l&&l!==d.renderedRenderOrder&&I.sort(l);for(var A=0,G=I.length;A<G;++A){var q=I[A];L&&(m.getUnits()==p.default.TILE_PIXELS&&(m.setWorldExtent(C),m.setExtent(R.getExtent())),q.getGeometry().transform(m,i)),j&&!(0,s.intersects)(j,q.getGeometry().getExtent())||x.call(o,q)}S.finish(),R.setReplayGroup(n,e.tileCoord.toString(),S)}},R=0,E=e.tileKeys.length;R<E;++R)T(R);d.renderedRevision=a,d.renderedRenderOrder=l}},f.prototype.forEachFeatureAtCoordinate=function(t,i,o,n,a){var l=i.viewState.resolution,d=i.viewState.rotation;o=null==o?0:o;var u,p,f,g,h=this.getLayer(),c={},y=this.renderedTiles;for(f=0,g=y.length;f<g;++f){var v=y[f];if(u=(0,s.buffer)(v.extent,o*l,u),(0,s.containsCoordinate)(u,t))for(var T=0,R=v.tileKeys.length;T<R;++T){var E=v.getTile(v.tileKeys[T]);if(E.getState()==r.default.LOADED){var C=E.getReplayGroup(h,v.tileCoord.toString());p=p||C.forEachFeatureAtCoordinate(t,l,d,o,{},function(t){var r=(0,e.getUid)(t);if(!(r in c))return c[r]=!0,n.call(a,t,h)},null)}}}return p},f.prototype.getReplayTransform_=function(e,t){var r=this.getLayer().getSource().getTileGrid(),i=e.tileCoord,o=r.getResolution(i[0]),n=t.viewState,a=t.pixelRatio,l=n.resolution/a,d=r.getTileCoordExtent(i,this.tmpExtent),u=n.center,p=(0,s.getTopLeft)(d),f=t.size,g=Math.round(a*f[0]/2),h=Math.round(a*f[1]/2);return(0,T.compose)(this.tmpTransform_,g,h,o/l,o/l,n.rotation,(p[0]-u[0])/o,(u[1]-p[1])/o)},f.prototype.handleFontsChanged_=function(e){var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},f.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},f.prototype.postCompose=function(e,o,n){var a=this.getLayer(),l=a.getRenderMode();if(l!=d.default.IMAGE){var s,u,p=a.getDeclutter()?{}:null,f=a.getSource(),c=j[l],y=o.pixelRatio,v=o.viewState.rotation,T=o.size;v&&(s=Math.round(y*T[0]/2),u=Math.round(y*T[1]/2),(0,g.rotateAtOffset)(e,-v,s,u)),p&&this.declutterTree_.clear();for(var R=o.viewHints,E=!(R[i.default.ANIMATING]||R[i.default.INTERACTING]),C=this.renderedTiles,_=f.getTileGridForProjection(o.viewState.projection),m=[],L=[],S=C.length-1;S>=0;--S){var O=C[S];if(O.getState()!=r.default.ABORT)for(var x=O.tileCoord,I=_.getTileCoordExtent(x,this.tmpExtent)[0]-O.extent[0],A=void 0,G=0,q=O.tileKeys.length;G<q;++G){var D=O.getTile(O.tileKeys[G]);if(D.getState()==r.default.LOADED){var F=D.getReplayGroup(a,x.toString());if(F&&F.hasReplays(c)){A||(A=this.getTransform(o,I));var b=D.tileCoord[0],M=F.getClipCoords(A);e.save(),e.globalAlpha=n.opacity;for(var P=0,w=m.length;P<w;++P){var N=m[P];b<L[P]&&(e.beginPath(),e.moveTo(M[0],M[1]),e.lineTo(M[2],M[3]),e.lineTo(M[4],M[5]),e.lineTo(M[6],M[7]),e.moveTo(N[6],N[7]),e.lineTo(N[4],N[5]),e.lineTo(N[2],N[3]),e.lineTo(N[0],N[1]),e.clip())}F.replay(e,A,v,{},E,c,p),e.restore(),m.push(M),L.push(b)}}}}p&&(0,h.replayDeclutter)(p,e,v,E),v&&(0,g.rotateAtOffset)(e,v,s,u)}t.prototype.postCompose.call(this,e,o,n)},f.prototype.renderFeature=function(e,t,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var n=0,a=r.length;n<a;++n)o=(0,v.renderFeature)(i,e,r[n],t,this.handleStyleImageChange_,this)||o;else o=(0,v.renderFeature)(i,e,r,t,this.handleStyleImageChange_,this);return o},f.prototype.renderTileImage_=function(e,t,i){var o=this.getLayer(),n=e.getReplayState(o),a=o.getRevision(),l=_[o.getRenderMode()];if(l&&n.renderedTileRevision!==a){n.renderedTileRevision=a;var s=e.wrappedTileCoord,d=s[0],u=o.getSource(),p=u.getTileGridForProjection(i),f=p.getResolution(d),g=e.getContext(o),h=u.getTilePixelSize(d,t,i);g.canvas.width=h[0],g.canvas.height=h[1];for(var c=p.getTileCoordExtent(s,this.tmpExtent),y=0,v=e.tileKeys.length;y<v;++y){var R=e.getTile(e.tileKeys[y]);if(R.getState()==r.default.LOADED){var E=t/f,C=(0,T.reset)(this.tmpTransform_);(0,T.scale)(C,E,-E),(0,T.translate)(C,-c[0],-c[3]),R.getReplayGroup(o,e.tileCoord.toString()).replay(g,C,0,{},!0,l)}}}},f}(y.default);m.handles=function(e){return e.getType()===t.default.VECTOR_TILE},m.create=function(e,t){return new m(t)};var L=m;exports.default=L;
},{"../../util.js":"KniQ","../../LayerType.js":"bQ7c","../../TileState.js":"Xz9x","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../events.js":"UqnM","../../events/EventType.js":"C8cu","rbush":"y0Xa","../../extent.js":"QDir","../../layer/VectorTileRenderType.js":"Q2C4","../../proj.js":"Diht","../../proj/Units.js":"yZx6","../../render/ReplayType.js":"D882","../../render/canvas.js":"iAG7","../../render/canvas/ReplayGroup.js":"TGed","../../render/replay.js":"FzwX","./TileLayer.js":"hkMV","../vector.js":"UCah","../../transform.js":"P4eA"}],"kYy5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("./PluggableMap.js")),r=require("./control/util.js"),t=require("./interaction.js"),a=require("./obj.js"),n=c(require("./renderer/canvas/ImageLayer.js")),o=c(require("./renderer/canvas/Map.js")),s=c(require("./renderer/canvas/TileLayer.js")),u=c(require("./renderer/canvas/VectorLayer.js")),i=c(require("./renderer/canvas/VectorTileLayer.js"));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function c(n){(n=(0,a.assign)({},n)).controls||(n.controls=(0,r.defaults)()),n.interactions||(n.interactions=(0,t.defaults)()),e.call(this,n)}return e&&(c.__proto__=e),c.prototype=Object.create(e&&e.prototype),c.prototype.constructor=c,c.prototype.createRenderer=function(){var e=new o.default(this);return e.registerLayerRenderers([n.default,s.default,u.default,i.default]),e},c}(e.default),d=l;exports.default=d;
},{"./PluggableMap.js":"kRwz","./control/util.js":"uzbE","./interaction.js":"aMDX","./obj.js":"mH6q","./renderer/canvas/ImageLayer.js":"rzNj","./renderer/canvas/Map.js":"vJhp","./renderer/canvas/TileLayer.js":"hkMV","./renderer/canvas/VectorLayer.js":"F2e3","./renderer/canvas/VectorTileLayer.js":"UST7"}],"VpAM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"};exports.default=t;
},{}],"qWcX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=d(require("./MapEventType.js")),e=h(require("./Object.js")),i=d(require("./OverlayPositioning.js")),n=require("./css.js"),o=require("./dom.js"),s=require("./events.js"),r=require("./extent.js");function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function h(t){if(t&&t.__esModule)return t;var e=a();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=n?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}}return i.default=t,e&&e.set(t,i),i}function d(t){return t&&t.__esModule?t:{default:t}}var p={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},l=function(a){function h(t){a.call(this),this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+n.CLASS_SELECTABLE,this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,(0,s.listen)(this,(0,e.getChangeEventType)(p.ELEMENT),this.handleElementChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(p.MAP),this.handleMapChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(p.OFFSET),this.handleOffsetChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(p.POSITION),this.handlePositionChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(p.POSITIONING),this.handlePositioningChanged,this),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(void 0!==t.positioning?t.positioning:i.default.TOP_LEFT),void 0!==t.position&&this.setPosition(t.position)}return a&&(h.__proto__=a),h.prototype=Object.create(a&&a.prototype),h.prototype.constructor=h,h.prototype.getElement=function(){return this.get(p.ELEMENT)},h.prototype.getId=function(){return this.id},h.prototype.getMap=function(){return this.get(p.MAP)},h.prototype.getOffset=function(){return this.get(p.OFFSET)},h.prototype.getPosition=function(){return this.get(p.POSITION)},h.prototype.getPositioning=function(){return this.get(p.POSITIONING)},h.prototype.handleElementChanged=function(){(0,o.removeChildren)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},h.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,o.removeNode)(this.element),(0,s.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,s.listen)(e,t.default.POSTRENDER,this.render,this),this.updatePixelPosition();var i=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?i.insertBefore(this.element,i.childNodes[0]||null):i.appendChild(this.element)}},h.prototype.render=function(){this.updatePixelPosition()},h.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},h.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(p.POSITION)&&this.autoPan&&this.panIntoView()},h.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},h.prototype.setElement=function(t){this.set(p.ELEMENT,t)},h.prototype.setMap=function(t){this.set(p.MAP,t)},h.prototype.setOffset=function(t){this.set(p.OFFSET,t)},h.prototype.setPosition=function(t){this.set(p.POSITION,t)},h.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),n=this.getRect(i,[(0,o.outerWidth)(i),(0,o.outerHeight)(i)]),s=this.autoPanMargin;if(!(0,r.containsExtent)(e,n)){var a=n[0]-e[0],h=e[2]-n[2],d=n[1]-e[1],p=e[3]-n[3],l=[0,0];if(a<0?l[0]=a-s:h<0&&(l[0]=Math.abs(h)+s),d<0?l[1]=d-s:p<0&&(l[1]=Math.abs(p)+s),0!==l[0]||0!==l[1]){var u=t.getView().getCenter(),f=t.getPixelFromCoordinate(u),g=[f[0]+l[0],f[1]+l[1]];t.getView().animate({center:t.getCoordinateFromPixel(g),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},h.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[n,o,n+e[0],o+e[1]]},h.prototype.setPositioning=function(t){this.set(p.POSITIONING,t)},h.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},h.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}else this.setVisible(!1)},h.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,o=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var r=o[0],a=o[1];if(s==i.default.BOTTOM_RIGHT||s==i.default.CENTER_RIGHT||s==i.default.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var h=Math.round(e[0]-t[0]-r)+"px";this.rendered.right_!=h&&(this.rendered.right_=n.right=h)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),s!=i.default.BOTTOM_CENTER&&s!=i.default.CENTER_CENTER&&s!=i.default.TOP_CENTER||(r-=this.element.offsetWidth/2);var d=Math.round(t[0]+r)+"px";this.rendered.left_!=d&&(this.rendered.left_=n.left=d)}if(s==i.default.BOTTOM_LEFT||s==i.default.BOTTOM_CENTER||s==i.default.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var p=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=p&&(this.rendered.bottom_=n.bottom=p)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),s!=i.default.CENTER_LEFT&&s!=i.default.CENTER_CENTER&&s!=i.default.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var l=Math.round(t[1]+a)+"px";this.rendered.top_!=l&&(this.rendered.top_=n.top=l)}},h.prototype.getOptions=function(){return this.options},h}(e.default),u=l;exports.default=u;
},{"./MapEventType.js":"xLGm","./Object.js":"PhPh","./OverlayPositioning.js":"VpAM","./css.js":"HgMV","./dom.js":"Xno5","./events.js":"UqnM","./extent.js":"QDir"}],"faTr":[function(require,module,exports) {
"use strict";function e(e,t,r,n){return void 0!==n?(n[0]=e,n[1]=t,n[2]=r,n):[e,t,r]}function t(e,t,r){return e+"/"+t+"/"+r}function r(e){return t(e[0],e[1],e[2])}function n(e){return e.split("/").map(Number)}function o(e){return(e[1]<<e[0])+e[2]}function u(e){var t,r,n=e[0],o=new Array(n),u=1<<n-1;for(t=0;t<n;++t)r=48,e[1]&u&&(r+=1),e[2]&u&&(r+=2),o[t]=String.fromCharCode(r),u>>=1;return o.join("")}function i(e,t){var r=e[0],n=e[1],o=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;var u,i=t.getExtent();return!(u=i?t.getTileRangeForExtentAndZ(i,r):t.getFullTileRange(r))||u.containsXY(n,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrUpdate=e,exports.getKeyZXY=t,exports.getKey=r,exports.fromKey=n,exports.hash=o,exports.quadKey=u,exports.withinExtentAndZ=i;
},{}],"YFDe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./structs/LRUCache.js")),t=require("./tilecoord.js");function o(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function o(t){e.call(this,t)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.expireCache=function(e){for(;this.canExpireCache();){var t=this.peekLast(),o=t.tileCoord[0].toString();if(o in e&&e[o].contains(t.tileCoord))break;this.pop().dispose()}},o.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=this.peekFirstKey(),o=(0,t.fromKey)(e)[0];this.forEach(function(e){e.tileCoord[0]!==o&&(this.remove((0,t.getKey)(e.tileCoord)),e.dispose())},this)}},o}(e.default),i=r;exports.default=i;
},{"./structs/LRUCache.js":"oMDz","./tilecoord.js":"faTr"}],"xDao":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultLoadFunction=f,exports.default=void 0;var e=require("./util.js"),t=u(require("./Tile.js")),i=u(require("./TileState.js")),s=require("./dom.js"),r=require("./events.js"),n=require("./extent.js"),o=u(require("./events/EventType.js")),l=require("./featureloader.js"),a=require("./functions.js");function u(e){return e&&e.__esModule?e:{default:e}}var h=function(t){function l(e,s,u,h,d,f,c,y,g,p,_,v,L,T,E){if(t.call(this,e,s,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=p,this.tileKeys=[],this.extent=null,this.sourceRevision_=u,this.wrappedTileCoord=f,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],f){var K=this.extent=g.getTileCoordExtent(f),D=g.getResolution(E),R=y.getZForResolution(D),O=E!=e[0],x=0;if(y.forEachTileCoord(K,R,function(e){var t=(0,n.getIntersection)(K,y.getTileCoordExtent(e)),s=y.getExtent();if(s&&(t=(0,n.getIntersection)(t,s,t)),(0,n.getWidth)(t)/D>=.5&&(0,n.getHeight)(t)/D>=.5){++x;var l=e.toString(),a=p[l];if(!a&&!O){var u=c(e,_,v);a=p[l]=new L(e,null==u?i.default.EMPTY:i.default.IDLE,null==u?"":u,h,d),this.sourceTileListenerKeys_.push((0,r.listen)(a,o.default.CHANGE,T))}!a||O&&a.getState()!=i.default.LOADED||(a.consumers++,this.tileKeys.push(l))}}.bind(this)),O&&x==this.tileKeys.length&&this.finishLoading_(),E<=e[0]&&this.state!=i.default.LOADED)for(;E>g.getMinZoom();){var j=new l(e,s,u,h,d,f,c,y,g,p,_,v,L,a.VOID,--E);if(j.state==i.default.LOADED){this.interimTile=j;break}}}}return t&&(l.__proto__=t),l.prototype=Object.create(t&&t.prototype),l.prototype.constructor=l,l.prototype.disposeInternal=function(){this.state=i.default.ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var e=0,s=this.tileKeys.length;e<s;++e){var n=this.tileKeys[e],o=this.getTile(n);o.consumers--,0==o.consumers&&(delete this.sourceTiles_[n],o.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(r.unlistenByKey),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(r.unlistenByKey),this.sourceTileListenerKeys_.length=0,t.prototype.disposeInternal.call(this)},l.prototype.getContext=function(t){var i=(0,e.getUid)(t);return i in this.context_||(this.context_[i]=(0,s.createCanvasContext2D)()),this.context_[i]},l.prototype.getImage=function(e){return-1==this.getReplayState(e).renderedTileRevision?null:this.getContext(e).canvas},l.prototype.getReplayState=function(t){var i=(0,e.getUid)(t);return i in this.replayState_||(this.replayState_[i]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[i]},l.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},l.prototype.getTile=function(e){return this.sourceTiles_[e]},l.prototype.load=function(){var t=0,s={};this.state==i.default.IDLE&&this.setState(i.default.LOADING),this.state==i.default.LOADING&&this.tileKeys.forEach(function(n){var l=this.getTile(n);if(l.state==i.default.IDLE&&(l.setLoader(this.loader_),l.load()),l.state==i.default.LOADING){var a=(0,r.listen)(l,o.default.CHANGE,function(r){var n=l.getState();if(n==i.default.LOADED||n==i.default.ERROR){var o=(0,e.getUid)(l);n==i.default.ERROR?s[o]=!0:(--t,delete s[o]),t-Object.keys(s).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(a),++t}}.bind(this)),t-Object.keys(s).length==0&&setTimeout(this.finishLoading_.bind(this),0)},l.prototype.finishLoading_=function(){for(var e=this.tileKeys.length,t=0,s=e-1;s>=0;--s){var n=this.getTile(this.tileKeys[s]).getState();n!=i.default.LOADED&&--e,n==i.default.EMPTY&&++t}e==this.tileKeys.length?(this.loadListenerKeys_.forEach(r.unlistenByKey),this.loadListenerKeys_.length=0,this.setState(i.default.LOADED)):this.setState(t==this.tileKeys.length?i.default.EMPTY:i.default.ERROR)},l}(t.default),d=h;function f(e,t){var i=(0,l.loadFeaturesXhr)(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(i)}exports.default=d;
},{"./util.js":"KniQ","./Tile.js":"IWZI","./TileState.js":"Xz9x","./dom.js":"Xno5","./events.js":"UqnM","./extent.js":"QDir","./events/EventType.js":"C8cu","./featureloader.js":"U3JP","./functions.js":"RgA2"}],"yj80":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./util.js"),e=r(require("./Tile.js")),o=r(require("./TileState.js"));function r(t){return t&&t.__esModule?t:{default:t}}var i=[0,0,4096,4096],s=function(e){function r(t,o,r,i,s,n){e.call(this,t,o,n),this.consumers=0,this.extent_=null,this.format_=i,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=s,this.url_=r}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=o.default.ABORT,this.changed(),e.prototype.disposeInternal.call(this)},r.prototype.getExtent=function(){return this.extent_||i},r.prototype.getFormat=function(){return this.format_},r.prototype.getFeatures=function(){return this.features_},r.prototype.getKey=function(){return this.url_},r.prototype.getProjection=function(){return this.projection_},r.prototype.getReplayGroup=function(e,o){return this.replayGroups_[(0,t.getUid)(e)+","+o]},r.prototype.load=function(){this.state==o.default.IDLE&&(this.setState(o.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},r.prototype.onLoad=function(t,e,o){this.setProjection(e),this.setFeatures(t),this.setExtent(o)},r.prototype.onError=function(){this.setState(o.default.ERROR)},r.prototype.setExtent=function(t){this.extent_=t},r.prototype.setFeatures=function(t){this.features_=t,this.setState(o.default.LOADED)},r.prototype.setProjection=function(t){this.projection_=t},r.prototype.setReplayGroup=function(e,o,r){this.replayGroups_[(0,t.getUid)(e)+","+o]=r},r.prototype.setLoader=function(t){this.loader_=t},r}(e.default),n=s;exports.default=n;
},{"./util.js":"KniQ","./Tile.js":"IWZI","./TileState.js":"Xz9x"}],"dOoh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./Control.js")),t=require("../css.js"),s=require("../dom.js"),l=require("../events.js"),n=u(require("../events/EventType.js"));function u(e){return e&&e.__esModule?e:{default:e}}var r=function(){var e;return function(){if(!e){var t=document.body;t.webkitRequestFullscreen?e="webkitfullscreenchange":t.mozRequestFullScreen?e="mozfullscreenchange":t.msRequestFullscreen?e="MSFullscreenChange":t.requestFullscreen&&(e="fullscreenchange")}return e}}(),c=function(e){function u(s){var u=s||{};e.call(this,{element:document.createElement("div"),target:u.target}),this.cssClassName_=void 0!==u.className?u.className:"ol-full-screen";var r=void 0!==u.label?u.label:"⤢";this.labelNode_="string"==typeof r?document.createTextNode(r):r;var c=void 0!==u.labelActive?u.labelActive:"×";this.labelActiveNode_="string"==typeof c?document.createTextNode(c):c,this.button_=document.createElement("button");var a=u.tipLabel?u.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,i()),this.button_.setAttribute("type","button"),this.button_.title=a,this.button_.appendChild(this.labelNode_),(0,l.listen)(this.button_,n.default.CLICK,this.handleClick_,this);var d=this.cssClassName_+" "+t.CLASS_UNSELECTABLE+" "+t.CLASS_CONTROL+" "+(o()?"":t.CLASS_UNSUPPORTED),m=this.element;m.className=d,m.appendChild(this.button_),this.keys_=void 0!==u.keys&&u.keys,this.source_=u.source}return e&&(u.__proto__=e),u.prototype=Object.create(e&&e.prototype),u.prototype.constructor=u,u.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},u.prototype.handleFullScreen_=function(){if(o()){var e,t=this.getMap();if(t)if(i())m();else e=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?d(e):a(e)}},u.prototype.handleFullScreenChange_=function(){var e=this.getMap();i()?(this.setClassName_(this.button_,!0),(0,s.replaceNode)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),(0,s.replaceNode)(this.labelNode_,this.labelActiveNode_)),e&&e.updateSize()},u.prototype.setClassName_=function(e,t){var s=this.cssClassName_+"-true",l=this.cssClassName_+"-false",n=t?s:l;e.classList.remove(s),e.classList.remove(l),e.classList.add(n)},u.prototype.setMap=function(t){e.prototype.setMap.call(this,t),t&&this.listenerKeys.push((0,l.listen)(document,r(),this.handleFullScreenChange_,this))},u}(e.default);function o(){var e=document.body;return!!(e.webkitRequestFullscreen||e.mozRequestFullScreen&&document.mozFullScreenEnabled||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)}function i(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function a(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function d(e){e.mozRequestFullScreenWithKeys?e.mozRequestFullScreenWithKeys():e.webkitRequestFullscreen?e.webkitRequestFullscreen():a(e)}function m(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var h=c;exports.default=h;
},{"./Control.js":"xxE2","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"UqnM","../events/EventType.js":"C8cu"}],"Cbl8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=h,exports.default=void 0;var t=require("../events.js"),e=n(require("../events/EventType.js")),o=require("../Object.js"),i=n(require("./Control.js")),r=require("../proj.js");function n(t){return t&&t.__esModule?t:{default:t}}var s="projection",a="coordinateFormat",u=function(i){function n(e){var r=e||{},n=document.createElement("div");n.className=void 0!==r.className?r.className:"ol-mouse-position",i.call(this,{element:n,render:r.render||h,target:r.target}),(0,t.listen)(this,(0,o.getChangeEventType)(s),this.handleProjectionChanged_,this),r.coordinateFormat&&this.setCoordinateFormat(r.coordinateFormat),r.projection&&this.setProjection(r.projection),this.undefinedHTML_=void 0!==r.undefinedHTML?r.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null}return i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n,n.prototype.handleProjectionChanged_=function(){this.transform_=null},n.prototype.getCoordinateFormat=function(){return this.get(a)},n.prototype.getProjection=function(){return this.get(s)},n.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t),this.updateHTML_(this.lastMouseMovePixel_)},n.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},n.prototype.setMap=function(o){if(i.prototype.setMap.call(this,o),o){var r=o.getViewport();this.listenerKeys.push((0,t.listen)(r,e.default.MOUSEMOVE,this.handleMouseMove,this),(0,t.listen)(r,e.default.TOUCHSTART,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,t.listen)(r,e.default.MOUSEOUT,this.handleMouseOut,this),(0,t.listen)(r,e.default.TOUCHEND,this.handleMouseOut,this))}},n.prototype.setCoordinateFormat=function(t){this.set(a,t)},n.prototype.setProjection=function(t){this.set(s,(0,r.get)(t))},n.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var o=this.getProjection();this.transform_=o?(0,r.getTransformFromProjections)(this.mapProjection_,o):r.identityTransform}var i=this.getMap().getCoordinateFromPixel(t);if(i){this.transform_(i,i);var n=this.getCoordinateFormat();e=n?n(i):i.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},n}(i.default);function h(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}var l=u;exports.default=l;
},{"../events.js":"UqnM","../events/EventType.js":"C8cu","../Object.js":"PhPh","./Control.js":"xxE2","../proj.js":"Diht"}],"KMhA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=y,exports.default=void 0;var e=g(require("../Collection.js")),t=g(require("../Map.js")),i=g(require("../MapEventType.js")),o=g(require("../MapProperty.js")),a=require("../Object.js"),s=g(require("../ObjectEventType.js")),l=g(require("../Overlay.js")),n=g(require("../OverlayPositioning.js")),r=g(require("../ViewProperty.js")),p=g(require("./Control.js")),h=require("../coordinate.js"),d=require("../css.js"),c=require("../dom.js"),u=require("../events.js"),v=g(require("../events/EventType.js")),_=require("../extent.js");function g(e){return e&&e.__esModule?e:{default:e}}var m=.75,b=.1,f=function(p){function g(i){var o=i||{};p.call(this,{element:document.createElement("div"),render:o.render||y,target:o.target}),this.collapsed_=void 0===o.collapsed||o.collapsed,this.collapsible_=void 0===o.collapsible||o.collapsible,this.collapsible_||(this.collapsed_=!1);var a=void 0!==o.className?o.className:"ol-overviewmap",s=void 0!==o.tipLabel?o.tipLabel:"Overview map",r=void 0!==o.collapseLabel?o.collapseLabel:"«";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r):this.collapseLabel_=r;var h=void 0!==o.label?o.label:"»";"string"==typeof h?(this.label_=document.createElement("span"),this.label_.textContent=h):this.label_=h;var c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,_=document.createElement("button");_.setAttribute("type","button"),_.title=s,_.appendChild(c),(0,u.listen)(_,v.default.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new t.default({controls:new e.default,interactions:new e.default,view:o.view});var g=this.ovmap_;o.layers&&o.layers.forEach(function(e){g.addLayer(e)}.bind(this));var m=document.createElement("div");m.className="ol-overviewmap-box",m.style.boxSizing="border-box",this.boxOverlay_=new l.default({position:[0,0],positioning:n.default.BOTTOM_LEFT,element:m}),this.ovmap_.addOverlay(this.boxOverlay_);var b=a+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+d.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),f=this.element;f.className=b,f.appendChild(this.ovmapDiv_),f.appendChild(_);var w=this,E=this.boxOverlay_,C=this.boxOverlay_.getElement(),L=function(e){var t,i={clientX:(t=e).clientX-C.offsetWidth/2,clientY:t.clientY+C.offsetHeight/2},o=g.getEventCoordinate(i);E.setPosition(o)},x=function(e){var t=g.getEventCoordinate(e);w.getMap().getView().setCenter(t),window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",x)};C.addEventListener("mousedown",function(){window.addEventListener("mousemove",L),window.addEventListener("mouseup",x)})}return p&&(g.__proto__=p),g.prototype=Object.create(p&&p.prototype),g.prototype.constructor=g,g.prototype.setMap=function(e){var t=this.getMap();if(e!==t){if(t){var i=t.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(p.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,u.listen)(e,s.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var o=e.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},g.prototype.handleMapPropertyChange_=function(e){if(e.key===o.default.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var i=this.getMap().getView();this.bindView_(i)}},g.prototype.bindView_=function(e){(0,u.listen)(e,(0,a.getChangeEventType)(r.default.ROTATION),this.handleRotationChanged_,this)},g.prototype.unbindView_=function(e){(0,u.unlisten)(e,(0,a.getChangeEventType)(r.default.ROTATION),this.handleRotationChanged_,this)},g.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},g.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView().calculateExtent(i),a=t.getSize(),s=t.getView().calculateExtent(a),l=t.getPixelFromCoordinate((0,_.getTopLeft)(o)),n=t.getPixelFromCoordinate((0,_.getBottomRight)(o)),r=Math.abs(l[0]-n[0]),p=Math.abs(l[1]-n[1]),h=a[0],d=a[1];r<h*b||p<d*b||r>h*m||p>d*m?this.resetExtent_():(0,_.containsExtent)(s,o)||this.recenter_()}},g.prototype.resetExtent_=function(){if(0!==m&&0!==b){var e=this.getMap(),t=this.ovmap_,i=e.getSize(),o=e.getView().calculateExtent(i),a=t.getView(),s=Math.log(m/b)/Math.LN2,l=1/(Math.pow(2,s/2)*b);(0,_.scaleFromCenter)(o,l),a.fit(o)}},g.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenter(i.getCenter())},g.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView(),a=t.getView(),s=o.getRotation(),l=this.boxOverlay_,n=this.boxOverlay_.getElement(),r=o.calculateExtent(i),p=a.getResolution(),h=(0,_.getBottomLeft)(r),d=(0,_.getTopRight)(r),c=this.calculateCoordinateRotate_(s,h);l.setPosition(c),n&&(n.style.width=Math.abs((h[0]-d[0])/p)+"px",n.style.height=Math.abs((d[1]-h[1])/p)+"px")}},g.prototype.calculateCoordinateRotate_=function(e,t){var i,o=this.getMap().getView().getCenter();return o&&(i=[t[0]-o[0],t[1]-o[1]],(0,h.rotate)(i,e),(0,h.add)(i,o)),i},g.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},g.prototype.handleToggle_=function(){this.element.classList.toggle(d.CLASS_COLLAPSED),this.collapsed_?(0,c.replaceNode)(this.collapseLabel_,this.label_):(0,c.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;this.collapsed_||e.isRendered()||(e.updateSize(),this.resetExtent_(),(0,u.listenOnce)(e,i.default.POSTRENDER,function(e){this.updateBox_()},this))},g.prototype.getCollapsible=function(){return this.collapsible_},g.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},g.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},g.prototype.getCollapsed=function(){return this.collapsed_},g.prototype.getOverviewMap=function(){return this.ovmap_},g}(p.default);function y(e){this.validateExtent_(),this.updateBox_()}var w=f;exports.default=w;
},{"../Collection.js":"FnDa","../Map.js":"kYy5","../MapEventType.js":"xLGm","../MapProperty.js":"zlNQ","../Object.js":"PhPh","../ObjectEventType.js":"zehl","../Overlay.js":"qWcX","../OverlayPositioning.js":"VpAM","../ViewProperty.js":"cE7c","./Control.js":"xxE2","../coordinate.js":"nGsj","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir"}],"DK5d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=E,exports.default=exports.Units=void 0;var e=require("../Object.js"),t=require("../asserts.js"),i=l(require("./Control.js")),n=require("../css.js"),r=require("../events.js"),s=require("../proj.js"),d=l(require("../proj/Units.js"));function l(e){return e&&e.__esModule?e:{default:e}}var a="units",o={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};exports.Units=o;var h=[1,2,5],u=function(i){function l(t){var s=t||{},d=void 0!==s.className?s.className:"ol-scale-line";i.call(this,{element:document.createElement("div"),render:s.render||E,target:s.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=d+"-inner",this.element.className=d+" "+n.CLASS_UNSELECTABLE,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==s.minWidth?s.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",(0,r.listen)(this,(0,e.getChangeEventType)(a),this.handleUnitsChanged_,this),this.setUnits(s.units||o.METRIC)}return i&&(l.__proto__=i),l.prototype=Object.create(i&&i.prototype),l.prototype.constructor=l,l.prototype.getUnits=function(){return this.get(a)},l.prototype.handleUnitsChanged_=function(){this.updateElement_()},l.prototype.setUnits=function(e){this.set(a,e)},l.prototype.updateElement_=function(){var e=this.viewState_;if(e){var i=e.center,n=e.projection,r=this.getUnits(),l=r==o.DEGREES?d.default.DEGREES:d.default.METERS,a=(0,s.getPointResolution)(n,e.resolution,i,l);n.getUnits()!=d.default.DEGREES&&n.getMetersPerUnit()&&l==d.default.METERS&&(a*=n.getMetersPerUnit());var u=this.minWidth_*a,E="";if(r==o.DEGREES){var _=s.METERS_PER_UNIT[d.default.DEGREES];n.getUnits()==d.default.DEGREES?u*=_:a/=_,u<_/60?(E="″",a*=3600):u<_?(E="′",a*=60):E="°"}else r==o.IMPERIAL?u<.9144?(E="in",a/=.0254):u<1609.344?(E="ft",a/=.3048):(E="mi",a/=1609.344):r==o.NAUTICAL?(a/=1852,E="nm"):r==o.METRIC?u<.001?(E="μm",a*=1e6):u<1?(E="mm",a*=1e3):u<1e3?E="m":(E="km",a/=1e3):r==o.US?u<.9144?(E="in",a*=39.37):u<1609.344?(E="ft",a/=.30480061):(E="mi",a/=1609.3472):(0,t.assert)(!1,33);for(var m,p,c=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));;){if(m=h[(c%3+3)%3]*Math.pow(10,Math.floor(c/3)),p=Math.round(m/a),isNaN(p))return this.element.style.display="none",void(this.renderedVisible_=!1);if(p>=this.minWidth_)break;++c}var f=m+" "+E;this.renderedHTML_!=f&&(this.innerElement_.innerHTML=f,this.renderedHTML_=f),this.renderedWidth_!=p&&(this.innerElement_.style.width=p+"px",this.renderedWidth_=p),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},l}(i.default);function E(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}var _=u;exports.default=_;
},{"../Object.js":"PhPh","../asserts.js":"fLG6","./Control.js":"xxE2","../css.js":"HgMV","../events.js":"UqnM","../proj.js":"Diht","../proj/Units.js":"yZx6"}],"AKwM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=_,exports.default=void 0;var t=u(require("../ViewHint.js")),e=u(require("./Control.js")),i=require("../css.js"),s=require("../easing.js"),r=require("../events.js"),n=require("../events/Event.js"),o=u(require("../events/EventType.js")),a=require("../math.js"),h=u(require("../pointer/EventType.js")),l=u(require("../pointer/PointerEventHandler.js"));function u(t){return t&&t.__esModule?t:{default:t}}var d={VERTICAL:0,HORIZONTAL:1},g=function(e){function u(t){var s=t||{};e.call(this,{element:document.createElement("div"),render:s.render||_}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=d.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==s.duration?s.duration:200;var a=void 0!==s.className?s.className:"ol-zoomslider",u=document.createElement("button");u.setAttribute("type","button"),u.className=a+"-thumb "+i.CLASS_UNSELECTABLE;var g=this.element;g.className=a+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL,g.appendChild(u),this.dragger_=new l.default(g),(0,r.listen)(this.dragger_,h.default.POINTERDOWN,this.handleDraggerStart_,this),(0,r.listen)(this.dragger_,h.default.POINTERMOVE,this.handleDraggerDrag_,this),(0,r.listen)(this.dragger_,h.default.POINTERUP,this.handleDraggerEnd_,this),(0,r.listen)(g,o.default.CLICK,this.handleContainerClick_,this),(0,r.listen)(u,o.default.CLICK,n.stopPropagation)}return e&&(u.__proto__=e),u.prototype=Object.create(e&&e.prototype),u.prototype.constructor=u,u.prototype.disposeInternal=function(){this.dragger_.dispose(),e.prototype.disposeInternal.call(this)},u.prototype.setMap=function(t){e.prototype.setMap.call(this,t),t&&t.render()},u.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight,s=t.firstElementChild,r=getComputedStyle(s),n=s.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),o=s.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.thumbSize_=[n,o],e>i?(this.direction_=d.HORIZONTAL,this.widthLimit_=e-n):(this.direction_=d.VERTICAL,this.heightLimit_=i-o),this.sliderInitialized_=!0},u.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(i);e.animate({resolution:e.constrainResolution(r),duration:this.duration_,easing:s.easeOut})},u.prototype.handleDraggerStart_=function(e){if(!this.dragging_&&e.originalEvent.target===this.element.firstElementChild&&(this.getMap().getView().setHint(t.default.INTERACTING,1),this.previousX_=e.clientX,this.previousY_=e.clientY,this.dragging_=!0,0===this.dragListenerKeys_.length)){var i=this.handleDraggerDrag_,s=this.handleDraggerEnd_;this.dragListenerKeys_.push((0,r.listen)(document,o.default.MOUSEMOVE,i,this),(0,r.listen)(document,h.default.POINTERMOVE,i,this),(0,r.listen)(document,o.default.MOUSEUP,s,this),(0,r.listen)(document,h.default.POINTERUP,s,this))}},u.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=this.element.firstElementChild,i=t.clientX-this.previousX_+parseFloat(e.style.left),s=t.clientY-this.previousY_+parseFloat(e.style.top),r=this.getRelativePosition_(i,s);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},u.prototype.handleDraggerEnd_=function(e){if(this.dragging_){var i=this.getMap().getView();i.setHint(t.default.INTERACTING,-1),i.animate({resolution:i.constrainResolution(this.currentResolution_),duration:this.duration_,easing:s.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0,this.dragListenerKeys_.forEach(r.unlistenByKey),this.dragListenerKeys_.length=0}},u.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==d.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},u.prototype.getRelativePosition_=function(t,e){var i;return i=this.direction_===d.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,(0,a.clamp)(i,0,1)},u.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},u.prototype.getPositionForResolution_=function(t){return 1-this.getMap().getView().getValueForResolutionFunction()(t)},u}(e.default);function _(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}}var p=g;exports.default=p;
},{"../ViewHint.js":"cuLW","./Control.js":"xxE2","../css.js":"HgMV","../easing.js":"IeCz","../events.js":"UqnM","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../math.js":"B96G","../pointer/EventType.js":"TaSm","../pointer/PointerEventHandler.js":"zTqe"}],"W4Y0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=r(require("../events/EventType.js")),o=r(require("./Control.js")),n=require("../css.js");function r(e){return e&&e.__esModule?e:{default:e}}var i=function(o){function r(r){var i=r||{};o.call(this,{element:document.createElement("div"),target:i.target}),this.extent=i.extent?i.extent:null;var l=void 0!==i.className?i.className:"ol-zoom-extent",a=void 0!==i.label?i.label:"E",s=void 0!==i.tipLabel?i.tipLabel:"Fit to extent",u=document.createElement("button");u.setAttribute("type","button"),u.title=s,u.appendChild("string"==typeof a?document.createTextNode(a):a),(0,e.listen)(u,t.default.CLICK,this.handleClick_,this);var p=l+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL,c=this.element;c.className=p,c.appendChild(u)}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.handleClick_=function(e){e.preventDefault(),this.handleZoomToExtent()},r.prototype.handleZoomToExtent=function(){var e=this.getMap().getView(),t=this.extent?this.extent:e.getProjection().getExtent();e.fit(t)},r}(o.default),l=i;exports.default=l;
},{"../events.js":"UqnM","../events/EventType.js":"C8cu","./Control.js":"xxE2","../css.js":"HgMV"}],"ucqx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Attribution",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Control",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"FullScreen",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"MousePosition",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"OverviewMap",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Rotate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"ScaleLine",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Zoom",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"ZoomSlider",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"ZoomToExtent",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"defaults",{enumerable:!0,get:function(){return s.defaults}});var e=a(require("./control/Attribution.js")),r=a(require("./control/Control.js")),t=a(require("./control/FullScreen.js")),o=a(require("./control/MousePosition.js")),n=a(require("./control/OverviewMap.js")),u=a(require("./control/Rotate.js")),i=a(require("./control/ScaleLine.js")),l=a(require("./control/Zoom.js")),c=a(require("./control/ZoomSlider.js")),f=a(require("./control/ZoomToExtent.js")),s=require("./control/util.js");function a(e){return e&&e.__esModule?e:{default:e}}
},{"./control/Attribution.js":"Q4Cf","./control/Control.js":"xxE2","./control/FullScreen.js":"dOoh","./control/MousePosition.js":"Cbl8","./control/OverviewMap.js":"KMhA","./control/Rotate.js":"sCgw","./control/ScaleLine.js":"DK5d","./control/Zoom.js":"L3CO","./control/ZoomSlider.js":"AKwM","./control/ZoomToExtent.js":"W4Y0","./control/util.js":"uzbE"}],"jwT5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=function(t){this.source_=t};e.prototype.isAnimated=function(){return!1},e.prototype.getType=function(){return(0,t.abstract)()},e.prototype.getSource=function(){return this.source_};var r=e;exports.default=r;
},{"../util.js":"KniQ"}],"SAYv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../webgl.js"),t=r(require("../webgl/Shader.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(e){t.call(this,e)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getType=function(){return e.FRAGMENT_SHADER},r}(t.default),u=o;exports.default=u;
},{"../webgl.js":"SCyv","../webgl/Shader.js":"jwT5"}],"mo14":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../webgl.js"),t=r(require("../webgl/Shader.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(e){t.call(this,e)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getType=function(){return e.VERTEX_SHADER},r}(t.default),u=o;exports.default=u;
},{"../webgl.js":"SCyv","../webgl/Shader.js":"jwT5"}],"GZAE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var i=require("../../../webgl.js"),e=o(require("../../../webgl/Fragment.js")),t=o(require("../../../webgl/Vertex.js"));function o(i){return i&&i.__esModule?i:{default:i}}var a=new e.default(i.DEBUG?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}");exports.fragment=a;var n=new t.default(i.DEBUG?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");exports.vertex=n;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"K5HK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),i=function(i,o){this.u_projectionMatrix=i.getUniformLocation(o,t.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=i.getUniformLocation(o,t.DEBUG?"u_lineWidth":"k"),this.u_pixelRatio=i.getUniformLocation(o,t.DEBUG?"u_pixelRatio":"l"),this.u_opacity=i.getUniformLocation(o,t.DEBUG?"u_opacity":"m"),this.u_fillColor=i.getUniformLocation(o,t.DEBUG?"u_fillColor":"n"),this.u_strokeColor=i.getUniformLocation(o,t.DEBUG?"u_strokeColor":"o"),this.u_size=i.getUniformLocation(o,t.DEBUG?"u_size":"p"),this.a_position=i.getAttribLocation(o,t.DEBUG?"a_position":"e"),this.a_instruction=i.getAttribLocation(o,t.DEBUG?"a_instruction":"f"),this.a_radius=i.getAttribLocation(o,t.DEBUG?"a_radius":"g")},o=i;exports.default=o;
},{"../../../../webgl.js":"SCyv"}],"UkOi":[function(require,module,exports) {
"use strict";function e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(e,r){return e[0]=r[0],e[1]=r[1],e[4]=r[2],e[5]=r[3],e[12]=r[4],e[13]=r[5],e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=e,exports.fromTransform=r;
},{}],"HMSc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../extent.js"),r=s(require("../VectorContext.js")),i=require("../../transform.js"),a=require("../../vec/mat4.js"),n=require("../../webgl.js");function s(t){return t&&t.__esModule?t:{default:t}}var o=function(r){function s(t,n){r.call(this),this.tolerance=t,this.maxExtent=n,this.origin=(0,e.getCenter)(n),this.projectionMatrix_=(0,i.create)(),this.offsetRotateMatrix_=(0,i.create)(),this.offsetScaleMatrix_=(0,i.create)(),this.tmpMat4_=(0,a.create)(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0}return r&&(s.__proto__=r),s.prototype=Object.create(r&&r.prototype),s.prototype.constructor=s,s.prototype.getDeleteResourcesFunction=function(e){return(0,t.abstract)()},s.prototype.finish=function(e){(0,t.abstract)()},s.prototype.setUpProgram=function(e,r,i,a){return(0,t.abstract)()},s.prototype.shutDownProgram=function(e,r){(0,t.abstract)()},s.prototype.drawReplay=function(e,r,i,a){(0,t.abstract)()},s.prototype.drawHitDetectionReplayOneByOne=function(e,r,i,a,n){return(0,t.abstract)()},s.prototype.drawHitDetectionReplay=function(t,e,r,i,a,n){return a?this.drawHitDetectionReplayOneByOne(t,e,r,i,n):this.drawHitDetectionReplayAll(t,e,r,i)},s.prototype.drawHitDetectionReplayAll=function(t,e,r,i){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,r,!0);var a=i(null);return a||void 0},s.prototype.replay=function(t,e,r,s,o,c,l,u,f,p,_){var E,h,S,T,d,R,m,y,I=t.getGL();this.lineStringReplay&&(E=I.isEnabled(I.STENCIL_TEST),h=I.getParameter(I.STENCIL_FUNC),S=I.getParameter(I.STENCIL_VALUE_MASK),T=I.getParameter(I.STENCIL_REF),d=I.getParameter(I.STENCIL_WRITEMASK),R=I.getParameter(I.STENCIL_FAIL),m=I.getParameter(I.STENCIL_PASS_DEPTH_PASS),y=I.getParameter(I.STENCIL_PASS_DEPTH_FAIL),I.enable(I.STENCIL_TEST),I.clear(I.STENCIL_BUFFER_BIT),I.stencilMask(255),I.stencilFunc(I.ALWAYS,1,255),I.stencilOp(I.KEEP,I.KEEP,I.REPLACE),this.lineStringReplay.replay(t,e,r,s,o,c,l,u,f,p,_),I.stencilMask(0),I.stencilFunc(I.NOTEQUAL,1,255)),t.bindBuffer(n.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var M=this.setUpProgram(I,t,o,c),g=(0,i.reset)(this.projectionMatrix_);(0,i.scale)(g,2/(r*o[0]),2/(r*o[1])),(0,i.rotate)(g,-s),(0,i.translate)(g,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var L=(0,i.reset)(this.offsetScaleMatrix_);(0,i.scale)(L,2/o[0],2/o[1]);var x,F=(0,i.reset)(this.offsetRotateMatrix_);return 0!==s&&(0,i.rotate)(F,-s),I.uniformMatrix4fv(M.u_projectionMatrix,!1,(0,a.fromTransform)(this.tmpMat4_,g)),I.uniformMatrix4fv(M.u_offsetScaleMatrix,!1,(0,a.fromTransform)(this.tmpMat4_,L)),I.uniformMatrix4fv(M.u_offsetRotateMatrix,!1,(0,a.fromTransform)(this.tmpMat4_,F)),I.uniform1f(M.u_opacity,l),void 0===f?this.drawReplay(I,t,u,!1):x=this.drawHitDetectionReplay(I,t,u,f,p,_),this.shutDownProgram(I,M),this.lineStringReplay&&(E||I.disable(I.STENCIL_TEST),I.clear(I.STENCIL_BUFFER_BIT),I.stencilFunc(h,T,S),I.stencilMask(d),I.stencilOp(R,y,m)),x},s.prototype.drawElements=function(t,e,r,i){var a=e.hasOESElementIndexUint?n.UNSIGNED_INT:n.UNSIGNED_SHORT,s=i-r,o=r*(e.hasOESElementIndexUint?4:2);t.drawElements(n.TRIANGLES,s,a,o)},s}(r.default),c=o;exports.default=c;
},{"../../util.js":"KniQ","../../extent.js":"QDir","../VectorContext.js":"LQER","../../transform.js":"P4eA","../../vec/mat4.js":"UkOi","../../webgl.js":"SCyv"}],"DIoA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.triangleIsCounterClockwise=exports.EPSILON=exports.DEFAULT_LINEWIDTH=exports.DEFAULT_TEXTBASELINE=exports.DEFAULT_TEXTALIGN=exports.DEFAULT_STROKESTYLE=exports.DEFAULT_MITERLIMIT=exports.DEFAULT_LINEJOIN=exports.DEFAULT_LINEDASHOFFSET=exports.DEFAULT_LINEDASH=exports.DEFAULT_LINECAP=exports.DEFAULT_FILLSTYLE=exports.DEFAULT_FONT=void 0;var r="10px sans-serif";exports.DEFAULT_FONT=r;var E=[0,0,0,1];exports.DEFAULT_FILLSTYLE=E;var L="round";exports.DEFAULT_LINECAP=L;var T=[];exports.DEFAULT_LINEDASH=T;var e=0;exports.DEFAULT_LINEDASHOFFSET=e;var o="round";exports.DEFAULT_LINEJOIN=o;var s=10;exports.DEFAULT_MITERLIMIT=s;var t=[0,0,0,1];exports.DEFAULT_STROKESTYLE=t;var A=.5;exports.DEFAULT_TEXTALIGN=A;var I=.5;exports.DEFAULT_TEXTBASELINE=I;var F=1;exports.DEFAULT_LINEWIDTH=F;var p=Number.EPSILON||2.220446049250313e-16;exports.EPSILON=p;var x=function(r,E,L,T,e,o){var s=(L-r)*(o-E)-(e-r)*(T-E);return s<=p&&s>=-p?void 0:s>0};exports.triangleIsCounterClockwise=x;
},{}],"zsRd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../webgl.js"),t={STATIC_DRAW:e.STATIC_DRAW,STREAM_DRAW:e.STREAM_DRAW,DYNAMIC_DRAW:e.DYNAMIC_DRAW},r=function(e,r){this.arr_=void 0!==e?e:[],this.usage_=void 0!==r?r:t.STATIC_DRAW};r.prototype.getArray=function(){return this.arr_},r.prototype.getUsage=function(){return this.usage_};var o=r;exports.default=o;
},{"../webgl.js":"SCyv"}],"sHZH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),s=require("../../color.js"),i=require("../../extent.js"),r=require("../../obj.js"),n=require("../../geom/flat/transform.js"),a=require("./circlereplay/defaultshader.js"),o=u(require("./circlereplay/defaultshader/Locations.js")),l=u(require("./Replay.js")),h=require("../webgl.js"),c=require("../../webgl.js"),d=u(require("../../webgl/Buffer.js"));function u(t){return t&&t.__esModule?t:{default:t}}var _=function(l){function u(t,e){l.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}}return l&&(u.__proto__=l),u.prototype=Object.create(l&&l.prototype),u.prototype.constructor=u,u.prototype.drawCoordinates_=function(t,e,s,i){var r,n,a=this.vertices.length,o=this.indices.length,l=a/4;for(r=e,n=s;r<n;r+=i)this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[o++]=l,this.indices[o++]=l+1,this.indices[o++]=l+2,this.indices[o++]=l+2,this.indices[o++]=l+3,this.indices[o++]=l,l+=4},u.prototype.drawCircle=function(t,e){var s=t.getRadius(),i=t.getStride();if(s){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=s;var r=t.getFlatCoordinates();r=(0,n.translate)(r,0,2,i,-this.origin[0],-this.origin[1]),this.drawCoordinates_(r,0,2,i)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var a=this.styles_[this.styles_.length-1];this.state_.fillColor=a[0],this.state_.strokeColor=a[1],this.state_.lineWidth=a[2],this.state_.changed=!1}},u.prototype.finish=function(t){this.verticesBuffer=new d.default(this.vertices),this.indicesBuffer=new d.default(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},u.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,s=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(s)}},u.prototype.setUpProgram=function(t,e,s,i){var r,n=e.getProgram(a.fragment,a.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new o.default(t,n),this.defaultLocations_=r),e.useProgram(n),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,c.FLOAT,!1,16,0),t.enableVertexAttribArray(r.a_instruction),t.vertexAttribPointer(r.a_instruction,1,c.FLOAT,!1,16,8),t.enableVertexAttribArray(r.a_radius),t.vertexAttribPointer(r.a_radius,1,c.FLOAT,!1,16,12),t.uniform2fv(r.u_size,s),t.uniform1f(r.u_pixelRatio,i),r},u.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},u.prototype.drawReplay=function(t,e,s,i){var n,a,o,l;if((0,r.isEmpty)(s))for(o=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)a=this.styleIndices_[n],l=this.styles_[n],this.setFillStyle_(t,l[0]),this.setStrokeStyle_(t,l[1],l[2]),this.drawElements(t,e,a,o),o=a;else this.drawReplaySkipping_(t,e,s)},u.prototype.drawHitDetectionReplayOneByOne=function(e,s,r,n,a){var o,l,h,c,d,u,_;for(_=this.startIndices.length-2,h=this.startIndices[_+1],o=this.styleIndices_.length-1;o>=0;--o)for(c=this.styles_[o],this.setFillStyle_(e,c[0]),this.setStrokeStyle_(e,c[1],c[2]),d=this.styleIndices_[o];_>=0&&this.startIndices[_]>=d;){if(l=this.startIndices[_],u=this.startIndicesFeature[_],void 0===r[(0,t.getUid)(u)]&&u.getGeometry()&&(void 0===a||(0,i.intersects)(a,u.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,s,l,h);var f=n(u);if(f)return f}_--,h=l}},u.prototype.drawReplaySkipping_=function(e,s,i){var r,n,a,o,l,h,c,d;for(c=this.startIndices.length-2,a=n=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){for(o=this.styles_[r],this.setFillStyle_(e,o[0]),this.setStrokeStyle_(e,o[1],o[2]),l=this.styleIndices_[r];c>=0&&this.startIndices[c]>=l;)d=this.startIndices[c],h=this.startIndicesFeature[c],i[(0,t.getUid)(h)]&&(n!==a&&this.drawElements(e,s,n,a),a=d),c--,n=d;n!==a&&this.drawElements(e,s,n,a),n=a=l}},u.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},u.prototype.setStrokeStyle_=function(t,e,s){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,s)},u.prototype.setFillStrokeStyle=function(t,i){var r,n;if(i){var a=i.getLineDash();this.state_.lineDash=a||h.DEFAULT_LINEDASH;var o=i.getLineDashOffset();this.state_.lineDashOffset=o||h.DEFAULT_LINEDASHOFFSET,r=(r=i.getColor())instanceof CanvasGradient||r instanceof CanvasPattern?h.DEFAULT_STROKESTYLE:(0,s.asArray)(r).map(function(t,e){return 3!=e?t/255:t})||h.DEFAULT_STROKESTYLE,n=void 0!==(n=i.getWidth())?n:h.DEFAULT_LINEWIDTH}else r=[0,0,0,0],n=0;var l=t?t.getColor():[0,0,0,0];l=l instanceof CanvasGradient||l instanceof CanvasPattern?h.DEFAULT_FILLSTYLE:(0,s.asArray)(l).map(function(t,e){return 3!=e?t/255:t})||h.DEFAULT_FILLSTYLE,this.state_.strokeColor&&(0,e.equals)(this.state_.strokeColor,r)&&this.state_.fillColor&&(0,e.equals)(this.state_.fillColor,l)&&this.state_.lineWidth===n||(this.state_.changed=!0,this.state_.fillColor=l,this.state_.strokeColor=r,this.state_.lineWidth=n,this.styles_.push([l,r,n]))},u}(l.default),f=_;exports.default=f;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../color.js":"eucy","../../extent.js":"QDir","../../obj.js":"mH6q","../../geom/flat/transform.js":"LGwr","./circlereplay/defaultshader.js":"GZAE","./circlereplay/defaultshader/Locations.js":"K5HK","./Replay.js":"HMSc","../webgl.js":"DIoA","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"DqLP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var t=require("../../../webgl.js"),a=o(require("../../../webgl/Fragment.js")),e=o(require("../../../webgl/Vertex.js"));function o(t){return t&&t.__esModule?t:{default:t}}var r=new a.default(t.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");exports.fragment=r;var i=new e.default(t.DEBUG?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");exports.vertex=i;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"ieq5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),i=function(i,o){this.u_projectionMatrix=i.getUniformLocation(o,t.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetRotateMatrix":"j"),this.u_opacity=i.getUniformLocation(o,t.DEBUG?"u_opacity":"k"),this.u_image=i.getUniformLocation(o,t.DEBUG?"u_image":"l"),this.a_position=i.getAttribLocation(o,t.DEBUG?"a_position":"c"),this.a_texCoord=i.getAttribLocation(o,t.DEBUG?"a_texCoord":"d"),this.a_offsets=i.getAttribLocation(o,t.DEBUG?"a_offsets":"e"),this.a_opacity=i.getAttribLocation(o,t.DEBUG?"a_opacity":"f"),this.a_rotateWithView=i.getAttribLocation(o,t.DEBUG?"a_rotateWithView":"g")},o=i;exports.default=o;
},{"../../../../webgl.js":"SCyv"}],"HqWy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};exports.default=e;
},{}],"nJOZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createEmptyTexture=s,exports.createTexture=c,exports.default=void 0;var e=require("../util.js"),t=require("../webgl.js"),r=h(require("../Disposable.js")),i=require("../array.js"),n=require("../events.js"),a=require("../obj.js"),u=h(require("../webgl/ContextEventType.js"));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(r){function h(e,a){r.call(this),this.canvas_=e,this.gl_=a,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=(0,i.includes)(t.EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&a.getExtension("OES_element_index_uint"),(0,n.listen)(this.canvas_,u.default.LOST,this.handleWebGLContextLost,this),(0,n.listen)(this.canvas_,u.default.RESTORED,this.handleWebGLContextRestored,this)}return r&&(h.__proto__=r),h.prototype=Object.create(r&&r.prototype),h.prototype.constructor=h,h.prototype.bindBuffer=function(r,i){var n=this.getGL(),a=i.getArray(),u=(0,e.getUid)(i);if(u in this.bufferCache_){var h=this.bufferCache_[u];n.bindBuffer(r,h.buffer)}else{var f,o=n.createBuffer();n.bindBuffer(r,o),r==t.ARRAY_BUFFER?f=new Float32Array(a):r==t.ELEMENT_ARRAY_BUFFER&&(f=this.hasOESElementIndexUint?new Uint32Array(a):new Uint16Array(a)),n.bufferData(r,f,i.getUsage()),this.bufferCache_[u]={buf:i,buffer:o}}},h.prototype.deleteBuffer=function(t){var r=this.getGL(),i=(0,e.getUid)(t),n=this.bufferCache_[i];r.isContextLost()||r.deleteBuffer(n.buffer),delete this.bufferCache_[i]},h.prototype.disposeInternal=function(){(0,n.unlistenAll)(this.canvas_);var e=this.getGL();if(!e.isContextLost()){for(var t in this.bufferCache_)e.deleteBuffer(this.bufferCache_[t].buffer);for(var r in this.programCache_)e.deleteProgram(this.programCache_[r]);for(var i in this.shaderCache_)e.deleteShader(this.shaderCache_[i]);e.deleteFramebuffer(this.hitDetectionFramebuffer_),e.deleteRenderbuffer(this.hitDetectionRenderbuffer_),e.deleteTexture(this.hitDetectionTexture_)}},h.prototype.getCanvas=function(){return this.canvas_},h.prototype.getGL=function(){return this.gl_},h.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},h.prototype.getShader=function(t){var r=(0,e.getUid)(t);if(r in this.shaderCache_)return this.shaderCache_[r];var i=this.getGL(),n=i.createShader(t.getType());return i.shaderSource(n,t.getSource()),i.compileShader(n),this.shaderCache_[r]=n,n},h.prototype.getProgram=function(t,r){var i=(0,e.getUid)(t)+"/"+(0,e.getUid)(r);if(i in this.programCache_)return this.programCache_[i];var n=this.getGL(),a=n.createProgram();return n.attachShader(a,this.getShader(t)),n.attachShader(a,this.getShader(r)),n.linkProgram(a),this.programCache_[i]=a,a},h.prototype.handleWebGLContextLost=function(){(0,a.clear)(this.bufferCache_),(0,a.clear)(this.shaderCache_),(0,a.clear)(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},h.prototype.handleWebGLContextRestored=function(){},h.prototype.initHitDetectionFramebuffer_=function(){var e=this.gl_,t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=s(e,1,1),i=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,i),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=t,this.hitDetectionTexture_=r,this.hitDetectionRenderbuffer_=i},h.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,!0)},h}(r.default);function o(e,r,i){var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),void 0!==r&&e.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,r),void 0!==i&&e.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,i),n}function s(e,t,r,i,n){var a=o(e,i,n);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),a}function c(e,t,r,i){var n=o(e,r,i);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}var _=f;exports.default=_;
},{"../util.js":"KniQ","../webgl.js":"SCyv","../Disposable.js":"DDda","../array.js":"luEr","../events.js":"UqnM","../obj.js":"mH6q","../webgl/ContextEventType.js":"HqWy"}],"rtlq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../extent.js"),i=require("../../obj.js"),r=require("./texturereplay/defaultshader.js"),s=a(require("./texturereplay/defaultshader/Locations.js")),o=a(require("./Replay.js")),h=require("../../webgl.js"),n=require("../../webgl/Context.js");function a(t){return t&&t.__esModule?t:{default:t}}var c=function(o){function a(t,e){o.call(this,t,e),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,r=this.getTextures(!0),s=t.getGL();return function(){var o,h;if(!s.isContextLost())for(o=0,h=r.length;o<h;++o)s.deleteTexture(r[o]);t.deleteBuffer(e),t.deleteBuffer(i)}},a.prototype.drawCoordinates=function(t,e,i,r){var s,o,h,n,a,c,d=this.anchorX,v=this.anchorY,u=this.height,l=this.imageHeight,p=this.imageWidth,g=this.opacity,f=this.originX,y=this.originY,x=this.rotateWithView?1:0,b=-this.rotation,_=this.scale,A=this.width,T=Math.cos(b),w=Math.sin(b),E=this.indices.length,I=this.vertices.length;for(s=e;s<i;s+=r)a=t[s]-this.origin[0],c=t[s+1]-this.origin[1],o=I/8,h=-_*d,n=-_*(u-v),this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=f/p,this.vertices[I++]=(y+u)/l,this.vertices[I++]=g,this.vertices[I++]=x,h=_*(A-d),n=-_*(u-v),this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=(f+A)/p,this.vertices[I++]=(y+u)/l,this.vertices[I++]=g,this.vertices[I++]=x,h=_*(A-d),n=_*v,this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=(f+A)/p,this.vertices[I++]=y/l,this.vertices[I++]=g,this.vertices[I++]=x,h=-_*d,n=_*v,this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=f/p,this.vertices[I++]=y/l,this.vertices[I++]=g,this.vertices[I++]=x,this.indices[E++]=o,this.indices[E++]=o+1,this.indices[E++]=o+2,this.indices[E++]=o,this.indices[E++]=o+2,this.indices[E++]=o+3;return I},a.prototype.createTextures=function(e,i,r,s){var o,a,c,d,v=i.length;for(d=0;d<v;++d)a=i[d],(c=(0,t.getUid)(a))in r?o=r[c]:(o=(0,n.createTexture)(s,a,h.CLAMP_TO_EDGE,h.CLAMP_TO_EDGE),r[c]=o),e[d]=o},a.prototype.setUpProgram=function(t,e,i,o){var n,a=e.getProgram(r.fragment,r.vertex);return this.defaultLocations?n=this.defaultLocations:(n=new s.default(t,a),this.defaultLocations=n),e.useProgram(a),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,h.FLOAT,!1,32,0),t.enableVertexAttribArray(n.a_offsets),t.vertexAttribPointer(n.a_offsets,2,h.FLOAT,!1,32,8),t.enableVertexAttribArray(n.a_texCoord),t.vertexAttribPointer(n.a_texCoord,2,h.FLOAT,!1,32,16),t.enableVertexAttribArray(n.a_opacity),t.vertexAttribPointer(n.a_opacity,1,h.FLOAT,!1,32,24),t.enableVertexAttribArray(n.a_rotateWithView),t.vertexAttribPointer(n.a_rotateWithView,1,h.FLOAT,!1,32,28),n},a.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},a.prototype.drawReplay=function(t,e,r,s){var o,n,a,c=s?this.getHitDetectionTextures():this.getTextures(),d=s?this.hitDetectionGroupIndices:this.groupIndices;if((0,i.isEmpty)(r))for(o=0,n=c.length,a=0;o<n;++o){t.bindTexture(h.TEXTURE_2D,c[o]);var v=d[o];this.drawElements(t,e,a,v),a=v}else this.drawReplaySkipping(t,e,r,c,d)},a.prototype.drawReplaySkipping=function(e,i,r,s,o){var n,a,c=0;for(n=0,a=s.length;n<a;++n){e.bindTexture(h.TEXTURE_2D,s[n]);for(var d=n>0?o[n-1]:0,v=o[n],u=d,l=d;c<this.startIndices.length&&this.startIndices[c]<=v;){var p=this.startIndicesFeature[c];void 0!==r[(0,t.getUid)(p)]?(u!==l&&this.drawElements(e,i,u,l),l=u=c===this.startIndices.length-1?v:this.startIndices[c+1]):l=c===this.startIndices.length-1?v:this.startIndices[c+1],c++}u!==l&&this.drawElements(e,i,u,l)}},a.prototype.drawHitDetectionReplayOneByOne=function(i,r,s,o,n){var a,c,d,v,u,l=this.startIndices.length-1,p=this.getHitDetectionTextures();for(a=p.length-1;a>=0;--a)for(i.bindTexture(h.TEXTURE_2D,p[a]),c=a>0?this.hitDetectionGroupIndices[a-1]:0,v=this.hitDetectionGroupIndices[a];l>=0&&this.startIndices[l]>=c;){if(d=this.startIndices[l],u=this.startIndicesFeature[l],void 0===s[(0,t.getUid)(u)]&&u.getGeometry()&&(void 0===n||(0,e.intersects)(n,u.getGeometry().getExtent()))){i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),this.drawElements(i,r,d,v);var g=o(u);if(g)return g}v=d,l--}},a.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},a.prototype.getTextures=function(e){return(0,t.abstract)()},a.prototype.getHitDetectionTextures=function(){return(0,t.abstract)()},a}(o.default),d=c;exports.default=d;
},{"../../util.js":"KniQ","../../extent.js":"QDir","../../obj.js":"mH6q","./texturereplay/defaultshader.js":"DqLP","./texturereplay/defaultshader/Locations.js":"ieq5","./Replay.js":"HMSc","../../webgl.js":"SCyv","../../webgl/Context.js":"nJOZ"}],"cwcG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=s(require("./TextureReplay.js")),i=s(require("../../webgl/Buffer.js"));function s(t){return t&&t.__esModule?t:{default:t}}var h=function(e){function s(t,i){e.call(this,t,i),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]}return e&&(s.__proto__=e),s.prototype=Object.create(e&&e.prototype),s.prototype.constructor=s,s.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates(),s=t.getStride();this.drawCoordinates(i,0,i.length,s)},s.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates(),s=t.getStride();this.drawCoordinates(i,0,i.length,s)},s.prototype.finish=function(t){var s=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new i.default(this.vertices);var h=this.indices;this.indicesBuffer=new i.default(h);var r={};this.createTextures(this.textures_,this.images_,r,s),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,s),this.images_=null,this.hitDetectionImages_=null,e.prototype.finish.call(this,t)},s.prototype.setImageStyle=function(e){var i,s=e.getAnchor(),h=e.getImage(1),r=e.getImageSize(),n=e.getHitDetectionImage(1),o=e.getOpacity(),a=e.getOrigin(),u=e.getRotateWithView(),g=e.getRotation(),c=e.getSize(),p=e.getScale();0===this.images_.length?this.images_.push(h):(i=this.images_[this.images_.length-1],(0,t.getUid)(i)!=(0,t.getUid)(h)&&(this.groupIndices.push(this.indices.length),this.images_.push(h))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(n):(i=this.hitDetectionImages_[this.hitDetectionImages_.length-1],(0,t.getUid)(i)!=(0,t.getUid)(n)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(n))),this.anchorX=s[0],this.anchorY=s[1],this.height=c[1],this.imageHeight=r[1],this.imageWidth=r[0],this.opacity=o,this.originX=a[0],this.originY=a[1],this.rotation=g,this.rotateWithView=u,this.scale=p,this.width=c[0]},s.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},s.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},s}(e.default),r=h;exports.default=r;
},{"../../util.js":"KniQ","./TextureReplay.js":"rtlq","../../webgl/Buffer.js":"zsRd"}],"p6xK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lineStringIsClosed=r;var e=require("./area.js");function r(r,t,i,n){var s=i-n;return r[t]===r[s]&&r[t+1]===r[s+1]&&(i-t)/n>3&&!!(0,e.linearRing)(r,t,i,n)}
},{"./area.js":"EOSm"}],"YtUJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var e=require("../../../webgl.js"),o=n(require("../../../webgl/Fragment.js")),t=n(require("../../../webgl/Vertex.js"));function n(e){return e&&e.__esModule?e:{default:e}}var r=new o.default(e.DEBUG?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");exports.fragment=r;var i=new t.default(e.DEBUG?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");exports.vertex=i;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"EnqV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),i=function(i,o){this.u_projectionMatrix=i.getUniformLocation(o,t.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=i.getUniformLocation(o,t.DEBUG?"u_lineWidth":"k"),this.u_miterLimit=i.getUniformLocation(o,t.DEBUG?"u_miterLimit":"l"),this.u_opacity=i.getUniformLocation(o,t.DEBUG?"u_opacity":"m"),this.u_color=i.getUniformLocation(o,t.DEBUG?"u_color":"n"),this.u_size=i.getUniformLocation(o,t.DEBUG?"u_size":"o"),this.u_pixelRatio=i.getUniformLocation(o,t.DEBUG?"u_pixelRatio":"p"),this.a_lastPos=i.getAttribLocation(o,t.DEBUG?"a_lastPos":"d"),this.a_position=i.getAttribLocation(o,t.DEBUG?"a_position":"e"),this.a_nextPos=i.getAttribLocation(o,t.DEBUG?"a_nextPos":"f"),this.a_direction=i.getAttribLocation(o,t.DEBUG?"a_direction":"g")},o=i;exports.default=o;
},{"../../../../webgl.js":"SCyv"}],"Nu72":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),i=require("../../color.js"),s=require("../../extent.js"),r=require("../../geom/flat/orient.js"),n=require("../../geom/flat/transform.js"),a=require("../../geom/flat/topology.js"),h=require("../../obj.js"),o=require("../webgl.js"),d=f(require("./Replay.js")),l=require("./linestringreplay/defaultshader.js"),c=f(require("./linestringreplay/defaultshader/Locations.js")),_=require("../../webgl.js"),u=f(require("../../webgl/Buffer.js"));function f(t){return t&&t.__esModule?t:{default:t}}var g={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23},p=function(d){function f(t,e){d.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}}return d&&(f.__proto__=d),f.prototype=Object.create(d&&d.prototype),f.prototype.constructor=f,f.prototype.drawCoordinates_=function(t,i,s,n){var h,d,l,c,_,u,f,p,E=this.vertices.length,I=this.indices.length,y="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,v="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,L=(0,a.lineStringIsClosed)(t,i,s,n),T=I,A=1;for(h=i,d=s;h<d;h+=n){if(_=E/7,u=f,f=p||[t[h],t[h+1]],h===i){if(p=[t[h+n],t[h+n+1]],s-i==2*n&&(0,e.equals)(f,p))break;if(!L){v&&(E=this.addVertices_([0,0],f,p,A*g.BEGIN_LINE_CAP*v,E),E=this.addVertices_([0,0],f,p,-A*g.BEGIN_LINE_CAP*v,E),this.indices[I++]=_+2,this.indices[I++]=_,this.indices[I++]=_+1,this.indices[I++]=_+1,this.indices[I++]=_+3,this.indices[I++]=_+2),E=this.addVertices_([0,0],f,p,A*g.BEGIN_LINE*(v||1),E),T=(E=this.addVertices_([0,0],f,p,-A*g.BEGIN_LINE*(v||1),E))/7-1;continue}u=[t[s-2*n],t[s-2*n+1]],l=p}else{if(h===s-n){if(L){p=l;break}u=u||[0,0],E=this.addVertices_(u,f,[0,0],A*g.END_LINE*(v||1),E),E=this.addVertices_(u,f,[0,0],-A*g.END_LINE*(v||1),E),this.indices[I++]=_,this.indices[I++]=T-1,this.indices[I++]=T,this.indices[I++]=T,this.indices[I++]=_+1,this.indices[I++]=_,v&&(E=this.addVertices_(u,f,[0,0],A*g.END_LINE_CAP*v,E),E=this.addVertices_(u,f,[0,0],-A*g.END_LINE_CAP*v,E),this.indices[I++]=_+2,this.indices[I++]=_,this.indices[I++]=_+1,this.indices[I++]=_+1,this.indices[I++]=_+3,this.indices[I++]=_+2);break}p=[t[h+n],t[h+n+1]]}c=(0,o.triangleIsCounterClockwise)(u[0],u[1],f[0],f[1],p[0],p[1])?-1:1,E=this.addVertices_(u,f,p,c*g.BEVEL_FIRST*(y||1),E),E=this.addVertices_(u,f,p,c*g.BEVEL_SECOND*(y||1),E),E=this.addVertices_(u,f,p,-c*g.MITER_BOTTOM*(y||1),E),h>i&&(this.indices[I++]=_,this.indices[I++]=T-1,this.indices[I++]=T,this.indices[I++]=_+2,this.indices[I++]=_,this.indices[I++]=A*c>0?T:T-1),this.indices[I++]=_,this.indices[I++]=_+2,this.indices[I++]=_+1,T=_+2,A=c,y&&(E=this.addVertices_(u,f,p,c*g.MITER_TOP*y,E),this.indices[I++]=_+1,this.indices[I++]=_+3,this.indices[I++]=_)}L&&(_=_||E/7,c=(0,r.linearRingIsClockwise)([u[0],u[1],f[0],f[1],p[0],p[1]],0,6,2)?1:-1,E=this.addVertices_(u,f,p,c*g.BEVEL_FIRST*(y||1),E),E=this.addVertices_(u,f,p,-c*g.MITER_BOTTOM*(y||1),E),this.indices[I++]=_,this.indices[I++]=T-1,this.indices[I++]=T,this.indices[I++]=_+1,this.indices[I++]=_,this.indices[I++]=A*c>0?T:T-1)},f.prototype.addVertices_=function(t,e,i,s,r){return this.vertices[r++]=t[0],this.vertices[r++]=t[1],this.vertices[r++]=e[0],this.vertices[r++]=e[1],this.vertices[r++]=i[0],this.vertices[r++]=i[1],this.vertices[r++]=s,r},f.prototype.isValid_=function(t,i,s,r){var n=s-i;if(n<2*r)return!1;if(n===2*r){var a=[t[i],t[i+1]],h=[t[i+r],t[i+r+1]];return!(0,e.equals)(a,h)}return!0},f.prototype.drawLineString=function(t,e){var i=t.getFlatCoordinates(),s=t.getStride();this.isValid_(i,0,i.length,s)&&(i=(0,n.translate)(i,0,i.length,s,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(i,0,i.length,s))},f.prototype.drawMultiLineString=function(t,e){var i=this.indices.length,s=t.getEnds();s.unshift(0);var r,a,h=t.getFlatCoordinates(),o=t.getStride();if(s.length>1)for(r=1,a=s.length;r<a;++r)if(this.isValid_(h,s[r-1],s[r],o)){var d=(0,n.translate)(h,s[r-1],s[r],o,-this.origin[0],-this.origin[1]);this.drawCoordinates_(d,0,d.length,o)}this.indices.length>i&&(this.startIndices.push(i),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1))},f.prototype.drawPolygonCoordinates=function(t,e,i){var s,r;if((0,a.lineStringIsClosed)(t,0,t.length,i)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,i),e.length)for(s=0,r=e.length;s<r;++s)(0,a.lineStringIsClosed)(e[s],0,e[s].length,i)||(e[s].push(e[s][0]),e[s].push(e[s][1])),this.drawCoordinates_(e[s],0,e[s].length,i)},f.prototype.setPolygonStyle=function(t,e){var i=void 0===e?this.indices.length:e;this.startIndices.push(i),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1)},f.prototype.getCurrentIndex=function(){return this.indices.length},f.prototype.finish=function(t){this.verticesBuffer=new u.default(this.vertices),this.indicesBuffer=new u.default(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},f.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(i)}},f.prototype.setUpProgram=function(t,e,i,s){var r,n=e.getProgram(l.fragment,l.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new c.default(t,n),this.defaultLocations_=r),e.useProgram(n),t.enableVertexAttribArray(r.a_lastPos),t.vertexAttribPointer(r.a_lastPos,2,_.FLOAT,!1,28,0),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,_.FLOAT,!1,28,8),t.enableVertexAttribArray(r.a_nextPos),t.vertexAttribPointer(r.a_nextPos,2,_.FLOAT,!1,28,16),t.enableVertexAttribArray(r.a_direction),t.vertexAttribPointer(r.a_direction,1,_.FLOAT,!1,28,24),t.uniform2fv(r.u_size,i),t.uniform1f(r.u_pixelRatio,s),r},f.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},f.prototype.drawReplay=function(t,e,i,s){var r,n,a,o,d=t.getParameter(t.DEPTH_FUNC),l=t.getParameter(t.DEPTH_WRITEMASK);if(s||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),(0,h.isEmpty)(i))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)n=this.styleIndices_[r],o=this.styles_[r],this.setStrokeStyle_(t,o[0],o[1],o[2]),this.drawElements(t,e,n,a),t.clear(t.DEPTH_BUFFER_BIT),a=n;else this.drawReplaySkipping_(t,e,i);s||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(l),t.depthFunc(d))},f.prototype.drawReplaySkipping_=function(e,i,s){var r,n,a,h,o,d,l,c;for(l=this.startIndices.length-2,a=n=this.startIndices[l+1],r=this.styleIndices_.length-1;r>=0;--r){for(h=this.styles_[r],this.setStrokeStyle_(e,h[0],h[1],h[2]),o=this.styleIndices_[r];l>=0&&this.startIndices[l]>=o;)c=this.startIndices[l],d=this.startIndicesFeature[l],s[(0,t.getUid)(d)]&&(n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),a=c),l--,n=c;n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),n=a=o}},f.prototype.drawHitDetectionReplayOneByOne=function(e,i,r,n,a){var h,o,d,l,c,_,u;for(u=this.startIndices.length-2,d=this.startIndices[u+1],h=this.styleIndices_.length-1;h>=0;--h)for(l=this.styles_[h],this.setStrokeStyle_(e,l[0],l[1],l[2]),c=this.styleIndices_[h];u>=0&&this.startIndices[u]>=c;){if(o=this.startIndices[u],_=this.startIndicesFeature[u],void 0===r[(0,t.getUid)(_)]&&_.getGeometry()&&(void 0===a||(0,s.intersects)(a,_.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,i,o,d);var f=n(_);if(f)return f}u--,d=o}},f.prototype.setStrokeStyle_=function(t,e,i,s){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,i),t.uniform1f(this.defaultLocations_.u_miterLimit,s)},f.prototype.setFillStrokeStyle=function(t,s){var r=s.getLineCap();this.state_.lineCap=void 0!==r?r:o.DEFAULT_LINECAP;var n=s.getLineDash();this.state_.lineDash=n||o.DEFAULT_LINEDASH;var a=s.getLineDashOffset();this.state_.lineDashOffset=a||o.DEFAULT_LINEDASHOFFSET;var h=s.getLineJoin();this.state_.lineJoin=void 0!==h?h:o.DEFAULT_LINEJOIN;var d=s.getColor();d=d instanceof CanvasGradient||d instanceof CanvasPattern?o.DEFAULT_STROKESTYLE:(0,i.asArray)(d).map(function(t,e){return 3!=e?t/255:t})||o.DEFAULT_STROKESTYLE;var l=s.getWidth();l=void 0!==l?l:o.DEFAULT_LINEWIDTH;var c=s.getMiterLimit();c=void 0!==c?c:o.DEFAULT_MITERLIMIT,this.state_.strokeColor&&(0,e.equals)(this.state_.strokeColor,d)&&this.state_.lineWidth===l&&this.state_.miterLimit===c||(this.state_.changed=!0,this.state_.strokeColor=d,this.state_.lineWidth=l,this.state_.miterLimit=c,this.styles_.push([d,l,c]))},f}(d.default),E=p;exports.default=E;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../color.js":"eucy","../../extent.js":"QDir","../../geom/flat/orient.js":"cJkE","../../geom/flat/transform.js":"LGwr","../../geom/flat/topology.js":"p6xK","../../obj.js":"mH6q","../webgl.js":"DIoA","./Replay.js":"HMSc","./linestringreplay/defaultshader.js":"YtUJ","./linestringreplay/defaultshader/Locations.js":"EnqV","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"KUzN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var o=require("../../../webgl.js"),a=n(require("../../../webgl/Fragment.js")),e=n(require("../../../webgl/Vertex.js"));function n(o){return o&&o.__esModule?o:{default:o}}var r=new a.default(o.DEBUG?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");exports.fragment=r;var i=new e.default(o.DEBUG?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");exports.vertex=i;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"mO11":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),o=function(o,i){this.u_projectionMatrix=o.getUniformLocation(i,t.DEBUG?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=o.getUniformLocation(i,t.DEBUG?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=o.getUniformLocation(i,t.DEBUG?"u_offsetRotateMatrix":"d"),this.u_color=o.getUniformLocation(i,t.DEBUG?"u_color":"e"),this.u_opacity=o.getUniformLocation(i,t.DEBUG?"u_opacity":"f"),this.a_position=o.getAttribLocation(i,t.DEBUG?"a_position":"a")},i=o;exports.default=i;
},{"../../../../webgl.js":"SCyv"}],"gDc4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){this.first_,this.last_,this.head_,this.circular_=void 0===t||t,this.length_=0};t.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},i=this.head_;if(i){var h=i.next;e.prev=i,e.next=h,i.next=e,h&&(h.prev=e),i===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},t.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,i=t.prev;e&&(e.prev=i),i&&(i.next=e),this.head_=e||i,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=i?this.head_.prev:this.head_),this.length_--}},t.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},t.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},t.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},t.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},t.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},t.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},t.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},t.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},t.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},t.prototype.getLength=function(){return this.length_};var e=t;exports.default=e;
},{}],"Cbiy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),i=require("../../color.js"),s=require("../../extent.js"),r=require("../../obj.js"),n=require("../../geom/flat/contains.js"),a=require("../../geom/flat/orient.js"),o=require("../../geom/flat/transform.js"),h=require("./polygonreplay/defaultshader.js"),l=m(require("./polygonreplay/defaultshader/Locations.js")),p=m(require("./LineStringReplay.js")),y=m(require("./Replay.js")),x=require("../webgl.js"),c=m(require("../../style/Stroke.js")),u=m(require("../../structs/LinkedList.js")),d=m(require("../../structs/RBush.js")),f=require("../../webgl.js"),g=m(require("../../webgl/Buffer.js"));function m(t){return t&&t.__esModule?t:{default:t}}var _=function(y){function m(t,e){y.call(this,t,e),this.lineStringReplay=new p.default(t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}}return y&&(m.__proto__=y),m.prototype=Object.create(y&&y.prototype),m.prototype.constructor=m,m.prototype.drawCoordinates_=function(t,e,i){var s=new u.default,r=new d.default;this.processFlatCoordinates_(t,i,s,r,!0);var n=this.getMaxCoords_(s);if(e.length){var a,o,h=[];for(a=0,o=e.length;a<o;++a){var l={list:new u.default,maxCoords:void 0,rtree:new d.default};h.push(l),this.processFlatCoordinates_(e[a],i,l.list,l.rtree,!1),this.classifyPoints_(l.list,l.rtree,!0),l.maxCoords=this.getMaxCoords_(l.list)}for(h.sort(function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]}),a=0;a<h.length;++a){var p=h[a].list,y=p.firstItem(),x=y,c=void 0;do{if(this.getIntersections_(x,r).length){c=!0;break}x=p.nextItem()}while(y!==x);c||this.bridgeHole_(p,h[a].maxCoords[0],s,n[0],r)&&(r.concat(h[a].rtree),this.classifyPoints_(s,r,!1))}}else this.classifyPoints_(s,r,!1);this.triangulate_(s,r)},m.prototype.processFlatCoordinates_=function(t,e,i,s,r){var n,o,h,l,p,y=(0,a.linearRingIsClockwise)(t,0,t.length,e),x=this.vertices.length/2,c=[],u=[];if(r===y){for(l=h=this.createPoint_(t[0],t[1],x++),n=e,o=t.length;n<o;n+=e)p=this.createPoint_(t[n],t[n+1],x++),u.push(this.insertItem_(l,p,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)]),l=p;u.push(this.insertItem_(p,h,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)])}else{var d=t.length-e;for(l=h=this.createPoint_(t[d],t[d+1],x++),n=d-e,o=0;n>=o;n-=e)p=this.createPoint_(t[n],t[n+1],x++),u.push(this.insertItem_(l,p,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)]),l=p;u.push(this.insertItem_(p,h,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)])}s.load(c,u)},m.prototype.getMaxCoords_=function(t){var e=t.firstItem(),i=e,s=[i.p0.x,i.p0.y];do{(i=t.nextItem()).p0.x>s[0]&&(s=[i.p0.x,i.p0.y])}while(i!==e);return s},m.prototype.classifyPoints_=function(t,e,i){var s=t.firstItem(),r=s,n=t.nextItem(),a=!1;do{var o=i?(0,x.triangleIsCounterClockwise)(n.p1.x,n.p1.y,r.p1.x,r.p1.y,r.p0.x,r.p0.y):(0,x.triangleIsCounterClockwise)(r.p0.x,r.p0.y,r.p1.x,r.p1.y,n.p1.x,n.p1.y);void 0===o?(this.removeItem_(r,n,t,e),a=!0,n===s&&(s=t.getNextItem()),n=r,t.prevItem()):r.p1.reflex!==o&&(r.p1.reflex=o,a=!0),r=n,n=t.nextItem()}while(r!==s);return a},m.prototype.bridgeHole_=function(t,e,i,s,r){for(var n=t.firstItem();n.p1.x!==e;)n=t.nextItem();var a,o,h,l,p=n.p1,y={x:s,y:p.y,i:-1},c=1/0,u=this.getIntersections_({p0:p,p1:y},r,!0);for(a=0,o=u.length;a<o;++a){var d=u[a],f=this.calculateIntersection_(p,y,d.p0,d.p1,!0),g=Math.abs(p.x-f[0]);g<c&&void 0!==(0,x.triangleIsCounterClockwise)(p.x,p.y,d.p0.x,d.p0.y,d.p1.x,d.p1.y)&&(c=g,l={x:f[0],y:f[1],i:-1},n=d)}if(c===1/0)return!1;if(h=n.p1,c>0){var m=this.getPointsInTriangle_(p,l,n.p1,r);if(m.length){var _=1/0;for(a=0,o=m.length;a<o;++a){var I=m[a],v=Math.atan2(p.y-I.y,y.x-I.x);(v<_||v===_&&I.x<h.x)&&(_=v,h=I)}}}for(n=i.firstItem();n.p1.x!==h.x||n.p1.y!==h.y;)n=i.nextItem();var M={x:p.x,y:p.y,i:p.i,reflex:void 0},P={x:n.p1.x,y:n.p1.y,i:n.p1.i,reflex:void 0};return t.getNextItem().p0=M,this.insertItem_(p,n.p1,t,r),this.insertItem_(P,M,t,r),n.p1=P,t.setFirstItem(),i.concat(t),!0},m.prototype.triangulate_=function(t,e){for(var i=!1,s=this.isSimple_(t,e);t.getLength()>3;)if(s){if(!this.clipEars_(t,e,s,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,s,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e)){if(!(s=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}i=!this.isClockwise_(t),this.classifyPoints_(t,e,i)}if(3===t.getLength()){var r=this.indices.length;this.indices[r++]=t.getPrevItem().p0.i,this.indices[r++]=t.getCurrItem().p0.i,this.indices[r++]=t.getNextItem().p0.i}},m.prototype.clipEars_=function(t,e,i,s){var r,n,o,h=this.indices.length,l=t.firstItem(),p=t.getPrevItem(),y=l,x=t.nextItem(),c=t.getNextItem(),u=!1;do{if(r=y.p0,n=y.p1,o=x.p1,!1===n.reflex){var d=void 0;d=i?0===this.getPointsInTriangle_(r,n,o,e,!0).length:s?this.diagonalIsInside_(c.p1,o,n,r,p.p0):this.diagonalIsInside_(p.p0,r,n,o,c.p1),(i||0===this.getIntersections_({p0:r,p1:o},e).length)&&d&&(i||!1===r.reflex||!1===o.reflex||(0,a.linearRingIsClockwise)([p.p0.x,p.p0.y,r.x,r.y,n.x,n.y,o.x,o.y,c.p1.x,c.p1.y],0,10,2)===!s)&&(this.indices[h++]=r.i,this.indices[h++]=n.i,this.indices[h++]=o.i,this.removeItem_(y,x,t,e),x===l&&(l=c),u=!0)}p=t.getPrevItem(),y=t.getCurrItem(),x=t.nextItem(),c=t.getNextItem()}while(y!==l&&t.getLength()>3);return u},m.prototype.resolveSelfIntersections_=function(t,e,i){var s=t.firstItem();t.nextItem();var r=s,n=t.nextItem(),a=!1;do{var o=this.calculateIntersection_(r.p0,r.p1,n.p0,n.p1,i);if(o){var h=!1,l=this.vertices.length,p=this.indices.length,y=l/2,x=t.prevItem();t.removeItem(),e.remove(x),h=x===s;var c=void 0;if(i?(o[0]===r.p0.x&&o[1]===r.p0.y?(t.prevItem(),c=r.p0,n.p0=c,e.remove(r),h=h||r===s):(c=n.p1,r.p1=c,e.remove(n),h=h||n===s),t.removeItem()):(c=this.createPoint_(o[0],o[1],y),r.p1=c,n.p0=c,e.update([Math.min(r.p0.x,r.p1.x),Math.min(r.p0.y,r.p1.y),Math.max(r.p0.x,r.p1.x),Math.max(r.p0.y,r.p1.y)],r),e.update([Math.min(n.p0.x,n.p1.x),Math.min(n.p0.y,n.p1.y),Math.max(n.p0.x,n.p1.x),Math.max(n.p0.y,n.p1.y)],n)),this.indices[p++]=x.p0.i,this.indices[p++]=x.p1.i,this.indices[p++]=c.i,a=!0,h)break}r=t.getPrevItem(),n=t.nextItem()}while(r!==s);return a},m.prototype.isSimple_=function(t,e){var i=t.firstItem(),s=i;do{if(this.getIntersections_(s,e).length)return!1;s=t.nextItem()}while(s!==i);return!0},m.prototype.isClockwise_=function(t){var e=2*t.getLength(),i=new Array(e),s=t.firstItem(),r=s,n=0;do{i[n++]=r.p0.x,i[n++]=r.p0.y,r=t.nextItem()}while(r!==s);return(0,a.linearRingIsClockwise)(i,0,e,2)},m.prototype.splitPolygon_=function(t,e){var i=t.firstItem(),s=i;do{var r=this.getIntersections_(s,e);if(r.length){var n=r[0],a=this.vertices.length/2,o=this.calculateIntersection_(s.p0,s.p1,n.p0,n.p1),h=this.createPoint_(o[0],o[1],a),l=new u.default,p=new d.default;this.insertItem_(h,s.p1,l,p),s.p1=h,e.update([Math.min(s.p0.x,h.x),Math.min(s.p0.y,h.y),Math.max(s.p0.x,h.x),Math.max(s.p0.y,h.y)],s);for(var y=t.nextItem();y!==n;)this.insertItem_(y.p0,y.p1,l,p),e.remove(y),t.removeItem(),y=t.getCurrItem();this.insertItem_(n.p0,h,l,p),n.p0=h,e.update([Math.min(n.p1.x,h.x),Math.min(n.p1.y,h.y),Math.max(n.p1.x,h.x),Math.max(n.p1.y,h.y)],n),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(l,p,!1),this.triangulate_(l,p);break}s=t.nextItem()}while(s!==i)},m.prototype.createPoint_=function(t,e,i){var s=this.vertices.length;return this.vertices[s++]=t,this.vertices[s++]=e,{x:t,y:e,i:i,reflex:void 0}},m.prototype.insertItem_=function(t,e,i,s){var r={p0:t,p1:e};return i.insertItem(r),s&&s.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r},m.prototype.removeItem_=function(t,e,i,s){i.getCurrItem()===e&&(i.removeItem(),t.p1=e.p1,s.remove(e),s.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},m.prototype.getPointsInTriangle_=function(t,e,i,s,r){for(var a=[],o=s.getInExtent([Math.min(t.x,e.x,i.x),Math.min(t.y,e.y,i.y),Math.max(t.x,e.x,i.x),Math.max(t.y,e.y,i.y)]),h=0,l=o.length;h<l;++h)for(var p in o[h]){var y=o[h][p];"object"!=typeof y||r&&!y.reflex||y.x===t.x&&y.y===t.y||y.x===e.x&&y.y===e.y||y.x===i.x&&y.y===i.y||-1!==a.indexOf(y)||!(0,n.linearRingContainsXY)([t.x,t.y,e.x,e.y,i.x,i.y],0,6,2,y.x,y.y)||a.push(y)}return a},m.prototype.getIntersections_=function(t,e,i){for(var s=t.p0,r=t.p1,n=e.getInExtent([Math.min(s.x,r.x),Math.min(s.y,r.y),Math.max(s.x,r.x),Math.max(s.y,r.y)]),a=[],o=0,h=n.length;o<h;++o){var l=n[o];t!==l&&(i||l.p0!==r||l.p1!==s)&&this.calculateIntersection_(s,r,l.p0,l.p1,i)&&a.push(l)}return a},m.prototype.calculateIntersection_=function(t,e,i,s,r){var n=(s.y-i.y)*(e.x-t.x)-(s.x-i.x)*(e.y-t.y);if(0!==n){var a=((s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x))/n,o=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/n;if(!r&&a>x.EPSILON&&a<1-x.EPSILON&&o>x.EPSILON&&o<1-x.EPSILON||r&&a>=0&&a<=1&&o>=0&&o<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},m.prototype.diagonalIsInside_=function(t,e,i,s,r){if(void 0===e.reflex||void 0===s.reflex)return!1;var n=(i.x-s.x)*(e.y-s.y)>(i.y-s.y)*(e.x-s.x),a=(r.x-s.x)*(e.y-s.y)<(r.y-s.y)*(e.x-s.x),o=(t.x-e.x)*(s.y-e.y)>(t.y-e.y)*(s.x-e.x),h=(i.x-e.x)*(s.y-e.y)<(i.y-e.y)*(s.x-e.x),l=s.reflex?a||n:a&&n,p=e.reflex?h||o:h&&o;return l&&p},m.prototype.drawMultiPolygon=function(t,e){var i,s,r,n,a=t.getEndss(),h=t.getStride(),l=this.indices.length,p=this.lineStringReplay.getCurrentIndex(),y=t.getFlatCoordinates(),x=0;for(i=0,s=a.length;i<s;++i){var c=a[i];if(c.length>0){var u=(0,o.translate)(y,x,c[0],h,-this.origin[0],-this.origin[1]);if(u.length){var d=[],f=void 0;for(r=1,n=c.length;r<n;++r)c[r]!==c[r-1]&&(f=(0,o.translate)(y,c[r-1],c[r],h,-this.origin[0],-this.origin[1]),d.push(f));this.lineStringReplay.drawPolygonCoordinates(u,d,h),this.drawCoordinates_(u,d,h)}}x=c[c.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>p&&this.lineStringReplay.setPolygonStyle(e,p)},m.prototype.drawPolygon=function(t,e){var i=t.getEnds(),s=t.getStride();if(i.length>0){var r=t.getFlatCoordinates().map(Number),n=(0,o.translate)(r,0,i[0],s,-this.origin[0],-this.origin[1]);if(n.length){var a,h,l,p=[];for(a=1,h=i.length;a<h;++a)i[a]!==i[a-1]&&(l=(0,o.translate)(r,i[a-1],i[a],s,-this.origin[0],-this.origin[1]),p.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(n,p,s),this.drawCoordinates_(n,p,s)}}},m.prototype.finish=function(t){this.verticesBuffer=new g.default(this.vertices),this.indicesBuffer=new g.default(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},m.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,s=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(i),s()}},m.prototype.setUpProgram=function(t,e,i,s){var r,n=e.getProgram(h.fragment,h.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new l.default(t,n),this.defaultLocations_=r),e.useProgram(n),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,f.FLOAT,!1,8,0),r},m.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},m.prototype.drawReplay=function(t,e,i,s){var n,a,o,h,l=t.getParameter(t.DEPTH_FUNC),p=t.getParameter(t.DEPTH_WRITEMASK);if(s||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),(0,r.isEmpty)(i))for(o=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)a=this.styleIndices_[n],h=this.styles_[n],this.setFillStyle_(t,h),this.drawElements(t,e,a,o),o=a;else this.drawReplaySkipping_(t,e,i);s||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(p),t.depthFunc(l))},m.prototype.drawHitDetectionReplayOneByOne=function(e,i,r,n,a){var o,h,l,p,y,x,c;for(c=this.startIndices.length-2,l=this.startIndices[c+1],o=this.styleIndices_.length-1;o>=0;--o)for(p=this.styles_[o],this.setFillStyle_(e,p),y=this.styleIndices_[o];c>=0&&this.startIndices[c]>=y;){if(h=this.startIndices[c],x=this.startIndicesFeature[c],void 0===r[(0,t.getUid)(x)]&&x.getGeometry()&&(void 0===a||(0,s.intersects)(a,x.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,i,h,l);var u=n(x);if(u)return u}c--,l=h}},m.prototype.drawReplaySkipping_=function(e,i,s){var r,n,a,o,h,l,p,y;for(p=this.startIndices.length-2,a=n=this.startIndices[p+1],r=this.styleIndices_.length-1;r>=0;--r){for(o=this.styles_[r],this.setFillStyle_(e,o),h=this.styleIndices_[r];p>=0&&this.startIndices[p]>=h;)y=this.startIndices[p],l=this.startIndicesFeature[p],s[(0,t.getUid)(l)]&&(n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),a=y),p--,n=y;n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),n=a=h}},m.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},m.prototype.setFillStrokeStyle=function(t,s){var r=t?t.getColor():[0,0,0,0];if(r=r instanceof CanvasGradient||r instanceof CanvasPattern?x.DEFAULT_FILLSTYLE:(0,i.asArray)(r).map(function(t,e){return 3!=e?t/255:t})||x.DEFAULT_FILLSTYLE,this.state_.fillColor&&(0,e.equals)(r,this.state_.fillColor)||(this.state_.fillColor=r,this.state_.changed=!0,this.styles_.push(r)),s)this.lineStringReplay.setFillStrokeStyle(null,s);else{var n=new c.default({color:[0,0,0,0],width:0});this.lineStringReplay.setFillStrokeStyle(null,n)}},m}(y.default),I=_;exports.default=I;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../color.js":"eucy","../../extent.js":"QDir","../../obj.js":"mH6q","../../geom/flat/contains.js":"dzdN","../../geom/flat/orient.js":"cJkE","../../geom/flat/transform.js":"LGwr","./polygonreplay/defaultshader.js":"KUzN","./polygonreplay/defaultshader/Locations.js":"mO11","./LineStringReplay.js":"Nu72","./Replay.js":"HMSc","../webgl.js":"DIoA","../../style/Stroke.js":"TXDt","../../structs/LinkedList.js":"gDc4","../../structs/RBush.js":"MiUH","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"N0HK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../dom.js"),e=function(e,i){this.space_=i,this.emptyBlocks_=[{x:0,y:0,width:e,height:e}],this.entries_={},this.context_=(0,t.createCanvasContext2D)(e,e),this.canvas_=this.context_.canvas};e.prototype.get=function(t){return this.entries_[t]||null},e.prototype.add=function(t,e,i,h,s){for(var p=0,a=this.emptyBlocks_.length;p<a;++p){var o=this.emptyBlocks_[p];if(o.width>=e+this.space_&&o.height>=i+this.space_){var c={offsetX:o.x+this.space_,offsetY:o.y+this.space_,image:this.canvas_};return this.entries_[t]=c,h.call(s,this.context_,o.x+this.space_,o.y+this.space_),this.split_(p,o,e+this.space_,i+this.space_),c}}return null},e.prototype.split_=function(t,e,i,h){var s,p;e.width-i>e.height-h?(s={x:e.x+i,y:e.y,width:e.width-i,height:e.height},p={x:e.x,y:e.y+h,width:i,height:e.height-h},this.updateBlocks_(t,s,p)):(s={x:e.x+i,y:e.y,width:e.width-i,height:h},p={x:e.x,y:e.y+h,width:e.width,height:e.height-h},this.updateBlocks_(t,s,p))},e.prototype.updateBlocks_=function(t,e,i){var h=[t,1];e.width>0&&e.height>0&&h.push(e),i.width>0&&i.height>0&&h.push(i),this.emptyBlocks_.splice.apply(this.emptyBlocks_,h)};var i=e;exports.default=i;
},{"../dom.js":"Xno5"}],"SyS8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../webgl.js"),e=require("../functions.js"),i=r(require("./Atlas.js"));function r(t){return t&&t.__esModule?t:{default:t}}var s=256,n=-1,a=function(e){var r=e||{};this.currentSize_=void 0!==r.initialSize?r.initialSize:s,this.maxSize_=void 0!==r.maxSize?r.maxSize:-1!=n?n:void 0!==t.MAX_TEXTURE_SIZE?t.MAX_TEXTURE_SIZE:2048,this.space_=void 0!==r.space?r.space:1,this.atlases_=[new i.default(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new i.default(this.currentHitSize_,this.space_)]};a.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var i=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,i)},a.prototype.getInfo_=function(t,e){for(var i=0,r=t.length;i<r;++i){var s=t[i].get(e);if(s)return s}return null},a.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},a.prototype.add=function(t,i,r,s,n,a){if(i+this.space_>this.maxSize_||r+this.space_>this.maxSize_)return null;var u=this.add_(!1,t,i,r,s,a);if(!u)return null;var o=void 0!==n?n:e.VOID,_=this.add_(!0,t,i,r,o,a);return this.mergeInfos_(u,_)},a.prototype.add_=function(t,e,r,s,n,a){var u,o,_,h,f=t?this.hitAtlases_:this.atlases_;for(_=0,h=f.length;_<h;++_){if(o=(u=f[_]).add(e,r,s,n,a))return o;if(!o&&_===h-1){var l=void 0;t?(l=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=l):(l=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=l),u=new i.default(l,this.space_),f.push(u),++h}}return null};var u=a;exports.default=u;
},{"../webgl.js":"SCyv","../functions.js":"RgA2","./Atlas.js":"N0HK"}],"Vdgp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../colorlike.js"),i=require("../../dom.js"),s=f(require("../../geom/GeometryType.js")),a=require("../../has.js"),r=require("../replay.js"),o=require("../webgl.js"),l=f(require("./TextureReplay.js")),h=f(require("../../style/AtlasManager.js")),n=f(require("../../webgl/Buffer.js"));function f(t){return t&&t.__esModule?t:{default:t}}var u=function(l){function f(t,e){l.call(this,t,e),this.images_=[],this.textures_=[],this.measureCanvas_=(0,i.createCanvasContext2D)(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.drawText=function(e,i){if(this.text_){var a=null,r=2,o=2;switch(e.getType()){case s.default.POINT:case s.default.MULTI_POINT:r=(a=e.getFlatCoordinates()).length,o=e.getStride();break;case s.default.CIRCLE:a=e.getCenter();break;case s.default.LINE_STRING:a=e.getFlatMidpoint();break;case s.default.MULTI_LINE_STRING:r=(a=e.getFlatMidpoints()).length;break;case s.default.POLYGON:a=e.getFlatInteriorPoint();break;case s.default.MULTI_POLYGON:r=(a=e.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(i);var l,h,n,f,u,d,_,g,c=this.currAtlas_,p=this.text_.split("\n"),v=this.getTextSize_(p),T=Math.round(v[0]*this.textAlign_-this.offsetX_),L=Math.round(v[1]*this.textBaseline_-this.offsetY_),x=this.state_.lineWidth/2*this.state_.scale;for(l=0,h=p.length;l<h;++l)for(u=0,d=c.height*l,n=0,f=(_=p[l].split("")).length;n<f;++n){if(g=c.atlas.getInfo(_[n])){var A=g.image;if(this.anchorX=T-u,this.anchorY=L-d,this.originX=0===n?g.offsetX-x:g.offsetX,this.originY=g.offsetY,this.height=c.height,this.width=0===n||n===_.length-1?c.width[_[n]]+x:c.width[_[n]],this.imageHeight=A.height,this.imageWidth=A.width,0===this.images_.length)this.images_.push(A);else{var C=this.images_[this.images_.length-1];(0,t.getUid)(C)!=(0,t.getUid)(A)&&(this.groupIndices.push(this.indices.length),this.images_.push(A))}this.drawText_(a,0,r,o)}u+=this.width}}},f.prototype.getTextSize_=function(t){var e=this,i=this.currAtlas_,s=t.length*i.height;return[t.map(function(t){for(var s=0,a=0,r=t.length;a<r;++a){var o=t[a];i.width[o]||e.addCharToAtlas_(o),s+=i.width[o]?i.width[o]:0}return s}).reduce(function(t,e){return Math.max(t,e)}),s]},f.prototype.drawText_=function(t,e,i,s){for(var a=e,r=i;a<r;a+=s)this.drawCoordinates(t,e,i,s)},f.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,i=this.state_,s=this.measureCanvas_.getContext("2d");s.font=i.font;var r=Math.ceil(s.measureText(t).width*i.scale);e.atlas.add(t,r,e.height,function(e,s,r){e.font=i.font,e.fillStyle=i.fillColor,e.strokeStyle=i.strokeColor,e.lineWidth=i.lineWidth,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.miterLimit=i.miterLimit,e.textAlign="left",e.textBaseline="top",a.CANVAS_LINE_DASH&&i.lineDash&&(e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset),1!==i.scale&&e.setTransform(i.scale,0,0,i.scale,0,0),i.strokeColor&&e.strokeText(t,s,r),i.fillColor&&e.fillText(t,s,r)})&&(e.width[t]=r)}},f.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new n.default(this.vertices),this.indicesBuffer=new n.default(this.indices);this.createTextures(this.textures_,this.images_,{},e),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,l.prototype.finish.call(this,t)},f.prototype.setTextStyle=function(t){var i=this.state_,s=t.getFill(),a=t.getStroke();if(t&&t.getText()&&(s||a)){if(s){var l=s.getColor();i.fillColor=(0,e.asColorLike)(l||o.DEFAULT_FILLSTYLE)}else i.fillColor=null;if(a){var h=a.getColor();i.strokeColor=(0,e.asColorLike)(h||o.DEFAULT_STROKESTYLE),i.lineWidth=a.getWidth()||o.DEFAULT_LINEWIDTH,i.lineCap=a.getLineCap()||o.DEFAULT_LINECAP,i.lineDashOffset=a.getLineDashOffset()||o.DEFAULT_LINEDASHOFFSET,i.lineJoin=a.getLineJoin()||o.DEFAULT_LINEJOIN,i.miterLimit=a.getMiterLimit()||o.DEFAULT_MITERLIMIT;var n=a.getLineDash();i.lineDash=n?n.slice():o.DEFAULT_LINEDASH}else i.strokeColor=null,i.lineWidth=0;i.font=t.getFont()||o.DEFAULT_FONT,i.scale=t.getScale()||1,this.text_=t.getText();var f=r.TEXT_ALIGN[t.getTextAlign()],u=r.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===f?o.DEFAULT_TEXTALIGN:f,this.textBaseline_=void 0===u?o.DEFAULT_TEXTBASELINE:u,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(i)}else this.text_=""},f.prototype.getAtlas_=function(t){var e=[];for(var i in t)(t[i]||0===t[i])&&(Array.isArray(t[i])?e=e.concat(t[i]):e.push(t[i]));var s=this.calculateHash_(e);if(!this.atlases_[s]){var a=this.measureCanvas_.getContext("2d");a.font=t.font;var r=Math.ceil((1.5*a.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[s]={atlas:new h.default({space:t.lineWidth+1}),width:{},height:r}}return this.atlases_[s]},f.prototype.calculateHash_=function(t){for(var e="",i=0,s=t.length;i<s;++i)e+=t[i];return e},f.prototype.getTextures=function(t){return this.textures_},f.prototype.getHitDetectionTextures=function(){return this.textures_},f}(l.default),d=u;exports.default=d;
},{"../../util.js":"KniQ","../../colorlike.js":"V5XN","../../dom.js":"Xno5","../../geom/GeometryType.js":"lmV0","../../has.js":"f3Nv","../replay.js":"FzwX","../webgl.js":"DIoA","./TextureReplay.js":"rtlq","../../style/AtlasManager.js":"SyS8","../../webgl/Buffer.js":"zsRd"}],"aOHC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../array.js"),r=require("../../extent.js"),t=require("../../obj.js"),n=require("../replay.js"),i=y(require("../ReplayGroup.js")),o=y(require("./CircleReplay.js")),a=y(require("./ImageReplay.js")),u=y(require("./LineStringReplay.js")),s=y(require("./PolygonReplay.js")),p=y(require("./TextReplay.js"));function y(e){return e&&e.__esModule?e:{default:e}}var f=[1,1],l={Circle:o.default,Image:a.default,LineString:u.default,Polygon:s.default,Text:p.default},d=function(i){function o(e,r,t){i.call(this),this.maxExtent_=r,this.tolerance_=e,this.renderBuffer_=t,this.replaysByZIndex_={}}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.addDeclutter=function(e){return[]},o.prototype.getDeleteResourcesFunction=function(e){var r,t=[];for(r in this.replaysByZIndex_){var n=this.replaysByZIndex_[r];for(var i in n)t.push(n[i].getDeleteResourcesFunction(e))}return function(){for(var e,r=arguments,n=t.length,i=0;i<n;i++)e=t[i].apply(this,r);return e}},o.prototype.finish=function(e){var r;for(r in this.replaysByZIndex_){var t=this.replaysByZIndex_[r];for(var n in t)t[n].finish(e)}},o.prototype.getReplay=function(e,r){var t=void 0!==e?e.toString():"0",n=this.replaysByZIndex_[t];void 0===n&&(n={},this.replaysByZIndex_[t]=n);var i=n[r];void 0===i&&(i=new(0,l[r])(this.tolerance_,this.maxExtent_),n[r]=i);return i},o.prototype.isEmpty=function(){return(0,t.isEmpty)(this.replaysByZIndex_)},o.prototype.replay=function(r,t,i,o,a,u,s,p){var y,f,l,d,c,h,_=Object.keys(this.replaysByZIndex_).map(Number);for(_.sort(e.numberSafeCompareFunction),y=0,f=_.length;y<f;++y)for(c=this.replaysByZIndex_[_[y].toString()],l=0,d=n.ORDER.length;l<d;++l)h=c[n.ORDER[l]],void 0!==h&&h.replay(r,t,i,o,a,u,s,p,void 0,!1)},o.prototype.replayHitDetection_=function(e,r,t,i,o,a,u,s,p,y,f){var l,d,c,h,_,v,x=Object.keys(this.replaysByZIndex_).map(Number);for(x.sort(function(e,r){return r-e}),l=0,d=x.length;l<d;++l)for(h=this.replaysByZIndex_[x[l].toString()],c=n.ORDER.length-1;c>=0;--c)if(void 0!==(_=h[n.ORDER[c]])&&(v=_.replay(e,r,t,i,o,a,u,s,p,y,f)))return v},o.prototype.forEachFeatureAtCoordinate=function(e,t,n,i,o,a,u,s,p,y){var l,d=t.getGL();return d.bindFramebuffer(d.FRAMEBUFFER,t.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(l=(0,r.buffer)((0,r.createOrUpdateFromCoordinate)(e),i*this.renderBuffer_)),this.replayHitDetection_(t,e,i,o,f,u,s,p,function(e){var r=new Uint8Array(4);if(d.readPixels(0,0,1,1,d.RGBA,d.UNSIGNED_BYTE,r),r[3]>0){var t=y(e);if(t)return t}},!0,l)},o.prototype.hasFeatureAtCoordinate=function(e,r,t,n,i,o,a,u,s){var p=r.getGL();return p.bindFramebuffer(p.FRAMEBUFFER,r.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(r,e,n,i,f,a,u,s,function(e){var r=new Uint8Array(4);return p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,r),r[3]>0},!1)},o}(i.default),c=d;exports.default=c;
},{"../../array.js":"luEr","../../extent.js":"QDir","../../obj.js":"mH6q","../replay.js":"FzwX","../ReplayGroup.js":"TK0U","./CircleReplay.js":"sHZH","./ImageReplay.js":"cwcG","./LineStringReplay.js":"Nu72","./PolygonReplay.js":"Cbiy","./TextReplay.js":"Vdgp"}],"PT5w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../extent.js"),e=l(require("../../geom/GeometryType.js")),i=l(require("../ReplayType.js")),s=l(require("../VectorContext.js")),o=l(require("./ReplayGroup.js"));function l(t){return t&&t.__esModule?t:{default:t}}var r=function(s){function l(t,e,i,o,l,r,n){s.call(this),this.context_=t,this.center_=e,this.extent_=r,this.pixelRatio_=n,this.size_=l,this.rotation_=o,this.resolution_=i,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null}return s&&(l.__proto__=s),l.prototype=Object.create(s&&s.prototype),l.prototype.constructor=l,l.prototype.drawText_=function(t,e){var s=this.context_,o=t.getReplay(0,i.default.TEXT);o.setTextStyle(this.textStyle_),o.drawText(e,null),o.finish(s);o.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),o.getDeleteResourcesFunction(s)()},l.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},l.prototype.drawGeometry=function(t){switch(t.getType()){case e.default.POINT:this.drawPoint(t,null);break;case e.default.LINE_STRING:this.drawLineString(t,null);break;case e.default.POLYGON:this.drawPolygon(t,null);break;case e.default.MULTI_POINT:this.drawMultiPoint(t,null);break;case e.default.MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case e.default.MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case e.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case e.default.CIRCLE:this.drawCircle(t,null)}},l.prototype.drawFeature=function(e,i){var s=i.getGeometryFunction()(e);s&&(0,t.intersects)(this.extent_,s.getExtent())&&(this.setStyle(i),this.drawGeometry(s))},l.prototype.drawGeometryCollection=function(t,e){var i,s,o=t.getGeometriesArray();for(i=0,s=o.length;i<s;++i)this.drawGeometry(o[i])},l.prototype.drawPoint=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.IMAGE);r.setImageStyle(this.imageStyle_),r.drawPoint(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawMultiPoint=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.IMAGE);r.setImageStyle(this.imageStyle_),r.drawMultiPoint(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawLineString=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawLineString(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawMultiLineString=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawMultiLineString(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawPolygon=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawPolygon(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawMultiPolygon=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawMultiPolygon(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawCircle=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.CIRCLE);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawCircle(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.setImageStyle=function(t){this.imageStyle_=t},l.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},l.prototype.setTextStyle=function(t){this.textStyle_=t},l}(s.default),n=r;exports.default=n;
},{"../../extent.js":"QDir","../../geom/GeometryType.js":"lmV0","../ReplayType.js":"D882","../VectorContext.js":"LQER","./ReplayGroup.js":"aOHC"}],"MfNy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var e=require("../../webgl.js"),o=t(require("../../webgl/Fragment.js")),r=t(require("../../webgl/Vertex.js"));function t(e){return e&&e.__esModule?e:{default:e}}var n=new o.default(e.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}");exports.fragment=n;var i=new r.default(e.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");exports.vertex=i;
},{"../../webgl.js":"SCyv","../../webgl/Fragment.js":"SAYv","../../webgl/Vertex.js":"mo14"}],"jKm2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../webgl.js"),o=function(o,i){this.u_texCoordMatrix=o.getUniformLocation(i,t.DEBUG?"u_texCoordMatrix":"d"),this.u_projectionMatrix=o.getUniformLocation(i,t.DEBUG?"u_projectionMatrix":"e"),this.u_opacity=o.getUniformLocation(i,t.DEBUG?"u_opacity":"f"),this.u_texture=o.getUniformLocation(i,t.DEBUG?"u_texture":"g"),this.a_position=o.getAttribLocation(i,t.DEBUG?"a_position":"b"),this.a_texCoord=o.getAttribLocation(i,t.DEBUG?"a_texCoord":"c")},i=o;exports.default=i;
},{"../../../webgl.js":"SCyv"}],"nUxs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=m(require("../../render/Event.js")),r=m(require("../../render/EventType.js")),i=m(require("../../render/webgl/Immediate.js")),o=m(require("../Layer.js")),a=require("./defaultmapshader.js"),n=m(require("./defaultmapshader/Locations.js")),u=require("../../transform.js"),f=require("../../vec/mat4.js"),s=require("../../webgl.js"),p=m(require("../../webgl/Buffer.js")),d=require("../../webgl/Context.js");function m(e){return e&&e.__esModule?e:{default:e}}var l=function(o){function m(e,t){o.call(this,t),this.mapRenderer=e,this.arrayBuffer_=new p.default([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=(0,u.create)(),this.projectionMatrix=(0,u.create)(),this.tmpMat4_=(0,f.create)(),this.defaultLocations_=null}return o&&(m.__proto__=o),m.prototype=Object.create(o&&o.prototype),m.prototype.constructor=m,m.prototype.bindFramebuffer=function(e,t){var r=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=t){var i=function(e,t,r){e.isContextLost()||(e.deleteFramebuffer(t),e.deleteTexture(r))}.bind(null,r,this.framebuffer,this.texture);e.postRenderFunctions.push(i);var o=(0,d.createEmptyTexture)(r,t,t),a=r.createFramebuffer();r.bindFramebuffer(s.FRAMEBUFFER,a),r.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,o,0),this.texture=o,this.framebuffer=a,this.framebufferDimension=t}else r.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer)},m.prototype.composeFrame=function(e,t,i){this.dispatchComposeEvent_(r.default.PRECOMPOSE,i,e),i.bindBuffer(s.ARRAY_BUFFER,this.arrayBuffer_);var o,u=i.getGL(),p=i.getProgram(a.fragment,a.vertex);this.defaultLocations_?o=this.defaultLocations_:(o=new n.default(u,p),this.defaultLocations_=o),i.useProgram(p)&&(u.enableVertexAttribArray(o.a_position),u.vertexAttribPointer(o.a_position,2,s.FLOAT,!1,16,0),u.enableVertexAttribArray(o.a_texCoord),u.vertexAttribPointer(o.a_texCoord,2,s.FLOAT,!1,16,8),u.uniform1i(o.u_texture,0)),u.uniformMatrix4fv(o.u_texCoordMatrix,!1,(0,f.fromTransform)(this.tmpMat4_,this.getTexCoordMatrix())),u.uniformMatrix4fv(o.u_projectionMatrix,!1,(0,f.fromTransform)(this.tmpMat4_,this.getProjectionMatrix())),u.uniform1f(o.u_opacity,t.opacity),u.bindTexture(s.TEXTURE_2D,this.getTexture()),u.drawArrays(s.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(r.default.POSTCOMPOSE,i,e)},m.prototype.dispatchComposeEvent_=function(e,r,o){var a=this.getLayer();if(a.hasListener(e)){var n=o.viewState,u=n.resolution,f=o.pixelRatio,s=o.extent,p=n.center,d=n.rotation,m=o.size,l=new i.default(r,p,u,d,m,s,f),c=new t.default(e,l,o,null,r);a.dispatchEvent(c)}},m.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},m.prototype.getTexture=function(){return this.texture},m.prototype.getProjectionMatrix=function(){return this.projectionMatrix},m.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},m.prototype.prepareFrame=function(t,r,i){return(0,e.abstract)()},m.prototype.forEachLayerAtPixel=function(t,r,i,o){return(0,e.abstract)()},m}(o.default),c=l;exports.default=c;
},{"../../util.js":"KniQ","../../render/Event.js":"EB6P","../../render/EventType.js":"z39m","../../render/webgl/Immediate.js":"PT5w","../Layer.js":"fpOz","./defaultmapshader.js":"MfNy","./defaultmapshader/Locations.js":"jKm2","../../transform.js":"P4eA","../../vec/mat4.js":"UkOi","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd","../../webgl/Context.js":"nJOZ"}],"wNTt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../reproj/common.js"),e=h(require("../../LayerType.js")),r=h(require("../../ViewHint.js")),a=require("../../dom.js"),i=require("../../extent.js"),n=h(require("./Layer.js")),s=require("../../transform.js"),o=require("../../webgl.js"),u=require("../../webgl/Context.js");function h(t){return t&&t.__esModule?t:{default:t}}var l=function(e){function n(t,r){e.call(this,t,r),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.createTexture_=function(t){var e=t.getImage(),r=this.mapRenderer.getGL();return(0,u.createTexture)(r,e,o.CLAMP_TO_EDGE,o.CLAMP_TO_EDGE)},n.prototype.prepareFrame=function(e,a,n){var o=this.mapRenderer.getGL(),u=e.pixelRatio,h=e.viewState,l=h.center,c=h.resolution,p=h.rotation,g=this.image_,x=this.texture,_=this.getLayer().getSource(),f=e.viewHints,m=e.extent;if(void 0!==a.extent&&(m=(0,i.getIntersection)(m,a.extent)),!f[r.default.ANIMATING]&&!f[r.default.INTERACTING]&&!(0,i.isEmpty)(m)){var v=h.projection;if(!t.ENABLE_RASTER_REPROJECTION){var d=_.getProjection();d&&(v=d)}var C=_.getImage(m,c,u,v);if(C)if(this.loadImage(C)&&(g=C,x=this.createTexture_(C),this.texture)){var y=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,o,this.texture);e.postRenderFunctions.push(y)}}if(g){var T=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(T.width,T.height,u,l,c,p,g.getExtent()),this.hitTransformationMatrix_=null;var j=this.texCoordMatrix;(0,s.reset)(j),(0,s.scale)(j,1,-1),(0,s.translate)(j,0,-1),this.image_=g,this.texture=x}return!!g},n.prototype.updateProjectionMatrix_=function(t,e,r,a,i,n,o){var u=t*i,h=e*i,l=this.projectionMatrix;(0,s.reset)(l),(0,s.scale)(l,2*r/u,2*r/h),(0,s.rotate)(l,-n),(0,s.translate)(l,o[0]-a[0],o[1]-a[1]),(0,s.scale)(l,(o[2]-o[0])/2,(o[3]-o[1])/2),(0,s.translate)(l,1,1)},n.prototype.forEachLayerAtPixel=function(t,e,r,i){if(this.image_&&this.image_.getImage()){var n=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,n));var o=(0,s.apply)(this.hitTransformationMatrix_,t.slice());if(!(o[0]<0||o[0]>n[0]||o[1]<0||o[1]>n[1])){this.hitCanvasContext_||(this.hitCanvasContext_=(0,a.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),o[0],o[1],1,1,0,0,1,1);var u=this.hitCanvasContext_.getImageData(0,0,1,1).data;return u[3]>0?r.call(i,this.getLayer(),u):void 0}}},n.prototype.getHitTransformationMatrix_=function(t,e){var r=(0,s.create)();(0,s.translate)(r,-1,-1),(0,s.scale)(r,2/t[0],2/t[1]),(0,s.translate)(r,0,t[1]),(0,s.scale)(r,1,-1);var a=(0,s.invert)(this.projectionMatrix.slice()),i=(0,s.create)();return(0,s.translate)(i,0,e[1]),(0,s.scale)(i,1,-1),(0,s.scale)(i,e[0]/2,e[1]/2),(0,s.translate)(i,1,1),(0,s.multiply)(i,a),(0,s.multiply)(i,r),i},n}(n.default);l.handles=function(t){return t.getType()===e.default.IMAGE},l.create=function(t,e){return new l(t,e)};var c=l;exports.default=c;
},{"../../reproj/common.js":"fF5X","../../LayerType.js":"bQ7c","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../extent.js":"QDir","./Layer.js":"nUxs","../../transform.js":"P4eA","../../webgl.js":"SCyv","../../webgl/Context.js":"nJOZ"}],"VyQL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../array.js"),t=require("../../css.js"),r=require("../../dom.js"),i=require("../../events.js"),a=require("../../layer/Layer.js"),s=x(require("../../render/Event.js")),n=x(require("../../render/EventType.js")),o=x(require("../../render/webgl/Immediate.js")),u=T(require("../Map.js")),h=x(require("../../source/State.js")),l=x(require("../../structs/LRUCache.js")),c=x(require("../../structs/PriorityQueue.js")),_=require("../../webgl.js"),d=x(require("../../webgl/Context.js")),p=x(require("../../webgl/ContextEventType.js"));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function T(e){if(e&&e.__esModule)return e;var t=f();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}}return r.default=e,t&&t.set(e,r),r}function x(e){return e&&e.__esModule?e:{default:e}}var v=1024,E=function(f){function T(e){f.call(this,e);var a=e.getViewport();this.canvas_=document.createElement("canvas"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=t.CLASS_UNSELECTABLE,a.insertBefore(this.canvas_,a.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=(0,r.createCanvasContext2D)(),this.renderedVisible_=!0,this.gl_=(0,_.getContext)(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new d.default(this.canvas_,this.gl_),(0,i.listen)(this.canvas_,p.default.LOST,this.handleWebGLContextLost,this),(0,i.listen)(this.canvas_,p.default.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new l.default,this.focus_=null,this.tileTextureQueue_=new c.default(function(e){var t=e[1],r=e[2],i=t[0]-this.focus_[0],a=t[1]-this.focus_[1];return 65536*Math.log(r)+Math.sqrt(i*i+a*a)/r}.bind(this),function(e){return e[0].getKey()}),this.loadNextTileTexture_=function(e,t){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var r=this.tileTextureQueue_.dequeue(),i=r[0],a=r[3],s=r[4];this.bindTileTexture(i,a,s,_.LINEAR,_.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()}return f&&(T.__proto__=f),T.prototype=Object.create(f&&f.prototype),T.prototype.constructor=T,T.prototype.bindTileTexture=function(e,t,r,i,a){var s=this.getGL(),n=e.getKey();if(this.textureCache_.containsKey(n)){var o=this.textureCache_.get(n);s.bindTexture(_.TEXTURE_2D,o.texture),o.magFilter!=i&&(s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,i),o.magFilter=i),o.minFilter!=a&&(s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,a),o.minFilter=a)}else{var u=s.createTexture(),h=e;if(s.bindTexture(_.TEXTURE_2D,u),r>0){var l=this.clipTileContext_.canvas,c=this.clipTileContext_;this.clipTileCanvasWidth_!==t[0]||this.clipTileCanvasHeight_!==t[1]?(l.width=t[0],l.height=t[1],this.clipTileCanvasWidth_=t[0],this.clipTileCanvasHeight_=t[1]):c.clearRect(0,0,t[0],t[1]),c.drawImage(h.getImage(),r,r,t[0],t[1],0,0,t[0],t[1]),s.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,l)}else s.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,h.getImage());s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,i),s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,a),s.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),s.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),this.textureCache_.set(n,{texture:u,magFilter:i,minFilter:a})}},T.prototype.dispatchRenderEvent=function(e,t){var r=this.getMap();if(r.hasListener(e)){var i=this.context_,a=t.extent,n=t.size,u=t.viewState,h=t.pixelRatio,l=u.resolution,c=u.center,_=u.rotation,d=new o.default(i,c,l,_,n,a,h),p=new s.default(e,d,t,null,i);r.dispatchEvent(p)}},T.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(t){t&&e.deleteTexture(t.texture)}),this.context_.dispose(),f.prototype.disposeInternal.call(this)},T.prototype.expireCache_=function(e,t){for(var r,i=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>v;){if(r=this.textureCache_.peekLast())i.deleteTexture(r.texture);else{if(+this.textureCache_.peekLastKey()==t.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},T.prototype.getContext=function(){return this.context_},T.prototype.getGL=function(){return this.gl_},T.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},T.prototype.handleWebGLContextLost=function(e){e.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var t=this.getLayerRenderers();for(var r in t){t[r].handleWebGLContextLost()}},T.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},T.prototype.initializeGL_=function(){var e=this.gl_;e.activeTexture(_.TEXTURE0),e.blendFuncSeparate(_.SRC_ALPHA,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA),e.disable(_.CULL_FACE),e.disable(_.DEPTH_TEST),e.disable(_.SCISSOR_TEST),e.disable(_.STENCIL_TEST)},T.prototype.isTileTextureLoaded=function(e){return this.textureCache_.containsKey(e.getKey())},T.prototype.renderFrame=function(t){var r=this.getContext(),i=this.getGL();if(i.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchRenderEvent(n.default.PRECOMPOSE,t);var s=[],o=t.layerStatesArray;(0,e.stableSort)(o,u.sortByZIndex);var l,c,d=t.viewState.resolution;for(l=0,c=o.length;l<c;++l){var p=o[l];if((0,a.visibleAtResolution)(p,d)&&p.sourceState==h.default.READY)this.getLayerRenderer(p.layer).prepareFrame(t,p,r)&&s.push(p)}var f=t.size[0]*t.pixelRatio,T=t.size[1]*t.pixelRatio;for(this.canvas_.width==f&&this.canvas_.height==T||(this.canvas_.width=f,this.canvas_.height=T),i.bindFramebuffer(_.FRAMEBUFFER,null),i.clearColor(0,0,0,0),i.clear(_.COLOR_BUFFER_BIT),i.enable(_.BLEND),i.viewport(0,0,this.canvas_.width,this.canvas_.height),l=0,c=s.length;l<c;++l){var x=s[l];this.getLayerRenderer(x.layer).composeFrame(t,x,r)}this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>v&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchRenderEvent(n.default.POSTCOMPOSE,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},T.prototype.forEachFeatureAtCoordinate=function(e,t,r,i,s,n,o){var u;if(this.getGL().isContextLost())return!1;var h,l=t.viewState,c=t.layerStatesArray;for(h=c.length-1;h>=0;--h){var _=c[h],d=_.layer;if((0,a.visibleAtResolution)(_,l.resolution)&&n.call(o,d))if(u=this.getLayerRenderer(d).forEachFeatureAtCoordinate(e,t,r,i))return u}},T.prototype.hasFeatureAtCoordinate=function(e,t,r,i,s){var n=!1;if(this.getGL().isContextLost())return!1;var o,u=t.viewState,h=t.layerStatesArray;for(o=h.length-1;o>=0;--o){var l=h[o],c=l.layer;if((0,a.visibleAtResolution)(l,u.resolution)&&i.call(s,c))if(n=this.getLayerRenderer(c).hasFeatureAtCoordinate(e,t))return!0}return n},T.prototype.forEachLayerAtPixel=function(e,t,r,i,s,n,o){if(this.getGL().isContextLost())return!1;var u,h,l=t.viewState,c=t.layerStatesArray;for(h=c.length-1;h>=0;--h){var _=c[h],d=_.layer;if((0,a.visibleAtResolution)(_,l.resolution)&&n.call(s,d))if(u=this.getLayerRenderer(d).forEachLayerAtPixel(e,t,i,s))return u}},T}(u.default),C=E;exports.default=C;
},{"../../array.js":"luEr","../../css.js":"HgMV","../../dom.js":"Xno5","../../events.js":"UqnM","../../layer/Layer.js":"GCgv","../../render/Event.js":"EB6P","../../render/EventType.js":"z39m","../../render/webgl/Immediate.js":"PT5w","../Map.js":"oIh9","../../source/State.js":"iC8j","../../structs/LRUCache.js":"oMDz","../../structs/PriorityQueue.js":"RQLY","../../webgl.js":"SCyv","../../webgl/Context.js":"nJOZ","../../webgl/ContextEventType.js":"HqWy"}],"dpZ6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./common.js"),e=require("../asserts.js"),i=a(require("../TileRange.js")),o=require("../array.js"),r=require("../extent.js"),n=require("../math.js"),s=require("../size.js"),l=require("../tilecoord.js");function h(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function a(t){if(t&&t.__esModule)return t;var e=h();if(e&&e.has(t))return e.get(t);var i={};if(null!=t){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=o?Object.getOwnPropertyDescriptor(t,r):null;n&&(n.get||n.set)?Object.defineProperty(i,r,n):i[r]=t[r]}}return i.default=t,e&&e.set(t,i),i}var u=[0,0,0],g=function(n){var s;if(this.minZoom=void 0!==n.minZoom?n.minZoom:0,this.resolutions_=n.resolutions,(0,e.assert)((0,o.isSorted)(this.resolutions_,function(t,e){return e-t},!0),17),!n.origins)for(var l=0,h=this.resolutions_.length-1;l<h;++l)if(s){if(this.resolutions_[l]/this.resolutions_[l+1]!==s){s=void 0;break}}else s=this.resolutions_[l]/this.resolutions_[l+1];this.zoomFactor_=s,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==n.origin?n.origin:null,this.origins_=null,void 0!==n.origins&&(this.origins_=n.origins,(0,e.assert)(this.origins_.length==this.resolutions_.length,20));var a=n.extent;void 0===a||this.origin_||this.origins_||(this.origin_=(0,r.getTopLeft)(a)),(0,e.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==n.tileSizes&&(this.tileSizes_=n.tileSizes,(0,e.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==n.tileSize?n.tileSize:this.tileSizes_?null:t.DEFAULT_TILE_SIZE,(0,e.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==n.sizes?this.fullTileRanges_=n.sizes.map(function(t,e){return new i.default(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):a&&this.calculateTileRanges_(a)};g.prototype.forEachTileCoord=function(t,e,i){for(var o=this.getTileRangeForExtentAndZ(t,e),r=o.minX,n=o.maxX;r<=n;++r)for(var s=o.minY,l=o.maxY;s<=l;++s)i([e,r,s])},g.prototype.forEachTileCoordParentTileRange=function(t,e,o,r,n){var s,l,h,a=null,u=t[0]-1;for(2===this.zoomFactor_?(l=t[1],h=t[2]):a=this.getTileCoordExtent(t,n);u>=this.minZoom;){if(2===this.zoomFactor_?(l=Math.floor(l/2),h=Math.floor(h/2),s=(0,i.createOrUpdate)(l,l,h,h,r)):s=this.getTileRangeForExtentAndZ(a,u,r),e.call(o,u,s))return!0;--u}return!1},g.prototype.getExtent=function(){return this.extent_},g.prototype.getMaxZoom=function(){return this.maxZoom},g.prototype.getMinZoom=function(){return this.minZoom},g.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},g.prototype.getResolution=function(t){return this.resolutions_[t]},g.prototype.getResolutions=function(){return this.resolutions_},g.prototype.getTileCoordChildTileRange=function(t,e,o){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],n=2*t[2];return(0,i.createOrUpdate)(r,r+1,n,n+1,e)}var s=this.getTileCoordExtent(t,o);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},g.prototype.getTileRangeExtent=function(t,e,i){var o=this.getOrigin(t),n=this.getResolution(t),l=(0,s.toSize)(this.getTileSize(t),this.tmpSize_),h=o[0]+e.minX*l[0]*n,a=o[0]+(e.maxX+1)*l[0]*n,u=o[1]+e.minY*l[1]*n,g=o[1]+(e.maxY+1)*l[1]*n;return(0,r.createOrUpdate)(h,u,a,g,i)},g.prototype.getTileRangeForExtentAndZ=function(t,e,o){var r=u;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var n=r[1],s=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),(0,i.createOrUpdate)(n,r[1],s,r[2],o)},g.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=(0,s.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*o[0]*i,e[1]+(t[2]+.5)*o[1]*i]},g.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),o=this.getResolution(t[0]),n=(0,s.toSize)(this.getTileSize(t[0]),this.tmpSize_),l=i[0]+t[1]*n[0]*o,h=i[1]+t[2]*n[1]*o,a=l+n[0]*o,u=h+n[1]*o;return(0,r.createOrUpdate)(l,h,a,u,e)},g.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},g.prototype.getTileCoordForXYAndResolution_=function(t,e,i,o,r){var n=this.getZForResolution(i),h=i/this.getResolution(n),a=this.getOrigin(n),u=(0,s.toSize)(this.getTileSize(n),this.tmpSize_),g=o?.5:0,p=o?0:.5,f=Math.floor((t-a[0])/i+g),_=Math.floor((e-a[1])/i+p),c=h*f/u[0],d=h*_/u[1];return o?(c=Math.ceil(c)-1,d=Math.ceil(d)-1):(c=Math.floor(c),d=Math.floor(d)),(0,l.createOrUpdate)(n,c,d,r)},g.prototype.getTileCoordForXYAndZ_=function(t,e,i,o,r){var n=this.getOrigin(i),h=this.getResolution(i),a=(0,s.toSize)(this.getTileSize(i),this.tmpSize_),u=o?.5:0,g=o?0:.5,p=Math.floor((t-n[0])/h+u),f=Math.floor((e-n[1])/h+g),_=p/a[0],c=f/a[1];return o?(_=Math.ceil(_)-1,c=Math.ceil(c)-1):(_=Math.floor(_),c=Math.floor(c)),(0,l.createOrUpdate)(i,_,c,r)},g.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},g.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},g.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},g.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},g.prototype.getZForResolution=function(t,e){var i=(0,o.linearFindNearest)(this.resolutions_,t,e||0);return(0,n.clamp)(i,this.minZoom,this.maxZoom)},g.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),o=this.minZoom;o<e;++o)i[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=i};var p=g;exports.default=p;
},{"./common.js":"mOEX","../asserts.js":"fLG6","../TileRange.js":"snev","../array.js":"luEr","../extent.js":"QDir","../math.js":"B96G","../size.js":"TAHd","../tilecoord.js":"faTr"}],"ExRx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getForProjection=s,exports.wrapX=d,exports.createForExtent=l,exports.createXYZ=c,exports.createForProjection=x,exports.extentFromProjection=g;var e=require("./tilegrid/common.js"),t=require("./size.js"),r=require("./extent.js"),i=a(require("./extent/Corner.js")),o=require("./proj.js"),n=a(require("./proj/Units.js")),u=a(require("./tilegrid/TileGrid.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.getDefaultTileGrid();return t||(t=x(e),e.setDefaultTileGrid(t)),t}function d(e,t,i){var o=t[0],n=e.getTileCoordCenter(t),u=g(i);if((0,r.containsCoordinate)(u,n))return t;var a=(0,r.getWidth)(u),s=Math.ceil((u[0]-n[0])/a);return n[0]+=a*s,e.getTileCoordForCoordAndZ(n,o)}function l(e,t,o,n){var a=void 0!==n?n:i.default.TOP_LEFT,s=f(e,t,o);return new u.default({extent:e,origin:(0,r.getCorner)(e,a),resolutions:s,tileSize:o})}function c(e){var t=e||{},r=t.extent||(0,o.get)("EPSG:3857").getExtent(),i={extent:r,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:f(r,t.maxZoom,t.tileSize)};return new u.default(i)}function f(i,o,n){for(var u=void 0!==o?o:e.DEFAULT_MAX_ZOOM,a=(0,r.getHeight)(i),s=(0,r.getWidth)(i),d=(0,t.toSize)(void 0!==n?n:e.DEFAULT_TILE_SIZE),l=Math.max(s/d[0],a/d[1]),c=u+1,f=new Array(c),x=0;x<c;++x)f[x]=l/Math.pow(2,x);return f}function x(e,t,r,i){return l(g(e),t,r,i)}function g(e){var t=(e=(0,o.get)(e)).getExtent();if(!t){var i=180*o.METERS_PER_UNIT[n.default.DEGREES]/e.getMetersPerUnit();t=(0,r.createOrUpdate)(-i,-i,i,i)}return t}
},{"./tilegrid/common.js":"mOEX","./size.js":"TAHd","./extent.js":"QDir","./extent/Corner.js":"urGY","./proj.js":"Diht","./proj/Units.js":"yZx6","./tilegrid/TileGrid.js":"dpZ6"}],"JECm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TileSourceEvent=void 0;var t=require("../util.js"),e=a(require("../TileCache.js")),i=a(require("../TileState.js")),r=a(require("../events/Event.js")),o=require("../proj.js"),n=require("../size.js"),u=a(require("./Source.js")),l=require("../tilecoord.js"),s=require("../tilegrid.js");function a(t){return t&&t.__esModule?t:{default:t}}var p=function(r){function u(t){r.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.tileCache=new e.default(t.cacheSize),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition}}return r&&(u.__proto__=r),u.prototype=Object.create(r&&r.prototype),u.prototype.constructor=u,u.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},u.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},u.prototype.forEachLoadedTile=function(t,e,r,o){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var u,s,a,p=!0,c=r.minX;c<=r.maxX;++c)for(var h=r.minY;h<=r.maxY;++h)s=(0,l.getKeyZXY)(e,c,h),a=!1,n.containsKey(s)&&(a=(u=n.get(s)).getState()===i.default.LOADED)&&(a=!1!==o(u)),a||(p=!1);return p},u.prototype.getGutterForProjection=function(t){return 0},u.prototype.getKey=function(){return this.key_},u.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},u.prototype.getOpaque=function(t){return this.opaque_},u.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},u.prototype.getTile=function(e,i,r,o,n){return(0,t.abstract)()},u.prototype.getTileGrid=function(){return this.tileGrid},u.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,s.getForProjection)(t)},u.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,o.equivalent)(e,t)?null:this.tileCache},u.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},u.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),u=(0,n.toSize)(r.getTileSize(t),this.tmpSize);return 1==o?u:(0,n.scale)(u,o,this.tmpSize)},u.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=(0,s.wrapX)(r,t,i)),(0,l.withinExtentAndZ)(t,r)?t:null},u.prototype.refresh=function(){this.tileCache.clear(),this.changed()},u.prototype.useTile=function(t,e,i,r){},u}(u.default),c=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.default);exports.TileSourceEvent=c;var h=p;exports.default=h;
},{"../util.js":"KniQ","../TileCache.js":"YFDe","../TileState.js":"Xz9x","../events/Event.js":"fKNg","../proj.js":"Diht","../size.js":"TAHd","./Source.js":"H38a","../tilecoord.js":"faTr","../tilegrid.js":"ExRx"}],"POLO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var e=require("../../webgl.js"),t=o(require("../../webgl/Fragment.js")),r=o(require("../../webgl/Vertex.js"));function o(e){return e&&e.__esModule?e:{default:e}}var n=new t.default(e.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}");exports.fragment=n;var i=new r.default(e.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");exports.vertex=i;
},{"../../webgl.js":"SCyv","../../webgl/Fragment.js":"SAYv","../../webgl/Vertex.js":"mo14"}],"t0kf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../webgl.js"),e=function(e,o){this.u_tileOffset=e.getUniformLocation(o,t.DEBUG?"u_tileOffset":"d"),this.u_texture=e.getUniformLocation(o,t.DEBUG?"u_texture":"e"),this.a_position=e.getAttribLocation(o,t.DEBUG?"a_position":"b"),this.a_texCoord=e.getAttribLocation(o,t.DEBUG?"a_texCoord":"c")},o=e;exports.default=o;
},{"../../../webgl.js":"SCyv"}],"colh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=T(require("../../LayerType.js")),t=T(require("../../ImageTile.js")),r=T(require("../../TileRange.js")),i=T(require("../../TileState.js")),o=T(require("../../source/Tile.js")),n=require("../../array.js"),a=require("../../extent.js"),s=require("../../math.js"),l=T(require("./Layer.js")),u=require("./tilelayershader.js"),d=T(require("./tilelayershader/Locations.js")),f=require("../../size.js"),h=require("../../transform.js"),c=require("../../webgl.js"),g=T(require("../../webgl/Buffer.js"));function T(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function l(t,r){e.call(this,t,r),this.fragmentShader_=u.fragment,this.vertexShader_=u.vertex,this.locations_=null,this.renderArrayBuffer_=new g.default([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]}return e&&(l.__proto__=e),l.prototype=Object.create(e&&e.prototype),l.prototype.constructor=l,l.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),e.prototype.disposeInternal.call(this)},l.prototype.createLoadedTileFinder=function(e,t,r){var i=this.mapRenderer;return function(o,n){return e.forEachLoadedTile(t,o,n,function(e){var t=i.isTileTextureLoaded(e);return t&&(r[o]||(r[o]={}),r[o][e.tileCoord.toString()]=e),t})}},l.prototype.handleWebGLContextLost=function(){e.prototype.handleWebGLContextLost.call(this),this.locations_=null},l.prototype.prepareFrame=function(e,l,u){var g=this.mapRenderer,T=u.getGL(),_=e.viewState,p=_.projection,m=this.getLayer(),x=m.getSource();if(!(x instanceof o.default))return!0;var R,v=x.getTileGridForProjection(p),y=v.getZForResolution(_.resolution),E=v.getResolution(y),b=x.getTilePixelSize(y,e.pixelRatio,p),L=b[0]/(0,f.toSize)(v.getTileSize(y),this.tmpSize_)[0],C=E/L,A=x.getTilePixelRatio(L)*x.getGutterForProjection(p),F=_.center,j=e.extent,S=v.getTileRangeForExtentAndZ(j,y);if(this.renderedTileRange_&&this.renderedTileRange_.equals(S)&&this.renderedRevision_==x.getRevision())R=this.renderedFramebufferExtent_;else{var P=S.getSize(),q=Math.max(P[0]*b[0],P[1]*b[1]),O=(0,s.roundUpToPowerOfTwo)(q),w=C*O,B=v.getOrigin(y),z=B[0]+S.minX*b[0]*C,I=B[1]+S.minY*b[1]*C;R=[z,I,z+w,I+w],this.bindFramebuffer(e,O),T.viewport(0,0,O,O),T.clearColor(0,0,0,0),T.clear(c.COLOR_BUFFER_BIT),T.disable(c.BLEND);var D=u.getProgram(this.fragmentShader_,this.vertexShader_);u.useProgram(D),this.locations_||(this.locations_=new d.default(T,D)),u.bindBuffer(c.ARRAY_BUFFER,this.renderArrayBuffer_),T.enableVertexAttribArray(this.locations_.a_position),T.vertexAttribPointer(this.locations_.a_position,2,c.FLOAT,!1,16,0),T.enableVertexAttribArray(this.locations_.a_texCoord),T.vertexAttribPointer(this.locations_.a_texCoord,2,c.FLOAT,!1,16,8),T.uniform1i(this.locations_.u_texture,0);var M={};M[y]={};var G,U,N,Y,X,K,Q=this.createLoadedTileFinder(x,p,M),V=m.getUseInterimTilesOnError(),W=!0,Z=(0,a.createEmpty)(),k=new r.default(0,0,0,0);for(Y=S.minX;Y<=S.maxX;++Y)for(X=S.minY;X<=S.maxY;++X)if(U=x.getTile(y,Y,X,L,p),void 0===l.extent||(K=v.getTileCoordExtent(U.tileCoord,Z),(0,a.intersects)(K,l.extent))){if((N=U.getState())==i.default.LOADED||N==i.default.EMPTY||N==i.default.ERROR&&!V||(U=U.getInterimTile()),(N=U.getState())==i.default.LOADED){if(g.isTileTextureLoaded(U)){M[y][U.tileCoord.toString()]=U;continue}}else if(N==i.default.EMPTY||N==i.default.ERROR&&!V)continue;W=!1,v.forEachTileCoordParentTileRange(U.tileCoord,Q,null,k,Z)||(G=v.getTileCoordChildTileRange(U.tileCoord,k,Z))&&Q(y+1,G)}var H=Object.keys(M).map(Number);H.sort(n.numberSafeCompareFunction);for(var J=new Float32Array(4),$=0,ee=H.length;$<ee;++$){var te=M[H[$]];for(var re in te)(U=te[re])instanceof t.default&&(K=v.getTileCoordExtent(U.tileCoord,Z),J[0]=2*(K[2]-K[0])/w,J[1]=2*(K[3]-K[1])/w,J[2]=2*(K[0]-R[0])/w-1,J[3]=2*(K[1]-R[1])/w-1,T.uniform4fv(this.locations_.u_tileOffset,J),g.bindTileTexture(U,b,A*L,c.LINEAR,c.LINEAR),T.drawArrays(c.TRIANGLE_STRIP,0,4))}W?(this.renderedTileRange_=S,this.renderedFramebufferExtent_=R,this.renderedRevision_=x.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,e.animate=!0)}this.updateUsedTiles(e.usedTiles,x,y,S);var ie=g.getTileTextureQueue();this.manageTilePyramid(e,x,v,L,p,j,y,m.getPreload(),function(e){e.getState()!=i.default.LOADED||g.isTileTextureLoaded(e)||ie.isKeyQueued(e.getKey())||ie.enqueue([e,v.getTileCoordCenter(e.tileCoord),v.getResolution(e.tileCoord[0]),b,A*L])},this),this.scheduleExpireCache(e,x);var oe=this.texCoordMatrix;return(0,h.reset)(oe),(0,h.translate)(oe,(Math.round(F[0]/E)*E-R[0])/(R[2]-R[0]),(Math.round(F[1]/E)*E-R[1])/(R[3]-R[1])),0!==_.rotation&&(0,h.rotate)(oe,_.rotation),(0,h.scale)(oe,e.size[0]*_.resolution/(R[2]-R[0]),e.size[1]*_.resolution/(R[3]-R[1])),(0,h.translate)(oe,-.5,-.5),!0},l.prototype.forEachLayerAtPixel=function(e,t,r,i){if(this.framebuffer){var o=[e[0]/t.size[0],(t.size[1]-e[1])/t.size[1]],n=(0,h.apply)(this.texCoordMatrix,o.slice()),a=[n[0]*this.framebufferDimension,n[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?r.call(i,this.getLayer(),l):void 0}},l}(l.default);_.handles=function(t){return t.getType()===e.default.TILE},_.create=function(e,t){return new _(e,t)};var p=_;exports.default=p;
},{"../../LayerType.js":"bQ7c","../../ImageTile.js":"TOsW","../../TileRange.js":"snev","../../TileState.js":"Xz9x","../../source/Tile.js":"JECm","../../array.js":"luEr","../../extent.js":"QDir","../../math.js":"B96G","./Layer.js":"nUxs","./tilelayershader.js":"POLO","./tilelayershader/Locations.js":"t0kf","../../size.js":"TAHd","../../transform.js":"P4eA","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"u0wC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=u(require("../../LayerType.js")),r=u(require("../../ViewHint.js")),i=require("../../extent.js"),n=u(require("../../render/webgl/ReplayGroup.js")),a=require("../vector.js"),o=u(require("./Layer.js")),s=require("../../transform.js");function u(e){return e&&e.__esModule?e:{default:e}}var d=function(t){function o(e,r){t.call(this,e,r),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,i.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.composeFrame=function(e,t,r){this.layerState_=t;var i=e.viewState,n=this.replayGroup_,a=e.size,o=e.pixelRatio,s=this.mapRenderer.getGL();n&&!n.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,a[0]*o,a[1]*o),n.replay(r,i.center,i.resolution,i.rotation,a,o,t.opacity,t.managed?e.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},o.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var r=this.mapRenderer.getContext();e.getDeleteResourcesFunction(r)(),this.replayGroup_=null}t.prototype.disposeInternal.call(this)},o.prototype.forEachFeatureAtCoordinate=function(t,r,i,n,a){if(this.replayGroup_&&this.layerState_){var o=this.mapRenderer.getContext(),s=r.viewState,u=this.getLayer(),d=this.layerState_,l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s.center,s.resolution,s.rotation,r.size,r.pixelRatio,d.opacity,{},function(t){var r=(0,e.getUid)(t);if(!(r in l))return l[r]=!0,n.call(a,t,u)})}},o.prototype.hasFeatureAtCoordinate=function(e,t){if(this.replayGroup_&&this.layerState_){var r=this.mapRenderer.getContext(),i=t.viewState,n=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(e,r,i.center,i.resolution,i.rotation,t.size,t.pixelRatio,n.opacity,t.skippedFeatureUids)}return!1},o.prototype.forEachLayerAtPixel=function(e,t,r,i){var n=(0,s.apply)(t.pixelToCoordinateTransform,e.slice());return this.hasFeatureAtCoordinate(n,t)?r.call(i,this.getLayer(),null):void 0},o.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},o.prototype.prepareFrame=function(e,t,o){var s=this.getLayer(),u=s.getSource(),d=e.viewHints[r.default.ANIMATING],l=e.viewHints[r.default.INTERACTING],p=s.getUpdateWhileAnimating(),h=s.getUpdateWhileInteracting();if(!this.dirty_&&!p&&d||!h&&l)return!0;var y=e.extent,c=e.viewState,f=c.projection,_=c.resolution,v=e.pixelRatio,g=s.getRevision(),R=s.getRenderBuffer(),S=s.getRenderOrder();void 0===S&&(S=a.defaultOrder);var F=(0,i.buffer)(y,R*_);if(!this.dirty_&&this.renderedResolution_==_&&this.renderedRevision_==g&&this.renderedRenderOrder_==S&&(0,i.containsExtent)(this.renderedExtent_,F))return!0;this.replayGroup_&&e.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(o)),this.dirty_=!1;var x=new n.default((0,a.getTolerance)(_,v),F,s.getRenderBuffer());u.loadFeatures(F,_,f);var E=function(e){var t,r=e.getStyleFunction()||s.getStyleFunction();if(r&&(t=r(e,_)),t){var i=this.renderFeature(e,_,v,t,x);this.dirty_=this.dirty_||i}}.bind(this);if(S){var m=[];u.forEachFeatureInExtent(F,function(e){m.push(e)}),m.sort(S),m.forEach(E.bind(this))}else u.forEachFeatureInExtent(F,E);return x.finish(o),this.renderedResolution_=_,this.renderedRevision_=g,this.renderedRenderOrder_=S,this.renderedExtent_=F,this.replayGroup_=x,!0},o.prototype.renderFeature=function(e,t,r,i,n){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=i.length-1;s>=0;--s)o=(0,a.renderFeature)(n,e,i[s],(0,a.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this)||o;else o=(0,a.renderFeature)(n,e,i,(0,a.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this)||o;return o},o}(o.default);d.handles=function(e){return e.getType()===t.default.VECTOR},d.create=function(e,t){return new d(e,t)};var l=d;exports.default=l;
},{"../../util.js":"KniQ","../../LayerType.js":"bQ7c","../../ViewHint.js":"cuLW","../../extent.js":"QDir","../../render/webgl/ReplayGroup.js":"aOHC","../vector.js":"UCah","./Layer.js":"nUxs","../../transform.js":"P4eA"}],"P8xj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./PluggableMap.js")),r=require("./control.js"),t=require("./interaction.js"),o=require("./obj.js"),u=i(require("./renderer/webgl/ImageLayer.js")),n=i(require("./renderer/webgl/Map.js")),a=i(require("./renderer/webgl/TileLayer.js")),s=i(require("./renderer/webgl/VectorLayer.js"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function i(u){(u=(0,o.assign)({},u)).controls||(u.controls=(0,r.defaults)()),u.interactions||(u.interactions=(0,t.defaults)()),e.call(this,u)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.createRenderer=function(){var e=new n.default(this);return e.registerLayerRenderers([u.default,a.default,s.default]),e},i}(e.default),d=l;exports.default=d;
},{"./PluggableMap.js":"kRwz","./control.js":"ucqx","./interaction.js":"aMDX","./obj.js":"mH6q","./renderer/webgl/ImageLayer.js":"wNTt","./renderer/webgl/Map.js":"VyQL","./renderer/webgl/TileLayer.js":"colh","./renderer/webgl/VectorLayer.js":"u0wC"}],"DRei":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AssertionError",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Collection",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Disposable",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Feature",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Geolocation",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"Graticule",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"ImageBase",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"ImageCanvas",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"ImageTile",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"Kinetic",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"Map",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"MapBrowserEvent",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"MapBrowserEventHandler",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"MapBrowserPointerEvent",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"MapEvent",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"Object",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"Observable",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"Overlay",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"PluggableMap",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"Tile",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"TileCache",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"TileQueue",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"TileRange",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"VectorImageTile",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"VectorTile",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(exports,"View",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(exports,"WebGLMap",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(exports,"getUid",{enumerable:!0,get:function(){return w.getUid}}),Object.defineProperty(exports,"inherits",{enumerable:!0,get:function(){return w.inherits}}),Object.defineProperty(exports,"VERSION",{enumerable:!0,get:function(){return w.VERSION}});var e=B(require("./AssertionError.js")),r=B(require("./Collection.js")),t=B(require("./Disposable.js")),n=B(require("./Feature.js")),u=B(require("./Geolocation.js")),i=B(require("./Graticule.js")),o=B(require("./Image.js")),a=B(require("./ImageBase.js")),l=B(require("./ImageCanvas.js")),f=B(require("./ImageTile.js")),s=B(require("./Kinetic.js")),c=B(require("./Map.js")),p=B(require("./MapBrowserEvent.js")),b=B(require("./MapBrowserEventHandler.js")),d=B(require("./MapBrowserPointerEvent.js")),j=B(require("./MapEvent.js")),g=B(require("./Object.js")),m=B(require("./Observable.js")),O=B(require("./Overlay.js")),P=B(require("./PluggableMap.js")),y=B(require("./Tile.js")),x=B(require("./TileCache.js")),q=B(require("./TileQueue.js")),v=B(require("./TileRange.js")),M=B(require("./VectorImageTile.js")),T=B(require("./VectorTile.js")),E=B(require("./View.js")),I=B(require("./WebGLMap.js")),w=require("./util.js");function B(e){return e&&e.__esModule?e:{default:e}}
},{"./AssertionError.js":"ygGQ","./Collection.js":"FnDa","./Disposable.js":"DDda","./Feature.js":"mYW9","./Geolocation.js":"X4ix","./Graticule.js":"QUiD","./Image.js":"DHWK","./ImageBase.js":"Ojbp","./ImageCanvas.js":"K7j2","./ImageTile.js":"TOsW","./Kinetic.js":"gAnK","./Map.js":"kYy5","./MapBrowserEvent.js":"HMLS","./MapBrowserEventHandler.js":"ohHk","./MapBrowserPointerEvent.js":"J1WQ","./MapEvent.js":"vFcA","./Object.js":"PhPh","./Observable.js":"IdSm","./Overlay.js":"qWcX","./PluggableMap.js":"kRwz","./Tile.js":"IWZI","./TileCache.js":"YFDe","./TileQueue.js":"tHOl","./TileRange.js":"snev","./VectorImageTile.js":"xDao","./VectorTile.js":"yj80","./View.js":"hNqE","./WebGLMap.js":"P8xj","./util.js":"KniQ"}],"KHBf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../LayerType.js")),t=r(require("./Layer.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(r){var o=r||{};t.call(this,o),this.type=e.default.IMAGE}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(t.default);o.prototype.getSource;var u=o;exports.default=u;
},{"../LayerType.js":"bQ7c","./Layer.js":"GCgv"}],"M5pz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};exports.default=e;
},{}],"BUEc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../LayerType.js")),t=s(require("./Layer.js")),r=s(require("./TileProperty.js")),o=require("../obj.js");function s(e){return e&&e.__esModule?e:{default:e}}var i=function(t){function s(r){var s=r||{},i=(0,o.assign)({},s);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==s.preload?s.preload:0),this.setUseInterimTilesOnError(void 0===s.useInterimTilesOnError||s.useInterimTilesOnError),this.type=e.default.TILE}return t&&(s.__proto__=t),s.prototype=Object.create(t&&t.prototype),s.prototype.constructor=s,s.prototype.getPreload=function(){return this.get(r.default.PRELOAD)},s.prototype.setPreload=function(e){this.set(r.default.PRELOAD,e)},s.prototype.getUseInterimTilesOnError=function(){return this.get(r.default.USE_INTERIM_TILES_ON_ERROR)},s.prototype.setUseInterimTilesOnError=function(e){this.set(r.default.USE_INTERIM_TILES_ON_ERROR,e)},s}(t.default);i.prototype.getSource;var n=i;exports.default=n;
},{"../LayerType.js":"bQ7c","./Layer.js":"GCgv","./TileProperty.js":"M5pz","../obj.js":"mH6q"}],"Kylu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transformWithOptions=a,exports.default=void 0;var t=require("../obj.js"),r=require("../util.js"),e=require("../proj.js"),o=function(){this.dataProjection=null,this.defaultFeatureProjection=null};o.prototype.getReadOptions=function(t,r){var e;return r&&(e={dataProjection:r.dataProjection?r.dataProjection:this.readProjection(t),featureProjection:r.featureProjection}),this.adaptOptions(e)},o.prototype.adaptOptions=function(r){return(0,t.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},r)},o.prototype.getLastExtent=function(){return null},o.prototype.getType=function(){return(0,r.abstract)()},o.prototype.readFeature=function(t,e){return(0,r.abstract)()},o.prototype.readFeatures=function(t,e){return(0,r.abstract)()},o.prototype.readGeometry=function(t,e){return(0,r.abstract)()},o.prototype.readProjection=function(t){return(0,r.abstract)()},o.prototype.writeFeature=function(t,e){return(0,r.abstract)()},o.prototype.writeFeatures=function(t,e){return(0,r.abstract)()},o.prototype.writeGeometry=function(t,e){return(0,r.abstract)()};var n=o;function a(t,r,o){var n,a=o?(0,e.get)(o.featureProjection):null,i=o?(0,e.get)(o.dataProjection):null;if(n=a&&i&&!(0,e.equivalent)(a,i)?Array.isArray(t)?(0,e.transformExtent)(t,i,a):(r?t.clone():t).transform(r?a:i,r?i:a):t,r&&o&&void 0!==o.decimals&&!Array.isArray(n)){var u=Math.pow(10,o.decimals);n===t&&(n=t.clone()),n.applyTransform(function(t){for(var r=0,e=t.length;r<e;++r)t[r]=Math.round(t[r]*u)/u;return t})}return n}exports.default=n;
},{"../obj.js":"mH6q","../util.js":"KniQ","../proj.js":"Diht"}],"RA7M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=o(require("./Feature.js")),r=o(require("./FormatType.js"));function o(t){return t&&t.__esModule?t:{default:t}}var n=function(e){function o(){e.call(this)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.getType=function(){return r.default.JSON},o.prototype.readFeature=function(t,e){return this.readFeatureFromObject(u(t),this.getReadOptions(t,e))},o.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(u(t),this.getReadOptions(t,e))},o.prototype.readFeatureFromObject=function(e,r){return(0,t.abstract)()},o.prototype.readFeaturesFromObject=function(e,r){return(0,t.abstract)()},o.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(u(t),this.getReadOptions(t,e))},o.prototype.readGeometryFromObject=function(e,r){return(0,t.abstract)()},o.prototype.readProjection=function(t){return this.readProjectionFromObject(u(t))},o.prototype.readProjectionFromObject=function(e){return(0,t.abstract)()},o.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},o.prototype.writeFeatureObject=function(e,r){return(0,t.abstract)()},o.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},o.prototype.writeFeaturesObject=function(e,r){return(0,t.abstract)()},o.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},o.prototype.writeGeometryObject=function(e,r){return(0,t.abstract)()},o}(e.default);function u(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var i=n;exports.default=i;
},{"../util.js":"KniQ","./Feature.js":"Kylu","./FormatType.js":"AbO3"}],"HvLT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=n(require("../events/EventType.js")),r=require("../extent.js"),i=n(require("./Geometry.js")),o=n(require("./GeometryType.js")),s=require("../obj.js");function n(e){return e&&e.__esModule?e:{default:e}}var a=function(i){function n(e){i.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n,n.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var r=0,i=this.geometries_.length;r<i;++r)(0,e.unlisten)(this.geometries_[r],t.default.CHANGE,this.changed,this)},n.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var r=0,i=this.geometries_.length;r<i;++r)(0,e.listen)(this.geometries_[r],t.default.CHANGE,this.changed,this)},n.prototype.clone=function(){var e=new n(null);return e.setGeometries(this.geometries_),e},n.prototype.closestPointXY=function(e,t,i,o){if(o<(0,r.closestSquaredDistanceXY)(this.getExtent(),e,t))return o;for(var s=this.geometries_,n=0,a=s.length;n<a;++n)o=s[n].closestPointXY(e,t,i,o);return o},n.prototype.containsXY=function(e,t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)if(r[i].containsXY(e,t))return!0;return!1},n.prototype.computeExtent=function(e){(0,r.createOrUpdateEmpty)(e);for(var t=this.geometries_,i=0,o=t.length;i<o;++i)(0,r.extend)(e,t[i].getExtent());return e},n.prototype.getGeometries=function(){return h(this.geometries_)},n.prototype.getGeometriesArray=function(){return this.geometries_},n.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,s.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];for(var r=[],i=this.geometries_,o=!1,a=0,h=i.length;a<h;++a){var p=i[a],u=p.getSimplifiedGeometry(e);r.push(u),u!==p&&(o=!0)}if(o){var l=new n(null);return l.setGeometriesArray(r),this.simplifiedGeometryCache[t]=l,l}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},n.prototype.getType=function(){return o.default.GEOMETRY_COLLECTION},n.prototype.intersectsExtent=function(e){for(var t=this.geometries_,r=0,i=t.length;r<i;++r)if(t[r].intersectsExtent(e))return!0;return!1},n.prototype.isEmpty=function(){return 0===this.geometries_.length},n.prototype.rotate=function(e,t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].rotate(e,t);this.changed()},n.prototype.scale=function(e,t,i){var o=i;o||(o=(0,r.getCenter)(this.getExtent()));for(var s=this.geometries_,n=0,a=s.length;n<a;++n)s[n].scale(e,t,o);this.changed()},n.prototype.setGeometries=function(e){this.setGeometriesArray(h(e))},n.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},n.prototype.applyTransform=function(e){for(var t=this.geometries_,r=0,i=t.length;r<i;++r)t[r].applyTransform(e);this.changed()},n.prototype.translate=function(e,t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].translate(e,t);this.changed()},n.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),i.prototype.disposeInternal.call(this)},n}(i.default);function h(e){for(var t=[],r=0,i=e.length;r<i;++r)t.push(e[r].clone());return t}var p=a;exports.default=p;
},{"../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir","./Geometry.js":"F8sI","./GeometryType.js":"lmV0","../obj.js":"mH6q"}],"qBlb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../asserts.js"),t=m(require("../Feature.js")),r=require("./Feature.js"),o=m(require("./JSONFeature.js")),n=m(require("../geom/GeometryCollection.js")),a=m(require("../geom/LineString.js")),i=m(require("../geom/MultiLineString.js")),u=m(require("../geom/MultiPoint.js")),s=m(require("../geom/MultiPolygon.js")),c=m(require("../geom/Point.js")),d=m(require("../geom/Polygon.js")),p=require("../obj.js"),l=require("../proj.js"),f=m(require("../geom/GeometryType.js"));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(r){function o(e){var t=e||{};r.call(this),this.dataProjection=(0,l.get)(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=(0,l.get)(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName}return r&&(o.__proto__=r),o.prototype=Object.create(r&&r.prototype),o.prototype.constructor=o,o.prototype.readFeatureFromObject=function(e,r){var o=null,n=g((o="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,r),a=new t.default;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in o!==void 0&&a.setGeometryName(o.geometry_name),a.setGeometry(n),"id"in o&&a.setId(o.id),o.properties&&a.setProperties(o.properties),a},o.prototype.readFeaturesFromObject=function(e,t){var r=null;if("FeatureCollection"===e.type){r=[];for(var o=e.features,n=0,a=o.length;n<a;++n)r.push(this.readFeatureFromObject(o[n],t))}else r=[this.readFeatureFromObject(e,t)];return r},o.prototype.readGeometryFromObject=function(e,t){return g(e,t)},o.prototype.readProjectionFromObject=function(t){var r,o=t.crs;return o?"name"==o.type?r=(0,l.get)(o.properties.name):(0,e.assert)(!1,36):r=this.dataProjection,r},o.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={type:"Feature",geometry:null,properties:null},o=e.getId();void 0!==o&&(r.id=o);var n=e.getGeometry();n&&(r.geometry=_(n,t));var a=e.getProperties();return delete a[e.getGeometryName()],(0,p.isEmpty)(a)||(r.properties=a),r},o.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var r=[],o=0,n=e.length;o<n;++o)r.push(this.writeFeatureObject(e[o],t));return{type:"FeatureCollection",features:r}},o.prototype.writeGeometryObject=function(e,t){return _(e,this.adaptOptions(t))},o}(o.default);function g(e,t){if(!e)return null;var o;switch(e.type){case f.default.POINT:o=O(e);break;case f.default.LINE_STRING:o=N(e);break;case f.default.POLYGON:o=G(e);break;case f.default.MULTI_POINT:o=b(e);break;case f.default.MULTI_LINE_STRING:o=P(e);break;case f.default.MULTI_POLYGON:o=h(e);break;case f.default.GEOMETRY_COLLECTION:o=j(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return(0,r.transformWithOptions)(o,!1,t)}function j(e,t){var r=e.geometries.map(function(e){return g(e,t)});return new n.default(r)}function O(e){return new c.default(e.coordinates)}function N(e){return new a.default(e.coordinates)}function P(e){return new i.default(e.coordinates)}function b(e){return new u.default(e.coordinates)}function h(e){return new s.default(e.coordinates)}function G(e){return new d.default(e.coordinates)}function _(e,t){var o,n=(e=(0,r.transformWithOptions)(e,!0,t)).getType();switch(n){case f.default.POINT:o=w(e,t);break;case f.default.LINE_STRING:o=L(e,t);break;case f.default.POLYGON:o=C(e,t);break;case f.default.MULTI_POINT:o=F(e,t);break;case f.default.MULTI_LINE_STRING:o=v(e,t);break;case f.default.MULTI_POLYGON:o=T(e,t);break;case f.default.GEOMETRY_COLLECTION:o=I(e,t);break;case f.default.CIRCLE:o={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return o}function I(e,t){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map(function(e){var r=(0,p.assign)({},t);return delete r.featureProjection,_(e,r)})}}function L(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function v(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function F(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function T(e,t){var r;return t&&(r=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(r)}}function w(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function C(e,t){var r;return t&&(r=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(r)}}var M=y;exports.default=M;
},{"../asserts.js":"fLG6","../Feature.js":"mYW9","./Feature.js":"Kylu","./JSONFeature.js":"RA7M","../geom/GeometryCollection.js":"HvLT","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","../obj.js":"mH6q","../proj.js":"Diht","../geom/GeometryType.js":"lmV0"}],"yYlP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createElementNS=n,exports.getAllTextContent=o,exports.getAllTextContent_=i,exports.isDocument=a,exports.getAttributeNS=u,exports.parse=l,exports.makeArrayExtender=c,exports.makeArrayPusher=p,exports.makeReplacer=s,exports.makeObjectPropertyPusher=d,exports.makeObjectPropertySetter=v,exports.makeChildAppender=f,exports.makeArraySerializer=m,exports.makeSimpleNodeFactory=x,exports.makeSequence=N,exports.makeStructureNS=E,exports.parseNode=S,exports.pushParseAndPop=g,exports.serialize=A,exports.pushSerializeAndPop=C,exports.OBJECT_PROPERTY_NODE_FACTORY=exports.XML_SCHEMA_INSTANCE_URI=exports.DOCUMENT=void 0;var e=require("./array.js"),t=document.implementation.createDocument("","",null);exports.DOCUMENT=t;var r="http://www.w3.org/2001/XMLSchema-instance";function n(e,r){return t.createElementNS(e,r)}function o(e,t){return i(e,t,[]).join("")}function i(e,t,r){var n;if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else for(n=e.firstChild;n;n=n.nextSibling)i(n,t,r);return r}function a(e){return"documentElement"in e}function u(e,t,r){return e.getAttributeNS(t,r)||""}function l(e){return(new DOMParser).parseFromString(e,"application/xml")}function c(t,r){return function(n,o){var i=t.call(void 0!==r?r:this,n,o);if(void 0!==i){var a=o[o.length-1];(0,e.extend)(a,i)}}}function p(e,t){return function(r,n){var o=e.call(void 0!==t?t:this,r,n);void 0!==o&&n[n.length-1].push(o)}}function s(e,t){return function(r,n){var o=e.call(void 0!==t?t:this,r,n);void 0!==o&&(n[n.length-1]=o)}}function d(e,t,r){return function(n,o){var i=e.call(void 0!==r?r:this,n,o);if(void 0!==i){var a=o[o.length-1],u=void 0!==t?t:n.localName;(u in a?a[u]:a[u]=[]).push(i)}}}function v(e,t,r){return function(n,o){var i=e.call(void 0!==r?r:this,n,o);void 0!==i&&(o[o.length-1][void 0!==t?t:n.localName]=i)}}function f(e,t){return function(r,n,o){e.call(void 0!==t?t:this,r,n,o),o[o.length-1].node.appendChild(r)}}function m(e,t){var r,n;return function(t,o,i){if(void 0===r){r={};var a={};a[t.localName]=e,r[t.namespaceURI]=a,n=x(t.localName)}A(r,n,o,i)}}function x(e,t){var r=e;return function(e,o,i){var a=o[o.length-1].node,u=r;return void 0===u&&(u=i),n(void 0!==t?t:a.namespaceURI,u)}}exports.XML_SCHEMA_INSTANCE_URI=r;var h=x();function N(e,t){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=e[t[o]];return n}function E(e,t,r){var n,o,i=void 0!==r?r:{};for(n=0,o=e.length;n<o;++n)i[e[n]]=t;return i}function S(e,t,r,n){var o;for(o=t.firstElementChild;o;o=o.nextElementSibling){var i=e[o.namespaceURI];if(void 0!==i){var a=i[o.localName];void 0!==a&&a.call(n,o,r)}}}function g(e,t,r,n,o){return n.push(e),S(t,r,n,o),n.pop()}function A(e,t,r,n,o,i){for(var a,u,l=(void 0!==o?o:r).length,c=0;c<l;++c)void 0!==(a=r[c])&&void 0!==(u=t.call(void 0!==i?i:this,a,n,void 0!==o?o[c]:void 0))&&e[u.namespaceURI][u.localName].call(i,u,a,n)}function C(e,t,r,n,o,i,a){return o.push(e),A(t,r,n,o,i,a),o.pop()}exports.OBJECT_PROPERTY_NODE_FACTORY=h;
},{"./array.js":"luEr"}],"CXRz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),r=require("../array.js"),t=u(require("../format/Feature.js")),o=u(require("../format/FormatType.js")),n=require("../xml.js");function u(e){return e&&e.__esModule?e:{default:e}}var i=function(t){function u(){t.call(this),this.xmlSerializer_=new XMLSerializer}return t&&(u.__proto__=t),u.prototype=Object.create(t&&t.prototype),u.prototype.constructor=u,u.prototype.getType=function(){return o.default.XML},u.prototype.readFeature=function(e,r){if(e){if("string"==typeof e){var t=(0,n.parse)(e);return this.readFeatureFromDocument(t,r)}return(0,n.isDocument)(e)?this.readFeatureFromDocument(e,r):this.readFeatureFromNode(e,r)}return null},u.prototype.readFeatureFromDocument=function(e,r){var t=this.readFeaturesFromDocument(e,r);return t.length>0?t[0]:null},u.prototype.readFeatureFromNode=function(e,r){return null},u.prototype.readFeatures=function(e,r){if(e){if("string"==typeof e){var t=(0,n.parse)(e);return this.readFeaturesFromDocument(t,r)}return(0,n.isDocument)(e)?this.readFeaturesFromDocument(e,r):this.readFeaturesFromNode(e,r)}return[]},u.prototype.readFeaturesFromDocument=function(e,t){for(var o=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,r.extend)(o,this.readFeaturesFromNode(n,t));return o},u.prototype.readFeaturesFromNode=function(r,t){return(0,e.abstract)()},u.prototype.readGeometry=function(e,r){if(e){if("string"==typeof e){var t=(0,n.parse)(e);return this.readGeometryFromDocument(t,r)}return(0,n.isDocument)(e)?this.readGeometryFromDocument(e,r):this.readGeometryFromNode(e,r)}return null},u.prototype.readGeometryFromDocument=function(e,r){return null},u.prototype.readGeometryFromNode=function(e,r){return null},u.prototype.readProjection=function(e){if(e){if("string"==typeof e){var r=(0,n.parse)(e);return this.readProjectionFromDocument(r)}return(0,n.isDocument)(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}return null},u.prototype.readProjectionFromDocument=function(e){return this.dataProjection},u.prototype.readProjectionFromNode=function(e){return this.dataProjection},u.prototype.writeFeature=function(e,r){var t=this.writeFeatureNode(e,r);return this.xmlSerializer_.serializeToString(t)},u.prototype.writeFeatureNode=function(e,r){return null},u.prototype.writeFeatures=function(e,r){var t=this.writeFeaturesNode(e,r);return this.xmlSerializer_.serializeToString(t)},u.prototype.writeFeaturesNode=function(e,r){return null},u.prototype.writeGeometry=function(e,r){var t=this.writeGeometryNode(e,r);return this.xmlSerializer_.serializeToString(t)},u.prototype.writeGeometryNode=function(e,r){return null},u}(t.default),a=i;exports.default=a;
},{"../util.js":"KniQ","../array.js":"luEr","../format/Feature.js":"Kylu","../format/FormatType.js":"AbO3","../xml.js":"yYlP"}],"ZpWv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.GMLNS=void 0;var e=require("../array.js"),t=y(require("../Feature.js")),r=require("./Feature.js"),o=y(require("./XMLFeature.js")),n=y(require("../geom/GeometryLayout.js")),a=y(require("../geom/LineString.js")),i=y(require("../geom/LinearRing.js")),s=y(require("../geom/MultiLineString.js")),p=y(require("../geom/MultiPoint.js")),u=y(require("../geom/MultiPolygon.js")),l=y(require("../geom/Point.js")),d=y(require("../geom/Polygon.js")),h=require("../obj.js"),m=require("../proj.js"),f=require("../xml.js");function y(e){return e&&e.__esModule?e:{default:e}}var P="http://www.opengis.net/gml";exports.GMLNS=P;var R=/^[\s\xa0]*$/,g=function(o){function y(e){o.call(this);var t=e||{};this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:(0,f.makeArrayPusher)(this.readFeaturesInternal),featureMembers:(0,f.makeReplacer)(this.readFeaturesInternal)}}return o&&(y.__proto__=o),y.prototype=Object.create(o&&o.prototype),y.prototype.constructor=y,y.prototype.readFeaturesInternal=function(e,t){var r=e.localName,o=null;if("FeatureCollection"==r)o=(0,f.pushParseAndPop)([],this.FEATURE_COLLECTION_PARSERS,e,t,this);else if("featureMembers"==r||"featureMember"==r){var n=t[0],a=n.featureType,i=n.featureNS;if(!a&&e.childNodes){a=[],i={};for(var s=0,p=e.childNodes.length;s<p;++s){var u=e.childNodes[s];if(1===u.nodeType){var l=u.nodeName.split(":").pop();if(-1===a.indexOf(l)){var d="",h=0,m=u.namespaceURI;for(var y in i){if(i[y]===m){d=y;break}++h}d||(i[d="p"+h]=m),a.push(d+":"+l)}}}"featureMember"!=r&&(n.featureType=a,n.featureNS=i)}if("string"==typeof i){var P=i;(i={}).p0=P}var R={},g=Array.isArray(a)?a:[a];for(var E in i){for(var S={},_=0,A=g.length;_<A;++_){(-1===g[_].indexOf(":")?"p0":g[_].split(":")[0])===E&&(S[g[_].split(":").pop()]="featureMembers"==r?(0,f.makeArrayPusher)(this.readFeatureElement,this):(0,f.makeReplacer)(this.readFeatureElement,this))}R[i[E]]=S}o="featureMember"==r?(0,f.pushParseAndPop)(void 0,R,e,t):(0,f.pushParseAndPop)([],R,e,t)}return null===o&&(o=[]),o},y.prototype.readGeometryElement=function(e,t){var o=t[0];o.srsName=e.firstElementChild.getAttribute("srsName"),o.srsDimension=e.firstElementChild.getAttribute("srsDimension");var n=(0,f.pushParseAndPop)(null,this.GEOMETRY_PARSERS,e,t,this);return n?(0,r.transformWithOptions)(n,!1,o):void 0},y.prototype.readFeatureElementInternal=function(e,r,o){for(var n,a={},i=e.firstElementChild;i;i=i.nextElementSibling){var s=void 0,p=i.localName;0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)?(s=(0,f.getAllTextContent)(i,!1),R.test(s)&&(s=void 0)):(o&&(s=this.readGeometryElement(i,r)),s?"boundedBy"!==p&&(n=p):s=this.readFeatureElementInternal(i,r,!1)),a[p]?(a[p]instanceof Array||(a[p]=[a[p]]),a[p].push(s)):a[p]=s;var u=i.attributes.length;if(u>0){a[p]={_content_:a[p]};for(var l=0;l<u;l++){var d=i.attributes[l].name;a[p][d]=i.attributes[l].value}}}if(o){var h=new t.default(a);n&&h.setGeometryName(n);var m=e.getAttribute("fid")||(0,f.getAttributeNS)(e,this.namespace,"id");return m&&h.setId(m),h}return a},y.prototype.readFeatureElement=function(e,t){return this.readFeatureElementInternal(e,t,!0)},y.prototype.readPoint=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);if(r)return new l.default(r,n.default.XYZ)},y.prototype.readMultiPoint=function(e,t){var r=(0,f.pushParseAndPop)([],this.MULTIPOINT_PARSERS_,e,t,this);return r?new p.default(r):void 0},y.prototype.readMultiLineString=function(e,t){var r=(0,f.pushParseAndPop)([],this.MULTILINESTRING_PARSERS_,e,t,this);if(r)return new s.default(r)},y.prototype.readMultiPolygon=function(e,t){var r=(0,f.pushParseAndPop)([],this.MULTIPOLYGON_PARSERS_,e,t,this);if(r)return new u.default(r)},y.prototype.pointMemberParser_=function(e,t){(0,f.parseNode)(this.POINTMEMBER_PARSERS_,e,t,this)},y.prototype.lineStringMemberParser_=function(e,t){(0,f.parseNode)(this.LINESTRINGMEMBER_PARSERS_,e,t,this)},y.prototype.polygonMemberParser_=function(e,t){(0,f.parseNode)(this.POLYGONMEMBER_PARSERS_,e,t,this)},y.prototype.readLineString=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);return r?new a.default(r,n.default.XYZ):void 0},y.prototype.readFlatLinearRing_=function(e,t){var r=(0,f.pushParseAndPop)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this);return r||void 0},y.prototype.readLinearRing=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);if(r)return new i.default(r,n.default.XYZ)},y.prototype.readPolygon=function(t,r){var o=(0,f.pushParseAndPop)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,r,this);if(o&&o[0]){var a,i,s=o[0],p=[s.length];for(a=1,i=o.length;a<i;++a)(0,e.extend)(s,o[a]),p.push(s.length);return new d.default(s,n.default.XYZ,p)}},y.prototype.readFlatCoordinatesFromNode_=function(e,t){return(0,f.pushParseAndPop)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)},y.prototype.readGeometryFromNode=function(e,t){var r=this.readGeometryElement(e,[this.getReadOptions(e,t||{})]);return r||null},y.prototype.readFeaturesFromNode=function(e,t){var r={featureType:this.featureType,featureNS:this.featureNS};return t&&(0,h.assign)(r,this.getReadOptions(e,t)),this.readFeaturesInternal(e,[r])||[]},y.prototype.readProjectionFromNode=function(e){return(0,m.get)(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))},y}(o.default);g.prototype.namespace=P,g.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},g.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},g.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},g.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:(0,f.makeArrayPusher)(g.prototype.pointMemberParser_),pointMembers:(0,f.makeArrayPusher)(g.prototype.pointMemberParser_)}},g.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:(0,f.makeArrayPusher)(g.prototype.lineStringMemberParser_),lineStringMembers:(0,f.makeArrayPusher)(g.prototype.lineStringMemberParser_)}},g.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:(0,f.makeArrayPusher)(g.prototype.polygonMemberParser_),polygonMembers:(0,f.makeArrayPusher)(g.prototype.polygonMemberParser_)}},g.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:(0,f.makeArrayPusher)(g.prototype.readFlatCoordinatesFromNode_)}},g.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:(0,f.makeArrayPusher)(g.prototype.readLineString)}},g.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:(0,f.makeArrayPusher)(g.prototype.readPolygon)}},g.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,f.makeReplacer)(g.prototype.readFlatLinearRing_)}};var E=g;exports.default=E;
},{"../array.js":"luEr","../Feature.js":"mYW9","./Feature.js":"Kylu","./XMLFeature.js":"CXRz","../geom/GeometryLayout.js":"Utvi","../geom/LineString.js":"DfxW","../geom/LinearRing.js":"jRgU","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","../obj.js":"mH6q","../proj.js":"Diht","../xml.js":"yYlP"}],"jdp5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.readBoolean=r,exports.readBooleanString=n,exports.readDateTime=o,exports.readDecimal=i,exports.readDecimalString=a,exports.readNonNegativeInteger=d,exports.readNonNegativeIntegerString=s,exports.readString=u,exports.writeBooleanTextNode=p,exports.writeCDATASection=x,exports.writeDateTimeTextNode=c,exports.writeDecimalTextNode=T,exports.writeNonNegativeIntegerTextNode=l,exports.writeStringTextNode=N;var e=require("../xml.js"),t=require("../string.js");function r(t){return n((0,e.getAllTextContent)(t,!1))}function n(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?void 0!==t[1]||!1:void 0}function o(t){var r=(0,e.getAllTextContent)(t,!1),n=Date.parse(r);return isNaN(n)?void 0:n/1e3}function i(t){return a((0,e.getAllTextContent)(t,!1))}function a(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0}function d(t){return s((0,e.getAllTextContent)(t,!1))}function s(e){var t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0}function u(t){return(0,e.getAllTextContent)(t,!1).trim()}function p(e,t){N(e,t?"1":"0")}function x(t,r){t.appendChild(e.DOCUMENT.createCDATASection(r))}function c(r,n){var o=new Date(1e3*n),i=o.getUTCFullYear()+"-"+(0,t.padNumber)(o.getUTCMonth()+1,2)+"-"+(0,t.padNumber)(o.getUTCDate(),2)+"T"+(0,t.padNumber)(o.getUTCHours(),2)+":"+(0,t.padNumber)(o.getUTCMinutes(),2)+":"+(0,t.padNumber)(o.getUTCSeconds(),2)+"Z";r.appendChild(e.DOCUMENT.createTextNode(i))}function T(t,r){var n=r.toPrecision();t.appendChild(e.DOCUMENT.createTextNode(n))}function l(t,r){var n=r.toString();t.appendChild(e.DOCUMENT.createTextNode(n))}function N(t,r){t.appendChild(e.DOCUMENT.createTextNode(r))}
},{"../xml.js":"yYlP","../string.js":"AiCK"}],"jLLC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../extent.js"),t=require("./Feature.js"),r=s(require("./GMLBase.js")),i=require("./xsd.js"),o=require("../obj.js"),n=require("../proj.js"),a=require("../xml.js");function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function s(e){if(e&&e.__esModule)return e;var t=p();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=i?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(r,o,n):r[o]=e[o]}}return r.default=e,t&&t.set(e,r),r}var l=r.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",u={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},d=function(p){function s(e){var t=e||{};p.call(this,t),this.FEATURE_COLLECTION_PARSERS[r.GMLNS].featureMember=(0,a.makeArrayPusher)(this.readFeaturesInternal),this.schemaLocation=t.schemaLocation?t.schemaLocation:l}return p&&(s.__proto__=p),s.prototype=Object.create(p&&p.prototype),s.prototype.constructor=s,s.prototype.readFlatCoordinates_=function(e,t){var r=(0,a.getAllTextContent)(e,!1).replace(/^\s*|\s*$/g,""),i=t[0].srsName,o="enu";if(i){var p=(0,n.get)(i);p&&(o=p.getAxisOrientation())}for(var s=r.trim().split(/\s+/),l=[],u=0,d=s.length;u<d;u++){var h=s[u].split(/,+/),m=parseFloat(h[0]),g=parseFloat(h[1]),_=3===h.length?parseFloat(h[2]):0;"en"===o.substr(0,2)?l.push(m,g,_):l.push(g,m,_)}return l},s.prototype.readBox_=function(t,r){var i=(0,a.pushParseAndPop)([null],this.BOX_PARSERS_,t,r,this);return(0,e.createOrUpdate)(i[1][0],i[1][1],i[1][3],i[1][4])},s.prototype.innerBoundaryIsParser_=function(e,t){var r=(0,a.pushParseAndPop)(void 0,this.RING_PARSERS,e,t,this);r&&t[t.length-1].push(r)},s.prototype.outerBoundaryIsParser_=function(e,t){var r=(0,a.pushParseAndPop)(void 0,this.RING_PARSERS,e,t,this);r&&(t[t.length-1][0]=r)},s.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,r){var i,o=t[t.length-1],n=o.multiSurface,p=o.surface,s=o.multiCurve;return Array.isArray(e)?i="Envelope":"MultiPolygon"===(i=e.getType())&&!0===n?i="MultiSurface":"Polygon"===i&&!0===p?i="Surface":"MultiLineString"===i&&!0===s&&(i="MultiCurve"),(0,a.createElementNS)("http://www.opengis.net/gml",i)},s.prototype.writeFeatureElement=function(e,t,r){var n=t.getId();n&&e.setAttribute("fid",n);var p=r[r.length-1],s=p.featureNS,l=t.getGeometryName();p.serializers||(p.serializers={},p.serializers[s]={});var u=t.getProperties(),d=[],h=[];for(var m in u){var g=u[m];null!==g&&(d.push(m),h.push(g),m==l||"function"==typeof g.getSimplifiedGeometry?m in p.serializers[s]||(p.serializers[s][m]=(0,a.makeChildAppender)(this.writeGeometryElement,this)):m in p.serializers[s]||(p.serializers[s][m]=(0,a.makeChildAppender)(i.writeStringTextNode)))}var _=(0,o.assign)({},p);_.node=e,(0,a.pushSerializeAndPop)(_,p.serializers,(0,a.makeSimpleNodeFactory)(void 0,s),h,r,d)},s.prototype.writeCurveOrLineString_=function(e,t,r){var i=r[r.length-1].srsName;if("LineStringSegment"!==e.nodeName&&i&&e.setAttribute("srsName",i),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,t,r)}else if("Curve"===e.nodeName){var n=(0,a.createElementNS)(e.namespaceURI,"segments");e.appendChild(n),this.writeCurveSegments_(n,t,r)}},s.prototype.writeLineStringOrCurveMember_=function(e,t,r){var i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeCurveOrLineString_(i,t,r))},s.prototype.writeMultiCurveOrLineString_=function(e,t,r){var i=r[r.length-1],o=i.hasZ,n=i.srsName,p=i.curve;n&&e.setAttribute("srsName",n);var s=t.getLineStrings();(0,a.pushSerializeAndPop)({node:e,hasZ:o,srsName:n,curve:p},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},s.prototype.writeGeometryElement=function(e,r,i){var p,s=i[i.length-1],l=(0,o.assign)({},s);l.node=e,p=Array.isArray(r)?s.dataProjection?(0,n.transformExtent)(r,s.featureProjection,s.dataProjection):r:(0,t.transformWithOptions)(r,!0,s),(0,a.pushSerializeAndPop)(l,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[p],i,void 0,this)},s.prototype.createCoordinatesNode_=function(e){var t=(0,a.createElementNS)(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t},s.prototype.writeCoordinates_=function(e,t,r){for(var o=r[r.length-1],n=o.hasZ,a=o.srsName,p=t.getCoordinates(),s=p.length,l=new Array(s),u=0;u<s;++u){var d=p[u];l[u]=this.getCoords_(d,a,n)}(0,i.writeStringTextNode)(e,l.join(" "))},s.prototype.writeCurveSegments_=function(e,t,r){var i=(0,a.createElementNS)(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString_(i,t,r)},s.prototype.writeSurfaceOrPolygon_=function(e,t,r){var i=r[r.length-1],o=i.hasZ,n=i.srsName;if("PolygonPatch"!==e.nodeName&&n&&e.setAttribute("srsName",n),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var p=t.getLinearRings();(0,a.pushSerializeAndPop)({node:e,hasZ:o,srsName:n},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,p,r,void 0,this)}else if("Surface"===e.nodeName){var s=(0,a.createElementNS)(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,r)}},s.prototype.RING_NODE_FACTORY_=function(e,t,r){var i=t[t.length-1],o=i.node,n=i.exteriorWritten;return void 0===n&&(i.exteriorWritten=!0),(0,a.createElementNS)(o.namespaceURI,void 0!==n?"innerBoundaryIs":"outerBoundaryIs")},s.prototype.writeSurfacePatches_=function(e,t,r){var i=(0,a.createElementNS)(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon_(i,t,r)},s.prototype.writeRing_=function(e,t,r){var i=(0,a.createElementNS)(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing_(i,t,r)},s.prototype.getCoords_=function(e,t,r){var i="enu";t&&(i=(0,n.get)(t).getAxisOrientation());var o="en"===i.substr(0,2)?e[0]+","+e[1]:e[1]+","+e[0];r&&(o+=","+(e[2]||0));return o},s.prototype.writePoint_=function(e,t,r){var o=r[r.length-1],n=o.hasZ,a=o.srsName;a&&e.setAttribute("srsName",a);var p=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(p);var s=t.getCoordinates(),l=this.getCoords_(s,a,n);(0,i.writeStringTextNode)(p,l)},s.prototype.writeMultiPoint_=function(e,t,r){var i=r[r.length-1],o=i.hasZ,n=i.srsName;n&&e.setAttribute("srsName",n);var p=t.getPoints();(0,a.pushSerializeAndPop)({node:e,hasZ:o,srsName:n},this.POINTMEMBER_SERIALIZERS_,(0,a.makeSimpleNodeFactory)("pointMember"),p,r,void 0,this)},s.prototype.writePointMember_=function(e,t,r){var i=(0,a.createElementNS)(e.namespaceURI,"Point");e.appendChild(i),this.writePoint_(i,t,r)},s.prototype.writeLinearRing_=function(e,t,r){var i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);var o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,t,r)},s.prototype.writeMultiSurfaceOrPolygon_=function(e,t,r){var i=r[r.length-1],o=i.hasZ,n=i.srsName,p=i.surface;n&&e.setAttribute("srsName",n);var s=t.getPolygons();(0,a.pushSerializeAndPop)({node:e,hasZ:o,srsName:n,surface:p},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},s.prototype.writeSurfaceOrPolygonMember_=function(e,t,r){var i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeSurfaceOrPolygon_(i,t,r))},s.prototype.writeEnvelope=function(e,t,r){var i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);var o=[t[0]+" "+t[1],t[2]+" "+t[3]];(0,a.pushSerializeAndPop)({node:e},this.ENVELOPE_SERIALIZERS_,a.OBJECT_PROPERTY_NODE_FACTORY,o,r,["lowerCorner","upperCorner"],this)},s.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,r){var i=t[t.length-1].node;return(0,a.createElementNS)("http://www.opengis.net/gml",u[i.nodeName])},s}(r.default);d.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:(0,a.makeReplacer)(d.prototype.readFlatCoordinates_)}},d.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:d.prototype.innerBoundaryIsParser_,outerBoundaryIs:d.prototype.outerBoundaryIsParser_}},d.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:(0,a.makeArrayPusher)(d.prototype.readFlatCoordinates_)}},d.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,a.makeReplacer)(r.default.prototype.readPoint),MultiPoint:(0,a.makeReplacer)(r.default.prototype.readMultiPoint),LineString:(0,a.makeReplacer)(r.default.prototype.readLineString),MultiLineString:(0,a.makeReplacer)(r.default.prototype.readMultiLineString),LinearRing:(0,a.makeReplacer)(r.default.prototype.readLinearRing),Polygon:(0,a.makeReplacer)(r.default.prototype.readPolygon),MultiPolygon:(0,a.makeReplacer)(r.default.prototype.readMultiPolygon),Box:(0,a.makeReplacer)(d.prototype.readBox_)}},d.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:(0,a.makeChildAppender)(d.prototype.writeCurveOrLineString_),MultiCurve:(0,a.makeChildAppender)(d.prototype.writeMultiCurveOrLineString_),Point:(0,a.makeChildAppender)(d.prototype.writePoint_),MultiPoint:(0,a.makeChildAppender)(d.prototype.writeMultiPoint_),LineString:(0,a.makeChildAppender)(d.prototype.writeCurveOrLineString_),MultiLineString:(0,a.makeChildAppender)(d.prototype.writeMultiCurveOrLineString_),LinearRing:(0,a.makeChildAppender)(d.prototype.writeLinearRing_),Polygon:(0,a.makeChildAppender)(d.prototype.writeSurfaceOrPolygon_),MultiPolygon:(0,a.makeChildAppender)(d.prototype.writeMultiSurfaceOrPolygon_),Surface:(0,a.makeChildAppender)(d.prototype.writeSurfaceOrPolygon_),MultiSurface:(0,a.makeChildAppender)(d.prototype.writeMultiSurfaceOrPolygon_),Envelope:(0,a.makeChildAppender)(d.prototype.writeEnvelope)}},d.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:(0,a.makeChildAppender)(d.prototype.writeLineStringOrCurveMember_),curveMember:(0,a.makeChildAppender)(d.prototype.writeLineStringOrCurveMember_)}},d.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:(0,a.makeChildAppender)(d.prototype.writeRing_),innerBoundaryIs:(0,a.makeChildAppender)(d.prototype.writeRing_)}},d.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:(0,a.makeChildAppender)(d.prototype.writePointMember_)}},d.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:(0,a.makeChildAppender)(d.prototype.writeSurfaceOrPolygonMember_),polygonMember:(0,a.makeChildAppender)(d.prototype.writeSurfaceOrPolygonMember_)}},d.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:(0,a.makeChildAppender)(i.writeStringTextNode),upperCorner:(0,a.makeChildAppender)(i.writeStringTextNode)}};var h=d;exports.default=h;
},{"../extent.js":"QDir","./Feature.js":"Kylu","./GMLBase.js":"ZpWv","./xsd.js":"jdp5","../obj.js":"mH6q","../proj.js":"Diht","../xml.js":"yYlP"}],"MjHj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../array.js"),t=require("../extent.js"),r=require("./Feature.js"),i=_(require("./GMLBase.js")),o=require("./xsd.js"),n=d(require("../geom/GeometryLayout.js")),a=d(require("../geom/LineString.js")),p=d(require("../geom/MultiLineString.js")),s=d(require("../geom/MultiPolygon.js")),u=d(require("../geom/Polygon.js")),l=require("../obj.js"),h=require("../proj.js"),m=require("../xml.js");function d(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function _(e){if(e&&e.__esModule)return e;var t=g();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=i?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(r,o,n):r[o]=e[o]}}return r.default=e,t&&t.set(e,r),r}var S=i.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",c={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},y=function(i){function d(e){var t=e||{};i.call(this,t),this.surface_=void 0!==t.surface&&t.surface,this.curve_=void 0!==t.curve&&t.curve,this.multiCurve_=void 0===t.multiCurve||t.multiCurve,this.multiSurface_=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:S,this.hasZ=void 0!==t.hasZ&&t.hasZ}return i&&(d.__proto__=i),d.prototype=Object.create(i&&i.prototype),d.prototype.constructor=d,d.prototype.readMultiCurve_=function(e,t){var r=(0,m.pushParseAndPop)([],this.MULTICURVE_PARSERS_,e,t,this);return r?new p.default(r):void 0},d.prototype.readMultiSurface_=function(e,t){var r=(0,m.pushParseAndPop)([],this.MULTISURFACE_PARSERS_,e,t,this);if(r)return new s.default(r)},d.prototype.curveMemberParser_=function(e,t){(0,m.parseNode)(this.CURVEMEMBER_PARSERS_,e,t,this)},d.prototype.surfaceMemberParser_=function(e,t){(0,m.parseNode)(this.SURFACEMEMBER_PARSERS_,e,t,this)},d.prototype.readPatch_=function(e,t){return(0,m.pushParseAndPop)([null],this.PATCHES_PARSERS_,e,t,this)},d.prototype.readSegment_=function(e,t){return(0,m.pushParseAndPop)([null],this.SEGMENTS_PARSERS_,e,t,this)},d.prototype.readPolygonPatch_=function(e,t){return(0,m.pushParseAndPop)([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)},d.prototype.readLineStringSegment_=function(e,t){return(0,m.pushParseAndPop)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)},d.prototype.interiorParser_=function(e,t){var r=(0,m.pushParseAndPop)(void 0,this.RING_PARSERS,e,t,this);r&&t[t.length-1].push(r)},d.prototype.exteriorParser_=function(e,t){var r=(0,m.pushParseAndPop)(void 0,this.RING_PARSERS,e,t,this);r&&(t[t.length-1][0]=r)},d.prototype.readSurface_=function(t,r){var i=(0,m.pushParseAndPop)([null],this.SURFACE_PARSERS_,t,r,this);if(i&&i[0]){var o,a,p=i[0],s=[p.length];for(o=1,a=i.length;o<a;++o)(0,e.extend)(p,i[o]),s.push(p.length);return new u.default(p,n.default.XYZ,s)}},d.prototype.readCurve_=function(e,t){var r=(0,m.pushParseAndPop)([null],this.CURVE_PARSERS_,e,t,this);return r?new a.default(r,n.default.XYZ):void 0},d.prototype.readEnvelope_=function(e,r){var i=(0,m.pushParseAndPop)([null],this.ENVELOPE_PARSERS_,e,r,this);return(0,t.createOrUpdate)(i[1][0],i[1][1],i[2][0],i[2][1])},d.prototype.readFlatPos_=function(e,t){for(var r,i=(0,m.getAllTextContent)(e,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,n=[];r=o.exec(i);)n.push(parseFloat(r[1])),i=i.substr(r[0].length);if(""===i){var a,p,s=t[0].srsName,u="enu";if(s)u=(0,h.get)(s).getAxisOrientation();if("neu"===u)for(a=0,p=n.length;a<p;a+=3){var l=n[a],d=n[a+1];n[a]=d,n[a+1]=l}var g=n.length;if(2==g&&n.push(0),0!==g)return n}},d.prototype.readFlatPosList_=function(e,t){var r=(0,m.getAllTextContent)(e,!1).replace(/^\s*|\s*$/g,""),i=t[0],n=i.srsName,a=i.srsDimension,p="enu";n&&(p=(0,h.get)(n).getAxisOrientation());var s,u,l,d=r.split(/\s+/),g=2;e.getAttribute("srsDimension")?g=(0,o.readNonNegativeIntegerString)(e.getAttribute("srsDimension")):e.getAttribute("dimension")?g=(0,o.readNonNegativeIntegerString)(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?g=(0,o.readNonNegativeIntegerString)(e.parentNode.getAttribute("srsDimension")):a&&(g=(0,o.readNonNegativeIntegerString)(a));for(var _=[],S=0,c=d.length;S<c;S+=g)s=parseFloat(d[S]),u=parseFloat(d[S+1]),l=3===g?parseFloat(d[S+2]):0,"en"===p.substr(0,2)?_.push(s,u,l):_.push(u,s,l);return _},d.prototype.writePos_=function(e,t,r){var i=r[r.length-1],n=i.hasZ,a=n?"3":"2";e.setAttribute("srsDimension",a);var p=i.srsName,s="enu";p&&(s=(0,h.get)(p).getAxisOrientation());var u,l=t.getCoordinates();(u="en"===s.substr(0,2)?l[0]+" "+l[1]:l[1]+" "+l[0],n)&&(u+=" "+(l[2]||0));(0,o.writeStringTextNode)(e,u)},d.prototype.getCoords_=function(e,t,r){var i="enu";t&&(i=(0,h.get)(t).getAxisOrientation());var o="en"===i.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0];r&&(o+=" "+(e[2]||0));return o},d.prototype.writePosList_=function(e,t,r){var i=r[r.length-1],n=i.hasZ,a=n?"3":"2";e.setAttribute("srsDimension",a);for(var p,s=i.srsName,u=t.getCoordinates(),l=u.length,h=new Array(l),m=0;m<l;++m)p=u[m],h[m]=this.getCoords_(p,s,n);(0,o.writeStringTextNode)(e,h.join(" "))},d.prototype.writePoint_=function(e,t,r){var i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);var o=(0,m.createElementNS)(e.namespaceURI,"pos");e.appendChild(o),this.writePos_(o,t,r)},d.prototype.writeEnvelope=function(e,t,r){var i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);var o=[t[0]+" "+t[1],t[2]+" "+t[3]];(0,m.pushSerializeAndPop)({node:e},this.ENVELOPE_SERIALIZERS_,m.OBJECT_PROPERTY_NODE_FACTORY,o,r,["lowerCorner","upperCorner"],this)},d.prototype.writeLinearRing_=function(e,t,r){var i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);var o=(0,m.createElementNS)(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,r)},d.prototype.RING_NODE_FACTORY_=function(e,t,r){var i=t[t.length-1],o=i.node,n=i.exteriorWritten;return void 0===n&&(i.exteriorWritten=!0),(0,m.createElementNS)(o.namespaceURI,void 0!==n?"interior":"exterior")},d.prototype.writeSurfaceOrPolygon_=function(e,t,r){var i=r[r.length-1],o=i.hasZ,n=i.srsName;if("PolygonPatch"!==e.nodeName&&n&&e.setAttribute("srsName",n),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var a=t.getLinearRings();(0,m.pushSerializeAndPop)({node:e,hasZ:o,srsName:n},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===e.nodeName){var p=(0,m.createElementNS)(e.namespaceURI,"patches");e.appendChild(p),this.writeSurfacePatches_(p,t,r)}},d.prototype.writeCurveOrLineString_=function(e,t,r){var i=r[r.length-1].srsName;if("LineStringSegment"!==e.nodeName&&i&&e.setAttribute("srsName",i),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var o=(0,m.createElementNS)(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,r)}else if("Curve"===e.nodeName){var n=(0,m.createElementNS)(e.namespaceURI,"segments");e.appendChild(n),this.writeCurveSegments_(n,t,r)}},d.prototype.writeMultiSurfaceOrPolygon_=function(e,t,r){var i=r[r.length-1],o=i.hasZ,n=i.srsName,a=i.surface;n&&e.setAttribute("srsName",n);var p=t.getPolygons();(0,m.pushSerializeAndPop)({node:e,hasZ:o,srsName:n,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,p,r,void 0,this)},d.prototype.writeMultiPoint_=function(e,t,r){var i=r[r.length-1],o=i.srsName,n=i.hasZ;o&&e.setAttribute("srsName",o);var a=t.getPoints();(0,m.pushSerializeAndPop)({node:e,hasZ:n,srsName:o},this.POINTMEMBER_SERIALIZERS_,(0,m.makeSimpleNodeFactory)("pointMember"),a,r,void 0,this)},d.prototype.writeMultiCurveOrLineString_=function(e,t,r){var i=r[r.length-1],o=i.hasZ,n=i.srsName,a=i.curve;n&&e.setAttribute("srsName",n);var p=t.getLineStrings();(0,m.pushSerializeAndPop)({node:e,hasZ:o,srsName:n,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,p,r,void 0,this)},d.prototype.writeRing_=function(e,t,r){var i=(0,m.createElementNS)(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing_(i,t,r)},d.prototype.writeSurfaceOrPolygonMember_=function(e,t,r){var i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeSurfaceOrPolygon_(i,t,r))},d.prototype.writePointMember_=function(e,t,r){var i=(0,m.createElementNS)(e.namespaceURI,"Point");e.appendChild(i),this.writePoint_(i,t,r)},d.prototype.writeLineStringOrCurveMember_=function(e,t,r){var i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeCurveOrLineString_(i,t,r))},d.prototype.writeSurfacePatches_=function(e,t,r){var i=(0,m.createElementNS)(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon_(i,t,r)},d.prototype.writeCurveSegments_=function(e,t,r){var i=(0,m.createElementNS)(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString_(i,t,r)},d.prototype.writeGeometryElement=function(e,t,i){var o,n=i[i.length-1],a=(0,l.assign)({},n);a.node=e,o=Array.isArray(t)?n.dataProjection?(0,h.transformExtent)(t,n.featureProjection,n.dataProjection):t:(0,r.transformWithOptions)(t,!0,n),(0,m.pushSerializeAndPop)(a,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[o],i,void 0,this)},d.prototype.writeFeatureElement=function(e,t,r){var i=t.getId();i&&e.setAttribute("fid",i);var n=r[r.length-1],a=n.featureNS,p=t.getGeometryName();n.serializers||(n.serializers={},n.serializers[a]={});var s=t.getProperties(),u=[],h=[];for(var d in s){var g=s[d];null!==g&&(u.push(d),h.push(g),d==p||"function"==typeof g.getSimplifiedGeometry?d in n.serializers[a]||(n.serializers[a][d]=(0,m.makeChildAppender)(this.writeGeometryElement,this)):d in n.serializers[a]||(n.serializers[a][d]=(0,m.makeChildAppender)(o.writeStringTextNode)))}var _=(0,l.assign)({},n);_.node=e,(0,m.pushSerializeAndPop)(_,n.serializers,(0,m.makeSimpleNodeFactory)(void 0,a),h,r,u)},d.prototype.writeFeatureMembers_=function(e,t,r){var i=r[r.length-1],o=i.featureType,n=i.featureNS,a={};a[n]={},a[n][o]=(0,m.makeChildAppender)(this.writeFeatureElement,this);var p=(0,l.assign)({},i);p.node=e,(0,m.pushSerializeAndPop)(p,a,(0,m.makeSimpleNodeFactory)(o,n),t,r)},d.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,r){var i=t[t.length-1].node;return(0,m.createElementNS)(this.namespace,c[i.nodeName])},d.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,r){var i,o=t[t.length-1],n=o.multiSurface,a=o.surface,p=o.curve,s=o.multiCurve;return Array.isArray(e)?i="Envelope":"MultiPolygon"===(i=e.getType())&&!0===n?i="MultiSurface":"Polygon"===i&&!0===a?i="Surface":"LineString"===i&&!0===p?i="Curve":"MultiLineString"===i&&!0===s&&(i="MultiCurve"),(0,m.createElementNS)(this.namespace,i)},d.prototype.writeGeometryNode=function(e,t){t=this.adaptOptions(t);var r=(0,m.createElementNS)(this.namespace,"geom"),i={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&(0,l.assign)(i,t),this.writeGeometryElement(r,e,[i]),r},d.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=(0,m.createElementNS)(this.namespace,"featureMembers");r.setAttributeNS(m.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&(0,l.assign)(i,t),this.writeFeatureMembers_(r,e,[i]),r},d}(i.default);y.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:(0,m.makeReplacer)(y.prototype.readFlatPos_),posList:(0,m.makeReplacer)(y.prototype.readFlatPosList_)}},y.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:y.prototype.interiorParser_,exterior:y.prototype.exteriorParser_}},y.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,m.makeReplacer)(i.default.prototype.readPoint),MultiPoint:(0,m.makeReplacer)(i.default.prototype.readMultiPoint),LineString:(0,m.makeReplacer)(i.default.prototype.readLineString),MultiLineString:(0,m.makeReplacer)(i.default.prototype.readMultiLineString),LinearRing:(0,m.makeReplacer)(i.default.prototype.readLinearRing),Polygon:(0,m.makeReplacer)(i.default.prototype.readPolygon),MultiPolygon:(0,m.makeReplacer)(i.default.prototype.readMultiPolygon),Surface:(0,m.makeReplacer)(y.prototype.readSurface_),MultiSurface:(0,m.makeReplacer)(y.prototype.readMultiSurface_),Curve:(0,m.makeReplacer)(y.prototype.readCurve_),MultiCurve:(0,m.makeReplacer)(y.prototype.readMultiCurve_),Envelope:(0,m.makeReplacer)(y.prototype.readEnvelope_)}},y.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:(0,m.makeArrayPusher)(y.prototype.curveMemberParser_),curveMembers:(0,m.makeArrayPusher)(y.prototype.curveMemberParser_)}},y.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:(0,m.makeArrayPusher)(y.prototype.surfaceMemberParser_),surfaceMembers:(0,m.makeArrayPusher)(y.prototype.surfaceMemberParser_)}},y.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:(0,m.makeArrayPusher)(i.default.prototype.readLineString),Curve:(0,m.makeArrayPusher)(y.prototype.readCurve_)}},y.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:(0,m.makeArrayPusher)(i.default.prototype.readPolygon),Surface:(0,m.makeArrayPusher)(y.prototype.readSurface_)}},y.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:(0,m.makeReplacer)(y.prototype.readPatch_)}},y.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:(0,m.makeReplacer)(y.prototype.readSegment_)}},y.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:(0,m.makeArrayPusher)(y.prototype.readFlatPosList_),upperCorner:(0,m.makeArrayPusher)(y.prototype.readFlatPosList_)}},y.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:(0,m.makeReplacer)(y.prototype.readPolygonPatch_)}},y.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:(0,m.makeReplacer)(y.prototype.readLineStringSegment_)}},y.prototype.writeFeatures,y.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:(0,m.makeChildAppender)(y.prototype.writeRing_),interior:(0,m.makeChildAppender)(y.prototype.writeRing_)}},y.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:(0,m.makeChildAppender)(o.writeStringTextNode),upperCorner:(0,m.makeChildAppender)(o.writeStringTextNode)}},y.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:(0,m.makeChildAppender)(y.prototype.writeSurfaceOrPolygonMember_),polygonMember:(0,m.makeChildAppender)(y.prototype.writeSurfaceOrPolygonMember_)}},y.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:(0,m.makeChildAppender)(y.prototype.writePointMember_)}},y.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:(0,m.makeChildAppender)(y.prototype.writeLineStringOrCurveMember_),curveMember:(0,m.makeChildAppender)(y.prototype.writeLineStringOrCurveMember_)}},y.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:(0,m.makeChildAppender)(y.prototype.writeCurveOrLineString_),MultiCurve:(0,m.makeChildAppender)(y.prototype.writeMultiCurveOrLineString_),Point:(0,m.makeChildAppender)(y.prototype.writePoint_),MultiPoint:(0,m.makeChildAppender)(y.prototype.writeMultiPoint_),LineString:(0,m.makeChildAppender)(y.prototype.writeCurveOrLineString_),MultiLineString:(0,m.makeChildAppender)(y.prototype.writeMultiCurveOrLineString_),LinearRing:(0,m.makeChildAppender)(y.prototype.writeLinearRing_),Polygon:(0,m.makeChildAppender)(y.prototype.writeSurfaceOrPolygon_),MultiPolygon:(0,m.makeChildAppender)(y.prototype.writeMultiSurfaceOrPolygon_),Surface:(0,m.makeChildAppender)(y.prototype.writeSurfaceOrPolygon_),MultiSurface:(0,m.makeChildAppender)(y.prototype.writeMultiSurfaceOrPolygon_),Envelope:(0,m.makeChildAppender)(y.prototype.writeEnvelope)}};var R=y;exports.default=R;
},{"../array.js":"luEr","../extent.js":"QDir","./Feature.js":"Kylu","./GMLBase.js":"ZpWv","./xsd.js":"jdp5","../geom/GeometryLayout.js":"Utvi","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/MultiPolygon.js":"ouhF","../geom/Polygon.js":"Nwwk","../obj.js":"mH6q","../proj.js":"Diht","../xml.js":"yYlP"}],"PNpB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){this.tagName_=e};e.prototype.getTagName=function(){return this.tagName_};var t=e;exports.default=t;
},{}],"i1Kk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../asserts.js"),e=r(require("./Filter.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(e){function r(r,o){e.call(this,r),this.conditions=o,(0,t.assert)(this.conditions.length>=2,57)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r}(e.default),s=o;exports.default=s;
},{"../../asserts.js":"fLG6","./Filter.js":"PNpB"}],"g15t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./LogicalNary.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e){t.call(this,"And",Array.prototype.slice.call(arguments))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./LogicalNary.js":"i1Kk"}],"h4vO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Filter.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o){t.call(this,"BBOX"),this.geometryName=e,this.extent=r,this.srsName=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./Filter.js":"PNpB"}],"zlkS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Filter.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(t,r,o,s){e.call(this,t),this.geometryName=r||"the_geom",this.geometry=o,this.srsName=s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.default),o=r;exports.default=o;
},{"./Filter.js":"PNpB"}],"O9il":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Spatial.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e,o,r){t.call(this,"Contains",e,o,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),r=o;exports.default=r;
},{"./Spatial.js":"zlkS"}],"ocVj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Filter.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r){t.call(this,e),this.propertyName=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./Filter.js":"PNpB"}],"gyCO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Comparison.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o){t.call(this,"During",e),this.begin=r,this.end=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./Comparison.js":"ocVj"}],"zLAu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Comparison.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e,o,r,s){t.call(this,e,o),this.expression=r,this.matchCase=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),r=o;exports.default=r;
},{"./Comparison.js":"ocVj"}],"eitp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./ComparisonBinary.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o){t.call(this,"PropertyIsEqualTo",e,r,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./ComparisonBinary.js":"zLAu"}],"XisC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./ComparisonBinary.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(t,r){e.call(this,"PropertyIsGreaterThan",t,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.default),o=r;exports.default=o;
},{"./ComparisonBinary.js":"zLAu"}],"z0hs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./ComparisonBinary.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(t,r){e.call(this,"PropertyIsGreaterThanOrEqualTo",t,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.default),o=r;exports.default=o;
},{"./ComparisonBinary.js":"zLAu"}],"PYxT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Spatial.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o){t.call(this,"Intersects",e,r,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./Spatial.js":"zlkS"}],"k5mv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Comparison.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(t,r,o){e.call(this,"PropertyIsBetween",t),this.lowerBoundary=r,this.upperBoundary=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.default),o=r;exports.default=o;
},{"./Comparison.js":"ocVj"}],"QWwu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Comparison.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o,i,s,a){t.call(this,"PropertyIsLike",e),this.pattern=r,this.wildCard=void 0!==o?o:"*",this.singleChar=void 0!==i?i:".",this.escapeChar=void 0!==s?s:"!",this.matchCase=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./Comparison.js":"ocVj"}],"lto8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Comparison.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e){t.call(this,"PropertyIsNull",e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./Comparison.js":"ocVj"}],"KHNM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./ComparisonBinary.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(t,r){e.call(this,"PropertyIsLessThan",t,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.default),o=r;exports.default=o;
},{"./ComparisonBinary.js":"zLAu"}],"OCFT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./ComparisonBinary.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(t,r){e.call(this,"PropertyIsLessThanOrEqualTo",t,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.default),o=r;exports.default=o;
},{"./ComparisonBinary.js":"zLAu"}],"zskW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Filter.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e){t.call(this,"Not"),this.condition=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),r=o;exports.default=r;
},{"./Filter.js":"PNpB"}],"eHtq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./ComparisonBinary.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e,o,r){t.call(this,"PropertyIsNotEqualTo",e,o,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),r=o;exports.default=r;
},{"./ComparisonBinary.js":"zLAu"}],"Wukv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./LogicalNary.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e){t.call(this,"Or",Array.prototype.slice.call(arguments))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./LogicalNary.js":"i1Kk"}],"GCDz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Spatial.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o){t.call(this,"Within",e,r,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./Spatial.js":"zlkS"}],"zjBh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.and=T,exports.or=h,exports.not=y,exports.bbox=b,exports.contains=E,exports.intersects=O,exports.within=g,exports.equalTo=v,exports.notEqualTo=I,exports.lessThan=N,exports.lessThanOrEqualTo=_,exports.greaterThan=A,exports.greaterThanOrEqualTo=L,exports.isNull=k,exports.between=B,exports.like=F,exports.during=G;var e=j(require("./filter/And.js")),r=j(require("./filter/Bbox.js")),t=j(require("./filter/Contains.js")),n=j(require("./filter/During.js")),u=j(require("./filter/EqualTo.js")),i=j(require("./filter/GreaterThan.js")),o=j(require("./filter/GreaterThanOrEqualTo.js")),l=j(require("./filter/Intersects.js")),s=j(require("./filter/IsBetween.js")),f=j(require("./filter/IsLike.js")),a=j(require("./filter/IsNull.js")),c=j(require("./filter/LessThan.js")),p=j(require("./filter/LessThanOrEqualTo.js")),d=j(require("./filter/Not.js")),q=j(require("./filter/NotEqualTo.js")),w=j(require("./filter/Or.js")),x=j(require("./filter/Within.js"));function j(e){return e&&e.__esModule?e:{default:e}}function T(r){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(e.default,t))}function h(e){var r=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(w.default,r))}function y(e){return new d.default(e)}function b(e,t,n){return new r.default(e,t,n)}function E(e,r,n){return new t.default(e,r,n)}function O(e,r,t){return new l.default(e,r,t)}function g(e,r,t){return new x.default(e,r,t)}function v(e,r,t){return new u.default(e,r,t)}function I(e,r,t){return new q.default(e,r,t)}function N(e,r){return new c.default(e,r)}function _(e,r){return new p.default(e,r)}function A(e,r){return new i.default(e,r)}function L(e,r){return new o.default(e,r)}function k(e){return new a.default(e)}function B(e,r,t){return new s.default(e,r,t)}function F(e,r,t,n,u,i){return new f.default(e,r,t,n,u,i)}function G(e,r,t){return new n.default(e,r,t)}
},{"./filter/And.js":"g15t","./filter/Bbox.js":"h4vO","./filter/Contains.js":"O9il","./filter/During.js":"gyCO","./filter/EqualTo.js":"eitp","./filter/GreaterThan.js":"XisC","./filter/GreaterThanOrEqualTo.js":"z0hs","./filter/Intersects.js":"PYxT","./filter/IsBetween.js":"k5mv","./filter/IsLike.js":"QWwu","./filter/IsNull.js":"lto8","./filter/LessThan.js":"KHNM","./filter/LessThanOrEqualTo.js":"OCFT","./filter/Not.js":"zskW","./filter/NotEqualTo.js":"eHtq","./filter/Or.js":"Wukv","./filter/Within.js":"GCDz"}],"UejM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.writeFilter=re,exports.default=void 0;var e=require("../asserts.js"),t=l(require("./GML2.js")),r=l(require("./GML3.js")),a=m(require("./GMLBase.js")),n=require("./filter.js"),o=l(require("./XMLFeature.js")),i=require("./xsd.js"),s=require("../obj.js"),p=require("../proj.js"),u=require("../xml.js");function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function m(e){if(e&&e.__esModule)return e;var t=d();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}}return r.default=e,t&&t.set(e,r),r}function l(e){return e&&e.__esModule?e:{default:e}}var f={"http://www.opengis.net/gml":{boundedBy:(0,u.makeObjectPropertySetter)(a.default.prototype.readGeometryElement,"bounds")}},c={"http://www.opengis.net/wfs":{totalInserted:(0,u.makeObjectPropertySetter)(i.readNonNegativeInteger),totalUpdated:(0,u.makeObjectPropertySetter)(i.readNonNegativeInteger),totalDeleted:(0,u.makeObjectPropertySetter)(i.readNonNegativeInteger)}},h={"http://www.opengis.net/wfs":{TransactionSummary:(0,u.makeObjectPropertySetter)(P,"transactionSummary"),InsertResults:(0,u.makeObjectPropertySetter)(k,"insertIds")}},N={"http://www.opengis.net/wfs":{PropertyName:(0,u.makeChildAppender)(i.writeStringTextNode)}},y={"http://www.opengis.net/wfs":{Insert:(0,u.makeChildAppender)(I),Update:(0,u.makeChildAppender)(M),Delete:(0,u.makeChildAppender)(L),Property:(0,u.makeChildAppender)(j),Native:(0,u.makeChildAppender)(G)}},g="feature",v="http://www.w3.org/2000/xmlns/",S="http://www.opengis.net/ogc",w="http://www.opengis.net/wfs",A="http://www.opengis.net/fes",C={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},T="1.1.0",F=function(t){function o(e){t.call(this);var a=e||{};this.featureType_=a.featureType,this.featureNS_=a.featureNS,this.gmlFormat_=a.gmlFormat?a.gmlFormat:new r.default,this.schemaLocation_=a.schemaLocation?a.schemaLocation:C[T]}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.getFeatureType=function(){return this.featureType_},o.prototype.setFeatureType=function(e){this.featureType_=e},o.prototype.readFeaturesFromNode=function(e,t){var r={node:e};(0,s.assign)(r,{featureType:this.featureType_,featureNS:this.featureNS_}),(0,s.assign)(r,this.getReadOptions(e,t||{}));var n=[r];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[a.GMLNS].featureMember=(0,u.makeArrayPusher)(a.default.prototype.readFeaturesInternal);var o=(0,u.pushParseAndPop)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,n,this.gmlFormat_);return o||(o=[]),o},o.prototype.readTransactionResponse=function(e){if(e){if("string"==typeof e){var t=(0,u.parse)(e);return this.readTransactionResponseFromDocument(t)}return(0,u.isDocument)(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}},o.prototype.readFeatureCollectionMetadata=function(e){if(e){if("string"==typeof e){var t=(0,u.parse)(e);return this.readFeatureCollectionMetadataFromDocument(t)}return(0,u.isDocument)(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}},o.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)},o.prototype.readFeatureCollectionMetadataFromNode=function(e){var t={},r=(0,i.readNonNegativeIntegerString)(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=r,(0,u.pushParseAndPop)(t,f,e,[],this.gmlFormat_)},o.prototype.readTransactionResponseFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)},o.prototype.readTransactionResponseFromNode=function(e){return(0,u.pushParseAndPop)({},h,e,[])},o.prototype.writeGetFeature=function(t){var r,a=(0,u.createElementNS)(w,"GetFeature");if(a.setAttribute("service","WFS"),a.setAttribute("version","1.1.0"),t&&(t.handle&&a.setAttribute("handle",t.handle),t.outputFormat&&a.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&a.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&a.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&a.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&a.setAttribute("count",String(t.count)),void 0!==t.viewParams&&a.setAttribute("viewParams ",t.viewParams),r=t.filter,t.bbox)){(0,e.assert)(t.geometryName,12);var o=(0,n.bbox)(t.geometryName,t.bbox,t.srsName);r=r?(0,n.and)(r,o):o}a.setAttributeNS(u.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation_);var i={node:a};return(0,s.assign)(i,{srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:r,propertyNames:t.propertyNames?t.propertyNames:[]}),(0,e.assert)(Array.isArray(t.featureTypes),11),ae(a,t.featureTypes,[i]),a},o.prototype.writeTransaction=function(e,t,r,a){var n,o,i=[],p=(0,u.createElementNS)(w,"Transaction"),d=a.version?a.version:T,m="1.0.0"===d?2:3;p.setAttribute("service","WFS"),p.setAttribute("version",d),a&&(n=a.gmlOptions?a.gmlOptions:{},a.handle&&p.setAttribute("handle",a.handle));var l=C[d];p.setAttributeNS(u.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",l);var f=a.featurePrefix?a.featurePrefix:g;return e&&(o=(0,s.assign)({node:p},{featureNS:a.featureNS,featureType:a.featureType,featurePrefix:f,gmlVersion:m,hasZ:a.hasZ,srsName:a.srsName}),(0,s.assign)(o,n),(0,u.pushSerializeAndPop)(o,y,(0,u.makeSimpleNodeFactory)("Insert"),e,i)),t&&(o=(0,s.assign)({node:p},{featureNS:a.featureNS,featureType:a.featureType,featurePrefix:f,gmlVersion:m,hasZ:a.hasZ,srsName:a.srsName}),(0,s.assign)(o,n),(0,u.pushSerializeAndPop)(o,y,(0,u.makeSimpleNodeFactory)("Update"),t,i)),r&&(0,u.pushSerializeAndPop)({node:p,featureNS:a.featureNS,featureType:a.featureType,featurePrefix:f,gmlVersion:m,srsName:a.srsName},y,(0,u.makeSimpleNodeFactory)("Delete"),r,i),a.nativeElements&&(0,u.pushSerializeAndPop)({node:p,featureNS:a.featureNS,featureType:a.featureType,featurePrefix:f,gmlVersion:m,srsName:a.srsName},y,(0,u.makeSimpleNodeFactory)("Native"),a.nativeElements,i),p},o.prototype.readProjectionFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null},o.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild)for(var t=(e=e.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var r=[{}];return this.gmlFormat_.readGeometryElement(t,r),(0,p.get)(r.pop().srsName)}return null},o}(o.default);function P(e,t){return(0,u.pushParseAndPop)({},c,e,t)}var E={"http://www.opengis.net/ogc":{FeatureId:(0,u.makeArrayPusher)(function(e,t){return e.getAttribute("fid")})}};function b(e,t){(0,u.parseNode)(E,e,t)}var x={"http://www.opengis.net/wfs":{Feature:b}};function k(e,t){return(0,u.pushParseAndPop)([],x,e,t)}function I(e,a,n){var o=n[n.length-1],i=o.featureType,s=o.featureNS,p=o.gmlVersion,d=(0,u.createElementNS)(s,i);e.appendChild(d),2===p?t.default.prototype.writeFeatureElement(d,a,n):r.default.prototype.writeFeatureElement(d,a,n)}function _(e,t,r){var a=(0,u.createElementNS)(S,"Filter"),n=(0,u.createElementNS)(S,"FeatureId");a.appendChild(n),n.setAttribute("fid",t),e.appendChild(a)}function O(e,t){var r=(e=e||g)+":";return 0===t.indexOf(r)?t:r+t}function L(t,r,a){var n=a[a.length-1];(0,e.assert)(void 0!==r.getId(),26);var o=n.featureType,i=n.featurePrefix,s=n.featureNS,p=O(i,o);t.setAttribute("typeName",p),t.setAttributeNS(v,"xmlns:"+i,s);var u=r.getId();void 0!==u&&_(t,u,a)}function M(t,r,a){var n=a[a.length-1];(0,e.assert)(void 0!==r.getId(),27);var o=n.featureType,i=n.featurePrefix,s=n.featureNS,p=O(i,o),d=r.getGeometryName();t.setAttribute("typeName",p),t.setAttributeNS(v,"xmlns:"+i,s);var m=r.getId();if(void 0!==m){for(var l=r.getKeys(),f=[],c=0,h=l.length;c<h;c++){var N=r.get(l[c]);if(void 0!==N){var g=l[c];N&&"function"==typeof N.getSimplifiedGeometry&&(g=d),f.push({name:g,value:N})}}(0,u.pushSerializeAndPop)({gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},y,(0,u.makeSimpleNodeFactory)("Property"),f,a),_(t,m,a)}}function j(e,a,n){var o=(0,u.createElementNS)(w,"Name"),s=n[n.length-1].gmlVersion;if(e.appendChild(o),(0,i.writeStringTextNode)(o,a.name),void 0!==a.value&&null!==a.value){var p=(0,u.createElementNS)(w,"Value");e.appendChild(p),a.value&&"function"==typeof a.value.getSimplifiedGeometry?2===s?t.default.prototype.writeGeometryElement(p,a.value,n):r.default.prototype.writeGeometryElement(p,a.value,n):(0,i.writeStringTextNode)(p,a.value)}}function G(e,t,r){t.vendorId&&e.setAttribute("vendorId",t.vendorId),void 0!==t.safeToIgnore&&e.setAttribute("safeToIgnore",String(t.safeToIgnore)),void 0!==t.value&&(0,i.writeStringTextNode)(e,t.value)}var D={"http://www.opengis.net/wfs":{Query:(0,u.makeChildAppender)(R)},"http://www.opengis.net/ogc":{During:(0,u.makeChildAppender)(Z),And:(0,u.makeChildAppender)(W),Or:(0,u.makeChildAppender)(W),Not:(0,u.makeChildAppender)(X),BBOX:(0,u.makeChildAppender)(z),Contains:(0,u.makeChildAppender)(V),Intersects:(0,u.makeChildAppender)(B),Within:(0,u.makeChildAppender)(U),PropertyIsEqualTo:(0,u.makeChildAppender)(H),PropertyIsNotEqualTo:(0,u.makeChildAppender)(H),PropertyIsLessThan:(0,u.makeChildAppender)(H),PropertyIsLessThanOrEqualTo:(0,u.makeChildAppender)(H),PropertyIsGreaterThan:(0,u.makeChildAppender)(H),PropertyIsGreaterThanOrEqualTo:(0,u.makeChildAppender)(H),PropertyIsNull:(0,u.makeChildAppender)(Q),PropertyIsBetween:(0,u.makeChildAppender)(K),PropertyIsLike:(0,u.makeChildAppender)(J)}};function R(e,t,r){var a,n=r[r.length-1],o=n.featurePrefix,i=n.featureNS,p=n.propertyNames,d=n.srsName;a=o?O(o,t):t,e.setAttribute("typeName",a),d&&e.setAttribute("srsName",d),i&&e.setAttributeNS(v,"xmlns:"+o,i);var m=(0,s.assign)({},n);m.node=e,(0,u.pushSerializeAndPop)(m,N,(0,u.makeSimpleNodeFactory)("PropertyName"),p,r);var l=n.filter;if(l){var f=(0,u.createElementNS)(S,"Filter");e.appendChild(f),q(f,l,r)}}function q(e,t,r){var a={node:e};(0,u.pushSerializeAndPop)(a,D,(0,u.makeSimpleNodeFactory)(t.getTagName()),[t],r)}function z(e,t,a){a[a.length-1].srsName=t.srsName,$(e,t.geometryName),r.default.prototype.writeGeometryElement(e,t.extent,a)}function V(e,t,a){a[a.length-1].srsName=t.srsName,$(e,t.geometryName),r.default.prototype.writeGeometryElement(e,t.geometry,a)}function B(e,t,a){a[a.length-1].srsName=t.srsName,$(e,t.geometryName),r.default.prototype.writeGeometryElement(e,t.geometry,a)}function U(e,t,a){a[a.length-1].srsName=t.srsName,$(e,t.geometryName),r.default.prototype.writeGeometryElement(e,t.geometry,a)}function Z(e,t,r){var n=(0,u.createElementNS)(A,"ValueReference");(0,i.writeStringTextNode)(n,t.propertyName),e.appendChild(n);var o=(0,u.createElementNS)(a.GMLNS,"TimePeriod");e.appendChild(o);var s=(0,u.createElementNS)(a.GMLNS,"begin");o.appendChild(s),te(s,t.begin);var p=(0,u.createElementNS)(a.GMLNS,"end");o.appendChild(p),te(p,t.end)}function W(e,t,r){for(var a={node:e},n=t.conditions,o=0,i=n.length;o<i;++o){var s=n[o];(0,u.pushSerializeAndPop)(a,D,(0,u.makeSimpleNodeFactory)(s.getTagName()),[s],r)}}function X(e,t,r){var a={node:e},n=t.condition;(0,u.pushSerializeAndPop)(a,D,(0,u.makeSimpleNodeFactory)(n.getTagName()),[n],r)}function H(e,t,r){void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),$(e,t.propertyName),ee(e,""+t.expression)}function Q(e,t,r){$(e,t.propertyName)}function K(e,t,r){$(e,t.propertyName);var a=(0,u.createElementNS)(S,"LowerBoundary");e.appendChild(a),ee(a,""+t.lowerBoundary);var n=(0,u.createElementNS)(S,"UpperBoundary");e.appendChild(n),ee(n,""+t.upperBoundary)}function J(e,t,r){e.setAttribute("wildCard",t.wildCard),e.setAttribute("singleChar",t.singleChar),e.setAttribute("escapeChar",t.escapeChar),void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),$(e,t.propertyName),ee(e,""+t.pattern)}function Y(e,t,r){var a=(0,u.createElementNS)(S,e);(0,i.writeStringTextNode)(a,r),t.appendChild(a)}function $(e,t){Y("PropertyName",e,t)}function ee(e,t){Y("Literal",e,t)}function te(e,t){var r=(0,u.createElementNS)(a.GMLNS,"TimeInstant");e.appendChild(r);var n=(0,u.createElementNS)(a.GMLNS,"timePosition");r.appendChild(n),(0,i.writeStringTextNode)(n,t)}function re(e){var t=(0,u.createElementNS)(S,"Filter");return q(t,e,[]),t}function ae(e,t,r){var a=r[r.length-1],n=(0,s.assign)({},a);n.node=e,(0,u.pushSerializeAndPop)(n,D,(0,u.makeSimpleNodeFactory)("Query"),t,r)}var ne=F;exports.default=ne;
},{"../asserts.js":"fLG6","./GML2.js":"jLLC","./GML3.js":"MjHj","./GMLBase.js":"ZpWv","./filter.js":"zjBh","./XMLFeature.js":"CXRz","./xsd.js":"jdp5","../obj.js":"mH6q","../proj.js":"Diht","../xml.js":"yYlP"}],"BAXJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.register=o;var e=require("../proj.js"),r=require("./transforms.js"),t=s(require("./Projection.js"));function s(e){return e&&e.__esModule?e:{default:e}}function o(s){var o,i,a=Object.keys(s.defs),n=a.length;for(o=0;o<n;++o){var d=a[o];if(!(0,e.get)(d)){var f=s.defs(d);(0,e.addProjection)(new t.default({code:d,axisOrientation:f.axis,metersPerUnit:f.to_meter,units:f.units}))}}for(o=0;o<n;++o){var u=a[o],v=(0,e.get)(u);for(i=0;i<n;++i){var c=a[i],j=(0,e.get)(c);if(!(0,r.get)(u,c))if(s.defs[u]===s.defs[c])(0,e.addEquivalentProjections)([v,j]);else{var l=s(u,c);(0,e.addCoordinateTransforms)(v,j,l.forward,l.inverse)}}}}
},{"../proj.js":"Diht","./transforms.js":"uhlP","./Projection.js":"WUar"}],"nzid":[function(require,module,exports) {
"use strict";function e(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"LiBj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SPI=exports.TWO_PI=exports.FORTPI=exports.R2D=exports.D2R=exports.EPSLN=exports.RA6=exports.RA4=exports.SIXTH=exports.HALF_PI=exports.SEC_TO_RAD=exports.PJD_NODATUM=exports.PJD_WGS84=exports.PJD_7PARAM=exports.PJD_3PARAM=void 0;var r=1;exports.PJD_3PARAM=r;var e=2;exports.PJD_7PARAM=e;var t=4;exports.PJD_WGS84=t;var o=5;exports.PJD_NODATUM=o;var s=484813681109536e-20;exports.SEC_TO_RAD=s;var p=Math.PI/2;exports.HALF_PI=p;var x=.16666666666666666;exports.SIXTH=x;var P=.04722222222222222;exports.RA4=P;var a=.022156084656084655;exports.RA6=a;var A=1e-10;exports.EPSLN=A;var _=.017453292519943295;exports.D2R=_;var v=57.29577951308232;exports.R2D=v;var D=Math.PI/4;exports.FORTPI=D;var R=2*Math.PI;exports.TWO_PI=R;var I=3.14159265359;exports.SPI=I;
},{}],"mr61":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={};exports.default=e,e.greenwich=0,e.lisbon=-9.131906111111,e.paris=2.337229166667,e.bogota=-74.080916666667,e.madrid=-3.687938888889,e.rome=12.452333333333,e.bern=7.439583333333,e.jakarta=106.807719444444,e.ferro=-17.666666666667,e.brussels=4.367975,e.stockholm=18.058277777778,e.athens=23.7163375,e.oslo=10.722916666667;
},{}],"jm2i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};exports.default=e;
},{}],"jFbK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=/[\s_\-\/\(\)]/g;function r(r,t){if(r[t])return r[t];for(var o,s=Object.keys(r),a=t.toLowerCase().replace(e,""),u=-1;++u<s.length;)if((o=s[u]).toLowerCase().replace(e,"")===a)return r[o]}
},{}],"yf7I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var t=require("./constants/values"),n=u(require("./constants/PrimeMeridian")),o=u(require("./constants/units")),e=u(require("./match"));function u(t){return t&&t.__esModule?t:{default:t}}function a(u){var a,r,i,s={},f=u.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var o=n.split("=");return o.push(!0),t[o[0].toLowerCase()]=o[1],t},{}),l={proj:"projName",datum:"datumCode",rf:function(t){s.rf=parseFloat(t)},lat_0:function(n){s.lat0=n*t.D2R},lat_1:function(n){s.lat1=n*t.D2R},lat_2:function(n){s.lat2=n*t.D2R},lat_ts:function(n){s.lat_ts=n*t.D2R},lon_0:function(n){s.long0=n*t.D2R},lon_1:function(n){s.long1=n*t.D2R},lon_2:function(n){s.long2=n*t.D2R},alpha:function(n){s.alpha=parseFloat(n)*t.D2R},lonc:function(n){s.longc=n*t.D2R},x_0:function(t){s.x0=parseFloat(t)},y_0:function(t){s.y0=parseFloat(t)},k_0:function(t){s.k0=parseFloat(t)},k:function(t){s.k0=parseFloat(t)},a:function(t){s.a=parseFloat(t)},b:function(t){s.b=parseFloat(t)},r_a:function(){s.R_A=!0},zone:function(t){s.zone=parseInt(t,10)},south:function(){s.utmSouth=!0},towgs84:function(t){s.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){s.to_meter=parseFloat(t)},units:function(t){s.units=t;var n=(0,e.default)(o.default,t);n&&(s.to_meter=n.to_meter)},from_greenwich:function(n){s.from_greenwich=n*t.D2R},pm:function(o){var u=(0,e.default)(n.default,o);s.from_greenwich=(u||parseFloat(o))*t.D2R},nadgrids:function(t){"@null"===t?s.datumCode="none":s.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(s.axis=t)}};for(a in f)r=f[a],a in l?"function"==typeof(i=l[a])?i(r):s[i]=r:s[a]=r;return"string"==typeof s.datumCode&&"WGS84"!==s.datumCode&&(s.datumCode=s.datumCode.toLowerCase()),s}
},{"./constants/values":"LiBj","./constants/PrimeMeridian":"mr61","./constants/units":"jm2i","./match":"jFbK"}],"QUL1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=p;exports.default=t;var e=1,r=2,i=3,s=4,h=5,o=-1,n=/\s/,a=/[A-Za-z]/,u=/[A-Za-z84]/,d=/[,\]]/,c=/[\d\.E\-\+]/;function l(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=e}function p(t){return new l(t).output()}l.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==s)for(;n.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case e:return this.neutral(t);case r:return this.keyword(t);case s:return this.quoted(t);case h:return this.afterquote(t);case i:return this.number(t);case o:return}},l.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=s);if(d.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},l.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=e)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=e,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=o))):void 0},l.prototype.number=function(t){if(!c.test(t)){if(d.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},l.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=h},l.prototype.keyword=function(t){if(u.test(t))this.word+=t;else{if("["===t){var r=[];return r.push(this.word),this.level++,null===this.root?this.root=r:this.currentObject.push(r),this.stack.push(this.currentObject),this.currentObject=r,void(this.state=e)}if(!d.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},l.prototype.neutral=function(t){if(a.test(t))return this.word=t,void(this.state=r);if('"'===t)return this.word="",void(this.state=s);if(c.test(t))return this.word=t,void(this.state=i);if(!d.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},l.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===o)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};
},{}],"Wfmr":[function(require,module,exports) {
"use strict";function e(e,a,s){Array.isArray(a)&&(s.unshift(a),a=null);var c=a?{}:e,t=s.reduce(function(e,a){return r(a,e),e},c);a&&(e[a]=t)}function r(a,s){if(Array.isArray(a)){var c,t=a.shift();if("PARAMETER"===t&&(t=a.shift()),1===a.length)return Array.isArray(a[0])?(s[t]={},void r(a[0],s[t])):void(s[t]=a[0]);if(a.length)if("TOWGS84"!==t)switch(Array.isArray(t)||(s[t]={}),t){case"UNIT":case"PRIMEM":case"VERT_DATUM":return s[t]={name:a[0].toLowerCase(),convert:a[1]},void(3===a.length&&r(a[2],s[t]));case"SPHEROID":case"ELLIPSOID":return s[t]={name:a[0],a:a[1],rf:a[2]},void(4===a.length&&r(a[3],s[t]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return a[0]=["name",a[0]],void e(s,t,a);default:for(c=-1;++c<a.length;)if(!Array.isArray(a[c]))return r(a,s[t]);return e(s,t,a)}else s[t]=a;else s[t]=!0}else s[a]=!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sExpr=r;
},{}],"GYTI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=a(require("./parser")),t=require("./process");function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=.017453292519943295;function n(e,t){var a=t[0],o=t[1];!(a in e)&&o in e&&(e[a]=e[o],3===t.length&&(e[a]=t[2](e[a])))}function l(e){return e*r}function d(e){"GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"===o(e.PROJECTION)?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var t=e.GEOGCS;function a(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(t=e),t&&(t.DATUM?e.datumCode=t.DATUM.name.toLowerCase():e.datumCode=t.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"===e.datumCode&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),t.DATUM&&t.DATUM.SPHEROID&&(e.ellps=t.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=t.DATUM.SPHEROID.a,e.rf=parseFloat(t.DATUM.SPHEROID.rf,10)),t.DATUM&&t.DATUM.TOWGS84&&(e.datum_params=t.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",l],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",l],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",l],["lat0","latitude_of_origin",l],["lat0","standard_parallel_1",l],["lat1","standard_parallel_1",l],["lat2","standard_parallel_2",l],["azimuth","Azimuth"],["alpha","azimuth",l],["srsCode","name"]].forEach(function(t){return n(e,t)}),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=l(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function i(a){var o=(0,e.default)(a),r=o.shift(),n=o.shift();o.unshift(["name",n]),o.unshift(["type",r]);var l={};return(0,t.sExpr)(o,l),d(l),l}
},{"./parser":"QUL1","./process":"Wfmr"}],"KsYW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./global")),r=i(require("./projString")),t=i(require("wkt-parser"));function i(e){return e&&e.__esModule?e:{default:e}}function n(e){var i=this;if(2===arguments.length){var a=arguments[1];"string"==typeof a?"+"===a.charAt(0)?n[e]=(0,r.default)(arguments[1]):n[e]=(0,t.default)(arguments[1]):n[e]=a}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?n.apply(i,e):n(e)});if("string"==typeof e){if(e in n)return n[e]}else"EPSG"in e?n["EPSG:"+e.EPSG]=e:"ESRI"in e?n["ESRI:"+e.ESRI]=e:"IAU2000"in e?n["IAU2000:"+e.IAU2000]=e:console.log(e);return}}(0,e.default)(n);var a=n;exports.default=a;
},{"./global":"nzid","./projString":"yf7I","wkt-parser":"GYTI"}],"Ia21":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./defs")),r=n(require("wkt-parser")),t=n(require("./projString")),u=n(require("./match"));function n(e){return e&&e.__esModule?e:{default:e}}function f(e){return"string"==typeof e}function i(r){return r in e.default}var a=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function o(e){return a.some(function(r){return e.indexOf(r)>-1})}var d=["3857","900913","3785","102113"];function l(e){var r=(0,u.default)(e,"authority");if(r){var t=(0,u.default)(r,"epsg");return t&&d.indexOf(t)>-1}}function C(e){var r=(0,u.default)(e,"extension");if(r)return(0,u.default)(r,"proj4")}function E(e){return"+"===e[0]}function s(u){if(!f(u))return u;if(i(u))return e.default[u];if(o(u)){var n=(0,r.default)(u);if(l(n))return e.default["EPSG:3857"];var a=C(n);return a?(0,t.default)(a):n}return E(u)?(0,t.default)(u):void 0}var c=s;exports.default=c;
},{"./defs":"KsYW","wkt-parser":"GYTI","./projString":"yf7I","./match":"jFbK"}],"wM1P":[function(require,module,exports) {
"use strict";function e(e,r){var t,o;if(e=e||{},!r)return e;for(o in r)void 0!==(t=r[o])&&(e[o]=t);return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"AEhT":[function(require,module,exports) {
"use strict";function e(e,t,r){var s=e*t;return r/Math.sqrt(1-s*s)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Yu1R":[function(require,module,exports) {
"use strict";function e(e){return e<0?-1:1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"c0D1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=require("../constants/values"),t=r(require("./sign"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return Math.abs(r)<=e.SPI?r:r-(0,t.default)(r)*e.TWO_PI}
},{"../constants/values":"LiBj","./sign":"Yu1R"}],"dGKf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("../constants/values");function t(t,r,a){var s=t*a,u=.5*t;return s=Math.pow((1-s)/(1+s),u),Math.tan(.5*(e.HALF_PI-r))/s}
},{"../constants/values":"LiBj"}],"KCUm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=require("../constants/values");function e(e,a){for(var r,n,s=.5*e,u=t.HALF_PI-2*Math.atan(a),o=0;o<=15;o++)if(r=e*Math.sin(u),u+=n=t.HALF_PI-2*Math.atan(a*Math.pow((1-r)/(1+r),s))-u,Math.abs(n)<=1e-10)return u;return-9999}
},{"../constants/values":"LiBj"}],"qCu6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=r,exports.forward=n,exports.inverse=o,exports.default=exports.names=void 0;var t=a(require("../common/msfnz")),s=a(require("../common/adjust_lon")),i=a(require("../common/tsfnz")),e=a(require("../common/phi2z")),h=require("../constants/values");function a(t){return t&&t.__esModule?t:{default:t}}function r(){var s=this.b/this.a;this.es=1-s*s,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=(0,t.default)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function n(t){var e,a,r=t.x,n=t.y;if(n*h.R2D>90&&n*h.R2D<-90&&r*h.R2D>180&&r*h.R2D<-180)return null;if(Math.abs(Math.abs(n)-h.HALF_PI)<=h.EPSLN)return null;if(this.sphere)e=this.x0+this.a*this.k0*(0,s.default)(r-this.long0),a=this.y0+this.a*this.k0*Math.log(Math.tan(h.FORTPI+.5*n));else{var o=Math.sin(n),u=(0,i.default)(this.e,n,o);e=this.x0+this.a*this.k0*(0,s.default)(r-this.long0),a=this.y0-this.a*this.k0*Math.log(u)}return t.x=e,t.y=a,t}function o(t){var i,a,r=t.x-this.x0,n=t.y-this.y0;if(this.sphere)a=h.HALF_PI-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var o=Math.exp(-n/(this.a*this.k0));if(-9999===(a=(0,e.default)(this.e,o)))return null}return i=(0,s.default)(this.long0+r/(this.a*this.k0)),t.x=i,t.y=a,t}var u=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];exports.names=u;var l={init:r,forward:n,inverse:o,names:u};exports.default=l;
},{"../common/msfnz":"AEhT","../common/adjust_lon":"c0D1","../common/tsfnz":"dGKf","../common/phi2z":"KCUm","../constants/values":"LiBj"}],"mwVT":[function(require,module,exports) {
"use strict";function e(){}function t(e){return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=e,exports.inverse=exports.forward=t,exports.default=exports.names=void 0;var r=["longlat","identity"];exports.names=r;var o={init:e,forward:t,inverse:t,names:r};exports.default=o;
},{}],"USh1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=s,exports.get=u,exports.start=i,exports.default=void 0;var e=r(require("./projections/merc")),t=r(require("./projections/longlat"));function r(e){return e&&e.__esModule?e:{default:e}}var o=[e.default,t.default],a={},n=[];function s(e,t){var r=n.length;return e.names?(n[r]=e,e.names.forEach(function(e){a[e.toLowerCase()]=r}),this):(console.log(t),!0)}function u(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==a[t]&&n[a[t]]?n[a[t]]:void 0}function i(){o.forEach(s)}var d={start:i,add:s,get:u};exports.default=d;
},{"./projections/merc":"qCu6","./projections/longlat":"mwVT"}],"FyU7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WGS84=exports.default=void 0;var e={};exports.default=e,e.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},e.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},e.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},e.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},e.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},e.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},e.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},e.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},e.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},e.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},e.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},e.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},e.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},e.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},e.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},e.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},e.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},e.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},e.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},e.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},e.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},e.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},e.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},e.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},e.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},e.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},e.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},e.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},e.hough={a:6378270,rf:297,ellipseName:"Hough"},e.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},e.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},e.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},e.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},e.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},e.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},e.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},e.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},e.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},e.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},e.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},e.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var a=e.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};exports.WGS84=a,e.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};
},{}],"e0HC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eccentricity=o,exports.sphere=i;var e=require("./constants/values"),r=a(require("./constants/Ellipsoid")),t=n(require("./match"));function n(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function a(e){if(e&&e.__esModule)return e;var r=u();if(r&&r.has(e))return r.get(e);var t={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(t,a,o):t[a]=e[a]}}return t.default=e,r&&r.set(e,t),t}function o(r,t,n,u){var a=r*r,o=t*t,i=(a-o)/a,s=0;return u?(a=(r*=1-i*(e.SIXTH+i*(e.RA4+i*e.RA6)))*r,i=0):s=Math.sqrt(i),{es:i,e:s,ep2:(a-o)/o}}function i(n,u,a,o,i){if(!n){var s=(0,t.default)(r.default,o);s||(s=r.WGS84),n=s.a,u=s.b,a=s.rf}return a&&!u&&(u=(1-1/a)*n),(0===a||Math.abs(n-u)<e.EPSLN)&&(i=!0,u=n),{a:n,b:u,rf:a,sphere:i}}
},{"./constants/values":"LiBj","./constants/Ellipsoid":"FyU7","./match":"jFbK"}],"yYWe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={};exports.default=e,e.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},e.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},e.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},e.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},e.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},e.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},e.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},e.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},e.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},e.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},e.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},e.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},e.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},e.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},e.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},e.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},e.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};
},{}],"YYTB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=require("./constants/values");function t(t,m,_,r,e,u){var s={};return s.datum_type=void 0===t||"none"===t?a.PJD_NODATUM:a.PJD_WGS84,m&&(s.datum_params=m.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=a.PJD_3PARAM),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=a.PJD_7PARAM,s.datum_params[3]*=a.SEC_TO_RAD,s.datum_params[4]*=a.SEC_TO_RAD,s.datum_params[5]*=a.SEC_TO_RAD,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=_,s.b=r,s.es=e,s.ep2=u,s}var m=t;exports.default=m;
},{"./constants/values":"LiBj"}],"TmNP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("./parseCode")),t=d(require("./extend")),s=d(require("./projections")),a=require("./deriveConstants"),r=d(require("./constants/Datum")),i=d(require("./datum")),u=d(require("./match"));function d(e){return e&&e.__esModule?e:{default:e}}function o(s,d){if(!(this instanceof o))return new o(s);d=d||function(e){if(e)throw e};var l=(0,e.default)(s);if("object"==typeof l){var n=o.projections.get(l.projName);if(n){if(l.datumCode&&"none"!==l.datumCode){var p=(0,u.default)(r.default,l.datumCode);p&&(l.datum_params=p.towgs84?p.towgs84.split(","):null,l.ellps=p.ellipse,l.datumName=p.datumName?p.datumName:l.datumCode)}l.k0=l.k0||1,l.axis=l.axis||"enu",l.ellps=l.ellps||"wgs84";var f=(0,a.sphere)(l.a,l.b,l.rf,l.ellps,l.sphere),m=(0,a.eccentricity)(f.a,f.b,f.rf,l.R_A),h=l.datum||(0,i.default)(l.datumCode,l.datum_params,f.a,f.b,m.es,m.ep2);(0,t.default)(this,l),(0,t.default)(this,n),this.a=f.a,this.b=f.b,this.rf=f.rf,this.sphere=f.sphere,this.es=m.es,this.e=m.e,this.ep2=m.ep2,this.datum=h,this.init(),d(null,this)}else d(s)}else d(s)}o.projections=s.default,o.projections.start();var l=o;exports.default=l;
},{"./parseCode":"Ia21","./extend":"wM1P","./projections":"USh1","./deriveConstants":"e0HC","./constants/Datum":"yYWe","./datum":"YYTB","./match":"jFbK"}],"AJ6k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareDatums=t,exports.geodeticToGeocentric=r,exports.geocentricToGeodetic=e,exports.geocentricToWgs84=s,exports.geocentricFromWgs84=m;var a=require("./constants/values");function t(t,r){return t.datum_type===r.datum_type&&(!(t.a!==r.a||Math.abs(t.es-r.es)>5e-11)&&(t.datum_type===a.PJD_3PARAM?t.datum_params[0]===r.datum_params[0]&&t.datum_params[1]===r.datum_params[1]&&t.datum_params[2]===r.datum_params[2]:t.datum_type!==a.PJD_7PARAM||t.datum_params[0]===r.datum_params[0]&&t.datum_params[1]===r.datum_params[1]&&t.datum_params[2]===r.datum_params[2]&&t.datum_params[3]===r.datum_params[3]&&t.datum_params[4]===r.datum_params[4]&&t.datum_params[5]===r.datum_params[5]&&t.datum_params[6]===r.datum_params[6]))}function r(t,r,e){var s,m,u,_,p=t.x,n=t.y,d=t.z?t.z:0;if(n<-a.HALF_PI&&n>-1.001*a.HALF_PI)n=-a.HALF_PI;else if(n>a.HALF_PI&&n<1.001*a.HALF_PI)n=a.HALF_PI;else{if(n<-a.HALF_PI)return{x:-1/0,y:-1/0,z:t.z};if(n>a.HALF_PI)return{x:1/0,y:1/0,z:t.z}}return p>Math.PI&&(p-=2*Math.PI),m=Math.sin(n),_=Math.cos(n),u=m*m,{x:((s=e/Math.sqrt(1-r*u))+d)*_*Math.cos(p),y:(s+d)*_*Math.sin(p),z:(s*(1-r)+d)*m}}function e(t,r,e,s){var m,u,_,p,n,d,o,i,x,P,y,M,z,c,A,h=t.x,f=t.y,I=t.z?t.z:0;if(m=Math.sqrt(h*h+f*f),u=Math.sqrt(h*h+f*f+I*I),m/e<1e-12){if(c=0,u/e<1e-12)return a.HALF_PI,A=-s,{x:t.x,y:t.y,z:t.z}}else c=Math.atan2(f,h);_=I/u,i=(p=m/u)*(1-r)*(n=1/Math.sqrt(1-r*(2-r)*p*p)),x=_*n,z=0;do{z++,d=r*(o=e/Math.sqrt(1-r*x*x))/(o+(A=m*i+I*x-o*(1-r*x*x))),M=(y=_*(n=1/Math.sqrt(1-d*(2-d)*p*p)))*i-(P=p*(1-d)*n)*x,i=P,x=y}while(M*M>1e-24&&z<30);return{x:c,y:Math.atan(y/Math.abs(P)),z:A}}function s(t,r,e){if(r===a.PJD_3PARAM)return{x:t.x+e[0],y:t.y+e[1],z:t.z+e[2]};if(r===a.PJD_7PARAM){var s=e[0],m=e[1],u=e[2],_=e[3],p=e[4],n=e[5],d=e[6];return{x:d*(t.x-n*t.y+p*t.z)+s,y:d*(n*t.x+t.y-_*t.z)+m,z:d*(-p*t.x+_*t.y+t.z)+u}}}function m(t,r,e){if(r===a.PJD_3PARAM)return{x:t.x-e[0],y:t.y-e[1],z:t.z-e[2]};if(r===a.PJD_7PARAM){var s=e[0],m=e[1],u=e[2],_=e[3],p=e[4],n=e[5],d=e[6],o=(t.x-s)/d,i=(t.y-m)/d,x=(t.z-u)/d;return{x:o+n*i-p*x,y:-n*o+i+_*x,z:p*o-_*i+x}}}
},{"./constants/values":"LiBj"}],"casK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=require("./constants/values"),t=require("./datumUtils");function a(t){return t===e.PJD_3PARAM||t===e.PJD_7PARAM}function u(u,r,o){return(0,t.compareDatums)(u,r)?o:u.datum_type===e.PJD_NODATUM||r.datum_type===e.PJD_NODATUM?o:u.es!==r.es||u.a!==r.a||a(u.datum_type)||a(r.datum_type)?(o=(0,t.geodeticToGeocentric)(o,u.es,u.a),a(u.datum_type)&&(o=(0,t.geocentricToWgs84)(o,u.datum_type,u.datum_params)),a(r.datum_type)&&(o=(0,t.geocentricFromWgs84)(o,r.datum_type,r.datum_params)),(0,t.geocentricToGeodetic)(o,r.es,r.a,r.b)):o}
},{"./constants/values":"LiBj","./datumUtils":"AJ6k"}],"Trp1":[function(require,module,exports) {
"use strict";function e(e,a,r){var s,t,c,u=r.x,i=r.y,o=r.z||0,d={};for(c=0;c<3;c++)if(!a||2!==c||void 0!==r.z)switch(0===c?(s=u,t="x"):1===c?(s=i,t="y"):(s=o,t="z"),e.axis[c]){case"e":d[t]=s;break;case"w":d[t]=-s;break;case"n":d[t]=s;break;case"s":d[t]=-s;break;case"u":void 0!==r[t]&&(d.z=s);break;case"d":void 0!==r[t]&&(d.z=-s);break;default:return null}return d}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Q8bn":[function(require,module,exports) {
"use strict";function e(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"fxXU":[function(require,module,exports) {
"use strict";function e(e){t(e.x),t(e.y)}function t(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!=e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"n5UB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("./constants/values"),t=d(require("./datum_transform")),r=d(require("./adjust_axis")),u=d(require("./Proj")),a=d(require("./common/toPoint")),o=d(require("./checkSanity"));function d(e){return e&&e.__esModule?e:{default:e}}function m(t,r){return(t.datum.datum_type===e.PJD_3PARAM||t.datum.datum_type===e.PJD_7PARAM)&&"WGS84"!==r.datumCode||(r.datum.datum_type===e.PJD_3PARAM||r.datum.datum_type===e.PJD_7PARAM)&&"WGS84"!==t.datumCode}function n(d,_,i){var f;return Array.isArray(i)&&(i=(0,a.default)(i)),(0,o.default)(i),d.datum&&_.datum&&m(d,_)&&(i=n(d,f=new u.default("WGS84"),i),d=f),"enu"!==d.axis&&(i=(0,r.default)(d,!1,i)),"longlat"===d.projName?i={x:i.x*e.D2R,y:i.y*e.D2R,z:i.z||0}:(d.to_meter&&(i={x:i.x*d.to_meter,y:i.y*d.to_meter,z:i.z||0}),i=d.inverse(i)),d.from_greenwich&&(i.x+=d.from_greenwich),i=(0,t.default)(d.datum,_.datum,i),_.from_greenwich&&(i={x:i.x-_.from_greenwich,y:i.y,z:i.z||0}),"longlat"===_.projName?i={x:i.x*e.R2D,y:i.y*e.R2D,z:i.z||0}:(i=_.forward(i),_.to_meter&&(i={x:i.x/_.to_meter,y:i.y/_.to_meter,z:i.z||0})),"enu"!==_.axis?(0,r.default)(_,!0,i):i}
},{"./constants/values":"LiBj","./datum_transform":"casK","./adjust_axis":"Trp1","./Proj":"TmNP","./common/toPoint":"Q8bn","./checkSanity":"fxXU"}],"adlr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./Proj")),r=n(require("./transform"));function n(e){return e&&e.__esModule?e:{default:e}}var t=(0,e.default)("WGS84");function o(e,n,t){var o,a,u;return Array.isArray(t)?(o=(0,r.default)(e,n,t)||{x:NaN,y:NaN},t.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==n.name&&"geocent"===n.name?"number"==typeof o.z?[o.x,o.y,o.z].concat(t.splice(3)):[o.x,o.y,t[2]].concat(t.splice(3)):[o.x,o.y].concat(t.splice(2)):[o.x,o.y]):(a=(0,r.default)(e,n,t),2===(u=Object.keys(t)).length?a:(u.forEach(function(r){if(void 0!==e.name&&"geocent"===e.name||void 0!==n.name&&"geocent"===n.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;a[r]=t[r]}),a))}function a(r){return r instanceof e.default?r:r.oProj?r.oProj:(0,e.default)(r)}function u(e,r,n){e=a(e);var u,i=!1;return void 0===r?(r=e,e=t,i=!0):(void 0!==r.x||Array.isArray(r))&&(n=r,r=e,e=t,i=!0),r=a(r),n?o(e,r,n):(u={forward:function(n){return o(e,r,n)},inverse:function(n){return o(r,e,n)}},i&&(u.oProj=r),u)}var i=u;exports.default=i;
},{"./Proj":"TmNP","./transform":"n5UB"}],"kAqR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.forward=c,exports.inverse=u,exports.toPoint=f,exports.default=void 0;var t=6,e="AJSAJS",r="AFAFAF",a=65,n=73,o=79,i=86,s=90,h={forward:c,inverse:u,toPoint:f};function c(t,e){return e=e||5,d(b({lat:t[1],lon:t[0]}),e)}function u(t){var e=v(A(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function f(t){var e=v(A(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function l(t){return t*(Math.PI/180)}function M(t){return t/Math.PI*180}function b(t){var e,r,a,n,o,i,s=t.lat,h=t.lon,c=6378137,u=l(s),f=l(h);i=Math.floor((h+180)/6)+1,180===h&&(i=60),s>=56&&s<64&&h>=3&&h<12&&(i=32),s>=72&&s<84&&(h>=0&&h<9?i=31:h>=9&&h<21?i=33:h>=21&&h<33?i=35:h>=33&&h<42&&(i=37)),o=l(6*(i-1)-180+3),e=c/Math.sqrt(1-.00669438*Math.sin(u)*Math.sin(u)),r=Math.tan(u)*Math.tan(u),a=.006739496752268451*Math.cos(u)*Math.cos(u);var M=.9996*e*((n=Math.cos(u)*(f-o))+(1-r+a)*n*n*n/6+(5-18*r+r*r+72*a-.39089081163157013)*n*n*n*n*n/120)+5e5,b=.9996*(c*(.9983242984503243*u-.002514607064228144*Math.sin(2*u)+2639046602129982e-21*Math.sin(4*u)-3.418046101696858e-9*Math.sin(6*u))+e*Math.tan(u)*(n*n/2+(5-r+9*a+4*a*a)*n*n*n*n/24+(61-58*r+r*r+600*a-2.2240339282485886)*n*n*n*n*n*n/720));return s<0&&(b+=1e7),{northing:Math.round(b),easting:Math.round(M),zoneNumber:i,zoneLetter:g(s)}}function v(t){var e=t.northing,r=t.easting,a=t.zoneLetter,n=t.zoneNumber;if(n<0||n>60)return null;var o,i,s,h,c,u,f,l,b=6378137,g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),d=r-5e5,k=e;a<"N"&&(k-=1e7),u=6*(n-1)-180+3,l=(f=k/.9996/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*f)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*f)+151*g*g*g/96*Math.sin(6*f),o=b/Math.sqrt(1-.00669438*Math.sin(l)*Math.sin(l)),i=Math.tan(l)*Math.tan(l),s=.006739496752268451*Math.cos(l)*Math.cos(l),h=.99330562*b/Math.pow(1-.00669438*Math.sin(l)*Math.sin(l),1.5),c=d/(.9996*o);var m=l-o*Math.tan(l)/h*(c*c/2-(5+3*i+10*s-4*s*s-.06065547077041606)*c*c*c*c/24+(61+90*i+298*s+45*i*i-1.6983531815716497-3*s*s)*c*c*c*c*c*c/720);m=M(m);var p,A=(c-(1+2*i+s)*c*c*c/6+(5-2*s+28*i-3*s*s+.05391597401814761+24*i*i)*c*c*c*c*c/120)/Math.cos(l);if(A=u+M(A),t.accuracy){var z=v({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});p={top:z.lat,right:z.lon,bottom:m,left:A}}else p={lat:m,lon:A};return p}function g(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function d(t,e){var r="00000"+t.easting,a="00000"+t.northing;return t.zoneNumber+t.zoneLetter+k(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+a.substr(a.length-5,e)}function k(t,e,r){var a=m(r);return p(Math.floor(t/1e5),Math.floor(e/1e5)%20,a)}function m(e){var r=e%t;return 0===r&&(r=t),r}function p(t,h,c){var u=c-1,f=e.charCodeAt(u),l=r.charCodeAt(u),M=f+t-1,b=l+h,v=!1;return M>s&&(M=M-s+a-1,v=!0),(M===n||f<n&&M>n||(M>n||f<n)&&v)&&M++,(M===o||f<o&&M>o||(M>o||f<o)&&v)&&++M===n&&M++,M>s&&(M=M-s+a-1),b>i?(b=b-i+a-1,v=!0):v=!1,(b===n||l<n&&b>n||(b>n||l<n)&&v)&&b++,(b===o||l<o&&b>o||(b>o||l<o)&&v)&&++b===n&&b++,b>i&&(b=b-i+a-1),String.fromCharCode(M)+String.fromCharCode(b)}function A(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,r=t.length,a=null,n="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;n+=e,o++}var i=parseInt(n,10);if(0===o||o+3>r)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;a=t.substring(o,o+=2);for(var h=m(i),c=z(a.charAt(0),h),u=w(a.charAt(1),h);u<C(s);)u+=2e6;var f=r-o;if(f%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var l,M,b,v=f/2,g=0,d=0;return v>0&&(l=1e5/Math.pow(10,v),M=t.substring(o,o+v),g=parseFloat(M)*l,b=t.substring(o+v),d=parseFloat(b)*l),{easting:g+c,northing:d+u,zoneLetter:s,zoneNumber:i,accuracy:l}}function z(t,r){for(var i=e.charCodeAt(r-1),h=1e5,c=!1;i!==t.charCodeAt(0);){if(++i===n&&i++,i===o&&i++,i>s){if(c)throw"Bad character: "+t;i=a,c=!0}h+=1e5}return h}function w(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var s=r.charCodeAt(e-1),h=0,c=!1;s!==t.charCodeAt(0);){if(++s===n&&s++,s===o&&s++,s>i){if(c)throw"Bad character: "+t;s=a,c=!0}h+=1e5}return h}function C(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}exports.default=h;
},{}],"wpuw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("mgrs");function e(t,i,r){if(!(this instanceof e))return new e(t,i,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===i){var s=t.split(",");this.x=parseFloat(s[0],10),this.y=parseFloat(s[1],10),this.z=parseFloat(s[2],10)||0}else this.x=t,this.y=i,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}e.fromMGRS=function(i){return new e((0,t.toPoint)(i))},e.prototype.toMGRS=function(e){return(0,t.forward)([this.x,this.y],e)};var i=e;exports.default=i;
},{"mgrs":"kAqR"}],"L3DR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=1,r=.25,t=.046875,u=.01953125,a=.01068115234375,o=.75,s=.46875,n=.013020833333333334,v=.007120768229166667,c=.3645833333333333,d=.005696614583333333,f=.3076171875;function i(i){var l=[];l[0]=e-i*(r+i*(t+i*(u+i*a))),l[1]=i*(o-i*(t+i*(u+i*a)));var p=i*i;return l[2]=p*(s-i*(n+i*v)),p*=i,l[3]=p*(c-i*d),l[4]=p*i*f,l}
},{}],"SByC":[function(require,module,exports) {
"use strict";function e(e,t,r,u){return r*=t,t*=t,u[0]*e-r*(u[1]+t*(u[2]+t*(u[3]+t*u[4])))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"bfA2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./pj_mlfn")),r=require("../constants/values");function t(e){return e&&e.__esModule?e:{default:e}}var a=20;function u(t,u,s){for(var n=1/(1-u),o=t,f=a;f;--f){var i=Math.sin(o),l=1-u*i*i;if(o-=l=((0,e.default)(o,i,Math.cos(o),s)-t)*(l*Math.sqrt(l))*n,Math.abs(l)<r.EPSLN)return o}return o}
},{"./pj_mlfn":"SByC","../constants/values":"LiBj"}],"qgIp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=r,exports.forward=n,exports.inverse=M,exports.default=exports.names=void 0;var t=o(require("../common/pj_enfn")),s=o(require("../common/pj_mlfn")),a=o(require("../common/pj_inv_mlfn")),h=o(require("../common/adjust_lon")),i=require("../constants/values"),e=o(require("../common/sign"));function o(t){return t&&t.__esModule?t:{default:t}}function r(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=(0,t.default)(this.es),this.ml0=(0,s.default)(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function n(t){var a,e,o,r=t.x,n=t.y,M=(0,h.default)(r-this.long0),l=Math.sin(n),u=Math.cos(n);if(this.es){var p=u*M,f=Math.pow(p,2),v=this.ep2*Math.pow(u,2),d=Math.pow(v,2),c=Math.abs(u)>i.EPSLN?Math.tan(n):0,m=Math.pow(c,2),x=Math.pow(m,2);a=1-this.es*Math.pow(l,2),p/=Math.sqrt(a);var w=(0,s.default)(n,l,u,this.en);e=this.a*(this.k0*p*(1+f/6*(1-m+v+f/20*(5-18*m+x+14*v-58*m*v+f/42*(61+179*x-x*m-479*m)))))+this.x0,o=this.a*(this.k0*(w-this.ml0+l*M*p/2*(1+f/12*(5-m+9*v+4*d+f/30*(61+x-58*m+270*v-330*m*v+f/56*(1385+543*x-x*m-3111*m))))))+this.y0}else{var _=u*Math.sin(M);if(Math.abs(Math.abs(_)-1)<i.EPSLN)return 93;if(e=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,o=u*Math.cos(M)/Math.sqrt(1-Math.pow(_,2)),(_=Math.abs(o))>=1){if(_-1>i.EPSLN)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=e,t.y=o,t}function M(t){var s,o,r,n,M=(t.x-this.x0)*(1/this.a),l=(t.y-this.y0)*(1/this.a);if(this.es)if(s=this.ml0+l/this.k0,o=(0,a.default)(s,this.es,this.en),Math.abs(o)<i.HALF_PI){var u=Math.sin(o),p=Math.cos(o),f=Math.abs(p)>i.EPSLN?Math.tan(o):0,v=this.ep2*Math.pow(p,2),d=Math.pow(v,2),c=Math.pow(f,2),m=Math.pow(c,2);s=1-this.es*Math.pow(u,2);var x=M*Math.sqrt(s)/this.k0,w=Math.pow(x,2);r=o-(s*=f)*w/(1-this.es)*.5*(1-w/12*(5+3*c-9*v*c+v-4*d-w/30*(61+90*c-252*v*c+45*m+46*v-w/56*(1385+3633*c+4095*m+1574*m*c)))),n=(0,h.default)(this.long0+x*(1-w/6*(1+2*c+v-w/20*(5+28*c+24*m+8*v*c+6*v-w/42*(61+662*c+1320*m+720*m*c))))/p)}else r=i.HALF_PI*(0,e.default)(l),n=0;else{var _=Math.exp(M/this.k0),y=.5*(_-1/_),q=this.lat0+l/this.k0,g=Math.cos(q);s=Math.sqrt((1-Math.pow(g,2))/(1+Math.pow(y,2))),r=Math.asin(s),l<0&&(r=-r),n=0===y&&0===g?0:(0,h.default)(Math.atan2(y,g)+this.long0)}return t.x=n,t.y=r,t}var l=["Transverse_Mercator","Transverse Mercator","tmerc"];exports.names=l;var u={init:r,forward:n,inverse:M,names:l};exports.default=u;
},{"../common/pj_enfn":"L3DR","../common/pj_mlfn":"SByC","../common/pj_inv_mlfn":"bfA2","../common/adjust_lon":"c0D1","../constants/values":"LiBj","../common/sign":"Yu1R"}],"zIub":[function(require,module,exports) {
"use strict";function e(e){var t=Math.exp(e);return t=(t-1/t)/2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"AMFr":[function(require,module,exports) {
"use strict";function t(t,a){t=Math.abs(t),a=Math.abs(a);var e=Math.max(t,a),r=Math.min(t,a)/(e||1);return e*Math.sqrt(1+Math.pow(r,2))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"mNE4":[function(require,module,exports) {
"use strict";function e(e){var t=1+e,r=t-1;return 0===r?e:e*Math.log(t)/r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Z0aI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./hypot")),t=r(require("./log1py"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){var u=Math.abs(r);return u=(0,t.default)(u*(1+u/((0,e.default)(1,u)+1))),r<0?-u:u}
},{"./hypot":"AMFr","./log1py":"mNE4"}],"rPdz":[function(require,module,exports) {
"use strict";function e(e,t){for(var r,o=2*Math.cos(2*t),s=e.length-1,n=e[s],u=0;--s>=0;)r=o*n-u+e[s],u=n,n=r;return t+r*Math.sin(2*t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"La0z":[function(require,module,exports) {
"use strict";function e(e,t){for(var r,o=2*Math.cos(t),s=e.length-1,n=e[s],u=0;--s>=0;)r=o*n-u+e[s],u=n,n=r;return Math.sin(t)*r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"aHjm":[function(require,module,exports) {
"use strict";function e(e){var t=Math.exp(e);return t=(t+1/t)/2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"ZVBg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./sinh")),t=r(require("./cosh"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r,u,n){for(var o,s,a=Math.sin(u),f=Math.cos(u),i=(0,e.default)(n),l=(0,t.default)(n),d=2*f*l,c=-2*a*i,h=r.length-1,M=r[h],_=0,p=0,v=0;--h>=0;)o=p,s=_,M=d*(p=M)-o-c*(_=v)+r[h],v=c*p-s+d*_;return[(d=a*l)*M-(c=f*i)*v,d*v+c*M]}
},{"./sinh":"zIub","./cosh":"aHjm"}],"suR5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=o,exports.forward=u,exports.inverse=c,exports.default=exports.names=void 0;var t=n(require("../common/sinh")),s=n(require("../common/hypot")),i=n(require("../common/asinhy")),h=n(require("../common/gatg")),e=n(require("../common/clens")),a=n(require("../common/clens_cmplx")),r=n(require("../common/adjust_lon"));function n(t){return t&&t.__esModule?t:{default:t}}function o(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),s=t/(2-t),i=s;this.cgb[0]=s*(2+s*(-2/3+s*(s*(116/45+s*(26/45+s*(-2854/675)))-2))),this.cbg[0]=s*(s*(2/3+s*(4/3+s*(-82/45+s*(32/45+s*(4642/4725)))))-2),i*=s,this.cgb[1]=i*(7/3+s*(s*(-227/45+s*(2704/315+s*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+s*(-16/15+s*(-13/9+s*(904/315+s*(-1522/945))))),i*=s,this.cgb[2]=i*(56/15+s*(-136/35+s*(-1262/105+s*(73814/2835)))),this.cbg[2]=i*(-26/15+s*(34/21+s*(1.6+s*(-12686/2835)))),i*=s,this.cgb[3]=i*(4279/630+s*(-332/35+s*(-399572/14175))),this.cbg[3]=i*(1237/630+s*(s*(-24832/14175)-2.4)),i*=s,this.cgb[4]=i*(4174/315+s*(-144838/6237)),this.cbg[4]=i*(-734/315+s*(109598/31185)),i*=s,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(s,2),this.Qn=this.k0/(1+s)*(1+i*(.25+i*(1/64+i/256))),this.utg[0]=s*(s*(2/3+s*(-37/96+s*(1/360+s*(81/512+s*(-96199/604800)))))-.5),this.gtu[0]=s*(.5+s*(-2/3+s*(5/16+s*(41/180+s*(-127/288+s*(7891/37800)))))),this.utg[1]=i*(-1/48+s*(-1/15+s*(437/1440+s*(-46/105+s*(1118711/3870720))))),this.gtu[1]=i*(13/48+s*(s*(557/1440+s*(281/630+s*(-1983433/1935360)))-.6)),i*=s,this.utg[2]=i*(-17/480+s*(37/840+s*(209/4480+s*(-5569/90720)))),this.gtu[2]=i*(61/240+s*(-103/140+s*(15061/26880+s*(167603/181440)))),i*=s,this.utg[3]=i*(-4397/161280+s*(11/504+s*(830251/7257600))),this.gtu[3]=i*(49561/161280+s*(-179/168+s*(6601661/7257600))),i*=s,this.utg[4]=i*(-4583/161280+s*(108847/3991680)),this.gtu[4]=i*(34729/80640+s*(-3418889/1995840)),i*=s,this.utg[5]=-.03233083094085698*i,this.gtu[5]=.6650675310896665*i;var a=(0,h.default)(this.cbg,this.lat0);this.Zb=-this.Qn*(a+(0,e.default)(this.gtu,2*a))}function u(t){var e=(0,r.default)(t.x-this.long0),n=t.y;n=(0,h.default)(this.cbg,n);var o=Math.sin(n),u=Math.cos(n),c=Math.sin(e),g=Math.cos(e);n=Math.atan2(o,g*u),e=Math.atan2(c*u,(0,s.default)(o,u*g)),e=(0,i.default)(Math.tan(e));var l,d,f=(0,a.default)(this.gtu,2*n,2*e);return n+=f[0],e+=f[1],Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,d=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,d=1/0),t.x=l,t.y=d,t}function c(i){var e,n,o=(i.x-this.x0)*(1/this.a),u=(i.y-this.y0)*(1/this.a);if(u=(u-this.Zb)/this.Qn,o/=this.Qn,Math.abs(o)<=2.623395162778){var c=(0,a.default)(this.utg,2*u,2*o);u+=c[0],o+=c[1],o=Math.atan((0,t.default)(o));var g=Math.sin(u),l=Math.cos(u),d=Math.sin(o),f=Math.cos(o);u=Math.atan2(g*f,(0,s.default)(d,f*l)),o=Math.atan2(d,f*l),e=(0,r.default)(o+this.long0),n=(0,h.default)(this.cgb,u)}else e=1/0,n=1/0;return i.x=e,i.y=n,i}var g=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"];exports.names=g;var l={init:o,forward:u,inverse:c,names:g};exports.default=l;
},{"../common/sinh":"zIub","../common/hypot":"AMFr","../common/asinhy":"Z0aI","../common/gatg":"rPdz","../common/clens":"La0z","../common/clens_cmplx":"ZVBg","../common/adjust_lon":"c0D1"}],"qFlE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./adjust_lon"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){if(void 0===t){if((t=Math.floor(30*((0,e.default)(r)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}
},{"./adjust_lon":"c0D1"}],"F3qh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=i,exports.default=exports.names=exports.dependsOn=void 0;var e=s(require("../common/adjust_zone")),t=s(require("./etmerc")),r=require("../constants/values");function s(e){return e&&e.__esModule?e:{default:e}}var n="etmerc";function i(){var s=(0,e.default)(this.zone,this.long0);if(void 0===s)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(s)-183)*r.D2R,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,t.default.init.apply(this),this.forward=t.default.forward,this.inverse=t.default.inverse}exports.dependsOn=n;var o=["Universal Transverse Mercator System","utm"];exports.names=o;var a={init:i,names:o,dependsOn:n};exports.default=a;
},{"../common/adjust_zone":"qFlE","./etmerc":"suR5","../constants/values":"LiBj"}],"DL1G":[function(require,module,exports) {
"use strict";function e(e,t){return Math.pow((1-e)/(1+e),t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Vek0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=i,exports.forward=h,exports.inverse=r,exports.default=exports.names=void 0;var t=a(require("../common/srat")),s=require("../constants/values");function a(t){return t&&t.__esModule?t:{default:t}}var e=20;function i(){var a=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*a*a),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(a/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+s.FORTPI)/(Math.pow(Math.tan(.5*this.lat0+s.FORTPI),this.C)*(0,t.default)(this.e*a,this.ratexp))}function h(a){var e=a.x,i=a.y;return a.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+s.FORTPI),this.C)*(0,t.default)(this.e*Math.sin(i),this.ratexp))-s.HALF_PI,a.x=this.C*e,a}function r(a){for(var i=a.x/this.C,h=a.y,r=Math.pow(Math.tan(.5*h+s.FORTPI)/this.K,1/this.C),n=e;n>0&&(h=2*Math.atan(r*(0,t.default)(this.e*Math.sin(a.y),-.5*this.e))-s.HALF_PI,!(Math.abs(h-a.y)<1e-14));--n)a.y=h;return n?(a.x=i,a.y=h,a):null}var n=["gauss"];exports.names=n;var o={init:i,forward:h,inverse:r,names:n};exports.default=o;
},{"../common/srat":"DL1G","../constants/values":"LiBj"}],"BtEk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=e,exports.forward=h,exports.inverse=a,exports.default=exports.names=void 0;var t=s(require("./gauss")),i=s(require("../common/adjust_lon"));function s(t){return t&&t.__esModule?t:{default:t}}function e(){t.default.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function h(s){var e,h,a,r;return s.x=(0,i.default)(s.x-this.long0),t.default.forward.apply(this,[s]),e=Math.sin(s.y),h=Math.cos(s.y),a=Math.cos(s.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*h*a),s.x=r*h*Math.sin(s.x),s.y=r*(this.cosc0*e-this.sinc0*h*a),s.x=this.a*s.x+this.x0,s.y=this.a*s.y+this.y0,s}function a(s){var e,h,a,r,o;if(s.x=(s.x-this.x0)/this.a,s.y=(s.y-this.y0)/this.a,s.x/=this.k0,s.y/=this.k0,o=Math.sqrt(s.x*s.x+s.y*s.y)){var n=2*Math.atan2(o,this.R2);e=Math.sin(n),h=Math.cos(n),r=Math.asin(h*this.sinc0+s.y*e*this.cosc0/o),a=Math.atan2(s.x*e,o*this.cosc0*h-s.y*this.sinc0*e)}else r=this.phic0,a=0;return s.x=a,s.y=r,t.default.inverse.apply(this,[s]),s.x=(0,i.default)(s.x+this.long0),s}var r=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];exports.names=r;var o={init:e,forward:h,inverse:a,names:r};exports.default=o;
},{"./gauss":"Vek0","../common/adjust_lon":"c0D1"}],"nkLl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ssfn_=e,exports.init=l,exports.forward=c,exports.inverse=M,exports.default=exports.names=void 0;var t=require("../constants/values"),s=o(require("../common/sign")),h=o(require("../common/msfnz")),i=o(require("../common/tsfnz")),a=o(require("../common/phi2z")),n=o(require("../common/adjust_lon"));function o(t){return t&&t.__esModule?t:{default:t}}function e(s,h,i){return h*=i,Math.tan(.5*(t.HALF_PI+s))*Math.pow((1-h)/(1+h),.5*i)}function l(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=t.EPSLN&&(this.k0=.5*(1+(0,s.default)(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=t.EPSLN&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=t.EPSLN&&(this.k0=.5*this.cons*(0,h.default)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/(0,i.default)(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=(0,h.default)(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-t.HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function c(s){var h,a,o,e,l,c,M=s.x,r=s.y,u=Math.sin(r),f=Math.cos(r),x=(0,n.default)(M-this.long0);return Math.abs(Math.abs(M-this.long0)-Math.PI)<=t.EPSLN&&Math.abs(r+this.lat0)<=t.EPSLN?(s.x=NaN,s.y=NaN,s):this.sphere?(h=2*this.k0/(1+this.sinlat0*u+this.coslat0*f*Math.cos(x)),s.x=this.a*h*f*Math.sin(x)+this.x0,s.y=this.a*h*(this.coslat0*u-this.sinlat0*f*Math.cos(x))+this.y0,s):(a=2*Math.atan(this.ssfn_(r,u,this.e))-t.HALF_PI,e=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=t.EPSLN?(l=(0,i.default)(this.e,r*this.con,this.con*u),c=2*this.a*this.k0*l/this.cons,s.x=this.x0+c*Math.sin(M-this.long0),s.y=this.y0-this.con*c*Math.cos(M-this.long0),s):(Math.abs(this.sinlat0)<t.EPSLN?(h=2*this.a*this.k0/(1+e*Math.cos(x)),s.y=h*o):(h=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*e*Math.cos(x))),s.y=h*(this.cosX0*o-this.sinX0*e*Math.cos(x))+this.y0),s.x=h*e*Math.sin(x)+this.x0,s))}function M(s){var h,i,o,e,l;s.x-=this.x0,s.y-=this.y0;var c=Math.sqrt(s.x*s.x+s.y*s.y);if(this.sphere){var M=2*Math.atan(c/(2*this.a*this.k0));return h=this.long0,i=this.lat0,c<=t.EPSLN?(s.x=h,s.y=i,s):(i=Math.asin(Math.cos(M)*this.sinlat0+s.y*Math.sin(M)*this.coslat0/c),h=Math.abs(this.coslat0)<t.EPSLN?this.lat0>0?(0,n.default)(this.long0+Math.atan2(s.x,-1*s.y)):(0,n.default)(this.long0+Math.atan2(s.x,s.y)):(0,n.default)(this.long0+Math.atan2(s.x*Math.sin(M),c*this.coslat0*Math.cos(M)-s.y*this.sinlat0*Math.sin(M))),s.x=h,s.y=i,s)}if(Math.abs(this.coslat0)<=t.EPSLN){if(c<=t.EPSLN)return i=this.lat0,h=this.long0,s.x=h,s.y=i,s;s.x*=this.con,s.y*=this.con,o=c*this.cons/(2*this.a*this.k0),i=this.con*(0,a.default)(this.e,o),h=this.con*(0,n.default)(this.con*this.long0+Math.atan2(s.x,-1*s.y))}else e=2*Math.atan(c*this.cosX0/(2*this.a*this.k0*this.ms1)),h=this.long0,c<=t.EPSLN?l=this.X0:(l=Math.asin(Math.cos(e)*this.sinX0+s.y*Math.sin(e)*this.cosX0/c),h=(0,n.default)(this.long0+Math.atan2(s.x*Math.sin(e),c*this.cosX0*Math.cos(e)-s.y*this.sinX0*Math.sin(e)))),i=-1*(0,a.default)(this.e,Math.tan(.5*(t.HALF_PI+l)));return s.x=h,s.y=i,s}var r=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];exports.names=r;var u={init:l,forward:c,inverse:M,names:r,ssfn_:e};exports.default=u;
},{"../constants/values":"LiBj","../common/sign":"Yu1R","../common/msfnz":"AEhT","../common/tsfnz":"dGKf","../common/phi2z":"KCUm","../common/adjust_lon":"c0D1"}],"XMD3":[function(require,module,exports) {
"use strict";function t(){var t=this.lat0;this.lambda0=this.long0;var a=Math.sin(t),h=this.a,s=1/this.rf,i=2*s-Math.pow(s,2),M=this.e=Math.sqrt(i);this.R=this.k0*h*Math.sqrt(1-i)/(1-i*Math.pow(a,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(a/this.alpha);var n=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+t/2)),e=Math.log((1+M*a)/(1-M*a));this.K=n-this.alpha*o+this.alpha*M/2*e}function a(t){var a=Math.log(Math.tan(Math.PI/4-t.y/2)),h=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),s=-this.alpha*(a+h)+this.K,i=2*(Math.atan(Math.exp(s))-Math.PI/4),M=this.alpha*(t.x-this.lambda0),n=Math.atan(Math.sin(M)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(M))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(M));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*n+this.x0,t}function h(t){for(var a=t.x-this.x0,h=t.y-this.y0,s=a/this.R,i=2*(Math.atan(Math.exp(h/this.R))-Math.PI/4),M=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(s)),n=Math.atan(Math.sin(s)/(Math.cos(this.b0)*Math.cos(s)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+n/this.alpha,e=0,r=M,l=-1e3,p=0;Math.abs(r-l)>1e-7;){if(++p>20)return;e=1/this.alpha*(Math.log(Math.tan(Math.PI/4+M/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(r))/2)),l=r,r=2*Math.atan(Math.exp(e))-Math.PI/2}return t.x=o,t.y=r,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=t,exports.forward=a,exports.inverse=h,exports.default=exports.names=void 0;var s=["somerc"];exports.names=s;var i={init:t,forward:a,inverse:h,names:s};exports.default=i;
},{}],"O3Wr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=l,exports.forward=e,exports.inverse=o,exports.default=exports.names=void 0;var t=i(require("../common/tsfnz")),h=i(require("../common/adjust_lon")),s=i(require("../common/phi2z")),a=require("../constants/values");function i(t){return t&&t.__esModule?t:{default:t}}function l(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var s=Math.sin(this.lat0),a=Math.cos(this.lat0),i=this.e*s;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(a,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var l,e,o=(0,t.default)(this.e,this.lat0,s),n=this.bl/a*Math.sqrt((1-this.es)/(1-i*i));if(n*n<1&&(n=1),isNaN(this.longc)){var M=(0,t.default)(this.e,this.lat1,Math.sin(this.lat1)),r=(0,t.default)(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(n+Math.sqrt(n*n-1))*Math.pow(o,this.bl):this.el=(n-Math.sqrt(n*n-1))*Math.pow(o,this.bl);var u=Math.pow(M,this.bl),b=Math.pow(r,this.bl);e=.5*((l=this.el/u)-1/l);var m=(this.el*this.el-b*u)/(this.el*this.el+b*u),c=(b-u)/(b+u),g=(0,h.default)(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(m*Math.tan(.5*this.bl*g)/c)/this.bl,this.long0=(0,h.default)(this.long0);var p=(0,h.default)(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/e),this.alpha=Math.asin(n*Math.sin(this.gamma0))}else l=this.lat0>=0?n+Math.sqrt(n*n-1):n-Math.sqrt(n*n-1),this.el=l*Math.pow(o,this.bl),e=.5*(l-1/l),this.gamma0=Math.asin(Math.sin(this.alpha)/n),this.long0=this.longc-Math.asin(e*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(n*n-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(n*n-1),Math.cos(this.alpha))}function e(s){var i,l,e,o=s.x,n=s.y,M=(0,h.default)(o-this.long0);if(Math.abs(Math.abs(n)-a.HALF_PI)<=a.EPSLN)e=n>0?-1:1,l=this.al/this.bl*Math.log(Math.tan(a.FORTPI+e*this.gamma0*.5)),i=-1*e*a.HALF_PI*this.al/this.bl;else{var r=(0,t.default)(this.e,n,Math.sin(n)),u=this.el/Math.pow(r,this.bl),b=.5*(u-1/u),m=.5*(u+1/u),c=Math.sin(this.bl*M),g=(b*Math.sin(this.gamma0)-c*Math.cos(this.gamma0))/m;l=Math.abs(Math.abs(g)-1)<=a.EPSLN?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-g)/(1+g))/this.bl,i=Math.abs(Math.cos(this.bl*M))<=a.EPSLN?this.al*this.bl*M:this.al*Math.atan2(b*Math.cos(this.gamma0)+c*Math.sin(this.gamma0),Math.cos(this.bl*M))/this.bl}return this.no_rot?(s.x=this.x0+i,s.y=this.y0+l):(i-=this.uc,s.x=this.x0+l*Math.cos(this.alpha)+i*Math.sin(this.alpha),s.y=this.y0+i*Math.cos(this.alpha)-l*Math.sin(this.alpha)),s}function o(t){var i,l;this.no_rot?(l=t.y-this.y0,i=t.x-this.x0):(l=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),i=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),i+=this.uc);var e=Math.exp(-1*this.bl*l/this.al),o=.5*(e-1/e),n=.5*(e+1/e),M=Math.sin(this.bl*i/this.al),r=(M*Math.cos(this.gamma0)+o*Math.sin(this.gamma0))/n,u=Math.pow(this.el/Math.sqrt((1+r)/(1-r)),1/this.bl);return Math.abs(r-1)<a.EPSLN?(t.x=this.long0,t.y=a.HALF_PI):Math.abs(r+1)<a.EPSLN?(t.x=this.long0,t.y=-1*a.HALF_PI):(t.y=(0,s.default)(this.e,u),t.x=(0,h.default)(this.long0-Math.atan2(o*Math.cos(this.gamma0)-M*Math.sin(this.gamma0),Math.cos(this.bl*i/this.al))/this.bl)),t}var n=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"];exports.names=n;var M={init:l,forward:e,inverse:o,names:n};exports.default=M;
},{"../common/tsfnz":"dGKf","../common/adjust_lon":"c0D1","../common/phi2z":"KCUm","../constants/values":"LiBj"}],"NMWS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=r,exports.forward=o,exports.inverse=l,exports.default=exports.names=void 0;var t=n(require("../common/msfnz")),s=n(require("../common/tsfnz")),i=n(require("../common/sign")),h=n(require("../common/adjust_lon")),a=n(require("../common/phi2z")),e=require("../constants/values");function n(t){return t&&t.__esModule?t:{default:t}}function r(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<e.EPSLN)){var i=this.b/this.a;this.e=Math.sqrt(1-i*i);var h=Math.sin(this.lat1),a=Math.cos(this.lat1),n=(0,t.default)(this.e,h,a),r=(0,s.default)(this.e,this.lat1,h),o=Math.sin(this.lat2),l=Math.cos(this.lat2),u=(0,t.default)(this.e,o,l),f=(0,s.default)(this.e,this.lat2,o),M=(0,s.default)(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>e.EPSLN?this.ns=Math.log(n/u)/Math.log(r/f):this.ns=h,isNaN(this.ns)&&(this.ns=h),this.f0=n/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(M,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function o(t){var a=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=e.EPSLN&&(n=(0,i.default)(n)*(e.HALF_PI-2*e.EPSLN));var r,o,l=Math.abs(Math.abs(n)-e.HALF_PI);if(l>e.EPSLN)r=(0,s.default)(this.e,n,Math.sin(n)),o=this.a*this.f0*Math.pow(r,this.ns);else{if((l=n*this.ns)<=0)return null;o=0}var u=this.ns*(0,h.default)(a-this.long0);return t.x=this.k0*(o*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-o*Math.cos(u))+this.y0,t}function l(t){var s,i,n,r,o,l=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(s=Math.sqrt(l*l+u*u),i=1):(s=-Math.sqrt(l*l+u*u),i=-1);var f=0;if(0!==s&&(f=Math.atan2(i*l,i*u)),0!==s||this.ns>0){if(i=1/this.ns,n=Math.pow(s/(this.a*this.f0),i),-9999===(r=(0,a.default)(this.e,n)))return null}else r=-e.HALF_PI;return o=(0,h.default)(f/this.ns+this.long0),t.x=o,t.y=r,t}var u=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"];exports.names=u;var f={init:r,forward:o,inverse:l,names:u};exports.default=f;
},{"../common/msfnz":"AEhT","../common/tsfnz":"dGKf","../common/sign":"Yu1R","../common/adjust_lon":"c0D1","../common/phi2z":"KCUm","../constants/values":"LiBj"}],"JY2o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=h,exports.forward=i,exports.inverse=a,exports.default=exports.names=void 0;var t=s(require("../common/adjust_lon"));function s(t){return t&&t.__esModule?t:{default:t}}function h(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function i(s){var h,i,a,n,M,e,o,r=s.x,f=s.y,l=(0,t.default)(r-this.long0);return h=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/h)-this.s45),a=-l*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(a)),M=Math.asin(Math.cos(i)*Math.sin(a)/Math.cos(n)),e=this.n*M,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),s.y=o*Math.cos(e)/1,s.x=o*Math.sin(e)/1,this.czech||(s.y*=-1,s.x*=-1),s}function a(t){var s,h,i,a,n,M,e,o=t.x;t.x=t.y,t.y=o,this.czech||(t.y*=-1,t.x*=-1),n=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/n,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),s=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(a)),h=Math.asin(Math.cos(i)*Math.sin(a)/Math.cos(s)),t.x=this.long0-h/this.alfa,M=s,e=0;var r=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(s/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(M))/(1-this.e*Math.sin(M)),this.e/2))-this.s45),Math.abs(M-t.y)<1e-10&&(e=1),M=t.y,r+=1}while(0===e&&r<15);return r>=15?null:t}var n=["Krovak","krovak"];exports.names=n;var M={init:h,forward:i,inverse:a,names:n};exports.default=M;
},{"../common/adjust_lon":"c0D1"}],"SVmX":[function(require,module,exports) {
"use strict";function e(e,t,s,n,r){return e*r-t*Math.sin(2*r)+s*Math.sin(4*r)-n*Math.sin(6*r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"GM9p":[function(require,module,exports) {
"use strict";function e(e){return 1-.25*e*(1+e/16*(3+1.25*e))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"tw5q":[function(require,module,exports) {
"use strict";function e(e){return.375*e*(1+.25*e*(1+.46875*e))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"DKVF":[function(require,module,exports) {
"use strict";function e(e){return.05859375*e*e*(1+.75*e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"XZDP":[function(require,module,exports) {
"use strict";function e(e){return e*e*e*(35/3072)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"M8OB":[function(require,module,exports) {
"use strict";function e(e,t,r){var s=t*r;return e/Math.sqrt(1-s*s)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"v1Oe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=require("../constants/values"),t=r(require("./sign"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return Math.abs(r)<e.HALF_PI?r:r-(0,t.default)(r)*Math.PI}
},{"../constants/values":"LiBj","./sign":"Yu1R"}],"GBx2":[function(require,module,exports) {
"use strict";function t(t,e,a,r,s){var o,n;o=t/e;for(var M=0;M<15;M++)if(o+=n=(t-(e*o-a*Math.sin(2*o)+r*Math.sin(4*o)-s*Math.sin(6*o)))/(e-2*a*Math.cos(2*o)+4*r*Math.cos(4*o)-6*s*Math.cos(6*o)),Math.abs(n)<=1e-10)return o;return NaN}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"hdfx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=f,exports.forward=m,exports.inverse=M,exports.default=exports.names=void 0;var t=l(require("../common/mlfn")),s=l(require("../common/e0fn")),e=l(require("../common/e1fn")),a=l(require("../common/e2fn")),i=l(require("../common/e3fn")),h=l(require("../common/gN")),n=l(require("../common/adjust_lon")),r=l(require("../common/adjust_lat")),o=l(require("../common/imlfn")),u=require("../constants/values");function l(t){return t&&t.__esModule?t:{default:t}}function f(){this.sphere||(this.e0=(0,s.default)(this.es),this.e1=(0,e.default)(this.es),this.e2=(0,a.default)(this.es),this.e3=(0,i.default)(this.es),this.ml0=this.a*(0,t.default)(this.e0,this.e1,this.e2,this.e3,this.lat0))}function m(s){var e,a,i=s.x,r=s.y;if(i=(0,n.default)(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),a=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),u=Math.cos(r),l=(0,h.default)(this.a,this.e,o),f=Math.tan(r)*Math.tan(r),m=i*Math.cos(r),M=m*m,c=this.es*u*u/(1-this.es);e=l*m*(1-M*f*(1/6-(8-f+8*c)*M/120)),a=this.a*(0,t.default)(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+l*o/u*M*(.5+(5-f+6*c)*M/24)}return s.x=e+this.x0,s.y=a+this.y0,s}function M(t){t.x-=this.x0,t.y-=this.y0;var s,e,a=t.x/this.a,i=t.y/this.a;if(this.sphere){var l=i+this.lat0;s=Math.asin(Math.sin(l)*Math.cos(a)),e=Math.atan2(Math.tan(a),Math.cos(l))}else{var f=this.ml0/this.a+i,m=(0,o.default)(f,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(m)-u.HALF_PI)<=u.EPSLN)return t.x=this.long0,t.y=u.HALF_PI,i<0&&(t.y*=-1),t;var M=(0,h.default)(this.a,this.e,Math.sin(m)),c=M*M*M/this.a/this.a*(1-this.es),d=Math.pow(Math.tan(m),2),x=a*this.a/M,v=x*x;s=m-M*Math.tan(m)/c*x*x*(.5-(1+3*d)*x*x/24),e=x*(1-v*(d/3+(1+3*d)*d*v/15))/Math.cos(m)}return t.x=(0,n.default)(e+this.long0),t.y=(0,r.default)(s),t}var c=["Cassini","Cassini_Soldner","cass"];exports.names=c;var d={init:f,forward:m,inverse:M,names:c};exports.default=d;
},{"../common/mlfn":"SVmX","../common/e0fn":"GM9p","../common/e1fn":"tw5q","../common/e2fn":"DKVF","../common/e3fn":"XZDP","../common/gN":"M8OB","../common/adjust_lon":"c0D1","../common/adjust_lat":"v1Oe","../common/imlfn":"GBx2","../constants/values":"LiBj"}],"Os8Z":[function(require,module,exports) {
"use strict";function e(e,t){var r;return e>1e-7?(1-e*e)*(t/(1-(r=e*t)*r)-.5/e*Math.log((1-r)/(1+r))):2*t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"tT4j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=n,exports.forward=d,exports.inverse=L,exports.default=exports.names=exports.OBLIQ=exports.EQUIT=exports.N_POLE=exports.S_POLE=void 0;var s=require("../constants/values"),t=h(require("../common/qsfnz")),i=h(require("../common/adjust_lon"));function h(s){return s&&s.__esModule?s:{default:s}}var a=1;exports.S_POLE=a;var e=2;exports.N_POLE=e;var r=3;exports.EQUIT=r;var o=4;function n(){var i,h=Math.abs(this.lat0);if(Math.abs(h-s.HALF_PI)<s.EPSLN?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(h)<s.EPSLN?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=(0,t.default)(this.e,1),this.mmf=.5/(1-this.es),this.apa=u(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),i=Math.sin(this.lat0),this.sinb1=(0,t.default)(this.e,i)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*i*i)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function d(h){var a,e,r,o,n,d,L,m,c,E,M=h.x,p=h.y;if(M=(0,i.default)(M-this.long0),this.sphere){if(n=Math.sin(p),E=Math.cos(p),r=Math.cos(M),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((e=this.mode===this.EQUIT?1+E*r:1+this.sinph0*n+this.cosph0*E*r)<=s.EPSLN)return null;a=(e=Math.sqrt(2/e))*E*Math.sin(M),e*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*E*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.phi0)<s.EPSLN)return null;e=s.FORTPI-.5*p,a=(e=2*(this.mode===this.S_POLE?Math.cos(e):Math.sin(e)))*Math.sin(M),e*=r}}else{switch(L=0,m=0,c=0,r=Math.cos(M),o=Math.sin(M),n=Math.sin(p),d=(0,t.default)(this.e,n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(L=d/this.qp,m=Math.sqrt(1-L*L)),this.mode){case this.OBLIQ:c=1+this.sinb1*L+this.cosb1*m*r;break;case this.EQUIT:c=1+m*r;break;case this.N_POLE:c=s.HALF_PI+p,d=this.qp-d;break;case this.S_POLE:c=p-s.HALF_PI,d=this.qp+d}if(Math.abs(c)<s.EPSLN)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),e=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*L-this.sinb1*m*r):(c=Math.sqrt(2/(1+m*r)))*L*this.ymf,a=this.xmf*c*m*o;break;case this.N_POLE:case this.S_POLE:d>=0?(a=(c=Math.sqrt(d))*o,e=r*(this.mode===this.S_POLE?c:-c)):a=e=0}}return h.x=this.a*a+this.x0,h.y=this.a*e+this.y0,h}function L(t){t.x-=this.x0,t.y-=this.y0;var h,a,e,r,o,n,d,L=t.x/this.a,m=t.y/this.a;if(this.sphere){var c,E=0,M=0;if((a=.5*(c=Math.sqrt(L*L+m*m)))>1)return null;switch(a=2*Math.asin(a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(M=Math.sin(a),E=Math.cos(a)),this.mode){case this.EQUIT:a=Math.abs(c)<=s.EPSLN?0:Math.asin(m*M/c),L*=M,m=E*c;break;case this.OBLIQ:a=Math.abs(c)<=s.EPSLN?this.phi0:Math.asin(E*this.sinph0+m*M*this.cosph0/c),L*=M*this.cosph0,m=(E-Math.sin(a)*this.sinph0)*c;break;case this.N_POLE:m=-m,a=s.HALF_PI-a;break;case this.S_POLE:a-=s.HALF_PI}h=0!==m||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(L,m):0}else{if(d=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(L/=this.dd,m*=this.dd,(n=Math.sqrt(L*L+m*m))<s.EPSLN)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*n/this.rq),e=Math.cos(r),L*=r=Math.sin(r),this.mode===this.OBLIQ?(d=e*this.sinb1+m*r*this.cosb1/n,o=this.qp*d,m=n*this.cosb1*e-m*this.sinb1*r):(d=m*r/n,o=this.qp*d,m=n*e)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(m=-m),!(o=L*L+m*m))return t.x=0,t.y=this.phi0,t;d=1-o/this.qp,this.mode===this.S_POLE&&(d=-d)}h=Math.atan2(L,m),a=f(Math.asin(d),this.apa)}return t.x=(0,i.default)(this.long0+h),t.y=a,t}exports.OBLIQ=o;var m=.3333333333333333,c=.17222222222222222,E=.10257936507936508,M=.06388888888888888,p=.0664021164021164,O=.016415012942191543;function u(s){var t,i=[];return i[0]=s*m,t=s*s,i[0]+=t*c,i[1]=t*M,t*=s,i[0]+=t*E,i[1]+=t*p,i[2]=t*O,i}function f(s,t){var i=s+s;return s+t[0]*Math.sin(i)+t[1]*Math.sin(i+i)+t[2]*Math.sin(i+i+i)}var P=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];exports.names=P;var l={init:n,forward:d,inverse:L,names:P,S_POLE:a,N_POLE:e,EQUIT:r,OBLIQ:o};exports.default=l;
},{"../constants/values":"LiBj","../common/qsfnz":"Os8Z","../common/adjust_lon":"c0D1"}],"r3wc":[function(require,module,exports) {
"use strict";function e(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"BQzq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=e,exports.forward=o,exports.inverse=r,exports.phi1z=p,exports.default=exports.names=void 0;var s=n(require("../common/msfnz")),t=n(require("../common/qsfnz")),i=n(require("../common/adjust_lon")),h=n(require("../common/asinz")),a=require("../constants/values");function n(s){return s&&s.__esModule?s:{default:s}}function e(){Math.abs(this.lat1+this.lat2)<a.EPSLN||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=(0,s.default)(this.e3,this.sin_po,this.cos_po),this.qs1=(0,t.default)(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=(0,s.default)(this.e3,this.sin_po,this.cos_po),this.qs2=(0,t.default)(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=(0,t.default)(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>a.EPSLN?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function o(s){var h=s.x,a=s.y;this.sin_phi=Math.sin(a),this.cos_phi=Math.cos(a);var n=(0,t.default)(this.e3,this.sin_phi,this.cos_phi),e=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,o=this.ns0*(0,i.default)(h-this.long0),r=e*Math.sin(o)+this.x0,p=this.rh-e*Math.cos(o)+this.y0;return s.x=r,s.y=p,s}function r(s){var t,h,a,n,e,o;return s.x-=this.x0,s.y=this.rh-s.y+this.y0,this.ns0>=0?(t=Math.sqrt(s.x*s.x+s.y*s.y),a=1):(t=-Math.sqrt(s.x*s.x+s.y*s.y),a=-1),n=0,0!==t&&(n=Math.atan2(a*s.x,a*s.y)),a=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-a*a)/(2*this.ns0)):(h=(this.c-a*a)/this.ns0,o=this.phi1z(this.e3,h)),e=(0,i.default)(n/this.ns0+this.long0),s.x=e,s.y=o,s}function p(s,t){var i,n,e,o,r=(0,h.default)(.5*t);if(s<a.EPSLN)return r;for(var p=s*s,c=1;c<=25;c++)if(r+=o=.5*(e=1-(n=s*(i=Math.sin(r)))*n)*e/Math.cos(r)*(t/(1-p)-i/e+.5/s*Math.log((1-n)/(1+n))),Math.abs(o)<=1e-7)return r;return null}var c=["Albers_Conic_Equal_Area","Albers","aea"];exports.names=c;var u={init:e,forward:o,inverse:r,names:c,phi1z:p};exports.default=u;
},{"../common/msfnz":"AEhT","../common/qsfnz":"Os8Z","../common/adjust_lon":"c0D1","../common/asinz":"r3wc","../constants/values":"LiBj"}],"hgIf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=n,exports.forward=a,exports.inverse=e,exports.default=exports.names=void 0;var t=h(require("../common/adjust_lon")),s=h(require("../common/asinz")),i=require("../constants/values");function h(t){return t&&t.__esModule?t:{default:t}}function n(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function a(s){var h,n,a,e,o,r,c,p=s.x,u=s.y;return a=(0,t.default)(p-this.long0),h=Math.sin(u),n=Math.cos(u),e=Math.cos(a),1,(o=this.sin_p14*h+this.cos_p14*n*e)>0||Math.abs(o)<=i.EPSLN?(r=this.x0+1*this.a*n*Math.sin(a)/o,c=this.y0+1*this.a*(this.cos_p14*h-this.sin_p14*n*e)/o):(r=this.x0+this.infinity_dist*n*Math.sin(a),c=this.y0+this.infinity_dist*(this.cos_p14*h-this.sin_p14*n*e)),s.x=r,s.y=c,s}function e(i){var h,n,a,e,o,r;return i.x=(i.x-this.x0)/this.a,i.y=(i.y-this.y0)/this.a,i.x/=this.k0,i.y/=this.k0,(h=Math.sqrt(i.x*i.x+i.y*i.y))?(e=Math.atan2(h,this.rc),n=Math.sin(e),a=Math.cos(e),r=(0,s.default)(a*this.sin_p14+i.y*n*this.cos_p14/h),o=Math.atan2(i.x*n,h*this.cos_p14*a-i.y*this.sin_p14*n),o=(0,t.default)(this.long0+o)):(r=this.phic0,o=0),i.x=o,i.y=r,i}var o=["gnom"];exports.names=o;var r={init:n,forward:a,inverse:e,names:o};exports.default=r;
},{"../common/adjust_lon":"c0D1","../common/asinz":"r3wc","../constants/values":"LiBj"}],"stIj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var t=require("../constants/values");function a(a,e){var r=1-(1-a*a)/(2*a)*Math.log((1-a)/(1+a));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*t.HALF_PI:t.HALF_PI;for(var s,o,n,u,M=Math.asin(.5*e),h=0;h<30;h++)if(o=Math.sin(M),n=Math.cos(M),u=a*o,M+=s=Math.pow(1-u*u,2)/(2*n)*(e/(1-a*a)-o/(1-u*u)+.5/a*Math.log((1-u)/(1+u))),Math.abs(s)<=1e-10)return M;return NaN}
},{"../constants/values":"LiBj"}],"qHgu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=h,exports.forward=r,exports.inverse=o,exports.default=exports.names=void 0;var t=a(require("../common/adjust_lon")),s=a(require("../common/qsfnz")),e=a(require("../common/msfnz")),i=a(require("../common/iqsfnz"));function a(t){return t&&t.__esModule?t:{default:t}}function h(){this.sphere||(this.k0=(0,e.default)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function r(e){var i,a,h=e.x,r=e.y,o=(0,t.default)(h-this.long0);if(this.sphere)i=this.x0+this.a*o*Math.cos(this.lat_ts),a=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var n=(0,s.default)(this.e,Math.sin(r));i=this.x0+this.a*this.k0*o,a=this.y0+this.a*n*.5/this.k0}return e.x=i,e.y=a,e}function o(s){var e,a;return s.x-=this.x0,s.y-=this.y0,this.sphere?(e=(0,t.default)(this.long0+s.x/this.a/Math.cos(this.lat_ts)),a=Math.asin(s.y/this.a*Math.cos(this.lat_ts))):(a=(0,i.default)(this.e,2*s.y*this.k0/this.a),e=(0,t.default)(this.long0+s.x/(this.a*this.k0))),s.x=e,s.y=a,s}var n=["cea"];exports.names=n;var u={init:h,forward:r,inverse:o,names:n};exports.default=u;
},{"../common/adjust_lon":"c0D1","../common/qsfnz":"Os8Z","../common/msfnz":"AEhT","../common/iqsfnz":"stIj"}],"C2W8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=e,exports.forward=a,exports.inverse=r,exports.default=exports.names=void 0;var t=s(require("../common/adjust_lon")),i=s(require("../common/adjust_lat"));function s(t){return t&&t.__esModule?t:{default:t}}function e(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function a(s){var e=s.x,a=s.y,r=(0,t.default)(e-this.long0),l=(0,i.default)(a-this.lat0);return s.x=this.x0+this.a*r*this.rc,s.y=this.y0+this.a*l,s}function r(s){var e=s.x,a=s.y;return s.x=(0,t.default)(this.long0+(e-this.x0)/(this.a*this.rc)),s.y=(0,i.default)(this.lat0+(a-this.y0)/this.a),s}var l=["Equirectangular","Equidistant_Cylindrical","eqc"];exports.names=l;var n={init:e,forward:a,inverse:r,names:l};exports.default=n;
},{"../common/adjust_lon":"c0D1","../common/adjust_lat":"v1Oe"}],"GnT9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=f,exports.forward=M,exports.inverse=m,exports.default=exports.names=void 0;var t=l(require("../common/e0fn")),s=l(require("../common/e1fn")),i=l(require("../common/e2fn")),e=l(require("../common/e3fn")),a=l(require("../common/adjust_lon")),h=l(require("../common/adjust_lat")),n=l(require("../common/mlfn")),r=require("../constants/values"),o=l(require("../common/gN"));function l(t){return t&&t.__esModule?t:{default:t}}var u=20;function f(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=(0,t.default)(this.es),this.e1=(0,s.default)(this.es),this.e2=(0,i.default)(this.es),this.e3=(0,e.default)(this.es),this.ml0=this.a*(0,n.default)(this.e0,this.e1,this.e2,this.e3,this.lat0)}function M(t){var s,i,e,l=t.x,u=t.y,f=(0,a.default)(l-this.long0);if(e=f*Math.sin(u),this.sphere)Math.abs(u)<=r.EPSLN?(s=this.a*f,i=-1*this.a*this.lat0):(s=this.a*Math.sin(e)/Math.tan(u),i=this.a*((0,h.default)(u-this.lat0)+(1-Math.cos(e))/Math.tan(u)));else if(Math.abs(u)<=r.EPSLN)s=this.a*f,i=-1*this.ml0;else{var M=(0,o.default)(this.a,this.e,Math.sin(u))/Math.tan(u);s=M*Math.sin(e),i=this.a*(0,n.default)(this.e0,this.e1,this.e2,this.e3,u)-this.ml0+M*(1-Math.cos(e))}return t.x=s+this.x0,t.y=i+this.y0,t}function m(t){var s,i,e,h,o,l,f,M,m;if(e=t.x-this.x0,h=t.y-this.y0,this.sphere)if(Math.abs(h+this.a*this.lat0)<=r.EPSLN)s=(0,a.default)(e/this.a+this.long0),i=0;else{var d;for(l=this.lat0+h/this.a,f=e*e/this.a/this.a+l*l,M=l,o=u;o;--o)if(M+=m=-1*(l*(M*(d=Math.tan(M))+1)-M-.5*(M*M+f)*d)/((M-l)/d-1),Math.abs(m)<=r.EPSLN){i=M;break}s=(0,a.default)(this.long0+Math.asin(e*Math.tan(M)/this.a)/Math.sin(i))}else if(Math.abs(h+this.ml0)<=r.EPSLN)i=0,s=(0,a.default)(this.long0+e/this.a);else{var c,p,v,x,q;for(l=(this.ml0+h)/this.a,f=e*e/this.a/this.a+l*l,M=l,o=u;o;--o)if(q=this.e*Math.sin(M),c=Math.sqrt(1-q*q)*Math.tan(M),p=this.a*(0,n.default)(this.e0,this.e1,this.e2,this.e3,M),v=this.e0-2*this.e1*Math.cos(2*M)+4*this.e2*Math.cos(4*M)-6*this.e3*Math.cos(6*M),M-=m=(l*(c*(x=p/this.a)+1)-x-.5*c*(x*x+f))/(this.es*Math.sin(2*M)*(x*x+f-2*l*x)/(4*c)+(l-x)*(c*v-2/Math.sin(2*M))-v),Math.abs(m)<=r.EPSLN){i=M;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),s=(0,a.default)(this.long0+Math.asin(e*c/this.a)/Math.sin(i))}return t.x=s,t.y=i,t}var d=["Polyconic","poly"];exports.names=d;var c={init:f,forward:M,inverse:m,names:d};exports.default=c;
},{"../common/e0fn":"GM9p","../common/e1fn":"tw5q","../common/e2fn":"DKVF","../common/e3fn":"XZDP","../common/adjust_lon":"c0D1","../common/adjust_lat":"v1Oe","../common/mlfn":"SVmX","../constants/values":"LiBj","../common/gN":"M8OB"}],"IFhf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=s,exports.forward=h,exports.inverse=r,exports.default=exports.names=exports.iterations=void 0;var i=require("../constants/values"),t=1;function s(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function h(t){var s,h=t.x,r=t.y-this.lat0,e=h-this.long0,_=r/i.SEC_TO_RAD*1e-5,a=e,o=1,B=0;for(s=1;s<=10;s++)o*=_,B+=this.A[s]*o;var m,n=B,C=a,v=1,x=0,f=0,A=0;for(s=1;s<=6;s++)m=x*n+v*C,v=v*n-x*C,x=m,f=f+this.B_re[s]*v-this.B_im[s]*x,A=A+this.B_im[s]*v+this.B_re[s]*x;return t.x=A*this.a+this.x0,t.y=f*this.a+this.y0,t}function r(t){var s,h,r=t.x,e=t.y,_=r-this.x0,a=(e-this.y0)/this.a,o=_/this.a,B=1,m=0,n=0,C=0;for(s=1;s<=6;s++)h=m*a+B*o,B=B*a-m*o,m=h,n=n+this.C_re[s]*B-this.C_im[s]*m,C=C+this.C_im[s]*B+this.C_re[s]*m;for(var v=0;v<this.iterations;v++){var x,f=n,A=C,D=a,p=o;for(s=2;s<=6;s++)x=A*n+f*C,f=f*n-A*C,A=x,D+=(s-1)*(this.B_re[s]*f-this.B_im[s]*A),p+=(s-1)*(this.B_im[s]*f+this.B_re[s]*A);f=1,A=0;var u=this.B_re[1],l=this.B_im[1];for(s=2;s<=6;s++)x=A*n+f*C,f=f*n-A*C,A=x,u+=s*(this.B_re[s]*f-this.B_im[s]*A),l+=s*(this.B_im[s]*f+this.B_re[s]*A);var d=u*u+l*l;n=(D*u+p*l)/d,C=(p*u-D*l)/d}var y=n,c=C,g=1,w=0;for(s=1;s<=9;s++)g*=y,w+=this.D[s]*g;var O=this.lat0+w*i.SEC_TO_RAD*1e5,E=this.long0+c;return t.x=E,t.y=O,t}exports.iterations=t;var e=["New_Zealand_Map_Grid","nzmg"];exports.names=e;var _={init:s,forward:h,inverse:r,names:e};exports.default=_;
},{"../constants/values":"LiBj"}],"sJ7j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=r,exports.forward=a,exports.inverse=i,exports.default=exports.names=void 0;var t=e(require("../common/adjust_lon"));function e(t){return t&&t.__esModule?t:{default:t}}function r(){}function a(e){var r=e.x,a=e.y,i=(0,t.default)(r-this.long0),s=this.x0+this.a*i,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+a/2.5))*1.25;return e.x=s,e.y=n,e}function i(e){e.x-=this.x0,e.y-=this.y0;var r=(0,t.default)(this.long0+e.x/this.a),a=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=r,e.y=a,e}var s=["Miller_Cylindrical","mill"];exports.names=s;var n={init:r,forward:a,inverse:i,names:s};exports.default=n;
},{"../common/adjust_lon":"c0D1"}],"oaUa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=u,exports.forward=l,exports.inverse=m,exports.default=exports.names=void 0;var t=r(require("../common/adjust_lon")),s=r(require("../common/adjust_lat")),i=r(require("../common/pj_enfn")),e=r(require("../common/pj_mlfn")),h=r(require("../common/pj_inv_mlfn")),a=require("../constants/values"),n=r(require("../common/asinz"));function r(t){return t&&t.__esModule?t:{default:t}}var o=20;function u(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=(0,i.default)(this.es)}function l(s){var i,h,n=s.x,r=s.y;if(n=(0,t.default)(n-this.long0),this.sphere){if(this.m)for(var u=this.n*Math.sin(r),l=o;l;--l){var m=(this.m*r+Math.sin(r)-u)/(this.m+Math.cos(r));if(r-=m,Math.abs(m)<a.EPSLN)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;i=this.a*this.C_x*n*(this.m+Math.cos(r)),h=this.a*this.C_y*r}else{var f=Math.sin(r),d=Math.cos(r);h=this.a*(0,e.default)(r,f,d,this.en),i=this.a*n*d/Math.sqrt(1-this.es*f*f)}return s.x=i,s.y=h,s}function m(i){var e,r,o,u;return i.x-=this.x0,o=i.x/this.a,i.y-=this.y0,e=i.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=(0,n.default)((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=(0,n.default)(Math.sin(e)/this.n)),o=(0,t.default)(o+this.long0),e=(0,s.default)(e)):(e=(0,h.default)(i.y/this.a,this.es,this.en),(u=Math.abs(e))<a.HALF_PI?(u=Math.sin(e),r=this.long0+i.x*Math.sqrt(1-this.es*u*u)/(this.a*Math.cos(e)),o=(0,t.default)(r)):u-a.EPSLN<a.HALF_PI&&(o=this.long0)),i.x=o,i.y=e,i}var f=["Sinusoidal","sinu"];exports.names=f;var d={init:u,forward:l,inverse:m,names:f};exports.default=d;
},{"../common/adjust_lon":"c0D1","../common/adjust_lat":"v1Oe","../common/pj_enfn":"L3DR","../common/pj_mlfn":"SByC","../common/pj_inv_mlfn":"bfA2","../constants/values":"LiBj","../common/asinz":"r3wc"}],"vzNE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=e,exports.forward=r,exports.inverse=i,exports.default=exports.names=void 0;var t=s(require("../common/adjust_lon")),a=require("../constants/values");function s(t){return t&&t.__esModule?t:{default:t}}function e(){}function r(s){for(var e=s.x,r=s.y,i=(0,t.default)(e-this.long0),n=r,h=Math.PI*Math.sin(r);;){var o=-(n+Math.sin(n)-h)/(1+Math.cos(n));if(n+=o,Math.abs(o)<a.EPSLN)break}n/=2,Math.PI/2-Math.abs(r)<a.EPSLN&&(i=0);var M=.900316316158*this.a*i*Math.cos(n)+this.x0,u=1.4142135623731*this.a*Math.sin(n)+this.y0;return s.x=M,s.y=u,s}function i(a){var s,e;a.x-=this.x0,a.y-=this.y0,e=a.y/(1.4142135623731*this.a),Math.abs(e)>.999999999999&&(e=.999999999999),s=Math.asin(e);var r=(0,t.default)(this.long0+a.x/(.900316316158*this.a*Math.cos(s)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),e=(2*s+Math.sin(2*s))/Math.PI,Math.abs(e)>1&&(e=1);var i=Math.asin(e);return a.x=r,a.y=i,a}var n=["Mollweide","moll"];exports.names=n;var h={init:e,forward:r,inverse:i,names:n};exports.default=h;
},{"../common/adjust_lon":"c0D1","../constants/values":"LiBj"}],"aWhG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=m,exports.forward=f,exports.inverse=d,exports.default=exports.names=void 0;var t=u(require("../common/e0fn")),s=u(require("../common/e1fn")),i=u(require("../common/e2fn")),h=u(require("../common/e3fn")),e=u(require("../common/msfnz")),a=u(require("../common/mlfn")),r=u(require("../common/adjust_lon")),n=u(require("../common/adjust_lat")),l=u(require("../common/imlfn")),o=require("../constants/values");function u(t){return t&&t.__esModule?t:{default:t}}function m(){Math.abs(this.lat1+this.lat2)<o.EPSLN||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=(0,t.default)(this.es),this.e1=(0,s.default)(this.es),this.e2=(0,i.default)(this.es),this.e3=(0,h.default)(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=(0,e.default)(this.e,this.sinphi,this.cosphi),this.ml1=(0,a.default)(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<o.EPSLN?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=(0,e.default)(this.e,this.sinphi,this.cosphi),this.ml2=(0,a.default)(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=(0,a.default)(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function f(t){var s,i=t.x,h=t.y;if(this.sphere)s=this.a*(this.g-h);else{var e=(0,a.default)(this.e0,this.e1,this.e2,this.e3,h);s=this.a*(this.g-e)}var n=this.ns*(0,r.default)(i-this.long0),l=this.x0+s*Math.sin(n),o=this.y0+this.rh-s*Math.cos(n);return t.x=l,t.y=o,t}function d(t){var s,i,h,e;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),s=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),s=-1);var a=0;if(0!==i&&(a=Math.atan2(s*t.x,s*t.y)),this.sphere)return e=(0,r.default)(this.long0+a/this.ns),h=(0,n.default)(this.g-i/this.a),t.x=e,t.y=h,t;var o=this.g-i/this.a;return h=(0,l.default)(o,this.e0,this.e1,this.e2,this.e3),e=(0,r.default)(this.long0+a/this.ns),t.x=e,t.y=h,t}var c=["Equidistant_Conic","eqdc"];exports.names=c;var p={init:m,forward:f,inverse:d,names:c};exports.default=p;
},{"../common/e0fn":"GM9p","../common/e1fn":"tw5q","../common/e2fn":"DKVF","../common/e3fn":"XZDP","../common/msfnz":"AEhT","../common/mlfn":"SVmX","../common/adjust_lon":"c0D1","../common/adjust_lat":"v1Oe","../common/imlfn":"GBx2","../constants/values":"LiBj"}],"wESf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=e,exports.forward=r,exports.inverse=i,exports.default=exports.names=void 0;var t=h(require("../common/adjust_lon")),a=require("../constants/values"),s=h(require("../common/asinz"));function h(t){return t&&t.__esModule?t:{default:t}}function e(){this.R=this.a}function r(h){var e,r,i=h.x,n=h.y,M=(0,t.default)(i-this.long0);Math.abs(n)<=a.EPSLN&&(e=this.x0+this.R*M,r=this.y0);var o=(0,s.default)(2*Math.abs(n/Math.PI));(Math.abs(M)<=a.EPSLN||Math.abs(Math.abs(n)-a.HALF_PI)<=a.EPSLN)&&(e=this.x0,r=n>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var u=.5*Math.abs(Math.PI/M-M/Math.PI),P=u*u,x=Math.sin(o),d=Math.cos(o),I=d/(x+d-1),l=I*I,v=I*(2/x-1),c=v*v,f=Math.PI*this.R*(u*(I-c)+Math.sqrt(P*(I-c)*(I-c)-(c+P)*(l-c)))/(c+P);M<0&&(f=-f),e=this.x0+f;var y=P+I;return f=Math.PI*this.R*(v*y-u*Math.sqrt((c+P)*(P+1)-y*y))/(c+P),r=n>=0?this.y0+f:this.y0-f,h.x=e,h.y=r,h}function i(s){var h,e,r,i,n,M,o,u,P,x,d,I;return s.x-=this.x0,s.y-=this.y0,d=Math.PI*this.R,n=(r=s.x/d)*r+(i=s.y/d)*i,d=3*(i*i/(u=-2*(M=-Math.abs(i)*(1+n))+1+2*i*i+n*n)+(2*(o=M-2*i*i+r*r)*o*o/u/u/u-9*M*o/u/u)/27)/(P=(M-o*o/3/u)/u)/(x=2*Math.sqrt(-P/3)),Math.abs(d)>1&&(d=d>=0?1:-1),I=Math.acos(d)/3,e=s.y>=0?(-x*Math.cos(I+Math.PI/3)-o/3/u)*Math.PI:-(-x*Math.cos(I+Math.PI/3)-o/3/u)*Math.PI,h=Math.abs(r)<a.EPSLN?this.long0:(0,t.default)(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(r*r-i*i)+n*n))/2/r),s.x=h,s.y=e,s}var n=["Van_der_Grinten_I","VanDerGrinten","vandg"];exports.names=n;var M={init:e,forward:r,inverse:i,names:n};exports.default=M;
},{"../common/adjust_lon":"c0D1","../constants/values":"LiBj","../common/asinz":"r3wc"}],"UeWW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=l,exports.forward=_,exports.inverse=c,exports.default=exports.names=void 0;var t=u(require("../common/adjust_lon")),s=require("../constants/values"),a=u(require("../common/mlfn")),h=u(require("../common/e0fn")),i=u(require("../common/e1fn")),e=u(require("../common/e2fn")),n=u(require("../common/e3fn")),o=u(require("../common/gN")),M=u(require("../common/asinz")),r=u(require("../common/imlfn"));function u(t){return t&&t.__esModule?t:{default:t}}function l(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function _(M){var r,u,l,_,c,p,f,x,d,y,m,P,L,q,b,A,I,v,E,F,H,N,g=M.x,S=M.y,w=Math.sin(M.y),j=Math.cos(M.y),z=(0,t.default)(g-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=s.EPSLN?(M.x=this.x0+this.a*(s.HALF_PI-S)*Math.sin(z),M.y=this.y0-this.a*(s.HALF_PI-S)*Math.cos(z),M):Math.abs(this.sin_p12+1)<=s.EPSLN?(M.x=this.x0+this.a*(s.HALF_PI+S)*Math.sin(z),M.y=this.y0+this.a*(s.HALF_PI+S)*Math.cos(z),M):(v=this.sin_p12*w+this.cos_p12*j*Math.cos(z),I=(A=Math.acos(v))/Math.sin(A),M.x=this.x0+this.a*I*j*Math.sin(z),M.y=this.y0+this.a*I*(this.cos_p12*w-this.sin_p12*j*Math.cos(z)),M):(r=(0,h.default)(this.es),u=(0,i.default)(this.es),l=(0,e.default)(this.es),_=(0,n.default)(this.es),Math.abs(this.sin_p12-1)<=s.EPSLN?(c=this.a*(0,a.default)(r,u,l,_,s.HALF_PI),p=this.a*(0,a.default)(r,u,l,_,S),M.x=this.x0+(c-p)*Math.sin(z),M.y=this.y0-(c-p)*Math.cos(z),M):Math.abs(this.sin_p12+1)<=s.EPSLN?(c=this.a*(0,a.default)(r,u,l,_,s.HALF_PI),p=this.a*(0,a.default)(r,u,l,_,S),M.x=this.x0+(c+p)*Math.sin(z),M.y=this.y0+(c+p)*Math.cos(z),M):(f=w/j,x=(0,o.default)(this.a,this.e,this.sin_p12),d=(0,o.default)(this.a,this.e,w),y=Math.atan((1-this.es)*f+this.es*x*this.sin_p12/(d*j)),E=0===(m=Math.atan2(Math.sin(z),this.cos_p12*Math.tan(y)-this.sin_p12*Math.cos(z)))?Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.abs(Math.abs(m)-Math.PI)<=s.EPSLN?-Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.asin(Math.sin(z)*Math.cos(y)/Math.sin(m)),P=this.e*this.sin_p12/Math.sqrt(1-this.es),A=x*E*(1-(F=E*E)*(b=(L=this.e*this.cos_p12*Math.cos(m)/Math.sqrt(1-this.es))*L)*(1-b)/6+(H=F*E)/8*(q=P*L)*(1-2*b)+(N=H*E)/120*(b*(4-7*b)-3*P*P*(1-7*b))-N*E/48*q),M.x=this.x0+A*Math.sin(m),M.y=this.y0+A*Math.cos(m),M))}function c(u){var l,_,c,p,f,x,d,y,m,P,L,q,b,A,I,v,E,F,H,N,g,S,w;if(u.x-=this.x0,u.y-=this.y0,this.sphere){if((l=Math.sqrt(u.x*u.x+u.y*u.y))>2*s.HALF_PI*this.a)return;return _=l/this.a,c=Math.sin(_),p=Math.cos(_),f=this.long0,Math.abs(l)<=s.EPSLN?x=this.lat0:(x=(0,M.default)(p*this.sin_p12+u.y*c*this.cos_p12/l),d=Math.abs(this.lat0)-s.HALF_PI,f=Math.abs(d)<=s.EPSLN?this.lat0>=0?(0,t.default)(this.long0+Math.atan2(u.x,-u.y)):(0,t.default)(this.long0-Math.atan2(-u.x,u.y)):(0,t.default)(this.long0+Math.atan2(u.x*c,l*this.cos_p12*p-u.y*this.sin_p12*c))),u.x=f,u.y=x,u}return y=(0,h.default)(this.es),m=(0,i.default)(this.es),P=(0,e.default)(this.es),L=(0,n.default)(this.es),Math.abs(this.sin_p12-1)<=s.EPSLN?(b=(q=this.a*(0,a.default)(y,m,P,L,s.HALF_PI))-(l=Math.sqrt(u.x*u.x+u.y*u.y)),x=(0,r.default)(b/this.a,y,m,P,L),f=(0,t.default)(this.long0+Math.atan2(u.x,-1*u.y)),u.x=f,u.y=x,u):Math.abs(this.sin_p12+1)<=s.EPSLN?(q=this.a*(0,a.default)(y,m,P,L,s.HALF_PI),b=(l=Math.sqrt(u.x*u.x+u.y*u.y))-q,x=(0,r.default)(b/this.a,y,m,P,L),f=(0,t.default)(this.long0+Math.atan2(u.x,u.y)),u.x=f,u.y=x,u):(l=Math.sqrt(u.x*u.x+u.y*u.y),v=Math.atan2(u.x,u.y),A=(0,o.default)(this.a,this.e,this.sin_p12),E=Math.cos(v),H=-(F=this.e*this.cos_p12*E)*F/(1-this.es),N=3*this.es*(1-H)*this.sin_p12*this.cos_p12*E/(1-this.es),w=1-H*(S=(g=l/A)-H*(1+H)*Math.pow(g,3)/6-N*(1+3*H)*Math.pow(g,4)/24)*S/2-g*S*S*S/6,I=Math.asin(this.sin_p12*Math.cos(S)+this.cos_p12*Math.sin(S)*E),f=(0,t.default)(this.long0+Math.asin(Math.sin(v)*Math.sin(S)/Math.cos(I))),x=Math.atan((1-this.es*w*this.sin_p12/Math.sin(I))*Math.tan(I)/(1-this.es)),u.x=f,u.y=x,u)}var p=["Azimuthal_Equidistant","aeqd"];exports.names=p;var f={init:l,forward:_,inverse:c,names:p};exports.default=f;
},{"../common/adjust_lon":"c0D1","../constants/values":"LiBj","../common/mlfn":"SVmX","../common/e0fn":"GM9p","../common/e1fn":"tw5q","../common/e2fn":"DKVF","../common/e3fn":"XZDP","../common/gN":"M8OB","../common/asinz":"r3wc","../common/imlfn":"GBx2"}],"ni3R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=e,exports.forward=h,exports.inverse=n,exports.default=exports.names=void 0;var t=i(require("../common/adjust_lon")),s=i(require("../common/asinz")),a=require("../constants/values");function i(t){return t&&t.__esModule?t:{default:t}}function e(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function h(s){var i,e,h,n,o,r,u,l=s.x,x=s.y;return h=(0,t.default)(l-this.long0),i=Math.sin(x),e=Math.cos(x),n=Math.cos(h),1,((o=this.sin_p14*i+this.cos_p14*e*n)>0||Math.abs(o)<=a.EPSLN)&&(r=1*this.a*e*Math.sin(h),u=this.y0+1*this.a*(this.cos_p14*i-this.sin_p14*e*n)),s.x=r,s.y=u,s}function n(i){var e,h,n,o,r,u,l;return i.x-=this.x0,i.y-=this.y0,e=Math.sqrt(i.x*i.x+i.y*i.y),h=(0,s.default)(e/this.a),n=Math.sin(h),o=Math.cos(h),u=this.long0,Math.abs(e)<=a.EPSLN?(l=this.lat0,i.x=u,i.y=l,i):(l=(0,s.default)(o*this.sin_p14+i.y*n*this.cos_p14/e),r=Math.abs(this.lat0)-a.HALF_PI,Math.abs(r)<=a.EPSLN?(u=this.lat0>=0?(0,t.default)(this.long0+Math.atan2(i.x,-i.y)):(0,t.default)(this.long0-Math.atan2(-i.x,i.y)),i.x=u,i.y=l,i):(u=(0,t.default)(this.long0+Math.atan2(i.x*n,e*this.cos_p14*o-i.y*this.sin_p14*n)),i.x=u,i.y=l,i))}var o=["ortho"];exports.names=o;var r={init:e,forward:h,inverse:n,names:o};exports.default=r;
},{"../common/adjust_lon":"c0D1","../common/asinz":"r3wc","../constants/values":"LiBj"}],"tdNV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=h,exports.forward=e,exports.inverse=i,exports.default=exports.names=void 0;var a=require("../constants/values"),t={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},s={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function h(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=a.HALF_PI-a.FORTPI/2?this.face=t.TOP:this.lat0<=-(a.HALF_PI-a.FORTPI/2)?this.face=t.BOTTOM:Math.abs(this.long0)<=a.FORTPI?this.face=t.FRONT:Math.abs(this.long0)<=a.HALF_PI+a.FORTPI?this.face=this.long0>0?t.RIGHT:t.LEFT:this.face=t.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function e(h){var e,i,I,P,l,F,n={x:0,y:0},R={value:0};if(h.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(h.y)):h.y,i=h.x,this.face===t.TOP)P=a.HALF_PI-e,i>=a.FORTPI&&i<=a.HALF_PI+a.FORTPI?(R.value=s.AREA_0,I=i-a.HALF_PI):i>a.HALF_PI+a.FORTPI||i<=-(a.HALF_PI+a.FORTPI)?(R.value=s.AREA_1,I=i>0?i-a.SPI:i+a.SPI):i>-(a.HALF_PI+a.FORTPI)&&i<=-a.FORTPI?(R.value=s.AREA_2,I=i+a.HALF_PI):(R.value=s.AREA_3,I=i);else if(this.face===t.BOTTOM)P=a.HALF_PI+e,i>=a.FORTPI&&i<=a.HALF_PI+a.FORTPI?(R.value=s.AREA_0,I=-i+a.HALF_PI):i<a.FORTPI&&i>=-a.FORTPI?(R.value=s.AREA_1,I=-i):i<-a.FORTPI&&i>=-(a.HALF_PI+a.FORTPI)?(R.value=s.AREA_2,I=-i-a.HALF_PI):(R.value=s.AREA_3,I=i>0?-i+a.SPI:-i-a.SPI);else{var u,M,c,r,o,T;this.face===t.RIGHT?i=_(i,+a.HALF_PI):this.face===t.BACK?i=_(i,+a.SPI):this.face===t.LEFT&&(i=_(i,-a.HALF_PI)),r=Math.sin(e),o=Math.cos(e),T=Math.sin(i),u=o*Math.cos(i),M=o*T,c=r,this.face===t.FRONT?I=A(P=Math.acos(u),c,M,R):this.face===t.RIGHT?I=A(P=Math.acos(M),c,-u,R):this.face===t.BACK?I=A(P=Math.acos(-u),c,-M,R):this.face===t.LEFT?I=A(P=Math.acos(-M),c,u,R):(P=I=0,R.value=s.AREA_0)}return F=Math.atan(12/a.SPI*(I+Math.acos(Math.sin(I)*Math.cos(a.FORTPI))-a.HALF_PI)),l=Math.sqrt((1-Math.cos(P))/(Math.cos(F)*Math.cos(F))/(1-Math.cos(Math.atan(1/Math.cos(I))))),R.value===s.AREA_1?F+=a.HALF_PI:R.value===s.AREA_2?F+=a.SPI:R.value===s.AREA_3&&(F+=1.5*a.SPI),n.x=l*Math.cos(F),n.y=l*Math.sin(F),n.x=n.x*this.a+this.x0,n.y=n.y*this.a+this.y0,h.x=n.x,h.y=n.y,h}function i(h){var e,i,A,I,P,l,F,n,R,u,M,c,r={lam:0,phi:0},o={value:0};if(h.x=(h.x-this.x0)/this.a,h.y=(h.y-this.y0)/this.a,i=Math.atan(Math.sqrt(h.x*h.x+h.y*h.y)),e=Math.atan2(h.y,h.x),h.x>=0&&h.x>=Math.abs(h.y)?o.value=s.AREA_0:h.y>=0&&h.y>=Math.abs(h.x)?(o.value=s.AREA_1,e-=a.HALF_PI):h.x<0&&-h.x>=Math.abs(h.y)?(o.value=s.AREA_2,e=e<0?e+a.SPI:e-a.SPI):(o.value=s.AREA_3,e+=a.HALF_PI),R=a.SPI/12*Math.tan(e),P=Math.sin(R)/(Math.cos(R)-1/Math.sqrt(2)),l=Math.atan(P),(F=1-(A=Math.cos(e))*A*(I=Math.tan(i))*I*(1-Math.cos(Math.atan(1/Math.cos(l)))))<-1?F=-1:F>1&&(F=1),this.face===t.TOP)n=Math.acos(F),r.phi=a.HALF_PI-n,o.value===s.AREA_0?r.lam=l+a.HALF_PI:o.value===s.AREA_1?r.lam=l<0?l+a.SPI:l-a.SPI:o.value===s.AREA_2?r.lam=l-a.HALF_PI:r.lam=l;else if(this.face===t.BOTTOM)n=Math.acos(F),r.phi=n-a.HALF_PI,o.value===s.AREA_0?r.lam=-l+a.HALF_PI:o.value===s.AREA_1?r.lam=-l:o.value===s.AREA_2?r.lam=-l-a.HALF_PI:r.lam=l<0?-l-a.SPI:-l+a.SPI;else{var T,v,f;R=(T=F)*T,v=(R+=(f=R>=1?0:Math.sqrt(1-R)*Math.sin(l))*f)>=1?0:Math.sqrt(1-R),o.value===s.AREA_1?(R=v,v=-f,f=R):o.value===s.AREA_2?(v=-v,f=-f):o.value===s.AREA_3&&(R=v,v=f,f=-R),this.face===t.RIGHT?(R=T,T=-v,v=R):this.face===t.BACK?(T=-T,v=-v):this.face===t.LEFT&&(R=T,T=v,v=-R),r.phi=Math.acos(-f)-a.HALF_PI,r.lam=Math.atan2(v,T),this.face===t.RIGHT?r.lam=_(r.lam,-a.HALF_PI):this.face===t.BACK?r.lam=_(r.lam,-a.SPI):this.face===t.LEFT&&(r.lam=_(r.lam,+a.HALF_PI))}0!==this.es&&(u=r.phi<0?1:0,M=Math.tan(r.phi),c=this.b/Math.sqrt(M*M+this.one_minus_f_squared),r.phi=Math.atan(Math.sqrt(this.a*this.a-c*c)/(this.one_minus_f*c)),u&&(r.phi=-r.phi));return r.lam+=this.long0,h.x=r.lam,h.y=r.phi,h}function A(t,h,e,i){var A;return t<a.EPSLN?(i.value=s.AREA_0,A=0):(A=Math.atan2(h,e),Math.abs(A)<=a.FORTPI?i.value=s.AREA_0:A>a.FORTPI&&A<=a.HALF_PI+a.FORTPI?(i.value=s.AREA_1,A-=a.HALF_PI):A>a.HALF_PI+a.FORTPI||A<=-(a.HALF_PI+a.FORTPI)?(i.value=s.AREA_2,A=A>=0?A-a.SPI:A+a.SPI):(i.value=s.AREA_3,A+=a.HALF_PI)),A}function _(t,s){var h=t+s;return h<-a.SPI?h+=a.TWO_PI:h>+a.SPI&&(h-=a.TWO_PI),h}var I=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];exports.names=I;var P={init:h,forward:e,inverse:i,names:I};exports.default=P;
},{"../constants/values":"LiBj"}],"ebFR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=l,exports.forward=v,exports.inverse=c,exports.default=exports.names=void 0;var e=require("../constants/values"),t=r(require("../common/adjust_lon"));function r(e){return e&&e.__esModule?e:{default:e}}var s=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],i=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],n=.8487,o=1.3523,a=e.R2D/5,u=1/a,y=18,f=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},h=function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])};function x(e,t,r,s){for(var i=t;s;--s){var n=e(i);if(i-=n,Math.abs(n)<r)break}return i}function l(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function v(r){var h=(0,t.default)(r.x-this.long0),x=Math.abs(r.y),l=Math.floor(x*a);l<0?l=0:l>=y&&(l=y-1),x=e.R2D*(x-u*l);var v={x:f(s[l],x)*h,y:f(i[l],x)};return r.y<0&&(v.y=-v.y),v.x=v.x*this.a*n+this.x0,v.y=v.y*this.a*o+this.y0,v}function c(r){var a={x:(r.x-this.x0)/(this.a*n),y:Math.abs(r.y-this.y0)/(this.a*o)};if(a.y>=1)a.x/=s[y][0],a.y=r.y<0?-e.HALF_PI:e.HALF_PI;else{var u=Math.floor(a.y*y);for(u<0?u=0:u>=y&&(u=y-1);;)if(i[u][0]>a.y)--u;else{if(!(i[u+1][0]<=a.y))break;++u}var l=i[u],v=5*(a.y-l[0])/(i[u+1][0]-l[0]);v=x(function(e){return(f(l,e)-a.y)/h(l,e)},v,e.EPSLN,100),a.x/=f(s[u],v),a.y=(5*u+v)*e.D2R,r.y<0&&(a.y=-a.y)}return a.x=(0,t.default)(a.x+this.long0),a}var d=["Robinson","robin"];exports.names=d;var b={init:l,forward:v,inverse:c,names:d};exports.default=b;
},{"../constants/values":"LiBj","../common/adjust_lon":"c0D1"}],"Q4M2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=t,exports.forward=r,exports.inverse=o,exports.default=exports.names=void 0;var e=require("../datumUtils");function t(){this.name="geocent"}function r(t){return(0,e.geodeticToGeocentric)(t,this.es,this.a)}function o(t){return(0,e.geocentricToGeodetic)(t,this.es,this.a,this.b)}var i=["Geocentric","geocentric","geocent","Geocent"];exports.names=i;var s={init:t,forward:r,inverse:o,names:i};exports.default=s;
},{"../datumUtils":"AJ6k"}],"FDZ4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=O;var e=z(require("./lib/projections/tmerc")),o=z(require("./lib/projections/etmerc")),r=z(require("./lib/projections/utm")),i=z(require("./lib/projections/sterea")),t=z(require("./lib/projections/stere")),d=z(require("./lib/projections/somerc")),j=z(require("./lib/projections/omerc")),c=z(require("./lib/projections/lcc")),a=z(require("./lib/projections/krovak")),s=z(require("./lib/projections/cass")),l=z(require("./lib/projections/laea")),n=z(require("./lib/projections/aea")),u=z(require("./lib/projections/gnom")),p=z(require("./lib/projections/cea")),f=z(require("./lib/projections/eqc")),q=z(require("./lib/projections/poly")),b=z(require("./lib/projections/nzmg")),P=z(require("./lib/projections/mill")),m=z(require("./lib/projections/sinu")),g=z(require("./lib/projections/moll")),v=z(require("./lib/projections/eqdc")),_=z(require("./lib/projections/vandg")),k=z(require("./lib/projections/aeqd")),x=z(require("./lib/projections/ortho")),y=z(require("./lib/projections/qsc")),M=z(require("./lib/projections/robin")),h=z(require("./lib/projections/geocent"));function z(e){return e&&e.__esModule?e:{default:e}}function O(z){z.Proj.projections.add(e.default),z.Proj.projections.add(o.default),z.Proj.projections.add(r.default),z.Proj.projections.add(i.default),z.Proj.projections.add(t.default),z.Proj.projections.add(d.default),z.Proj.projections.add(j.default),z.Proj.projections.add(c.default),z.Proj.projections.add(a.default),z.Proj.projections.add(s.default),z.Proj.projections.add(l.default),z.Proj.projections.add(n.default),z.Proj.projections.add(u.default),z.Proj.projections.add(p.default),z.Proj.projections.add(f.default),z.Proj.projections.add(q.default),z.Proj.projections.add(b.default),z.Proj.projections.add(P.default),z.Proj.projections.add(m.default),z.Proj.projections.add(g.default),z.Proj.projections.add(v.default),z.Proj.projections.add(_.default),z.Proj.projections.add(k.default),z.Proj.projections.add(x.default),z.Proj.projections.add(y.default),z.Proj.projections.add(M.default),z.Proj.projections.add(h.default)}
},{"./lib/projections/tmerc":"qgIp","./lib/projections/etmerc":"suR5","./lib/projections/utm":"F3qh","./lib/projections/sterea":"BtEk","./lib/projections/stere":"nkLl","./lib/projections/somerc":"XMD3","./lib/projections/omerc":"O3Wr","./lib/projections/lcc":"NMWS","./lib/projections/krovak":"JY2o","./lib/projections/cass":"hdfx","./lib/projections/laea":"tT4j","./lib/projections/aea":"BQzq","./lib/projections/gnom":"hgIf","./lib/projections/cea":"qHgu","./lib/projections/eqc":"C2W8","./lib/projections/poly":"GnT9","./lib/projections/nzmg":"IFhf","./lib/projections/mill":"sJ7j","./lib/projections/sinu":"oaUa","./lib/projections/moll":"vzNE","./lib/projections/eqdc":"aWhG","./lib/projections/vandg":"wESf","./lib/projections/aeqd":"UeWW","./lib/projections/ortho":"ni3R","./lib/projections/qsc":"tdNV","./lib/projections/robin":"ebFR","./lib/projections/geocent":"Q4M2"}],"oaf9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./core")),t=o(require("./Proj")),r=o(require("./Point")),u=o(require("./common/toPoint")),a=o(require("./defs")),d=o(require("./transform")),f=o(require("mgrs")),l=o(require("../projs"));function o(e){return e&&e.__esModule?e:{default:e}}e.default.defaultDatum="WGS84",e.default.Proj=t.default,e.default.WGS84=new e.default.Proj("WGS84"),e.default.Point=r.default,e.default.toPoint=u.default,e.default.defs=a.default,e.default.transform=d.default,e.default.mgrs=f.default,e.default.version="__VERSION__",(0,l.default)(e.default);var i=e.default;exports.default=i;
},{"./core":"adlr","./Proj":"TmNP","./Point":"wpuw","./common/toPoint":"Q8bn","./defs":"KsYW","./transform":"n5UB","mgrs":"kAqR","../projs":"FDZ4"}],"a8mu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_WMS_VERSION=void 0;var e="1.3.0";exports.DEFAULT_WMS_VERSION=e;
},{}],"U255":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateSourceResolution=n,exports.render=i;var e=require("./dom.js"),t=require("./extent.js"),r=require("./math.js"),a=require("./proj.js");function n(e,r,n,o){var i=(0,a.transform)(n,r,e),s=(0,a.getPointResolution)(r,o,n),u=r.getMetersPerUnit();void 0!==u&&(s*=u);var c=e.getMetersPerUnit();void 0!==c&&(s/=c);var v=e.getExtent();if(!v||(0,t.containsCoordinate)(v,i)){var g=(0,a.getPointResolution)(e,s,i)/s;isFinite(g)&&g>0&&(s/=g)}return s}function o(e,t,r,a){var n=r-e,o=a-t,i=Math.sqrt(n*n+o*o);return[Math.round(r+n/i),Math.round(a+o/i)]}function i(a,n,i,s,u,c,v,g,h,l,d){var f=(0,e.createCanvasContext2D)(Math.round(i*a),Math.round(i*n));if(0===h.length)return f.canvas;f.scale(i,i);var m=(0,t.createEmpty)();h.forEach(function(e,r,a){(0,t.extend)(m,e.extent)});var x=(0,t.getWidth)(m),M=(0,t.getHeight)(m),T=(0,e.createCanvasContext2D)(Math.round(i*x/s),Math.round(i*M/s)),p=i/s;h.forEach(function(e,r,a){var n=e.extent[0]-m[0],o=-(e.extent[3]-m[3]),i=(0,t.getWidth)(e.extent),s=(0,t.getHeight)(e.extent);T.drawImage(e.image,l,l,e.image.width-2*l,e.image.height-2*l,n*p,o*p,i*p,s*p)});var P=(0,t.getTopLeft)(v);return g.getTriangles().forEach(function(e,t,a){var n=e.source,u=e.target,v=n[0][0],g=n[0][1],h=n[1][0],l=n[1][1],d=n[2][0],x=n[2][1],M=(u[0][0]-P[0])/c,p=-(u[0][1]-P[1])/c,j=(u[1][0]-P[0])/c,E=-(u[1][1]-P[1])/c,q=(u[2][0]-P[0])/c,C=-(u[2][1]-P[1])/c,b=v,y=g;v=0,g=0;var k=[[h-=b,l-=y,0,0,j-M],[d-=b,x-=y,0,0,q-M],[0,0,h,l,E-p],[0,0,d,x,C-p]],w=(0,r.solveLinearSystem)(k);if(w){f.save(),f.beginPath();var R=(M+j+q)/3,S=(p+E+C)/3,W=o(R,S,M,p),D=o(R,S,j,E),H=o(R,S,q,C);f.moveTo(D[0],D[1]),f.lineTo(W[0],W[1]),f.lineTo(H[0],H[1]),f.clip(),f.transform(w[0],w[2],w[1],w[3],M,p),f.translate(m[0]-b,m[3]-y),f.scale(s/i,-s/i),f.drawImage(T.canvas,0,0),f.restore()}}),d&&(f.save(),f.strokeStyle="black",f.lineWidth=1,g.getTriangles().forEach(function(e,t,r){var a=e.target,n=(a[0][0]-P[0])/c,o=-(a[0][1]-P[1])/c,i=(a[1][0]-P[0])/c,s=-(a[1][1]-P[1])/c,u=(a[2][0]-P[0])/c,v=-(a[2][1]-P[1])/c;f.beginPath(),f.moveTo(i,s),f.lineTo(n,o),f.lineTo(u,v),f.closePath(),f.stroke()}),f.restore()),f.canvas}
},{"./dom.js":"Xno5","./extent.js":"QDir","./math.js":"B96G","./proj.js":"Diht"}],"BiRY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),r=require("../math.js"),i=require("../proj.js"),e=10,s=.25,o=function(r,s,o,n,a){this.sourceProj_=r,this.targetProj_=s;var h={},u=(0,i.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var r=t[0]+"/"+t[1];return h[r]||(h[r]=u(t)),h[r]},this.maxSourceExtent_=n,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&(0,t.getWidth)(n)==(0,t.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,t.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,t.getWidth)(this.targetProj_.getExtent()):null;var d=(0,t.getTopLeft)(o),c=(0,t.getTopRight)(o),_=(0,t.getBottomRight)(o),l=(0,t.getBottomLeft)(o),f=this.transformInv_(d),g=this.transformInv_(c),W=this.transformInv_(_),v=this.transformInv_(l);if(this.addQuad_(d,c,_,l,f,g,W,v,e),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach(function(t,r,i){m=Math.min(m,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-m>this.sourceWorldWidth_/2){var r=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];r[0][0]-m>this.sourceWorldWidth_/2&&(r[0][0]-=this.sourceWorldWidth_),r[1][0]-m>this.sourceWorldWidth_/2&&(r[1][0]-=this.sourceWorldWidth_),r[2][0]-m>this.sourceWorldWidth_/2&&(r[2][0]-=this.sourceWorldWidth_);var i=Math.min(r[0][0],r[1][0],r[2][0]);Math.max(r[0][0],r[1][0],r[2][0])-i<this.sourceWorldWidth_/2&&(t.source=r)}}.bind(this))}h={}};o.prototype.addTriangle_=function(t,r,i,e,s,o){this.triangles_.push({source:[e,s,o],target:[t,r,i]})},o.prototype.addQuad_=function(i,e,o,n,a,h,u,d,c){var _=(0,t.boundingExtent)([a,h,u,d]),l=this.sourceWorldWidth_?(0,t.getWidth)(_)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&l>.5&&l<1,W=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=(0,t.boundingExtent)([i,e,o,n]);W=(0,t.getWidth)(v)/this.targetWorldWidth_>s||W}!g&&this.sourceProj_.isGlobal()&&l&&(W=l>s||W)}if(W||!this.maxSourceExtent_||(0,t.intersects)(_,this.maxSourceExtent_)){if(!(W||isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(u[0])&&isFinite(u[1])&&isFinite(d[0])&&isFinite(d[1]))){if(!(c>0))return;W=!0}if(c>0){if(!W){var m,p=[(i[0]+o[0])/2,(i[1]+o[1])/2],x=this.transformInv_(p);if(g)m=((0,r.modulo)(a[0],f)+(0,r.modulo)(u[0],f))/2-(0,r.modulo)(x[0],f);else m=(a[0]+u[0])/2-x[0];var j=(a[1]+u[1])/2-x[1];W=m*m+j*j>this.errorThresholdSquared_}if(W){if(Math.abs(i[0]-o[0])<=Math.abs(i[1]-o[1])){var E=[(e[0]+o[0])/2,(e[1]+o[1])/2],I=this.transformInv_(E),P=[(n[0]+i[0])/2,(n[1]+i[1])/2],S=this.transformInv_(P);this.addQuad_(i,e,E,P,a,h,I,S,c-1),this.addQuad_(P,E,o,n,S,I,u,d,c-1)}else{var T=[(i[0]+e[0])/2,(i[1]+e[1])/2],b=this.transformInv_(T),F=[(o[0]+n[0])/2,(o[1]+n[1])/2],M=this.transformInv_(F);this.addQuad_(i,T,F,n,a,b,M,d,c-1),this.addQuad_(T,e,o,F,b,h,u,M,c-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(i,o,n,a,u,d),this.addTriangle_(i,e,o,a,h,u)}},o.prototype.calculateSourceExtent=function(){var r=(0,t.createEmpty)();return this.triangles_.forEach(function(i,e,s){var o=i.source;(0,t.extendCoordinate)(r,o[0]),(0,t.extendCoordinate)(r,o[1]),(0,t.extendCoordinate)(r,o[2])}),r},o.prototype.getTriangles=function(){return this.triangles_};var n=o;exports.default=n;
},{"../extent.js":"QDir","../math.js":"B96G","../proj.js":"Diht"}],"rc7I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./common.js"),e=u(require("../ImageBase.js")),r=u(require("../ImageState.js")),s=require("../events.js"),i=u(require("../events/EventType.js")),o=require("../extent.js"),a=require("../reproj.js"),n=u(require("./Triangulation.js"));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(e){function u(s,i,u,c,l,h){var _=s.getExtent(),g=i.getExtent(),p=g?(0,o.getIntersection)(u,g):u,f=(0,o.getCenter)(p),d=(0,a.calculateSourceResolution)(s,i,f,c),E=t.ERROR_THRESHOLD,x=new n.default(s,i,p,_,d*E),I=h(x.calculateSourceExtent(),d,l),R=r.default.LOADED;I&&(R=r.default.IDLE);var m=I?I.getPixelRatio():1;e.call(this,u,c,m,R),this.targetProj_=i,this.maxSourceExtent_=_,this.triangulation_=x,this.targetResolution_=c,this.targetExtent_=u,this.sourceImage_=I,this.sourcePixelRatio_=m,this.canvas_=null,this.sourceListenerKey_=null}return e&&(u.__proto__=e),u.prototype=Object.create(e&&e.prototype),u.prototype.constructor=u,u.prototype.disposeInternal=function(){this.state==r.default.LOADING&&this.unlistenSource_(),e.prototype.disposeInternal.call(this)},u.prototype.getImage=function(){return this.canvas_},u.prototype.getProjection=function(){return this.targetProj_},u.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==r.default.LOADED){var e=(0,o.getWidth)(this.targetExtent_)/this.targetResolution_,s=(0,o.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,a.render)(e,s,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},u.prototype.load=function(){if(this.state==r.default.IDLE){this.state=r.default.LOADING,this.changed();var t=this.sourceImage_.getState();t==r.default.LOADED||t==r.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,s.listen)(this.sourceImage_,i.default.CHANGE,function(t){var e=this.sourceImage_.getState();e!=r.default.LOADED&&e!=r.default.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},u.prototype.unlistenSource_=function(){(0,s.unlistenByKey)(this.sourceListenerKey_),this.sourceListenerKey_=null},u}(e.default),l=c;exports.default=l;
},{"./common.js":"fF5X","../ImageBase.js":"Ojbp","../ImageState.js":"u3kG","../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir","../reproj.js":"U255","./Triangulation.js":"BiRY"}],"XHvt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultImageLoadFunction=g,exports.default=void 0;var e=require("../util.js"),t=require("../reproj/common.js"),r=c(require("../ImageState.js")),o=require("../array.js"),i=c(require("../events/Event.js")),s=require("../extent.js"),n=require("../proj.js"),a=c(require("../reproj/Image.js")),u=c(require("./Source.js"));function c(e){return e&&e.__esModule?e:{default:e}}var p={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},l=function(e){function t(t,r){e.call(this,t),this.image=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(i.default),d=function(i){function u(e){i.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return i&&(u.__proto__=i),u.prototype=Object.create(i&&i.prototype),u.prototype.constructor=u,u.prototype.getResolutions=function(){return this.resolutions_},u.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=(0,o.linearFindNearest)(this.resolutions_,e,0);e=this.resolutions_[t]}return e},u.prototype.getImage=function(e,r,o,i){var u=this.getProjection();if(t.ENABLE_RASTER_REPROJECTION&&u&&i&&!(0,n.equivalent)(u,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,n.equivalent)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==r&&(0,s.equals)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new a.default(u,i,e,r,o,function(e,t,r){return this.getImageInternal(e,t,r,u)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return u&&(i=u),this.getImageInternal(e,r,o,i)},u.prototype.getImageInternal=function(t,r,o,i){return(0,e.abstract)()},u.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case r.default.LOADING:this.loading=!0,this.dispatchEvent(new l(p.IMAGELOADSTART,t));break;case r.default.LOADED:this.loading=!1,this.dispatchEvent(new l(p.IMAGELOADEND,t));break;case r.default.ERROR:this.loading=!1,this.dispatchEvent(new l(p.IMAGELOADERROR,t))}},u}(u.default);function g(e,t){e.getImage().src=t}var h=d;exports.default=h;
},{"../util.js":"KniQ","../reproj/common.js":"fF5X","../ImageState.js":"u3kG","../array.js":"luEr","../events/Event.js":"fKNg","../extent.js":"QDir","../proj.js":"Diht","../reproj/Image.js":"rc7I","./Source.js":"H38a"}],"mXwm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};exports.default=e;
},{}],"n7G7":[function(require,module,exports) {
"use strict";function e(e,n){var o=[];Object.keys(n).forEach(function(e){null!==n[e]&&void 0!==n[e]&&o.push(e+"="+encodeURIComponent(n[e]))});var r=o.join("&");return(e=-1===(e=e.replace(/[?&]$/,"")).indexOf("?")?e+"?":e+"&")+r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendParams=e;
},{}],"e4Kb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./common.js"),t=c(require("../Image.js")),i=require("../asserts.js"),r=require("../events.js"),s=c(require("../events/EventType.js")),a=require("../extent.js"),n=require("../obj.js"),o=require("../proj.js"),u=require("../reproj.js"),h=d(require("./Image.js")),_=c(require("./WMSServerType.js")),p=require("../string.js"),g=require("../uri.js");function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function d(e){if(e&&e.__esModule)return e;var t=l();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}}return i.default=e,t&&t.set(e,i),i}function c(e){return e&&e.__esModule?e:{default:e}}var f=[101,101],v=function(l){function d(e){var t=e||{};l.call(this,{attributions:t.attributions,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:h.defaultImageLoadFunction,this.params_=t.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5}return l&&(d.__proto__=l),d.prototype=Object.create(l&&l.prototype),d.prototype.constructor=d,d.prototype.getGetFeatureInfoUrl=function(t,i,r,s){if(void 0!==this.url_){var h=(0,o.get)(r),_=this.getProjection();_&&_!==h&&(i=(0,u.calculateSourceResolution)(_,h,t,i),t=(0,o.transform)(t,h,_));var p=(0,a.getForViewAndSize)(t,i,0,f),g={SERVICE:"WMS",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,n.assign)(g,this.params_,s);var l=Math.floor((t[0]-p[0])/i),d=Math.floor((p[3]-t[1])/i);return g[this.v13_?"I":"X"]=l,g[this.v13_?"J":"Y"]=d,this.getRequestUrl_(p,f,1,_||h,g)}},d.prototype.getParams=function(){return this.params_},d.prototype.getImageInternal=function(i,o,u,h){if(void 0===this.url_)return null;o=this.findNearestResolution(o),1==u||this.hidpi_&&void 0!==this.serverType_||(u=1);var _=o/u,p=(0,a.getCenter)(i),g=Math.ceil((0,a.getWidth)(i)/_),l=Math.ceil((0,a.getHeight)(i)/_),d=(0,a.getForViewAndSize)(p,_,0,[g,l]),c=Math.ceil(this.ratio_*(0,a.getWidth)(i)/_),f=Math.ceil(this.ratio_*(0,a.getHeight)(i)/_),v=(0,a.getForViewAndSize)(p,_,0,[c,f]),R=this.image_;if(R&&this.renderedRevision_==this.getRevision()&&R.getResolution()==o&&R.getPixelRatio()==u&&(0,a.containsExtent)(R.getExtent(),d))return R;var S={SERVICE:"WMS",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,n.assign)(S,this.params_),this.imageSize_[0]=Math.round((0,a.getWidth)(v)/_),this.imageSize_[1]=Math.round((0,a.getHeight)(v)/_);var m=this.getRequestUrl_(v,this.imageSize_,u,h,S);return this.image_=new t.default(v,o,u,m,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),(0,r.listen)(this.image_,s.default.CHANGE,this.handleImageChange,this),this.image_},d.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},d.prototype.getRequestUrl_=function(e,t,r,s,a){if((0,i.assert)(void 0!==this.url_,9),a[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(a.STYLES=""),1!=r)switch(this.serverType_){case _.default.GEOSERVER:var n=90*r+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+n:a.FORMAT_OPTIONS="dpi:"+n;break;case _.default.MAPSERVER:a.MAP_RESOLUTION=90*r;break;case _.default.CARMENTA_SERVER:case _.default.QGIS:a.DPI=90*r;break;default:(0,i.assert)(!1,8)}a.WIDTH=t[0],a.HEIGHT=t[1];var o,u=s.getAxisOrientation();return o=this.v13_&&"ne"==u.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,a.BBOX=o.join(","),(0,g.appendParams)(this.url_,a)},d.prototype.getUrl=function(){return this.url_},d.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},d.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},d.prototype.updateParams=function(e){(0,n.assign)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},d.prototype.updateV13_=function(){var t=this.params_.VERSION||e.DEFAULT_WMS_VERSION;this.v13_=(0,p.compareVersions)(t,"1.3")>=0},d}(h.default),R=v;exports.default=R;
},{"./common.js":"a8mu","../Image.js":"DHWK","../asserts.js":"fLG6","../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir","../obj.js":"mH6q","../proj.js":"Diht","../reproj.js":"U255","./Image.js":"XHvt","./WMSServerType.js":"mXwm","../string.js":"AiCK","../uri.js":"n7G7"}],"Rlas":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={FRACTION:"fraction",PIXELS:"pixels"};exports.default=e;
},{}],"XCOy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.get=o,exports.default=void 0;var t=require("../dom.js"),e=require("../events.js"),i=h(require("../events/Target.js")),a=h(require("../events/EventType.js")),s=h(require("../ImageState.js")),n=require("./IconImageCache.js");function h(t){return t&&t.__esModule?t:{default:t}}var r=function(i){function n(t,e,a,s,n,h){i.call(this),this.hitDetectionImage_=null,this.image_=t||new Image,null!==s&&(this.image_.crossOrigin=s),this.canvas_=h?document.createElement("canvas"):null,this.color_=h,this.imageListenerKeys_=null,this.imageState_=n,this.size_=a,this.src_=e,this.tainted_}return i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n,n.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===s.default.LOADED){this.tainted_=!1;var e=(0,t.createCanvasContext2D)(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(i){this.tainted_=!0}}return!0===this.tainted_},n.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(a.default.CHANGE)},n.prototype.handleImageError_=function(){this.imageState_=s.default.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.handleImageLoad_=function(){this.imageState_=s.default.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},n.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},n.prototype.getImageState=function(){return this.imageState_},n.prototype.getHitDetectionImage=function(e){if(!this.hitDetectionImage_)if(this.isTainted_()){var i=this.size_[0],a=this.size_[1],s=(0,t.createCanvasContext2D)(i,a);s.fillRect(0,0,i,a),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},n.prototype.getSize=function(){return this.size_},n.prototype.getSrc=function(){return this.src_},n.prototype.load=function(){if(this.imageState_==s.default.IDLE){this.imageState_=s.default.LOADING,this.imageListenerKeys_=[(0,e.listenOnce)(this.image_,a.default.ERROR,this.handleImageError_,this),(0,e.listenOnce)(this.image_,a.default.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},n.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),i=e.data,a=this.color_[0]/255,s=this.color_[1]/255,n=this.color_[2]/255,h=0,r=i.length;h<r;h+=4)i[h]*=a,i[h+1]*=s,i[h+2]*=n;t.putImageData(e,0,0)}},n.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(e.unlistenByKey),this.imageListenerKeys_=null},n}(i.default);function o(t,e,i,a,s,h){var o=n.shared.get(e,a,h);return o||(o=new r(t,e,i,a,s,h),n.shared.set(e,a,h,o)),o}var _=r;exports.default=_;
},{"../dom.js":"Xno5","../events.js":"UqnM","../events/Target.js":"CR4Y","../events/EventType.js":"C8cu","../ImageState.js":"u3kG","./IconImageCache.js":"V0oB"}],"z2xv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),i=l(require("../ImageState.js")),e=require("../asserts.js"),o=require("../color.js"),r=require("../events.js"),n=l(require("../events/EventType.js")),s=l(require("./IconAnchorUnits.js")),a=require("./IconImage.js"),h=l(require("./IconOrigin.js")),c=l(require("./Image.js"));function l(t){return t&&t.__esModule?t:{default:t}}var g=function(c){function l(r){var n=r||{},l=void 0!==n.opacity?n.opacity:1,g=void 0!==n.rotation?n.rotation:0,u=void 0!==n.scale?n.scale:1,_=void 0!==n.rotateWithView&&n.rotateWithView;c.call(this,{opacity:l,rotation:g,scale:u,rotateWithView:_}),this.anchor_=void 0!==n.anchor?n.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:h.default.TOP_LEFT,this.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:s.default.FRACTION,this.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:s.default.FRACTION,this.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var f=void 0!==n.img?n.img:null,d=void 0!==n.imgSize?n.imgSize:null,O=n.src;(0,e.assert)(!(void 0!==O&&f),4),(0,e.assert)(!f||f&&d,5),void 0!==O&&0!==O.length||!f||(O=f.src||(0,t.getUid)(f)),(0,e.assert)(void 0!==O&&O.length>0,6);var p=void 0!==n.src?i.default.IDLE:i.default.LOADED;this.color_=void 0!==n.color?(0,o.asArray)(n.color):null,this.iconImage_=(0,a.get)(f,O,d,this.crossOrigin_,p,this.color_),this.offset_=void 0!==n.offset?n.offset:[0,0],this.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:h.default.TOP_LEFT,this.origin_=null,this.size_=void 0!==n.size?n.size:null}return c&&(l.__proto__=c),l.prototype=Object.create(c&&c.prototype),l.prototype.constructor=l,l.prototype.clone=function(){return new l({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},l.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,i=this.getSize();if(this.anchorXUnits_==s.default.FRACTION||this.anchorYUnits_==s.default.FRACTION){if(!i)return null;t=this.anchor_.slice(),this.anchorXUnits_==s.default.FRACTION&&(t[0]*=i[0]),this.anchorYUnits_==s.default.FRACTION&&(t[1]*=i[1])}if(this.anchorOrigin_!=h.default.TOP_LEFT){if(!i)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=h.default.TOP_RIGHT&&this.anchorOrigin_!=h.default.BOTTOM_RIGHT||(t[0]=-t[0]+i[0]),this.anchorOrigin_!=h.default.BOTTOM_LEFT&&this.anchorOrigin_!=h.default.BOTTOM_RIGHT||(t[1]=-t[1]+i[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},l.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},l.prototype.getColor=function(){return this.color_},l.prototype.getImage=function(t){return this.iconImage_.getImage(t)},l.prototype.getImageSize=function(){return this.iconImage_.getSize()},l.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},l.prototype.getImageState=function(){return this.iconImage_.getImageState()},l.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},l.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=h.default.TOP_LEFT){var i=this.getSize(),e=this.iconImage_.getSize();if(!i||!e)return null;t=t.slice(),this.offsetOrigin_!=h.default.TOP_RIGHT&&this.offsetOrigin_!=h.default.BOTTOM_RIGHT||(t[0]=e[0]-i[0]-t[0]),this.offsetOrigin_!=h.default.BOTTOM_LEFT&&this.offsetOrigin_!=h.default.BOTTOM_RIGHT||(t[1]=e[1]-i[1]-t[1])}return this.origin_=t,this.origin_},l.prototype.getSrc=function(){return this.iconImage_.getSrc()},l.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},l.prototype.listenImageChange=function(t,i){return(0,r.listen)(this.iconImage_,n.default.CHANGE,t,i)},l.prototype.load=function(){this.iconImage_.load()},l.prototype.unlistenImageChange=function(t,i){(0,r.unlisten)(this.iconImage_,n.default.CHANGE,t,i)},l}(c.default),u=g;exports.default=u;
},{"../util.js":"KniQ","../ImageState.js":"u3kG","../asserts.js":"fLG6","../color.js":"eucy","../events.js":"UqnM","../events/EventType.js":"C8cu","./IconAnchorUnits.js":"Rlas","./IconImage.js":"XCOy","./IconOrigin.js":"urGY","./Image.js":"S8ow"}],"qeKX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Atlas",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"AtlasManager",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Circle",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Fill",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Icon",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"IconImage",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"RegularShape",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"Stroke",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"Style",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Text",{enumerable:!0,get:function(){return f.default}});var e=c(require("./style/Atlas.js")),t=c(require("./style/AtlasManager.js")),r=c(require("./style/Circle.js")),n=c(require("./style/Fill.js")),u=c(require("./style/Icon.js")),l=c(require("./style/IconImage.js")),o=c(require("./style/Image.js")),s=c(require("./style/RegularShape.js")),a=c(require("./style/Stroke.js")),i=c(require("./style/Style.js")),f=c(require("./style/Text.js"));function c(e){return e&&e.__esModule?e:{default:e}}
},{"./style/Atlas.js":"N0HK","./style/AtlasManager.js":"SyS8","./style/Circle.js":"cdf1","./style/Fill.js":"AFcg","./style/Icon.js":"z2xv","./style/IconImage.js":"XCOy","./style/Image.js":"S8ow","./style/RegularShape.js":"il3X","./style/Stroke.js":"TXDt","./style/Style.js":"he4w","./style/Text.js":"RPsG"}],"Focm":[function(require,module,exports) {
"use strict";var e=require("./src/Main.elm");require("ol/ol.css");var t=require("ol"),r=A(require("ol/layer/Image")),n=A(require("ol/layer/Tile")),o=A(require("ol/layer/Vector")),a=A(require("ol/source/Vector")),i=require("ol/loadingstrategy"),l=A(require("ol/format/GeoJSON")),u=A(require("ol/format/WFS")),c=A(require("ol/proj/Projection")),m=require("ol/proj/proj4.js"),s=A(require("proj4")),p=A(require("ol/source/ImageWMS")),d=A(require("ol/interaction/DoubleClickZoom")),g=L(require("ol/interaction/Draw")),f=A(require("ol/interaction/Modify")),y=A(require("ol/interaction/Translate")),w=A(require("ol/control/ScaleLine")),h=A(require("ol/interaction/Select")),v=require("ol/events/condition"),C=A(require("ol/geom/Polygon")),b=require("ol/control.js"),S=A(require("ol/style/Circle")),x=A(require("ol/Overlay.js")),E=require("ol/style");function I(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return I=function(){return e},e}function L(e){if(e&&e.__esModule)return e;var t=I();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}}return r.default=e,t&&t.set(e,r),r}function A(e){return e&&e.__esModule?e:{default:e}}var F=e.Elm.Main.init({node:document.querySelector("main"),flags:{topic:"UPWMS",centerEast:2692276,centerNorth:1254152,mapextent:"2485071.58,1075346.31,2828515.82,1299941.79",hostname:"localhost",width:window.innerWidth,height:window.innerHeight}});function P(e){e.ports.setOlConfig.subscribe(function(t){requestAnimationFrame(function(){q.setConfig(t,e)})}),e.ports.storePFCInCache.subscribe(function(e){localStorage.setItem("cachePFC",e)}),e.ports.readPFCFromCache.subscribe(function(t){localStorage.getItem("cachePFC")&&e.ports.getPFCFromCache.send(localStorage.getItem("cachePFC"))}),e.ports.storeOrdersInCache.subscribe(function(e){localStorage.setItem("cache",e)}),e.ports.storeSettingsInCache.subscribe(function(e){localStorage.setItem("cacheSettings",e)}),localStorage.getItem("cache")&&e.ports.getOrdersFromCache.send(localStorage.getItem("cache")),localStorage.getItem("cacheSettings")&&e.ports.getSettingsFromCache.send(localStorage.getItem("cacheSettings")),e.ports.setOlAction.subscribe(function(e){q.map&&("zoomToPeri"===e?q.zoomToPeri():"deletePeri"===e&&q.deletePeri())})}P(F);var T,q={elmApp:null,mapconfig:null,map:null,projection:null,view:null,periLayer:null,municipalityLayer:null,municipalitySource:null,featureSource:null,boxExtent:null,drawBox:null,select:null,snap:null,modify:null,translate:null,measureTooltipElement:null,measureTooltip:null,olLayerNames:[],setConfig:function(e,t){null===q.map?q.setupMap(e,t):(q.map.updateSize(),q.mapconfig=e,q.periLayer.getSource().getFeatures().forEach(function(e){return q.periLayer.getSource().removeFeature(e)}),q.removeInteractions());var r=[];r=q.mapconfig.wmslayernames?q.mapconfig.wmslayernames:[],q.getLayerNames();var n=r.filter(function(e){return!q.olLayerNames.includes(e)});q.olLayerNames.filter(function(e){return!r.includes(e)}).forEach(function(e){return q.removeLayer(e)}),n.forEach(function(e){return q.addWmsZHLayer(e)}),q.map.setTarget(document.getElementById("myOlMap")),q.addPeri(e)},zoomToPeri:function(){q.view.fit(q.periLayer.getSource().getExtent(),{duration:1e3})},deletePeri:function(){q.removeInteractions(),q.periLayer.getSource().getFeatures().forEach(function(e){q.periLayer.getSource().removeFeature(e)}),"polygon"===q.mapconfig.perimeter?(q.mapconfig.polygon=[],q.map.addInteraction(q.drawPoly)):"box"===q.mapconfig.perimeter&&(q.mapconfig.box=[],q.map.addInteraction(q.drawBox)),q.elmApp.ports.mapConfigChanged.send(q.mapconfig)},updatePerimeter:function(e,t){"polygon"===q.mapconfig.perimeter?q.mapconfig.polygon=e:"box"===q.mapconfig.perimeter&&(q.mapconfig.box=e),q.elmApp.ports.mapConfigChanged.send(q.mapconfig)},onFinishDrawing:function(e){q.controlDoubleClickZoom(!1),setTimeout(function(){q.controlDoubleClickZoom(!0)},251)},controlDoubleClickZoom:function(e){for(var t=q.map.getInteractions(),r=0;r<t.getLength();r++){var n=t.item(r);n instanceof d.default&&n.setActive(e)}},getLayerNames:function(){var e=q.map.getLayers().getArray(),t=[];e.forEach(function(e){return e.get("name")?t.push(e.get("name")):t=t}),q.olLayerNames=t},addWmsZHLayer:function(e){var t=new r.default({name:e,source:new p.default({url:"https://wms.zh.ch/"+e+"/",attributions:", "+e,params:{LAYERS:e,FORMAT:"image/png; mode=8bit"},serverType:"mapserver"}),maxResolution:85,opacity:.5});q.map.addLayer(t)},removeLayer:function(e){q.map.getLayers().getArray().filter(function(t){return t.get("name")===e}).forEach(function(e){return q.map.removeLayer(e)})},buildUpLayer:function(){return new r.default({source:new p.default({url:"https://wms.zh.ch/uplayerwms/",attributions:'© <a href="https://maps.zh.ch" target="_blank">maps.zh.ch</a>',params:{LAYERS:"uplayerwms",FORMAT:"image/png; mode=8bit"},serverType:"mapserver"}),maxResolution:.5})},buildUpRasterLayer:function(){return new r.default({source:new p.default({url:"https://wms.zh.ch/upwms/",attributions:'© <a href="https://maps.zh.ch" target="_blank">maps.zh.ch</a>',params:{LAYERS:"upwms",FORMAT:"image/png; mode=8bit"},serverType:"mapserver"}),minResolution:.5,maxResolution:185})},buildLkLayer:function(){return new r.default({source:new p.default({url:"https://wms.geo.admin.ch/",crossOrigin:"anonymous",attributions:'© <a href="http://www.geo.admin.ch/internet/geoportal/en/home.html">Pixelmap 1:1000000 / geo.admin.ch</a>',params:{LAYERS:"ch.swisstopo.pixelkarte-farbe-pk1000.noscale",FORMAT:"image/jpeg"},serverType:"mapserver"}),minResolution:85})},removeInteractions:function(){q.map.removeInteraction(q.drawBox),q.map.removeInteraction(q.select),q.map.removeInteraction(q.modify),q.map.removeInteraction(q.translate),q.map.removeInteraction(q.snap),q.map.removeInteraction(q.boxExtent),q.map.removeInteraction(q.drawPoly),q.measureTooltipElement&&(q.measureTooltipElement.parentNode.removeChild(q.measureTooltipElement),q.measureTooltipElement=null)},setupMap:function(e,r){q.elmApp=r,q.mapconfig=e,s.default.defs("EPSG:2056","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs"),(0,m.register)(s.default),q.projection=new c.default({code:"EPSG:2056",extent:[2485071.58,1075346.31,2828515.82,1299941.79]}),q.view=new t.View({center:e.center,projection:q.projection,zoom:e.zoom}),q.view.on("change",function(e){q.mapconfig.center=e.target.getCenter(),q.mapconfig.extent=e.target.calculateExtent(q.map.getSize()),q.mapconfig.zoom=q.map.getView().getZoom(),r.ports.mapConfigChanged.send(q.mapconfig),"extent"===q.mapconfig.perimeter&&q.showCurrentArea(q.getCenter(q.mapconfig.extent),(q.mapconfig.extent[0]-q.mapconfig.extent[2])*(q.mapconfig.extent[1]-q.mapconfig.extent[3]))}),q.featureSource=new a.default({wrapX:!1}),q.periLayer=new o.default({source:q.featureSource,style:new E.Style({fill:new E.Fill({color:"rgba(255, 255, 255, 0.1)"}),stroke:new E.Stroke({color:"#6666CC",width:3}),image:new S.default({radius:7,fill:new E.Fill({color:"#6666CC"})})})});var n=new E.Style({fill:new E.Fill({color:"rgba(0, 255, 0, 0)"}),stroke:new E.Stroke({color:"#999999",width:1}),text:new E.Text({font:"14px Calibri,sans-serif",fill:new E.Fill({color:"#000"}),stroke:new E.Stroke({color:"#fff",width:3})})});q.municipalitySource=new a.default({wrapX:!1,url:"./GEN_A4_GEMEINDEN_SEEN_F.json",format:new l.default({dataProjection:q.projection}),strategy:i.all}),q.municipalityLayer=new o.default({source:q.municipalitySource,style:function(e){return n.getText().setText(e.get("NAME")),n}}),q.drawBox=new g.default({type:"Circle",source:q.featureSource,geometryFunction:(0,g.createBox)()}),q.drawBox.on("drawend",function(e){var t=e.feature.getGeometry();q.updatePerimeter(t.getCoordinates(),"drawend"),q.removeInteractions(),q.map.addInteraction(q.translate),q.showCurrentArea(q.getCenter(t.getExtent()),t.getArea())}),q.drawPoly=new g.default({type:"Polygon",source:q.featureSource}),q.drawPoly.on("drawend",function(e){q.onFinishDrawing();var t=e.feature.getGeometry();q.updatePerimeter(t.getCoordinates(),"drawend"),q.removeInteractions(),q.map.addInteraction(q.modify),q.showCurrentArea(q.getCenter(t.getExtent()),t.getArea())}),q.modify=new f.default({source:q.featureSource}),q.modify.on("modifyend",function(e){var t=e.features.getArray()[0].getGeometry();q.updatePerimeter(t.getCoordinates(),"modifyend"),q.showCurrentArea(q.getCenter(t.getExtent()),t.getArea())}),q.translate=new y.default({source:q.featureSource}),q.translate.on("translateend",function(e){var t=e.features.getArray()[0].getGeometry();q.updatePerimeter(t.getCoordinates(),"translateend"),q.showCurrentArea(q.getCenter(t.getExtent()),t.getArea())}),q.select=new h.default({}),q.select.on("select",function(e){var t={};t=e.selected[0].values_.BFS?{peri:q.mapconfig.perimeter,bfs:e.selected[0].values_.BFS,name:e.selected[0].values_.NAME,coord:e.mapBrowserEvent.coordinate,egrid:""}:{peri:q.mapconfig.perimeter,bfs:e.selected[0].values_.bfsnr,name:e.selected[0].values_.name,coord:e.mapBrowserEvent.coordinate,egrid:e.selected[0].id_},q.elmApp.ports.mapFeatureSelected.send(t)}),q.map=new t.Map({controls:(0,b.defaults)().extend([new w.default]),layers:[q.buildUpRasterLayer(),q.buildUpLayer(),q.municipalityLayer,q.periLayer],view:q.view}),q.map.setTarget(document.getElementById("myOlMap"))},addPeri:function(e){var r=null;if(q.map.removeLayer(q.municipalityLayer),"polygon"===e.perimeter)e.polygon.length>0?((r=new t.Feature({geometry:new C.default(e.polygon),name:"polygon"})).setId(12345),q.featureSource.addFeature(r),q.map.addInteraction(q.modify),q.showCurrentArea(q.getCenter(r.getGeometry().getExtent()),r.getGeometry().getArea())):q.map.addInteraction(q.drawPoly);else if("box"===e.perimeter)e.box.length>0?((r=new t.Feature({geometry:new C.default(e.box),name:"box"})).setId(23456),q.featureSource.addFeature(r),q.map.addInteraction(q.translate),q.showCurrentArea(q.getCenter(r.getGeometry().getExtent()),r.getGeometry().getArea())):(q.removeInteractions(),q.map.addInteraction(q.drawBox));else if("extent"===e.perimeter)q.mapconfig.extent=q.view.calculateExtent(q.map.getSize()),q.elmApp.ports.mapConfigChanged.send(q.mapconfig),q.showCurrentArea(q.getCenter(q.mapconfig.extent),(q.mapconfig.extent[0]-q.mapconfig.extent[2])*(q.mapconfig.extent[1]-q.mapconfig.extent[3]));else if("gemeinden"===e.perimeter){var n;q.map.addLayer(q.municipalityLayer),q.select.getFeatures().clear();var o=q.municipalitySource;e.gemeinden.length>0&&e.gemeinden.forEach(function(e){(n=o.getFeatureById(parseInt(e,10)))&&q.featureSource.addFeature(n)}),q.map.addInteraction(q.select)}else"parzellen"===e.perimeter?(q.map.addLayer(q.municipalityLayer),q.select.getFeatures().clear(),e.parzellen.length>0&&e.parzellen.forEach(function(e){(r=new t.Feature({geometry:new C.default(e.geom),name:e.nummer})).setId(e.egris_egrid),r.set("nummer",e.nummer),r.set("geodb_oid",e.geodb_oid),r.set("bfsnr",e.bfsnr),r.set("gemeinde",e.gemeinde),q.featureSource.addFeature(r)}),q.map.addInteraction(q.select)):q.removeInteractions();"setCenter"==e.oltool&&(q.map.getView().setCenter(e.center),e.oltool="none",q.elmApp.ports.mapConfigChanged.send(q.mapconfig))},formatArea:function(e){return e>1e5?Math.round(e/1e6*100)/100+" km<sup>2</sup>":Math.round(100*e)/100+" m<sup>2</sup>"},getCenter:function(e){return[100*Math.round((e[0]+e[2])/2)/100,100*Math.round((e[1]+e[3])/2)/100]},createMeasureTooltip:function(){q.measureTooltipElement&&q.measureTooltipElement.parentNode.removeChild(q.measureTooltipElement),q.measureTooltipElement=document.createElement("div"),q.measureTooltipElement.className="tooltip tooltip-measure",q.measureTooltip=new x.default({element:q.measureTooltipElement,positioning:"center-center"}),q.map.addOverlay(q.measureTooltip)},showCurrentArea:function(e,t){q.createMeasureTooltip(),q.measureTooltipElement.innerHTML=q.formatArea(t),q.measureTooltip.setPosition(e)}},M=document.querySelector(".add-button");M&&(M.style.display="none"),window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),T=e,M.style.display="block",M.addEventListener("click",function(e){M.style.display="none",T.prompt(),T.userChoice.then(function(e){e.outcome,T=null})})});
},{"./src/Main.elm":"oS9F","ol/ol.css":"JiFC","ol":"DRei","ol/layer/Image":"KHBf","ol/layer/Tile":"BUEc","ol/layer/Vector":"dflx","ol/source/Vector":"ZS12","ol/loadingstrategy":"JpXE","ol/format/GeoJSON":"qBlb","ol/format/WFS":"UejM","ol/proj/Projection":"WUar","ol/proj/proj4.js":"BAXJ","proj4":"oaf9","ol/source/ImageWMS":"e4Kb","ol/interaction/DoubleClickZoom":"NSa4","ol/interaction/Draw":"e7i2","ol/interaction/Modify":"qrxo","ol/interaction/Translate":"dAAZ","ol/control/ScaleLine":"DK5d","ol/interaction/Select":"SMGe","ol/events/condition":"YcID","ol/geom/Polygon":"Nwwk","ol/control.js":"ucqx","ol/style/Circle":"cdf1","ol/Overlay.js":"qWcX","ol/style":"qeKX"}]},{},["Focm"], null)