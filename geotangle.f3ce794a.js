let t,e,i,n;function r(t){return t&&t.__esModule?t.default:t}var s,a={};!function(t){"use strict";function e(t,e,i){return i.a=t,i.f=e,i}function i(t){return e(2,t,function(e){return function(i){return t(e,i)}})}function n(t){return e(3,t,function(e){return function(i){return function(n){return t(e,i,n)}}})}function r(t){return e(4,t,function(e){return function(i){return function(n){return function(r){return t(e,i,n,r)}}}})}function s(t){return e(5,t,function(e){return function(i){return function(n){return function(r){return function(s){return t(e,i,n,r,s)}}}}})}function a(t){return e(6,t,function(e){return function(i){return function(n){return function(r){return function(s){return function(a){return t(e,i,n,r,s,a)}}}}}})}function o(t){return e(7,t,function(e){return function(i){return function(n){return function(r){return function(s){return function(a){return function(o){return t(e,i,n,r,s,a,o)}}}}}}})}function h(t){return e(8,t,function(e){return function(i){return function(n){return function(r){return function(s){return function(a){return function(o){return function(h){return t(e,i,n,r,s,a,o,h)}}}}}}}})}function l(t){return e(9,t,function(e){return function(i){return function(n){return function(r){return function(s){return function(a){return function(o){return function(h){return function(l){return t(e,i,n,r,s,a,o,h,l)}}}}}}}}})}function u(t,e,i){return 2===t.a?t.f(e,i):t(e)(i)}function c(t,e,i,n){return 3===t.a?t.f(e,i,n):t(e)(i)(n)}function d(t,e,i,n,r){return 4===t.a?t.f(e,i,n,r):t(e)(i)(n)(r)}function f(t,e,i,n,r,s){return 5===t.a?t.f(e,i,n,r,s):t(e)(i)(n)(r)(s)}function g(t,e,i,n,r,s,a){return 6===t.a?t.f(e,i,n,r,s,a):t(e)(i)(n)(r)(s)(a)}function m(t,e,i,n,r,s,a,o){return 7===t.a?t.f(e,i,n,r,s,a,o):t(e)(i)(n)(r)(s)(a)(o)}function p(t,e,i,n,r,s,a,o,h){return 8===t.a?t.f(e,i,n,r,s,a,o,h):t(e)(i)(n)(r)(s)(a)(o)(h)}function _(t,e){for(var i,n=[],r=v(t,e,0,n);r&&(i=n.pop());r=v(i.a,i.b,0,n));return r}function v(t,e,i,n){if(t===e)return!0;if("object"!=typeof t||null===t||null===e)return"function"==typeof t&&D(5),!1;if(i>100)return n.push(b(t,e)),!0;for(var r in 0>t.$&&(t=e1(t),e=e1(e)),t)if(!v(t[r],e[r],i+1,n))return!1;return!0}function y(t,e,i){if("object"!=typeof t)return t===e?0:e>t?-1:1;if(void 0===t.$)return(i=y(t.a,e.a))||(i=y(t.b,e.b))?i:y(t.c,e.c);for(;t.b&&e.b&&!(i=y(t.a,e.a));t=t.b,e=e.b);return i||(t.b?1:e.b?-1:0)}var x=i(function(t,e){var i=y(t,e);return 0>i?eQ:i?eJ:eZ});function b(t,e){return{a:t,b:e}}function M(t,e,i){return{a:t,b:e,c:i}}function w(t,e){var i={};for(var n in t)i[n]=t[n];for(var n in e)i[n]=e[n];return i}var E=i(C);function C(t,e){if("string"==typeof t)return t+e;if(!t.b)return e;var i=I(t.a,e);t=t.b;for(var n=i;t.b;t=t.b)n=n.b=I(t.a,e);return i}var S={$:0};function I(t,e){return{$:1,a:t,b:e}}var R=i(I);function P(t){for(var e=S,i=t.length;i--;)e=I(t[i],e);return e}function k(t){for(var e=[];t.b;t=t.b)e.push(t.a);return e}var T=n(function(t,e,i){for(var n=[];e.b&&i.b;e=e.b,i=i.b)n.push(u(t,e.a,i.a));return P(n)}),A=i(function(t,e){return P(k(e).sort(function(e,i){return y(t(e),t(i))}))}),L=i(function(t,e){return P(k(e).sort(function(e,i){var n=u(t,e,i);return n===eZ?0:n===eQ?-1:1}))}),O=n(function(t,e,i){for(var n=Array(t),r=0;t>r;r++)n[r]=i(e+r);return n}),F=i(function(t,e){for(var i=Array(t),n=0;t>n&&e.b;n++)i[n]=e.a,e=e.b;return i.length=n,b(i,e)});function D(t){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+t+".md")}var N=i(Math.pow),$=i(function(t,e){var i=e%t;return 0===t?D(11):i>0&&0>t||0>i&&t>0?i+t:i}),G=Math.log,z=i(function(t,e){return t&&e}),j=i(function(t,e){return t+e}),B=i(function(t,e){return t+e}),W=i(function(t,e){for(var i=[],n=e.length,r=0;n>r;){var s=e[r],a=e.charCodeAt(r);r++,55296>a||a>56319||(s+=e[r],r++),t(s)&&i.push(s)}return i.join("")}),V=n(function(t,e,i){for(var n=i.length,r=0;n>r;){var s=i[r],a=i.charCodeAt(r);r++,55296>a||a>56319||(s+=i[r],r++),e=u(t,s,e)}return e}),H=n(function(t,e,i){for(var n=i.length;n--;){var r=i[n],s=i.charCodeAt(n);56320>s||s>57343||(r=i[--n]+r),e=u(t,r,e)}return e}),q=i(function(t,e){return e.split(t)}),U=i(function(t,e){return e.join(t)}),X=n(function(t,e,i){return i.slice(t,e)}),Y=i(function(t,e){for(var i=e.length;i--;){var n=e[i],r=e.charCodeAt(i);if(56320>r||r>57343||(n=e[--i]+n),!t(n))return!1}return!0}),K=i(function(t,e){return e.indexOf(t)>-1}),Z=i(function(t,e){return 0===e.indexOf(t)});function J(t){return t+""}function Q(t){return{$:2,b:t}}var tt=Q(function(t){return"number"!=typeof t?tb("an INT",t):t>-2147483647&&2147483647>t&&(0|t)===t?e9(t):!isFinite(t)||t%1?tb("an INT",t):e9(t)}),te=Q(function(t){return"boolean"==typeof t?e9(t):tb("a BOOL",t)}),ti=Q(function(t){return"number"==typeof t?e9(t):tb("a FLOAT",t)}),tn=Q(function(t){return e9(t)}),tr=Q(function(t){return"string"==typeof t?e9(t):t instanceof String?e9(t+""):tb("a STRING",t)}),ts=i(function(t,e){return{$:6,d:t,b:e}});function ta(t,e){return{$:9,f:t,g:e}}var to=i(function(t,e){return{$:10,b:e,h:t}}),th=i(function(t,e){return ta(t,[e])}),tl=n(function(t,e,i){return ta(t,[e,i])}),tu=r(function(t,e,i,n){return ta(t,[e,i,n])}),tc=s(function(t,e,i,n,r){return ta(t,[e,i,n,r])}),td=o(function(t,e,i,n,r,s,a){return ta(t,[e,i,n,r,s,a])}),tf=h(function(t,e,i,n,r,s,a,o){return ta(t,[e,i,n,r,s,a,o])}),tg=l(function(t,e,i,n,r,s,a,o,h){return ta(t,[e,i,n,r,s,a,o,h])}),tm=i(function(t,e){try{return t_(t,JSON.parse(e))}catch(t){return e4(u(e5,"This is not valid JSON! "+t.message,e))}}),tp=i(function(t,e){return t_(t,e)});function t_(t,e){switch(t.$){case 2:return t.b(e);case 5:return null===e?e9(t.c):tb("null",e);case 3:return ty(e)?tv(t.b,e,P):tb("a LIST",e);case 4:return ty(e)?tv(t.b,e,tx):tb("an ARRAY",e);case 6:var i=t.d;if("object"!=typeof e||null===e||!(i in e))return tb("an OBJECT with a field named `"+i+"`",e);var n=t_(t.b,e[i]);return iz(n)?n:e4(u(e6,i,n.a));case 7:var r=t.e;return ty(e)?e.length>r?iz(n=t_(t.b,e[r]))?n:e4(u(e8,r,n.a)):tb("a LONGER array. Need index "+r+" but only see "+e.length+" entries",e):tb("an ARRAY",e);case 8:if("object"!=typeof e||null===e||ty(e))return tb("an OBJECT",e);var s=S;for(var a in e)if(e.hasOwnProperty(a)){if(!iz(n=t_(t.b,e[a])))return e4(u(e6,a,n.a));s=I(b(a,n.a),s)}return e9(i_(s));case 9:for(var o=t.f,h=t.g,l=0;h.length>l;l++){if(!iz(n=t_(h[l],e)))return n;o=o(n.a)}return e9(o);case 10:return iz(n=t_(t.b,e))?t_(t.h(n.a),e):n;case 11:for(var c=S,d=t.g;d.b;d=d.b){if(iz(n=t_(d.a,e)))return n;c=I(n.a,c)}return e4(e7(i_(c)));case 1:return e4(u(e5,t.a,e));case 0:return e9(t.a)}}function tv(t,e,i){for(var n=e.length,r=Array(n),s=0;n>s;s++){var a=t_(t,e[s]);if(!iz(a))return e4(u(e8,s,a.a));r[s]=a.a}return e9(i(r))}function ty(t){return Array.isArray(t)||"undefined"!=typeof FileList&&t instanceof FileList}function tx(t){return u(iG,t.length,function(e){return t[e]})}function tb(t,e){return e4(u(e5,"Expecting "+t,e))}function tM(t,e){if(t===e)return!0;if(t.$!==e.$)return!1;switch(t.$){case 0:case 1:return t.a===e.a;case 2:return t.b===e.b;case 5:return t.c===e.c;case 3:case 4:case 8:return tM(t.b,e.b);case 6:return t.d===e.d&&tM(t.b,e.b);case 7:return t.e===e.e&&tM(t.b,e.b);case 9:return t.f===e.f&&tw(t.g,e.g);case 10:return t.h===e.h&&tM(t.b,e.b);case 11:return tw(t.g,e.g)}}function tw(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;i>n;n++)if(!tM(t[n],e[n]))return!1;return!0}var tE=i(function(t,e){return JSON.stringify(e,null,t)+""});function tC(t){return t}var tS=n(function(t,e,i){return i[t]=e,i});function tI(t){return{$:0,a:t}}function tR(t){return{$:2,b:t,c:null}}var tP=i(function(t,e){return{$:3,b:t,d:e}}),tk=i(function(t,e){return{$:4,b:t,d:e}}),tT=0;function tA(t){var e={$:0,e:tT++,f:t,g:null,h:[]};return t$(e),e}function tL(t){return tR(function(e){e(tI(tA(t)))})}function tO(t,e){t.h.push(e),t$(t)}var tF=i(function(t,e){return tR(function(i){tO(t,e),i(tI(0))})}),tD=!1,tN=[];function t$(t){if(tN.push(t),!tD){for(tD=!0;t=tN.shift();)!function(t){for(;t.f;){var e=t.f.$;if(0===e||1===e){for(;t.g&&t.g.$!==e;)t.g=t.g.i;if(!t.g)return;t.f=t.g.b(t.f.a),t.g=t.g.i}else{if(2===e)return void(t.f.c=t.f.b(function(e){t.f=e,t$(t)}));if(5===e){if(0===t.h.length)return;t.f=t.f.b(t.h.shift())}else t.g={$:3===e?0:1,b:t.f.b,i:t.g},t.f=t.f.d}}}(t);tD=!1}}function tG(t){return tR(function(e){var i=setTimeout(function(){e(tI(0))},t);return function(){clearTimeout(i)}})}var tz={};function tj(t,e,i,n,r){return{b:t,c:e,d:i,e:n,f:r}}var tB=i(function(t,e){return tR(function(i){t.g(e),i(tI(0))})}),tW=i(function(t,e){return u(tF,t.h,{$:0,a:e})});function tV(t){return function(e){return{$:1,k:t,l:e}}}function tH(t){return{$:2,m:t}}var tq=i(function(t,e){return{$:3,n:t,o:e}}),tU=[],tX=!1;function tY(t,e,i){if(tU.push({p:t,q:e,r:i}),!tX){tX=!0;for(var n;n=tU.shift();)!function(t,e,i){var n={};for(var r in tK(!0,e,n,null),tK(!1,i,n,null),t)tO(t[r],{$:"fx",a:n[r]||{i:S,j:S}})}(n.p,n.q,n.r);tX=!1}}function tK(t,e,i,n){switch(e.$){case 1:var r,s,a=e.k,o=(r=e.l,u(t?tz[a].e:tz[a].f,function(t){for(var e=n;e;e=e.t)t=e.s(t);return t},r));return void(i[a]=(s=(s=i[a])||{i:S,j:S},t?s.i=I(o,s.i):s.j=I(o,s.j),s));case 2:for(var h=e.m;h.b;h=h.b)tK(t,h.a,i,n);return;case 3:return void tK(t,e.o,i,{s:e.n,t:n})}}function tZ(t,e){return tz[t]&&D(3),tz[t]={e:tJ,u:e,a:tQ},tV(t)}var tJ=i(function(t,e){return e});function tQ(t){var e=[],i=tz[t].u,r=tG(0);return tz[t].b=r,tz[t].c=n(function(t,n){for(;n.b;n=n.b)for(var s=e,a=i(n.a),o=0;s.length>o;o++)s[o](a);return r}),{subscribe:function(t){e.push(t)},unsubscribe:function(t){var i=(e=e.slice()).indexOf(t);0>i||e.splice(i,1)}}}function t0(t,e){return tz[t]&&D(3),tz[t]={f:t2,u:e,a:t3},tV(t)}var t1,t2=i(function(t,e){return function(i){return t(e(i))}});function t3(t,e){var i=S,r=tz[t].u,s=tI(null);return tz[t].b=s,tz[t].c=n(function(t,e){return i=e,s}),{send:function(t){var n=u(tp,r,t);iz(n)||D(4);for(var s=n.a,a=i;a.b;a=a.b)e(a.a(s))}}}var t4="undefined"!=typeof document?document:{};function t5(t,e){t.appendChild(e)}function t6(t){return{$:0,a:t}}var t8=i(function(t,e){return i(function(i,n){for(var r=[],s=0;n.b;n=n.b){var a=n.a;s+=a.b||0,r.push(a)}return s+=r.length,{$:1,c:e,d:ed(i),e:r,f:t,b:s}})}),t9=t8(void 0),t7=i(function(t,e){return i(function(i,n){for(var r=[],s=0;n.b;n=n.b){var a=n.a;s+=a.b.b||0,r.push(a)}return s+=r.length,{$:2,c:e,d:ed(i),e:r,f:t,b:s}})}),et=t7(void 0),ee=i(function(t,e){return{$:4,j:t,k:e,b:1+(e.b||0)}}),ei=i(function(t,e){return{$:"a0",n:t,o:e}}),en=i(function(t,e){return{$:"a1",n:t,o:e}}),er=i(function(t,e){return{$:"a2",n:t,o:e}}),es=i(function(t,e){return{$:"a3",n:t,o:e}});function ea(t){return"script"==t?"p":t}function eo(t){return/^\s*(javascript:|data:text\/html)/i.test(t)?"":t}var eh,el=i(function(t,e){var i,n;return"a0"===e.$?u(ei,e.n,(n=iV(i=e.o),{$:i.$,a:n?c(iB,3>n?eu:ec,iW(t),i.a):u(ij,t,i.a)})):e}),eu=i(function(t,e){return b(t(e.a),e.b)}),ec=i(function(t,e){return{at:t(e.at),ds:e.ds,dm:e.dm}});function ed(t){for(var e={};t.b;t=t.b){var i=t.a,n=i.$,r=i.n,s=i.o;if("a2"!==n){var a=e[n]||(e[n]={});"a3"===n&&"class"===r?ef(a,r,s):a[r]=s}else"className"===r?ef(e,r,s):e[r]=s}return e}function ef(t,e,i){var n=t[e];t[e]=n?n+" "+i:i}function eg(t,e){var i=t.$;if(5===i)return eg(t.k||(t.k=t.m()),e);if(0===i)return t4.createTextNode(t.a);if(4===i){for(var n=t.k,r=t.j;4===n.$;)"object"!=typeof r?r=[r,n.j]:r.push(n.j),n=n.k;var s={j:r,p:e};return(a=eg(n,s)).elm_event_node_ref=s,a}if(3===i)return em(a=t.h(t.g),e,t.d),a;var a=t.f?t4.createElementNS(t.f,t.c):t4.createElement(t.c);t1&&"a"==t.c&&a.addEventListener("click",t1(a)),em(a,e,t.d);for(var o=t.e,h=0;o.length>h;h++)t5(a,eg(1===i?o[h]:o[h].b,e));return a}function em(t,e,i){for(var n in i){var r=i[n];"a1"===n?function(t,e){var i=t.style;for(var n in e)i[n]=e[n]}(t,r):"a0"===n?function(t,e,i){var n=t.elmFs||(t.elmFs={});for(var r in i){var s=i[r],a=n[r];if(s){if(a){if(a.q.$===s.$){a.q=s;continue}t.removeEventListener(r,a)}a=function(t,e){function i(e){var n=i.q,r=t_(n.a,e);if(iz(r)){for(var s,a=iV(n),o=r.a,h=a?3>a?o.a:o.at:o,l=1==a?o.b:3==a&&o.ds,u=(l&&e.stopPropagation(),(2==a?o.b:3==a&&o.dm)&&e.preventDefault(),t);s=u.j;){if("function"==typeof s)h=s(h);else for(var c=s.length;c--;)h=s[c](h);u=u.p}u(h,l)}}return i.q=e,i}(e,s),t.addEventListener(r,a,eh&&{passive:2>iV(s)}),n[r]=a}else t.removeEventListener(r,a),n[r]=void 0}}(t,e,r):"a3"===n?function(t,e){for(var i in e){var n=e[i];void 0!==n?t.setAttribute(i,n):t.removeAttribute(i)}}(t,r):"a4"===n?function(t,e){for(var i in e){var n=e[i],r=n.f,s=n.o;void 0!==s?t.setAttributeNS(r,i,s):t.removeAttributeNS(r,i)}}(t,r):("value"!==n&&"checked"!==n||t[n]!==r)&&(t[n]=r)}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){eh=!0}}))}catch(t){}function ep(t,e,i,n){var r={$:e,r:i,s:n,t:void 0,u:void 0};return t.push(r),r}function e_(t,e,i,n){if(t!==e){var r=t.$,s=e.$;if(r!==s){if(1!==r||2!==s)return void ep(i,0,n,e);e=function(t){for(var e=t.e,i=e.length,n=Array(i),r=0;i>r;r++)n[r]=e[r].b;return{$:1,c:t.c,d:t.d,e:n,f:t.f,b:t.b}}(e),s=1}switch(s){case 5:for(var a=t.l,o=e.l,h=a.length,l=h===o.length;l&&h--;)l=a[h]===o[h];if(l)return void(e.k=t.k);e.k=e.m();var u=[];return e_(t.k,e.k,u,0),void(u.length>0&&ep(i,1,n,u));case 4:for(var c=t.j,d=e.j,f=!1,g=t.k;4===g.$;)f=!0,"object"!=typeof c?c=[c,g.j]:c.push(g.j),g=g.k;for(var m=e.k;4===m.$;)f=!0,"object"!=typeof d?d=[d,m.j]:d.push(m.j),m=m.k;return f&&c.length!==d.length?void ep(i,0,n,e):((f?function(t,e){for(var i=0;t.length>i;i++)if(t[i]!==e[i])return!1;return!0}(c,d):c===d)||ep(i,2,n,d),void e_(g,m,i,n+1));case 0:return void(t.a!==e.a&&ep(i,3,n,e.a));case 1:return void ev(t,e,i,n,ex);case 2:return void ev(t,e,i,n,eb);case 3:if(t.h!==e.h)return void ep(i,0,n,e);var p=ey(t.d,e.d);p&&ep(i,4,n,p);var _=e.i(t.g,e.g);return void(_&&ep(i,5,n,_))}}}function ev(t,e,i,n,r){if(t.c===e.c&&t.f===e.f){var s=ey(t.d,e.d);s&&ep(i,4,n,s),r(t,e,i,n)}else ep(i,0,n,e)}function ey(t,e,i){var n;for(var r in t)if("a1"!==r&&"a0"!==r&&"a3"!==r&&"a4"!==r){if(r in e){var s=t[r],a=e[r];s===a&&"value"!==r&&"checked"!==r||"a0"===i&&s.$==a.$&&tM(s.a,a.a)||((n=n||{})[r]=a)}else(n=n||{})[r]=i?"a1"===i?"":"a0"===i||"a3"===i?void 0:{f:t[r].f,o:void 0}:"string"==typeof t[r]?"":null}else{var o=ey(t[r],e[r]||{},r);o&&((n=n||{})[r]=o)}for(var h in e)h in t||((n=n||{})[h]=e[h]);return n}function ex(t,e,i,n){var r=t.e,s=e.e,a=r.length,o=s.length;a>o?ep(i,6,n,{v:o,i:a-o}):o>a&&ep(i,7,n,{v:a,e:s});for(var h=o>a?a:o,l=0;h>l;l++){var u=r[l];e_(u,s[l],i,++n),n+=u.b||0}}function eb(t,e,i,n){for(var r=[],s={},a=[],o=t.e,h=e.e,l=o.length,u=h.length,c=0,d=0,f=n;l>c&&u>d;){var g=(S=o[c]).a,m=(I=h[d]).a,p=S.b,_=I.b,v=void 0,y=void 0;if(g!==m){var x=o[c+1],b=h[d+1];if(x){var M=x.a,w=x.b;y=m===M}if(b){var E=b.a,C=b.b;v=g===E}if(v&&y)e_(p,C,r,++f),ew(s,r,g,_,d,a),f+=p.b||0,eE(s,r,g,w,++f),f+=w.b||0,c+=2,d+=2;else if(v)f++,ew(s,r,m,_,d,a),e_(p,C,r,f),f+=p.b||0,c+=1,d+=2;else if(y)eE(s,r,g,p,++f),f+=p.b||0,e_(w,_,r,++f),f+=w.b||0,c+=2,d+=1;else{if(!x||M!==E)break;eE(s,r,g,p,++f),ew(s,r,m,_,d,a),f+=p.b||0,e_(w,C,r,++f),f+=w.b||0,c+=2,d+=2}}else e_(p,_,r,++f),f+=p.b||0,c++,d++}for(;l>c;)f++,eE(s,r,(S=o[c]).a,p=S.b,f),f+=p.b||0,c++;for(;u>d;){var S,I,R=R||[];ew(s,r,(I=h[d]).a,I.b,void 0,R),d++}(r.length>0||a.length>0||R)&&ep(i,8,n,{w:r,x:a,y:R})}var eM="_elmW6BL";function ew(t,e,i,n,r,s){var a=t[i];if(!a)return s.push({r:r,A:a={c:0,z:n,r:r,s:void 0}}),void(t[i]=a);if(1===a.c){s.push({r:r,A:a}),a.c=2;var o=[];return e_(a.z,n,o,a.r),a.r=r,void(a.s.s={w:o,A:a})}ew(t,e,i+eM,n,r,s)}function eE(t,e,i,n,r){var s=t[i];if(s){if(0===s.c){s.c=2;var a=[];return e_(n,s.z,a,r),void ep(e,9,r,{w:a,A:s})}eE(t,e,i+eM,n,r)}else{var o=ep(e,9,r,void 0);t[i]={c:1,z:n,r:r,s:o}}}var eC,eS=r(function(t,e,i,n){return function(t,e,i,n,r,s){var a=u(tp,t,e?e.flags:void 0);iz(a)||D(2);var o={},h=i(a.a),l=h.a,f=s(m,l),g=function(t,e){var i;for(var n in tz){var r=tz[n];r.a&&((i=i||{})[n]=r.a(n,e)),t[n]=function(t,e){var i={g:e,h:void 0},n=t.c,r=t.d,s=t.e,a=t.f;return i.h=tA(u(tP,function t(e){return u(tP,t,{$:5,b:function(t){var o=t.a;return 0===t.$?c(r,i,o,e):s&&a?d(n,i,o.i,o.j,e):c(n,i,s?o.i:o.j,e)}})},t.b))}(r,e)}return i}(o,m);function m(t,e){var i=u(n,t,l);f(l=i.a,e),tY(o,i.b,r(l))}return tY(o,h.b,r(l)),g?{ports:g}:{}}(e,n,t.hG,t.jV,t.jm,function(e,i){var n=t.dq&&t.dq(e),r=t.jZ,s=t4.title,a=t4.body,o=function t(e){if(3===e.nodeType)return t6(e.textContent);if(1!==e.nodeType)return t6("");for(var i=S,n=e.attributes,r=n.length;r--;){var s=n[r];i=I(u(es,s.name,s.value),i)}var a=e.tagName.toLowerCase(),o=S,h=e.childNodes;for(r=h.length;r--;)o=I(t(h[r]),o);return c(t9,a,i,o)}(a);return function(t,e){e(t);var i=0;function n(){i=1===i?0:(eI(n),e(t),1)}return function(r,s){t=r,s?(e(t),2===i&&(i=1)):(0===i&&eI(n),i=2)}}(i,function(t){t1=n;var i,h,l,u=r(t),c=t9("body")(S)(u.gn),d=(e_(o,c,i=[],0),i);h=a,l=o,a=0===d.length?h:(function t(e,i,n,r){!function e(i,n,r,s,a,o,h){for(var l=r[s],u=l.r;u===a;){var c=l.$;if(1===c)t(i,n.k,l.s,h);else if(8===c)l.t=i,l.u=h,(d=l.s.w).length>0&&e(i,n,d,0,a,o,h);else if(9===c){l.t=i,l.u=h;var d,f=l.s;f&&(f.A.s=i,(d=f.w).length>0&&e(i,n,d,0,a,o,h))}else l.t=i,l.u=h;if(!(l=r[++s])||(u=l.r)>o)return s}var g=n.$;if(4===g){for(var m=n.k;4===m.$;)m=m.k;return e(i,m,r,s,a+1,o,i.elm_event_node_ref)}for(var p=n.e,_=i.childNodes,v=0;p.length>v;v++){a++;var y=1===g?p[v]:p[v].b,x=a+(y.b||0);if(!(a>u||u>x||(l=r[s=e(_[v],y,r,s,a,x,h)])&&(u=l.r)<=o))break;a=x}return s}(e,i,n,0,0,i.b,r)}(h,l,d,e),function t(e,i){for(var n=0;i.length>n;n++){var r=i[n],s=r.t,a=function(e,i){switch(i.$){case 0:var n,r,s,a;return n=i.s,r=i.u,s=e.parentNode,(a=eg(n,r)).elm_event_node_ref||(a.elm_event_node_ref=e.elm_event_node_ref),s&&a!==e&&s.replaceChild(a,e),a;case 4:return em(e,i.u,i.s),e;case 3:return e.replaceData(0,e.length,i.s),e;case 1:return t(e,i.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=i.s:e.elm_event_node_ref={j:i.s,p:i.u},e;case 6:for(var o=i.s,h=0;o.i>h;h++)e.removeChild(e.childNodes[o.v]);return e;case 7:for(var l=(o=i.s).e,u=e.childNodes[h=o.v];l.length>h;h++)e.insertBefore(eg(l[h],i.u),u);return e;case 9:if(!(o=i.s))return e.parentNode.removeChild(e),e;var c=o.A;return void 0!==c.r&&e.parentNode.removeChild(e),c.s=t(e,o.w),e;case 8:return function(e,i){var n=i.s,r=function(t,e){if(t){for(var i=t4.createDocumentFragment(),n=0;t.length>n;n++){var r=t[n].A;t5(i,2===r.c?r.s:eg(r.z,e.u))}return i}}(n.y,i);e=t(e,n.w);for(var s=n.x,a=0;s.length>a;a++){var o=s[a],h=o.A,l=2===h.c?h.s:eg(h.z,i.u);e.insertBefore(l,e.childNodes[o.r])}return r&&t5(e,r),e}(e,i);case 5:return i.s(e);default:D(10)}}(s,r);s===e&&(e=a)}return e}(h,d)),o=c,t1=0,s!==u.jN&&(t4.title=s=u.jN)})})}),eI=("undefined"!=typeof cancelAnimationFrame&&cancelAnimationFrame,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){return setTimeout(t,1e3/60)}),eR={addEventListener:function(){},removeEventListener:function(){}},eP="undefined"!=typeof document?document:eR,ek="undefined"!=typeof window?window:eR,eT=n(function(t,e,i){return tL(tR(function(){function n(t){tA(i(t))}return t.addEventListener(e,n,eh&&{passive:!0}),function(){t.removeEventListener(e,n)}}))}),eA=i(function(t,e){var i=t_(t,e);return iz(i)?it(i.a):ie}),eL=i(function(t,e){return tR(function(i){eI(function(){var n=document.getElementById(e);i(n?tI((n[t](),0)):{$:1,a:iq(e)})})})}),eO=n(function(t,e,i){return tR(function(n){function r(t){n(e(i.bC.a(t)))}var s,a=new XMLHttpRequest;a.addEventListener("error",function(){r(n2)}),a.addEventListener("timeout",function(){r(n5)}),a.addEventListener("load",function(){var t;r((t=i.bC.b,u(a.status>=200&&300>a.status?n1:nQ,{jX:a.responseURL,ja:a.status,dr:a.statusText,hr:function(t){if(!t)return nd;for(var e=nd,i=t.split("\r\n"),n=i.length;n--;){var r=i[n],s=r.indexOf(": ");if(s>0){var a=r.substring(0,s),o=r.substring(s+2);e=c(ra,a,function(t){return it(n6(t)?o+", "+t.a:o)},e)}}return e}(a.getAllResponseHeaders())},t(a.response))))}),n6(i.jR)&&(s=i.jR.a,a.upload.addEventListener("progress",function(e){a.c||tA(u(n8,t,b(s,n4({i$:e.loaded,i3:e.total}))))}),a.addEventListener("progress",function(e){a.c||tA(u(n8,t,b(s,n3({iM:e.loaded,i3:e.lengthComputable?it(e.total):ie}))))}));try{a.open(i.h6,i.jX,!0)}catch(t){return r(n0(i.jX))}return function(t,e){for(var i=e.hr;i.b;i=i.b)t.setRequestHeader(i.a.a,i.a.b);t.timeout=e.jL.a||0,t.responseType=e.bC.d,t.withCredentials=e.f3}(a,i),i.gn.a&&a.setRequestHeader("Content-Type",i.gn.a),a.send(i.gn.b),function(){a.c=!0,a.abort()}})}),eF=n(function(t,e,i){return{$:0,d:t,b:e,a:i}}),eD=i(function(t,e){return{$:0,d:e.d,b:e.b,a:function(i){return t(e.a(i))}}}),eN=i(function(t,e){return{$:0,a:t,b:e}}),e$=i(function(t,e){return tR(function(){var i=setInterval(function(){tA(e)},t);return function(){clearInterval(i)}})}),eG=i(function(t,e){var i="g";t.h9&&(i+="m"),t.gy&&(i+="i");try{return it(RegExp(e,i))}catch(t){return ie}}),ez=i(function(t,e){return null!==e.match(t)}),ej=n(function(t,e,i){for(var n,r=[],s=0,a=e.lastIndex,o=-1;s++<t&&(n=e.exec(i))&&o!=e.lastIndex;){for(var h=n.length-1,l=Array(h);h>0;){var u=n[h];l[--h]=u?it(u):ie}r.push(d(ou,n[0],n.index,s,P(l))),o=e.lastIndex}return e.lastIndex=a,P(r)}),eB=r(function(t,e,i,n){var r=0;return n.replace(e,function(e){if(r++>=t)return e;for(var n=arguments.length-3,s=Array(n);n>0;){var a=arguments[n];s[--n]=a?it(a):ie}return i(d(ou,e,arguments[arguments.length-2],r,P(s)))})}),eW=n(function(t,e,i){for(var n=[],r=e.lastIndex,s=e.lastIndex;t--;){var a=e.exec(i);if(!a)break;n.push(i.slice(r,a.index)),r=e.lastIndex}return n.push(i.slice(r)),e.lastIndex=s,P(n)}),eV=1/0,eH=s(function(t,e,i,n,r){for(var s=t.length,a=r.length>=e+s,o=0;a&&s>o;){var h=r.charCodeAt(e);a=t[o++]===r[e++]&&(10===h?(i++,n=1):(n++,55296==(63488&h)?t[o++]===r[e++]:1))}return M(a?e:-1,i,n)}),eq=n(function(t,e,i){return i.length>e?55296==(63488&i.charCodeAt(e))?t(i.substr(e,2))?e+2:-1:t(i[e])?"\n"===i[e]?-2:e+1:-1:-1}),eU=s(function(t,e,i,n,r){for(var s=r.indexOf(t,e),a=0>s?r.length:s+t.length;a>e;){var o=r.charCodeAt(e++);10===o?(n=1,i++):(n++,55296==(63488&o)&&e++)}return M(s,i,n)});Q(function(t){return"undefined"!=typeof File&&t instanceof File?e9(t):tb("a FILE",t)});var eX,eY=n(function(t,e,i){return tR(function(){var n=new Blob([i],{type:e});if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t);else{var r=eC||(eC=document.createElement("a")),s=URL.createObjectURL(n);r.href=s,r.download=t,eK(r),URL.revokeObjectURL(s)}})});function eK(t){if("function"==typeof MouseEvent)t.dispatchEvent(new MouseEvent("click"));else{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.appendChild(t),t.dispatchEvent(e),document.body.removeChild(t)}}var eZ=1,eJ=2,eQ=0,e0=n(function(t,e,i){for(;;){if(-2===i.$)return e;var n=i.d,r=t,s=c(t,i.b,i.c,c(e0,t,e,i.e));t=r,e=s,i=n}}),e1=function(t){return c(e0,n(function(t,e,i){return u(R,b(t,e),i)}),S,t)},e2=function(t){return c(e0,n(function(t,e,i){return u(R,t,i)}),S,t)},e3=function(t){return e2(t)},e4=function(t){return{$:1,a:t}},e5=i(function(t,e){return{$:3,a:t,b:e}}),e6=i(function(t,e){return{$:0,a:t,b:e}}),e8=i(function(t,e){return{$:1,a:t,b:e}}),e9=function(t){return{$:0,a:t}},e7=function(t){return{$:2,a:t}},it=function(t){return{$:0,a:t}},ie={$:1},ii=i(function(t,e){return u(U,t,k(e))}),ir=i(function(t,e){return P(u(q,t,e))}),is=function(t){return u(ii,"\n    ",u(ir,"\n",t))},ia=n(function(t,e,i){for(;;){if(!i.b)return e;var n=i.b,r=t,s=u(t,i.a,e);t=r,e=s,i=n}}),io=function(t){return c(ia,i(function(t,e){return e+1}),0,t)},ih=n(function(t,e,i){for(;;){if(y(t,e)>=1)return i;var n=t,r=e-1,s=u(R,e,i);t=n,e=r,i=s}}),il=i(function(t,e){return c(ih,t,e,S)}),iu=i(function(t,e){return c(T,t,u(il,0,io(e)-1),e)}),ic=function(t){var e=t.charCodeAt(0);return 55296>e||e>56319?e:1024*(e-55296)+t.charCodeAt(1)-56320+65536},id=function(t){var e=ic(t);return e>=97&&122>=e},ig=function(t){var e=ic(t);return 90>=e&&e>=65},im=function(t){var e=ic(t);return 57>=e&&e>=48},ip=function(t){return id(t)||ig(t)||im(t)},i_=function(t){return c(ia,R,S,t)},iv=function(t){var e=t.charCodeAt(0);return isNaN(e)?ie:it(55296>e||e>56319?b(t[0],t.slice(1)):b(t[0]+t[1],t.slice(2)))},iy=i(function(t,e){return"\n\n("+J(t+1)+") "+is(ix(e))}),ix=function(t){return u(ib,t,S)},ib=i(function(t,e){t:for(;;)switch(t.$){case 0:var i=t.a,n=t.b,r=function(){var t=iv(i);if(1===t.$)return!1;var e,n=t.a,r=n.b;return(id(e=n.a)||ig(e))&&u(Y,ip,r)}();t=n,e=u(R,r?"."+i:"['"+i+"']",e);continue t;case 1:n=t.b;var s="["+J(t.a)+"]";t=n,e=u(R,s,e);continue t;case 2:var a=t.a;if(a.b){if(a.b.b){var o=(e.b?"The Json.Decode.oneOf at json"+u(ii,"",i_(e)):"Json.Decode.oneOf")+" failed in the following "+J(io(a))+" ways:";return u(ii,"\n\n",u(R,o,u(iu,iy,a)))}t=n=a.a;continue t}return"Ran into a Json.Decode.oneOf with no possibilities"+(e.b?" at json"+u(ii,"",i_(e)):"!");default:var h=t.a,l=t.b;return(o=e.b?"Problem with the value at json"+u(ii,"",i_(e))+":\n\n    ":"Problem with the given value:\n\n")+is(u(tE,4,l))+"\n\n"+h}}),iM=r(function(t,e,i,n){return{$:0,a:t,b:e,c:i,d:n}}),iw=[],iE=Math.ceil,iC=i(function(t,e){return G(e)/G(t)}),iS=function(t){return t},iI=iE(u(iC,2,32)),iR=d(iM,0,iI,iw,iw),iP=i(function(t,e){return t(e)}),ik=i(function(t,e){return e(t)}),iT=Math.floor,iA=function(t){return t.length},iL=i(function(t,e){return y(t,e)>0?t:e}),iO=i(function(t,e){for(;;){var i=u(F,32,t),n=i.b,r=u(R,{$:0,a:i.a},e);if(!n.b)return i_(r);t=n,e=r}}),iF=function(t){return t.a},iD=i(function(t,e){for(;;){var i=iE(e/32);if(1===i)return u(F,32,t).a;t=u(iO,t,S),e=i}}),iN=i(function(t,e){if(e.v){var i=32*e.v,n=iT(u(iC,32,i-1)),r=u(iD,t?i_(e.A):e.A,e.v);return d(iM,iA(e.y)+i,u(iL,5,n*iI),r,e.y)}return d(iM,iA(e.y),iI,iw,e.y)}),i$=s(function(t,e,i,n,r){for(;;){if(0>e)return u(iN,!1,{A:n,v:i/32|0,y:r});var s={$:1,a:c(O,32,e,t)};e-=32,n=u(R,s,n)}}),iG=i(function(t,e){if(t>0){var i=t%32;return f(i$,e,t-i-32,t,S,c(O,i,t-i,e))}return iR}),iz=function(t){return!t.$},ij=th,iB=tl,iW=function(t){return{$:0,a:t}},iV=function(t){switch(t.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},iH=function(t){return t},iq=iH,iU=function(t){return t.length},iX=i(function(t,e){return 1>t?e:c(X,t,iU(e),e)}),iY=function(t){return""===t},iK=function(t){for(var e=0,i=t.charCodeAt(0),n=43==i||45==i?1:0,r=n;t.length>r;++r){var s=t.charCodeAt(r);if(48>s||s>57)return ie;e=10*e+s-48}return r==n?ie:it(45==i?-e:e)},iZ=function(){for(;;);},iJ=tI(0),iQ=r(function(t,e,i,n){if(n.b){var r=n.a,s=n.b;if(s.b){var a=s.a,o=s.b;if(o.b){var h=o.a,l=o.b;if(l.b){var f=l.b;return u(t,r,u(t,a,u(t,h,u(t,l.a,i>500?c(ia,t,e,i_(f)):d(iQ,t,e,i+1,f)))))}return u(t,r,u(t,a,u(t,h,e)))}return u(t,r,u(t,a,e))}return u(t,r,e)}return e}),i0=n(function(t,e,i){return d(iQ,t,e,0,i)}),i1=i(function(t,e){return c(i0,i(function(e,i){return u(R,t(e),i)}),S,e)}),i2=i(function(t,e){return u(tP,function(e){return tI(t(e))},e)}),i3=n(function(t,e,i){return u(tP,function(e){return u(tP,function(i){return tI(u(t,e,i))},i)},e)}),i4=function(t){return c(i0,i3(R),tI(S),t)},i5=i(function(t,e){return tL(u(tP,tB(t),e))}),i6=n(function(t,e){return u(i2,function(){return 0},i4(u(i1,i5(t),e)))}),i8=n(function(){return tI(0)}),i9=i(function(t,e){return u(i2,t,e)});tz.Task=tj(iJ,i6,i8,i9);var i7=tV("Task"),nt=i(function(t,e){return i7(u(i2,t,e))}),ne=function(t){return{$:2,a:t}},ni=function(t){return function(e){return function(i){return function(n){return function(r){return function(s){return function(a){return function(o){return function(h){return function(l){return{gA:e,gB:i,g6:l,ht:a,h2:n,im:h,is:r,cq:o,jQ:t,fP:s}}}}}}}}}}},nn=r(function(t,e,i,n){return{gK:n,el:e,e5:i,jM:t}}),nr=function(t){return{$:1,a:t}},ns=function(t){return{$:0,a:t}},na=function(t){return{$:0,a:t}},no=function(t){return{$:4,a:t}},nh=function(t){return{$:14,a:t}},nl={$:3},nu=i(function(t,e){return e.b?c(i0,R,e,t):t}),nc={$:-2},nd=nc,nf=s(function(t,e,i,n,r){return{$:-1,a:t,b:e,c:i,d:n,e:r}}),ng=s(function(t,e,i,n,r){if(-1!==r.$||r.a){if(-1!==n.$||n.a||-1!==n.d.$||n.d.a)return f(nf,t,e,i,n,r);var s=n.d;return a=n.e,f(nf,0,n.b,n.c,f(nf,1,s.b,s.c,s.d,s.e),f(nf,1,e,i,a,r))}var a,o=r.b,h=r.c,l=r.d,u=r.e;return -1!==n.$||n.a?f(nf,t,o,h,f(nf,0,e,i,n,l),u):f(nf,0,e,i,f(nf,1,n.b,n.c,n.d,a=n.e),f(nf,1,o,h,l,u))}),nm=n(function(t,e,i){if(-2===i.$)return f(nf,0,t,e,nc,nc);var n=i.a,r=i.b,s=i.c,a=i.d,o=i.e;switch(u(x,t,r)){case 0:return f(ng,n,r,s,c(nm,t,e,a),o);case 1:return f(nf,n,r,e,a,o);default:return f(ng,n,r,s,a,c(nm,t,e,o))}}),np=n(function(t,e,i){var n=c(nm,t,e,i);return -1!==n.$||n.a?n:f(nf,1,n.b,n.c,n.d,n.e)}),n_=function(t){return c(ia,i(function(t,e){return c(np,t.a,t.b,e)}),nd,t)},nv=i(function(t,e){return c(np,t,0,e)}),ny=function(t){return c(ia,nv,nd,t)},nx=function(t){return t.b?it(t.a):ie},nb=i(function(t,e){for(;;){if(!e.b)return!1;var i=e.b;if(t(e.a))return!0;e=i}}),nM=function(t){return c(i0,nu,S,t)},nw=i(function(t,e){return c(i0,i(function(e,i){return t(e)?u(R,e,i):i}),S,e)}),nE=n(function(t,e,i){var n=t(e);return n.$?i:u(R,n.a,i)}),nC=i(function(t,e){return c(i0,nE(t),S,e)}),nS=n(function(t,e,i){for(;;){if(-2===i.$)return e;var n=i.e,r=t,s=c(t,i.b,i.c,c(nS,t,e,i.d));t=r,e=s,i=n}}),nI=n(function(t,e,i){return c(nS,n(function(e,i,n){return u(t,e,n)}),e,i)}),nR=n(function(t,e,i){return u(ii,e,u(ir,t,i))}),nP=i(function(t,e){var n=c(nI,i(function(t,e){return u(nv,t.a,e)}),nd,t),r=nM(u(i1,function(t){return t.cS},u(nC,function(t){return t.eK},u(nw,function(t){return u(nb,function(e){return _(t.cc,e)},e3(n))},e)))),s=nM(u(i1,function(t){return t.j4},r));return ny(u(i1,function(t){return c(nR,"https://wms.zh.ch/","",c(nR,"http://wms.zh.ch/","",t.jX))},s))}),nk=i(function(t,e){return ny(c(nI,i(function(e,i){return u(R,t(e),i)}),S,e))}),nT=function(t){return t.b?it(c(ia,iL,t.a,t.b)):ie},nA=i(function(t,e){return 0>y(t,e)?t:e}),nL=function(t){return t.b?it(c(ia,nA,t.a,t.b)):ie},nO=i(function(t,e){return e.$?t:e.a}),nF=i(function(t,e){var i=iU(e.io)>0?"Ausgew\xe4hlte Bestellung: "+e.io:"Ausgew\xe4hlte Bestellung vom "+u(ii," - ",u(ir,"T",e.hc)),n=e.im,r=ny(u(i1,function(t){return b(t.iI,t.he)},n.e5)),s=n_(u(i1,function(t){return b(t.g2,t)},e.h$)),a=t.bI,o=function(){var t=n.iz;if(t.$)return nd;var e=nx(t.a.d5);return e.$?nd:ny(e.a)}(),h=u(nk,function(t){return t.a},o),l=u(nO,2730200,nT(e3(h))),d=u(nO,2655600,nL(e3(h))),f=u(nk,function(t){return t.b},o),g=u(nO,1252500,nT(e3(f))),m=u(nO,1225e3,nL(e3(f))),p="DIRECT"===n.iA?2===io(e3(h))&&2===io(e3(f))?"box":"polygon":"INDIRECT"===n.iA&&_(n.iC,it("COMMUNE"))?"gemeinden":"parzellen",v=function(t){if(_(p,t)){var e=n.iz;return e.$?S:e.a.d5}return S},y=w(a,{gv:v("box"),gz:b((d+l)/2,(m+g)/2),g8:P([d,m,l,g]),hj:function(){if(_(n.iC,it("COMMUNE"))){var t=n.iB;return t.$?S:c(ia,function(t){var e=iK(t);return nu(e.$?S:P([e.a]))},S,e3(ny(t.a)))}return S}(),ie:"setCenter",iw:e.h$,cs:p,iG:v("polygon"),j5:e3(u(nP,r,t.g1.e5))}),x=function(){switch(p){case"box":return 0;case"polygon":return 1;case"gemeinden":return 3;case"parzellen":return 4;default:return 2}}();return w(t,{dH:nl,d4:"",cP:n.cP,bI:y,iw:nd,aN:"",aO:x,e4:"",iZ:s,dr:i,j$:r})}),nD=function(t){return{$:15,a:t}},nN=s(function(t,e,i,n,r){return{dN:n,gh:e,cS:r,hm:t,e6:i}}),n$=l(function(t,e,i,n,r,s,a,o,h){return{gi:e,gU:r,hh:n,G:s,hm:t,hR:i,j0:h,j2:o,j4:a}}),nG=m(td,iP,(rP=function(t){return function(e){return function(i){return function(n){return function(r){return function(s){return function(a){return function(o){return function(h){return function(l){return function(u){return function(c){return function(d){return{f6:t,cP:e,g9:i,ia:n,it:r,iE:s,iY:a,jd:o,je:h,ju:l,jv:u,j_:c,j1:d}}}}}}}}}}}}}},rk=u(ts,"amt",tr),rT=u(ts,"email",tr),rA=u(ts,"fachstelle",tr),rL=u(ts,"nachname",tr),rO=u(ts,"ortschaft",tr),rF=u(ts,"plz",u(ij,J,tt)),rD=u(ts,"sektion",tr),rN=u(ts,"strassenname",tr),9===tg.a?tg.f(rP,rk,rT,rA,rL,rO,rF,rD,rN):tg(rP)(rk)(rT)(rA)(rL)(rO)(rF)(rD)(rN)),u(ts,"strassennummer",u(ij,J,tt)),u(ts,"telnr",tr),u(ts,"telnrdirekt",tr),u(ts,"vorname",tr),u(ts,"weburl",tr)),nz=d(tu,n(function(t,e,i){return{cl:t,jX:e,jY:i}}),u(ts,"name",tr),u(ts,"url",tr),u(ts,"version",tr)),nj=function(t){return{$:3,b:t}},nB=iB(ik),nW=function(t){return{$:1,a:t}},nV=function(t){return{$:5,c:t}},nH=function(t){return{$:11,g:t}},nq=n(function(t,e,i){return u(to,function(n){var r=u(tp,t,n);if(r.$)return iW(i);var s=r.a,a=u(tp,nH(P([e,nV(i)])),s);return a.$?nW(ix(a.a)):iW(a.a)},tn)}),nU=r(function(t,e,i,n){return u(nB,c(nq,u(ts,t,tn),e,i),n)}),nX=n(function(t,e,i){return u(nB,u(ts,t,e),i)}),nY=i(function(t,e){return c(i0,ts,e,t)}),nK=n(function(t,e,i){return u(nB,u(nY,t,e),i)}),nZ=d(nU,"wcs",nj(nz),S,d(nU,"wfs",nj(nz),S,d(nU,"wms",nj(nz),S,c(nK,P(["kontakt","geodatenbesitzer"]),nG,d(nU,"datenstand",tr,"",d(nU,"gbzh_url",tr,"",d(nU,"kurzbeschreibung",tr,"",d(nU,"bezeichnung",tr,"",c(nX,"giszhnr",tr,iW(n$)))))))))),nJ=d(nU,"geodatensaetze",nj(nZ),S,d(nU,"anzahl_items",tt,0,d(nU,"produktbildurl",tr,"",d(nU,"beschreibung",tr,"",c(nX,"giszhnr",tr,iW(nN)))))),nQ=i(function(t,e){return{$:3,a:t,b:e}}),n0=function(t){return{$:0,a:t}},n1=i(function(t,e){return{$:4,a:t,b:e}}),n2={$:2},n3=function(t){return{$:1,a:t}},n4=function(t){return{$:0,a:t}},n5={$:1},n6=function(t){return!t.$},n8=tW,n9=i(function(t,e){t:for(;;){if(-2===e.$)return ie;var i=e.c,n=e.d,r=e.e;switch(u(x,t,e.b)){case 0:e=n;continue t;case 1:return it(i);default:e=r;continue t}}}),n7=function(t){if(-1===t.$&&-1===t.d.$&&-1===t.e.$){if(-1!==t.e.d.$||t.e.d.a){var e=t.d,i=t.e;return a=i.b,o=i.c,n=i.d,u=i.e,f(nf,1,t.b,t.c,f(nf,0,e.b,e.c,e.d,e.e),f(nf,0,a,o,n,u))}var n,r=t.d,s=t.e,a=s.b,o=s.c,h=(n=s.d).d,l=n.e,u=s.e;return f(nf,0,n.b,n.c,f(nf,1,t.b,t.c,f(nf,0,r.b,r.c,r.d,r.e),h),f(nf,1,a,o,l,u))}return t},rt=function(t){if(-1===t.$&&-1===t.d.$&&-1===t.e.$){if(-1!==t.d.d.$||t.d.d.a){var e=t.d,i=t.e;return l=i.b,u=i.c,c=i.d,d=i.e,f(nf,1,n=t.b,r=t.c,f(nf,0,e.b,e.c,e.d,o=e.e),f(nf,0,l,u,c,d))}var n=t.b,r=t.c,s=t.d,a=s.d,o=s.e,h=t.e,l=h.b,u=h.c,c=h.d,d=h.e;return f(nf,0,s.b,s.c,f(nf,1,a.b,a.c,a.d,a.e),f(nf,1,n,r,o,f(nf,0,l,u,c,d)))}return t},re=o(function(t,e,i,n,r,s,a){if(-1!==s.$||s.a){t:for(;;){if(-1===a.$&&1===a.a){if(-1===a.d.$){if(1===a.d.a)return rt(e);break t}return rt(e)}break t}return e}return f(nf,i,s.b,s.c,s.d,f(nf,0,n,r,s.e,a))}),ri=function(t){if(-1===t.$&&-1===t.d.$){var e=t.a,i=t.b,n=t.c,r=t.d,s=r.d,a=t.e;if(1===r.a&&(-1!==s.$||s.a)){var o=n7(t);if(-1===o.$){var h=o.e;return f(ng,o.a,o.b,o.c,ri(o.d),h)}return nc}return f(nf,e,i,n,ri(r),a)}return nc},rn=i(function(t,e){if(-2===e.$)return nc;var i=e.a,n=e.b,r=e.c,s=e.d,a=e.e;if(0>y(t,n)){if(-1===s.$&&1===s.a){var o=s.d;if(-1!==o.$||o.a){var h=n7(e);if(-1===h.$){var l=h.e;return f(ng,h.a,h.b,h.c,u(rn,t,h.d),l)}return nc}}return f(nf,i,n,r,u(rn,t,s),a)}return u(rr,t,m(re,t,e,i,n,r,s,a))}),rr=i(function(t,e){if(-1===e.$){var i=e.a,n=e.b,r=e.c,s=e.d,a=e.e;if(_(t,n)){var o=function(t){for(;;){if(-1!==t.$||-1!==t.d.$)return t;t=t.d}}(a);return -1===o.$?f(ng,i,o.b,o.c,s,ri(a)):nc}return f(ng,i,n,r,s,u(rn,t,a))}return nc}),rs=i(function(t,e){var i=u(rn,t,e);return -1!==i.$||i.a?i:f(nf,1,i.b,i.c,i.d,i.e)}),ra=n(function(t,e,i){var n=e(u(n9,t,i));return n.$?u(rs,t,i):c(np,t,n.a,i)}),ro=n(function(t,e,i){return e(t(i))}),rh=i(function(t,e){return c(eF,"",iH,u(ro,e,t))}),rl=i(function(t,e){return e.$?e4(t(e.a)):e9(e.a)}),ru=function(t){return{$:4,a:t}},rc=function(t){return{$:3,a:t}},rd=function(t){return{$:0,a:t}},rf={$:2},rg={$:1},rm=i(function(t,e){switch(e.$){case 0:return e4(rd(e.a));case 1:return e4(rg);case 2:return e4(rf);case 3:return e4(rc(e.a.ja));default:return u(rl,ru,t(e.b))}}),rp=i(function(t,e){return u(rh,t,rm(function(t){return u(rl,ix,u(tm,e,t))}))}),r_={$:0},rv=function(t){return{$:1,a:t}},ry=i(function(t,e){return{fc:t,fw:e}}),rx=tI(u(ry,nd,S)),rb=function(t){return tR(function(e){var i=t.f;2===i.$&&i.c&&i.c(),t.f=null,e(tI(0))})},rM=n(function(t,e,i){t:for(;;){if(e.b){var n=e.a,r=e.b;if(n.$){var s=n.a;return u(tP,function(e){var n=s.jR;return c(rM,t,r,1===n.$?i:c(np,n.a,e,i))},tL(c(eO,t,tB(t),s)))}var a=n.a,o=u(n9,a,i);if(1===o.$){e=r;continue t}return u(tP,function(){return c(rM,t,r,u(rs,a,i))},rb(o.a))}return tI(i)}}),rw=r(function(t,e,i,n){return u(tP,function(t){return tI(u(ry,t,i))},c(rM,t,e,n.fc))}),rE=r(function(t,e,i,n){var r=n.b;return _(e,n.a)?it(u(tB,t,r(i))):ie}),rC=n(function(t,e,i){return u(tP,function(){return tI(i)},i4(u(nC,c(rE,t,e.a,e.b),i.fw)))}),rS=i(function(t,e){if(e.$){var i=e.a;return rv({f3:i.f3,gn:i.gn,bC:u(eD,t,i.bC),hr:i.hr,h6:i.h6,jL:i.jL,jR:i.jR,jX:i.jX})}return{$:0,a:e.a}}),rI=i(function(t,e){return{$:0,a:t,b:e}}),rR=i(function(t,e){return u(rI,e.a,u(ro,e.b,t))});tz.Http=tj(rx,rw,rC,rS,rR);var rP,rk,rT,rA,rL,rO,rF,rD,rN,r$,rG,rz,rj,rB,rW=tV("Http"),rV=(tV("Http"),function(t){return rW(rv({f3:!1,gn:t.gn,bC:t.bC,hr:t.hr,h6:t.h6,jL:t.jL,jR:t.jR,jX:t.jX}))}),rH=function(t){return rV({gn:r_,bC:t.bC,hr:S,h6:"GET",jL:ie,jR:ie,jX:t.jX})},rq=i(function(t,e){return rH({bC:u(rp,e,nJ),jX:"//geolion.zh.ch/api/v1/getGeodatenmeta.json?giszhnr="+J(t)})}),rU=i(function(t,e){return c(ia,i(function(e,i){return i.push(t(e)),i}),[],e)}),rX=function(t){return c(ia,i(function(t,e){return c(tS,t.a,t.b,e)}),{},t)},rY=tZ("setOlConfig",function(t){var e,i;return rX(P([b("box",rU(rU(function(t){var e=t.b;return u(rU,iH,P([tC(t.a),tC(e)]))}))(t.gv)),b("center",(i=(e=t.gz).b,u(rU,iH,P([tC(e.a),tC(i)])))),b("extent",rU(tC)(t.g8)),b("gemeinden",rU(tC)(t.hj)),b("intersections",rU(function(t){var e=t.b;return u(rU,iH,P([tC(t.a),tC(e)]))})(t.hN)),b("oltool",tC(t.ie)),b("parzellen",rU(function(t){return rX(P([b("bfsnr",tC(t.gk)),b("box2d",rU(rU(function(t){var e=t.b;return u(rU,iH,P([tC(t.a),tC(e)]))}))(t.gw)),b("egris_egrid",tC(t.g2)),b("gemeinde",tC(t.hi)),b("geodb_oid",tC(t.hk)),b("geom",rU(rU(function(t){var e=t.b;return u(rU,iH,P([tC(t.a),tC(e)]))}))(t.hl)),b("nummer",tC(t.id))]))})(t.iw)),b("perimeter",tC(t.cs)),b("polygon",rU(rU(function(t){var e=t.b;return u(rU,iH,P([tC(t.a),tC(e)]))}))(t.iG)),b("wmslayernames",rU(tC)(t.j5)),b("zoom",tC(t.kk))]))}),rK=i(function(t,e){return C(u(i1,function(t){return u(rq,t.iI,nD)},t),P([rY(e)]))}),rZ=function(t){var e,i;return{cM:(e=u(nA,t.fP,t.ht),i=u(iL,t.fP,t.ht),600>e?0:i>1200?i>1200&&1920>=i?2:3:1),ir:0>y(t.fP,t.ht)?0:1}},rJ=i(function(t,e){return{cc:t,cl:e}}),rQ=u(to,function(t){var e=iK(t);return iW(e.$?0:e.a)},tr),r0=nj(c(iB,rJ,u(ts,"id",rQ),u(ts,"name",tr))),r1=n(function(t,e,i){return{cc:t,cl:e,fp:i}}),r2=u(ij,n_,nj(c(iB,i(function(t,e){return b(t,c(r1,t,c(nR,"ESRI ","",e),t))}),u(ts,"id",tt),u(ts,"name",tr)))),r3=a(function(t,e,i,n,r,s){return{gZ:i,el:r,cc:t,eK:s,cl:e,dy:n}}),r4=function(t){return u(i1,function(t){return t.b},u(A,iH,u(i1,function(t){return b(function(t){switch(t){case 128:return 10;case 22:return 20;case 61:return 30;case 6:return 40;case 7:return 50;case 25:return 60;case 3:return 70;case 101:return 80;case 2:return 90;case 23:return 100;case 4:return 110;case 21:return 120;case 1:return 130;default:return 200}}(t),t)},t)))},r5=(rG=u(ij,nw(function(){return!0}),nj(tt)),u(ij,r4,rG)),r6=nj(m(td,r3,u(ts,"id",tt),u(ts,"name",tr),u(ts,"description",tr),u(ts,"type",tr),u(ts,"formats",r5),iW(ie))),r8=f(tc,nn,u(ts,"timestamp",tr),u(ts,"formats",r2),u(ts,"products",r6),u(ts,"communes",r0)),r9="https://geoservices.zh.ch",r7=r9+"/geoshopapi/v1/products",st={$:4},se={$:1},si={$:2},sn=o(function(t,e,i,n,r,s,a){return{gk:i,gw:n,g2:s,hi:r,hk:t,hl:a,id:e}}),sr=(rz=function(t){return t+" Zahlen f\xfcr eine XY-Koordinate"},u(to,function(t){return t.b&&t.b.b?t.b.b.b?nW(rz("Zuviele")):iW(b(t.a,t.b.a)):nW(rz("Zuwenig"))},nj(ti))),ss=nj(nj(sr)),sa=c(nX,"geom",ss,c(nX,"egris_egrid",tr,c(nX,"gemeinde",tr,c(nX,"box2d",ss,c(nX,"bfsnr",tt,c(nX,"nummer",tr,c(nX,"geodb_oid",tt,iW(sn)))))))),so=u(ro,iW,nB),sh=o(function(t,e,i,n,r,s,a){return{cP:t,iy:e,iz:i,iA:n,iB:r,iC:s,e5:a}}),sl=i(function(t,e){return{d5:t,dy:e}}),su=(r$=function(t){return"Array has too "+t+" numbers to make a position"},u(to,function(t){return t.b&&t.b.b?t.b.b.b?nW(r$("many")):iW(b(t.a,t.b.a)):nW(r$("few"))},nj(ti))),sc=c(nX,"type",tr,c(nX,"coordinates",nj(nj(su)),iW(sl))),sd=c(nX,"product_id",tt,c(nX,"format_id",tt,iW(i(function(t,e){return{he:t,iI:e}})))),sf=function(t){return nH(P([u(ij,it,t),iW(ie)]))},sg=p(tf,sh,u(ts,"email",tr),sf(u(ts,"pdir_coordsys",tr)),sf(u(ts,"pdir_polygon",sc)),u(ts,"perimeter_type",tr),sf(u(ts,"pindir_ident",nj(tr))),sf(u(ts,"pindir_layer_name",tr)),u(ts,"products",nj(sd))),sm=u(so,!1,d(nU,"lots",nj(sa),S,d(nU,"orderTitle",tr,"",c(nX,"order",sg,c(nX,"finished",tr,c(nX,"submitted",tr,c(nX,"status_code",tt,c(nX,"status",tr,c(nX,"internal_id",tt,c(nX,"order_id",tr,iW(function(t){return function(e){return function(i){return function(n){return function(r){return function(s){return function(a){return function(o){return function(h){return function(l){return{ee:l,hc:s,hM:e,h$:h,im:a,io:o,ip:t,i9:i,jb:n,jl:r}}}}}}}}}}}))))))))))),sp=function(t){return t.toLowerCase()},s_=u(so,"",d(nU,"order",nH(P([nV(ie),u(ij,it,sm)])),ie,d(nU,"page",u(to,function(t){switch(sp(t)){case"home":default:return iW(na(0));case"perimeter":return iW(se);case"products":return iW(si);case"shoppingcart":return iW(nl);case"orders":return iW(st);case"settings":return iW(na(1));case"importexport":return iW(na(3));case"about":return iW(na(4));case"errorpage":return iW(na(2))}},tr),na(0),d(nU,"height",tt,600,d(nU,"width",tt,600,d(nU,"origin",tr,"origin",d(nU,"mapextent",tr,"2485071.58,1075346.31,2828515.82,1299941.79",d(nU,"north",ti,1254152,d(nU,"east",ti,2692276,d(nU,"topic",tr,"UPWMS",iW(ni))))))))))),sv=(rB=function(){var t,e;return{fj:(t=eP.body,e=eP.documentElement,{fP:Math.max(t.scrollWidth,t.offsetWidth,e.scrollWidth,e.offsetWidth,e.clientWidth),ht:Math.max(t.scrollHeight,t.offsetHeight,e.scrollHeight,e.offsetHeight,e.clientHeight)}),fO:{j7:ek.pageXOffset,ke:ek.pageYOffset,fP:eP.documentElement.clientWidth,ht:eP.documentElement.clientHeight}}},tR(function(t){eI(function(){t(tI(rB()))})})),sy=i(function(t,e){return{$:0,a:t,b:e}}),sx=tR(function(t){t(tI(u(sy,-(new Date).getTimezoneOffset(),S)))}),sb={P:S,bH:!1},sM=i(function(t,e){return{$:0,a:t,b:e}}),sw=i(function(t,e){return{$:0,a:t,b:e}}),sE=function(t){var e=t.b;return u(sw,1664525*t.a+e>>>0,e)},sC=u(sM,S,(rj=sE(u(sw,0,1013904223)),sE(u(sw,rj.a+0>>>0,rj.b)))),sS=tH(S),sI=tR(function(t){t(tI(iH(Date.now())))}),sR=i(function(t,e){return f(nf,1,t,e,nc,nc)}),sP=u(sy,0,S),sk={$:26},sT=function(t){return{$:37,a:t}},sA=function(t){return{$:38,a:t}},sL=function(t){return{$:2,a:t}},sO=function(t){return{$:39,a:t}},sF=function(t){return{$:3,a:t}},sD=i(function(t,e){return{$:5,a:t,b:e}}),sN=i(function(t){return t}),s$=i(function(t,e){return{$:0,a:t,b:e}}),sG=i(function(t,e){return{e2:e,fy:t}}),sz=tI(u(sG,nd,nd)),sj=i(function(t,e){var i=t.a,n=t.b,r=u(n9,i,e);return c(np,i,1===r.$?P([n]):u(R,n,r.a),e)}),sB=a(function(t,e,r,s,a,o){var h=n(function(i,n,s){t:for(;;){var a=s.a,o=s.b;if(a.b){var h=a.a,l=h.a,u=h.b,f=a.b;if(0>y(l,i)){s=b(f,c(t,l,u,o));continue t}return y(l,i)>0?b(a,c(r,i,n,o)):b(f,d(e,l,u,n,o))}return b(a,c(r,i,n,o))}}),l=c(nS,h,b(e1(s),o),a),u=l.a,f=l.b;return c(ia,i(function(e,i){return c(t,e.a,e.b,i)}),f,u)}),sW=n(function(t,e,i){if(e.b){var n=e.a,r=e.b,s=tL(u(e$,n,u(n8,t,n)));return u(tP,function(e){return c(sW,t,r,c(np,n,e,i))},s)}return tI(i)}),sV=n(function(t,e,i){var s=i.e2,a=n(function(t,e,i){var n=i.c;return M(i.a,i.b,u(tP,function(){return n},rb(e)))}),o=c(ia,sj,nd,e),h=g(sB,n(function(t,e,i){var n=i.b,r=i.c;return M(u(R,t,i.a),n,r)}),r(function(t,e,i,n){var r=n.c;return M(n.a,c(np,t,i,n.b),r)}),a,o,s,M(S,nd,tI(0))),l=h.a,d=h.b;return u(tP,function(t){return tI(u(sG,o,t))},u(tP,function(){return c(sW,t,l,d)},h.c))}),sH=n(function(t,e,i){var n=u(n9,e,i.fy);if(1===n.$)return tI(i);var r=n.a;return u(tP,function(){return tI(i)},u(tP,function(e){return i4(u(i1,function(i){return u(tB,t,i(e))},r))},sI))}),sq=n(function(t,e,i){return t(e(i))}),sU=i(function(t,e){return u(s$,e.a,u(sq,t,e.b))});tz.Time=tj(sz,sV,sH,0,sU);var sX=tV("Time"),sY=i(function(t,e){return sX(u(s$,t,e))}),sK=t0("getOrdersFromCache",tr),sZ=t0("getPFCFromCache",tr),sJ=t0("getSettingsFromCache",tr),sQ=t0("mapConfigChanged",tn),s0=t0("mapFeatureSelected",tn),s1=tH(S),s2=function(t){return!t},s3=n(function(t,e,i){return{$:0,a:t,b:e,c:i}}),s4=i(function(t,e){return{e_:e,fw:t}}),s5=tI(u(s4,S,nd)),s6=function(t){return b(C(t.a?"w_":"d_",t.b),t)},s8=i(function(t,e){return{eg:e,eA:t}}),s9=n(function(t,e,i){return u(i2,function(t){return b(e,t)},c(eT,i.a?ek:eP,i.b,function(i){return u(n8,t,u(s8,e,i))}))}),s7=i(function(t,e){return c(nS,np,e,t)}),at=n(function(t,e,i){var s=n(function(e,i,n){var r=n.c;return M(n.a,n.b,u(R,c(s9,t,e,i),r))}),a=n(function(t,e,i){var n=i.b,r=i.c;return M(u(R,e,i.a),n,r)}),o=r(function(t,e,i,n){var r=n.c;return M(n.a,c(np,t,e,n.b),r)}),h=u(i1,s6,e),l=g(sB,a,o,s,i.e_,n_(h),M(S,nd,S)),d=l.b,f=l.c;return u(tP,function(t){return tI(u(s4,h,u(s7,d,n_(t))))},u(tP,function(){return i4(f)},i4(u(i1,rb,l.a))))}),ae=n(function(t,e,i){var n=e.eA,r=e.eg,s=u(nC,function(t){var e=t.b.c;return _(t.a,n)?u(eA,e,r):ie},i.fw);return u(tP,function(){return tI(i)},i4(u(i1,tB(t),s)))}),ai=i(function(t,e){return c(s3,e.a,e.b,u(ij,t,e.c))});tz["Browser.Events"]=tj(s5,at,ae,0,ai);var an=tV("Browser.Events"),ar=n(function(t,e,i){return an(c(s3,t,e,i))}),as=t0("onlineStatus",te),aa=t0("perimeterChanged",tn),ao=i(function(t,e){for(;;){if(-2===e.$)return t;var i=e.d;t=u(ao,t+1,e.e),e=i}}),ah=r(function(t,e,i,n){return{gd:n,cP:i,hw:e,hB:t}}),al=function(t){return{$:52,a:t}},au=function(t){return{$:51,a:t}},ac=function(t){return{$:24,a:t}},ad=function(t){return{$:25,a:t}},af=function(t){return{$:32,a:t}},ag=i(function(t,e){return{ht:t,fP:e}}),am=function(t){return{$:35,a:t}},ap=i(function(t,e){return{$:1,a:t,b:e}}),a_=function(t){return{$:58,a:t}},av=function(t){return{$:2,a:t}},ay=function(t){return-t},ax=function(t){var e=t.a,i=277803737*(e^e>>>4+(e>>>28));return(i>>>22^i)>>>0},ab=i(function(t,e){return function(i){var n=0>y(t,e)?b(t,e):b(e,t),r=n.a,s=n.b-r+1;if(s-1&s){var a=(-s>>>0)%s>>>0;return function(t){for(;;){var e=ax(t),i=sE(t);if(y(e,a)>=0)return b(e%s+r,i);t=i}}(i)}return b(((s-1&ax(i))>>>0)+r,sE(i))}}),aM=i(function(t,e){return t(e)}),aw=s(function(t,e,i,n,r){var s,a=r.a,o=r.b,h=a.fD,l=h.a,c=(s=h.b,u(aM,u(ab,-2147483648,2147483647),s)),d=c.a,f=c.b,g=t?sS:u(nt,function(){return i(av(d))},tG(e.cO));return b(w(a,{fD:u(sM,C(l,P([M(d,0,n)])),f)}),tH(P([o,g])))})(0),aE=s(function(t,e,i,n,r){var s=r.a,a=r.b;return i(u(i1,function(t){return t.c},s.fD.a))?d(aw,t,e,n,b(s,a)):b(s,sS)}),aC=i(function(t,e){return u(nb,function(e){return _(e,t)},e)}),aS=r(function(t,e,i,n){var r=n.a,s=n.b;return f(aE,t,e,u(sq,s2,aC(i)),i,b(r,s))}),aI={jf:{$:2,a:1e3},jS:function(t){return{$:57,a:t}}},aR=r(function(t,e,i,n){return{gj:e,gP:n,cl:i,eX:t}}),aP=tp(c(nX,"coord",nj(ti),c(nX,"name",tr,c(nX,"bfs",tt,c(nX,"peri",tr,iW(aR)))))),ak=d(nU,"wmslayernames",nj(tr),S,d(nU,"perimeter",tr,"box",d(nU,"oltool",tr,"none",d(nU,"parzellen",nj(sa),S,d(nU,"gemeinden",nj(tt),S,d(nU,"intersections",nj(su),S,d(nU,"polygon",nj(nj(su)),P([S]),d(nU,"box",nj(nj(su)),P([S]),c(nX,"extent",nj(ti),c(nX,"zoom",ti,c(nX,"center",su,iW(function(t){return function(e){return function(i){return function(n){return function(r){return function(s){return function(a){return function(o){return function(h){return function(l){return function(u){return{gv:n,gz:t,g8:i,hj:a,hN:s,ie:h,iw:o,cs:l,iG:r,j5:u,kk:e}}}}}}}}}}}})))))))))))),aT=tp(ak),aA=u(ij,n_,{$:8,b:sm}),aL=f(tc,r(function(t,e,i,n){return{f4:n,hA:t,hY:i,iR:e}}),u(ts,"hue",ti),u(ts,"saturation",ti),u(ts,"lightness",ti),u(ts,"alpha",ti)),aO=f(tc,ah,u(ts,"iconOnly",te),u(ts,"hiddenFormats",nj(tt)),u(ts,"email",tr),u(ts,"baseColor",aL)),aF=function(t){return rX(P([b("id",tC(t.cc)),b("name",tC(t.cl))]))},aD=function(t){return rX(P([b("id",tC(t.cc)),b("name",tC(t.cl)),b("sort",tC(t.fp))]))},aN=function(t){return rX(P([b("id",tC(t.cc)),b("name",tC(t.cl)),b("description",tC(t.gZ)),b("type",tC(t.dy)),b("formats",u(rU,tC,t.el)),b("metaData",null)]))},a$=n(function(t,e,i){return c(nS,n(function(i,n,r){return c(tS,t(i),e(n),r)}),{},i)}),aG=n(function(t,e,i){var n=i.b;return u(rU,iH,P([t(i.a),e(n)]))}),az=function(t){return c(aG,tC,tC,b(t.a,t.b))},aj=function(t){return u(rU,az,t)},aB=function(t){return rX(P([b("format_id",tC(t.he)),b("product_id",tC(t.iI))]))},aW={d5:P([P([b(0,0)])]),dy:"point"},aV=function(t){var e=function(t){return u(rU,tC,P([t.a,t.b]))};return u(rU,function(t){return u(rU,e,t)},t)},aH=function(t){return rX(P([b("geodb_oid",tC(t.hk)),b("nummer",tC(t.id)),b("bfsnr",tC(t.gk)),b("box2d",aV(t.gw)),b("gemeinde",tC(t.hi)),b("egris_egrid",tC(t.g2)),b("geom",aV(t.hl))]))},aq=u(a$,iH,function(t){var e,i,n;return rX(P([b("order_id",tC(t.ip)),b("internal_id",tC(t.hM)),b("status",tC(t.i9)),b("status_code",tC(t.jb)),b("submitted",tC(t.jl)),b("finished",tC(t.hc)),b("order",rX(P([b("email",tC((e=t.im).cP)),b("pdir_coordsys",tC(u(nO,"LV95",e.iy))),b("pdir_polygon",(n=u(nO,aW,e.iz),rX(P([b("coordinates",u(rU,aj,n.d5)),b("type",tC(n.dy))])))),b("perimeter_type",tC(e.iA)),b("pindir_ident",(i=u(nO,P([""]),e.iB),u(rU,tC,i))),b("pindir_layer_name",tC(u(nO,"",e.iC))),b("products",u(rU,aB,e.e5))]))),b("orderTitle",tC(t.io)),b("lots",u(rU,aH,t.h$))]))}),aU=function(t){var e;return rX(P([b("iconOnly",tC(t.hB)),b("hiddenFormats",u(rU,tC,t.hw)),b("email",tC(t.cP)),b("baseColor",rX(P([b("hue",tC((e=t.gd).hA)),b("saturation",tC(e.iR)),b("lightness",tC(e.hY)),b("alpha",tC(e.f4))])))]))},aX=i(function(t,e){return u(rh,t,function(t){switch(t.$){case 0:return e4(rd(t.a));case 1:return e4(rg);case 2:return e4(rf);case 3:if(u(K,"exceeded for raster",(i=t.a).dr))return e4(rc(801));if(u(K,"exceeded for Basisplan",i.dr))return e4(rc(804));switch(i.dr){case"Bad Request: Raster products can only be ordered using a single PARCEL selection perimeter":return e4(rc(802));case"Bad Request: Raster products can only be ordered using a PARCEL selection perimeter":return e4(rc(803));case"Bad Request: Invalid JSON document":return e4(rc(805));case"Bad Request: Invalid email address":return e4(rc(806));case"Bad Request: Self-intersecting polygon":return e4(rc(807));case"Bad Request: Perimeter area must be at least 1 square meter":return e4(rc(808));case"Bad Request: Unknown BFS-NR value(s) for COMMUNE":return e4(rc(809));case"Bad Request: Unknown EGRID value(s) for PARCEL":return e4(rc(810));case"Bad Request: Invalid perimeter type specified":return e4(rc(811));case"Bad Request: Invalid product and/or format":return e4(rc(812));case"Bad Request: Unexpected or invalid value in order":return e4(rc(813));default:return e4(rc(i.ja))}default:var i=t.a,n=u(tm,e,t.b);return n.$?e4(ru(ix(n.a))):e9(n.a)}})}),aY=u(ts,"order_id",tr),aK=function(t){var e=t.b;return rX(P([b("product_id",tC(t.a)),b("format_id",tC(e))]))},aZ=function(t){var e,i=function(){switch(t.bI.cs){case"gemeinden":case"parzellen":return"INDIRECT";default:return"DIRECT"}}(),n=function(){switch(t.bI.cs){case"gemeinden":return"COMMUNE";case"parzellen":return"PARCEL";default:return""}}(),r=function(){switch(t.bI.cs){case"gemeinden":return u(i1,J,t.bI.hj);case"parzellen":return e2(t.iZ);default:return P([""])}}();return rX(P([b("email",tC(t.cP)),b("perimeter_type",tC(i)),b("pindir_layer_name",tC(n)),b("pindir_ident",u(rU,tC,r)),b("pdir_polygon",(e=t.bI,rX(P([b("type",tC("Polygon")),b("coordinates",aV(function(){switch(e.cs){case"box":return e.gv;case"polygon":return e.iG;case"extent":var t=e.g8;if(t.b&&t.b.b&&t.b.b.b&&t.b.b.b.b&&!t.b.b.b.b.b){var i=t.a,n=t.b,r=n.a,s=n.b,a=s.a,o=s.b.a;return P([P([b(i,r),b(i,o),b(a,o),b(a,r),b(i,r)])])}return P([S]);default:return P([S])}}()))])))),b("pdir_coordsys",tC("LV95")),b("products",u(rU,aK,e3(t.j$)))]))},aJ=i(function(t,e){return{$:0,a:t,b:e}}),aQ=r9+"/geoshopapi/v1/orders",a0=i(function(t,e){var i,n=P([u(aJ,"Content-Type","application/json; charset=UTF-8")]);return rV({gn:(i=aZ(t),u(eN,"application/json",u(tE,0,i))),bC:u(aX,e,aY),hr:n,h6:"POST",jL:ie,jR:ie,jX:aQ})}),a1=function(t){return{$:1,a:t}},a2=i(function(t,e){return{$:1,a:t,b:e}}),a3=n(function(t,e,i){if(1===e.$)return e4(e.a);var n=e.a;return 1===i.$?e4(i.a):e9(u(t,n,i.a))}),a4=r(function(t,e,i,n){return c(a3,t,e(n),i(n))}),a5=n(function(t,e,i){return c(a4,t,e,i)}),a6=a5(ik),a8=n(function(t,e,i){var n=e(i);return n.$?e4(n.a):t(n.a)(i)}),a9=i(function(t,e){return u(a8,t,e)}),a7=u(i0,n(function(t,e,i){return 1===e.$||1===i.$?ie:it(u(t,e.a,i.a))})(R),it(S)),ot=i(function(t,e){return 1>t?e:c(X,0,-t,e)}),oe=function(t){if(0===t.length||/[\sxbo]/.test(t))return ie;var e=+t;return e==e?it(e):ie},oi=function(t){var e=t.$?P([t.a,t.b]):u(ir,",",u(ot,1,u(iX,4,t.a))),i=a7(u(i1,function(t){return oe(t)},nM(u(i1,ir(" "),e))));if(i.$)return e4("Box2d enth\xe4lt ung\xfcltige Zahlen");if(i.a.b&&i.a.b.b&&i.a.b.b.b&&i.a.b.b.b.b&&!i.a.b.b.b.b.b){var n=i.a,r=n.a,s=n.b,a=s.a,o=s.b,h=o.a,l=o.b.a;return e9(P([P([b(r,a),b(r,l),b(h,l),b(h,a),b(r,a)])]))}return e4("Box2d enth\xe4lt ung\xfcltige Zahlen")},on=i(function(t,e){return{$:2,a:t,b:e}}),or=i(function(t,e){return e4(u(on,t,e))}),os=function(t){return or(t)},oa=i(function(t,e){var i=function(t){return u(on,t,e)},n=u(ro,t,rl(i));return 1===e.$?n(e.a):e.c.b?1!==e.c.a.$||e.c.b.b?e4(i("The node is not a simple text node.")):n(e.c.a.a):n("")}),oo=function(t){return oa(t)},oh=oo(u(n(function(t,e,i){var n=t(i);return n.$?e4("could not convert string '"+i+"' to "+e):e9(n.a)}),iK,"an Int")),ol=i(function(t,e){return b(t,e)}),ou=r(function(t,e,i,n){return{a:e,bJ:t,ic:i,fv:n}}),oc=function(t){return u(eG,{gy:!1,h9:!1},t)},od=/.^/,of=i(function(t,e){return c(i0,i(function(e,i){var n=i.a,r=i.b;return t(e)?b(u(R,e,n),r):b(n,u(R,e,r))}),b(S,S),e)}),og=eW(eV),om=function(t){return t.$?S:t.c},op=i(function(t,e){return{$:0,a:t,b:e}}),o_=i(function(t,e){if(e.$)return u(op,t,e);var i=e.b;return u(op,C(t,e.a),i)}),ov=i(function(t,e){return nM(u(i1,t,e))}),oy=i(function(t,e){return!e.$&&_(t,e.a)}),ox=n(function(t,e,i){t:for(;;){if(t.b){if(t.b.b){var n=t.b,r=u(nw,oy(t.a),i);if(r.b){if(r.b.b){t=n,i=u(ov,om,r);continue t}var s=r.a;t=n,e=s,i=om(s);continue t}return b(S,e)}return b(u(nw,oy(t.a),i),e)}return b(i,e)}}),ob=n(function(t,e,i){return u(rl,o_(t),e(c(ox,t,i,om(i))))}),oM=i(function(t,e){return u(ob,t,e)}),ow=i(function(t,e){return u(a5,ik,u(oM,t,e))}),oE=i(function(t,e){var i=e.a,n=e.b;return i.b?i.b.b?e4(u(on,"Multiple nodes found.",n)):t(i.a):e4(u(on,"Node not found.",n))}),oC=function(t){return oE(t)},oS=oo(e9),oI=function(t){return function(){return e9(t)}},oR="ms:ogd-0404_arv_basis_avzh_liegenschaften_f",oP=i(function(t,e){return t(e.fh)}),ok=function(t){return c(H,function(t){switch(t){case"&":return B("&amp;");case"<":return B("&lt;");case">":return B("&gt;");case'"':return B("&quot;");case"'":return B("&apos;");default:return j(t)}},"",t)},oT=function(t){return ok(t.cl)+'="'+ok(t.fL)+'"'},oA=function(t){if(t.$)return ok(t.a);var e=t.a,i=t.b,n=t.c;return"<"+ok(e)+(i.b?" "+u(ii," ",u(i1,oT,i)):"")+">"+u(ii,"",u(i1,oA,n))+"</"+ok(e)+">"},oL=function(t){return u(j,t,"")},oO=n(function(t,e,i){return t>0?c(oO,t>>1,C(e,e),1&t?C(i,e):i):i}),oF=i(function(t,e){return c(oO,t,e,"")}),oD=n(function(t,e,i){return C(u(oF,t-iU(i),oL(e)),i)}),oN=function(t){switch(t.$){case 0:var e=t.b;return u(R,"Path: /"+u(ii,"/",t.a),oN(e));case 1:if(t.a.b){var i=t.a,r=n(function(t,e,i){return e?"    "+i:c(oD,2," ",J(t))+") "+i}),s=nM(u(iu,function(t){return u(ro,oN,iu(r(t+1)))},i));return u(R,"All decoders failed:",s)}return P(["No decoders available."]);default:var a=t.a;return P(["Node: "+oA(t.b),a])}},o$=i(function(t,e){t:for(;;)switch(t.$){case 0:return e;case 1:var i=t.b;t=t.a,e=u(R,i,e);continue t;default:var n=t.b;t=t.a,e=u(o$,n,e);continue t}}),oG=i(function(t,e){var i=t({d2:1,bx:S,p:1,b:0,iP:1,ft:e});return i.$?e4(u(o$,i.b,S)):e9(i.b)}),oz=n(function(t,e,i){return{ec:e,e3:t,fh:i}}),oj=i(function(t,e){return{$:1,a:t,b:e}}),oB=n(function(t,e,i){return{$:0,a:t,b:e,c:i}}),oW=i(function(t,e){return{$:1,a:t,b:e}}),oV=r(function(t,e,i,n){return{d2:e,gO:n,iH:i,iP:t}}),oH={$:0},oq=r(function(t,e,i,n){return u(oW,oH,d(oV,t,e,i,n))}),oU=n(function(t,e,i){return function(n){var r=e(n);if(1===r.$)return u(oj,r.a,r.b);var s=r.a,a=r.b,o=i(r.c);if(1===o.$){var h=o.a;return u(oj,s||h,o.b)}h=o.a;var l=o.c;return c(oB,s||h,u(t,a,o.b),l)}}),oX=i(function(t,e){return c(oU,sN,t,e)}),oY=function(t){return function(e){return c(oB,!1,t,e)}},oK=i(function(t,e){return{$:0,a:t,b:e}}),oZ=function(t){return u(oK,t,{$:0,a:t})},oJ=i(function(t,e){return u(oW,oH,d(oV,t.iP,t.d2,e,t.bx))}),oQ=function(t){var e=t.a,i=t.b,n=!iY(e);return function(t){var r=f(eH,e,t.b,t.iP,t.d2,t.ft),s=r.a,a=r.b,o=r.c;return _(s,-1)?u(oj,!1,u(oJ,t,i)):c(oB,n,0,{d2:o,bx:t.bx,p:t.p,b:s,iP:a,ft:t.ft})}},o0=u(oX,u(oX,u(oX,oY(0),oQ(oZ("<!--"))),(h9=(h8=oZ("-->")).a,h7=h8.b,function(t){var e=f(eU,h9,t.b,t.iP,t.d2,t.ft),i=e.a,n=e.b,r=e.c;return _(i,-1)?u(oj,!1,d(oq,n,r,h7,t.bx)):c(oB,0>y(t.b,i),0,{d2:r,bx:t.bx,p:t.p,b:i,iP:n,ft:t.ft})})),oQ(oZ("-->"))),o1=i(function(t,e){return{d9:e,fi:t}}),o2=n(function(t,e,i){return{$:0,a:t,b:e,c:i}}),o3=i(function(t,e){return{$:1,a:t,b:e}}),o4=n(function(t,e,i){return{d2:e,bx:i,iP:t}}),o5=i(function(t,e){return{d2:e.d2,bx:t,p:e.p,b:e.b,iP:e.iP,ft:e.ft}}),o6=i(function(t,e){return function(i){var n=e(u(o5,u(R,c(o4,i.iP,i.d2,t),i.bx),i));return n.$?n:c(oB,n.a,n.b,u(o5,i.bx,n.c))}}),o8={$:13},o9=i(function(t,e){return function(i){var n=e(i);if(1===n.$)return u(oj,n.a,n.b);var r=n.a,s=n.c,a=t(n.b)(s);if(1===a.$){var o=a.a;return u(oj,r||o,a.b)}return o=a.a,c(oB,r||o,a.b,a.c)}}),o7=s(function(t,e,i,n,r){for(;;){var s=c(eq,t,e,r.ft);if(_(s,-1))return c(oB,0>y(r.b,e),0,{d2:n,bx:r.bx,p:r.p,b:e,iP:i,ft:r.ft});_(s,-2)?(e+=1,i+=1,n=1):(e=s,n+=1)}}),ht=function(t){return function(e){return f(o7,t,e.b,e.iP,e.d2,e)}},he=i(function(t,e){return function(i){var n=e(i);if(1===n.$)return u(oj,n.a,n.b);var r=n.b,s=n.c;return c(oB,n.a,u(t,c(X,i.b,s.b,i.ft),r),s)}}),hi=function(t){return u(he,sN,t)},hn=function(t){return function(e){return u(oj,!1,u(oJ,e,t))}},hr=i(function(t,e){return u(o9,function(e){return 1>y(t,iU(e))?oY(e):hn(o8)},hi(u(oX,oY(0),ht(e))))}),hs=i(function(t,e){return c(oU,iP,t,e)}),ha=function(t){return{$:8,a:t}},ho=function(t){return oQ(u(oK,t,ha(t)))},hh=u(o6,"docTypeExternalSubset",u(hs,u(oX,oY(iH),ho('"')),u(oX,u(hr,0,function(t){return'"'!==t}),ho('"')))),hl=u(o6,"docTypeInternalSubset",u(hs,u(oX,oY(iH),ho("[")),u(oX,u(hr,0,function(t){return"]"!==t}),ho("]")))),hu=function(t){var e,i,n,r;return i=(e=u(oK,t,{$:9,a:t})).a,n=e.b,r=!iY(i),function(t){var e=f(eH,i,t.b,t.iP,t.d2,t.ft),s=e.a,a=e.b,o=e.c;return _(s,-1)||c(eq,function(t){return ip(t)||"_"===t},s,t.ft)>=0?u(oj,!1,u(oJ,t,n)):c(oB,r,0,{d2:o,bx:t.bx,p:t.p,b:s,iP:a,ft:t.ft})}},hc=i(function(t,e){return function(i){var n=e(i);if(n.$)return u(oj,n.a,n.b);var r=n.c;return c(oB,n.a,t(n.b),r)}}),hd=i(function(t,e){return{$:2,a:t,b:e}}),hf=n(function(t,e,i){t:for(;;){if(i.b){var n=i.b,r=(0,i.a)(t);if(r.$){if(r.a)return r;e=u(hd,e,r.b),i=n;continue t}return r}return u(oj,!1,e)}}),hg=function(t){return function(e){return c(hf,e,oH,t)}},hm=function(t){return hg(P([u(hc,it,t),oY(ie)]))},hp=u(o6,"publicIdentifier",u(hs,u(oX,oY(iH),ho('"')),u(oX,u(hr,0,function(t){return'"'!==t}),ho('"')))),h_=i(function(t,e){return u(hc,function(){return 0},u(hr,t,e))}),hv=function(t){return" "===t||"\r"===t||"\n"===t||"	"===t},hy=u(h_,0,hv),hx=u(o6,"docTypeDefinition",hg(P([u(hs,u(hs,u(hs,u(oX,u(oX,oY(o2),hu("PUBLIC")),hy),u(oX,hp,hy)),u(oX,hh,hy)),hm(hl)),u(hs,u(hs,u(oX,u(oX,oY(o3),hu("SYSTEM")),hy),u(oX,hh,hy)),hm(hl)),u(hs,oY(function(t){return{$:2,a:t}}),hl)]))),hb=u(o6,"tagName",u(hr,1,function(t){return!hv(t)&&"/"!==t&&"<"!==t&&">"!==t&&'"'!==t&&"'"!==t&&"="!==t})),hM=u(o6,"docType",u(hs,u(hs,u(oX,u(oX,oY(o1),ho("<!DOCTYPE")),hy),u(oX,hb,hy)),u(oX,u(oX,hx,hy),ho(">")))),hw=n(function(t,e,i){return{$:0,a:t,b:e,c:i}}),hE=i(function(t,e){return{cl:t,fL:e}}),hC=u(o6,"attributeName",u(hr,1,function(t){return!hv(t)&&"/"!==t&&"<"!==t&&">"!==t&&'"'!==t&&"'"!==t&&"="!==t})),hS=function(t){return{$:12,a:t}},hI=n_(P([b("amp","&"),b("lt","<"),b("gt",">"),b("apos","'"),b("quot",'"')])),hR=function(t){return 0>t||t>1114111?"�":t>65535?String.fromCharCode(Math.floor((t-=65536)/1024)+55296,t%1024+56320):String.fromCharCode(t)},hP=i(function(t,e){return e.$?e4(t):e9(e.a)}),hk=n(function(t,e,i){t:for(;;){if(!e.b)return e9(i);var n=e.a,r=e.b;switch(n){case"0":t=s=t-1,e=a=r,i=o=i;continue t;case"1":var s=t-1,a=r,o=i+u(N,16,t);t=s,e=a,i=o;continue t;case"2":s=t-1,a=r,o=i+2*u(N,16,t),t=s,e=a,i=o;continue t;case"3":s=t-1,a=r,o=i+3*u(N,16,t),t=s,e=a,i=o;continue t;case"4":s=t-1,a=r,o=i+4*u(N,16,t),t=s,e=a,i=o;continue t;case"5":s=t-1,a=r,o=i+5*u(N,16,t),t=s,e=a,i=o;continue t;case"6":s=t-1,a=r,o=i+6*u(N,16,t),t=s,e=a,i=o;continue t;case"7":s=t-1,a=r,o=i+7*u(N,16,t),t=s,e=a,i=o;continue t;case"8":s=t-1,a=r,o=i+8*u(N,16,t),t=s,e=a,i=o;continue t;case"9":s=t-1,a=r,o=i+9*u(N,16,t),t=s,e=a,i=o;continue t;case"a":s=t-1,a=r,o=i+10*u(N,16,t),t=s,e=a,i=o;continue t;case"b":s=t-1,a=r,o=i+11*u(N,16,t),t=s,e=a,i=o;continue t;case"c":s=t-1,a=r,o=i+12*u(N,16,t),t=s,e=a,i=o;continue t;case"d":s=t-1,a=r,o=i+13*u(N,16,t),t=s,e=a,i=o;continue t;case"e":s=t-1,a=r,o=i+14*u(N,16,t),t=s,e=a,i=o;continue t;case"f":s=t-1,a=r,o=i+15*u(N,16,t),t=s,e=a,i=o;continue t;default:return e4(oL(n)+" is not a valid hexadecimal character.")}}}),hT=i(function(t,e){return e.$?e4(e.a):e9(t(e.a))}),hA=function(t){return t.b?it(t.b):ie},hL=function(t){return c(H,R,S,t)},hO=function(t){if(iY(t))return e4("Empty strings are not valid hexadecimal strings.");var e=function(){if(u(Z,"-",t)){var e=u(nO,S,hA(hL(t)));return u(hT,ay,c(hk,io(e)-1,e,0))}return c(hk,iU(t)-1,hL(t),0)}();return u(rl,function(e){return u(ii," ",P(['"'+t+'"',"is not a valid hexadecimal string because",e]))},e)},hF=i(function(t,e){return e.$?ie:it(t(e.a))}),hD=function(t){return hn(hS(t))},hN=function(t){return u(o6,"escapedChar",u(o9,function(t){return hg(P([u(o9,function(){var e=u(Z,"#x",t)?u(rl,hS,u(hT,hR,hO(u(iX,2,t)))):u(Z,"#",t)?u(hP,hS("Invalid escaped charactor: "+t),u(hF,hR,iK(u(iX,1,t)))):u(hP,hS('No entity named "&'+t+';" found.'),u(n9,t,hI));return e.$?hn(e.a):oY(e.a)},ho(";")),hD('Entities must end_ with ";": &'+t)]))},u(hs,u(oX,oY(iH),ho("&")),u(hr,1,function(e){return!_(e,t)&&";"!==e}))))},h$=function(t){return function(e){return t(0)(e)}},hG=function(t){return u(o6,"textString",u(o9,function(e){return hg(P([u(hs,u(hs,oY(j),hN(t)),h$(function(){return hG(t)})),oY(e)]))},u(hr,0,function(e){return!_(e,t)&&"&"!==e})))},hz=u(o6,"attributeValue",hg(P([u(hs,u(oX,oY(iH),ho('"')),u(oX,hG('"'),ho('"'))),u(hs,u(oX,oY(iH),ho("'")),u(oX,hG("'"),ho("'")))]))),hj=u(o6,"attribute",u(hs,u(hs,oY(hE),u(oX,u(oX,u(oX,hC,hy),ho("=")),hy)),hz)),hB=i(function(t,e){return!u(n9,t,e).$}),hW=i(function(t,e){return u(hB,t,e)}),hV=function(t){return u(o6,"attributes",hg(P([u(o9,function(e){return u(hW,e.cl,t)?hD("attribute "+e.cl+" is duplicated"):u(hs,u(oX,oY(R(e)),hy),hV(u(nv,e.cl,t)))},hj),oY(S)])))},hH=function(t){return u(o6,"closingTag",u(oX,u(oX,u(oX,u(oX,u(oX,oY(0),ho("</")),hy),u(o9,function(e){return _(t,e)?oY(0):hD("tag name mismatch: "+t+" and "+e)},hb)),hy),ho(">")))};function hq(){return u(o6,"cdataContent",hg(P([u(oX,oY(""),ho("]]>")),u(o9,function(){return u(hc,function(t){return"]]"+t},hq())},ho("]]")),u(o9,function(){return u(hc,function(t){return"]"+t},hq())},ho("]")),u(hs,u(hs,oY(E),u(hr,0,function(t){return"]"!==t})),h$(function(){return hq()}))])))}var hU=hq();hq=function(){return hU};var hX=u(o6,"cdata",u(hs,u(oX,oY(iH),ho("<![CDATA[")),hU));function hY(){return u(o6,"textNodeString",hg(P([u(hs,u(hs,oY(i(function(t,e){return it(C(t,u(nO,"",e)))})),u(hr,1,function(t){return"<"!==t&&"&"!==t})),h$(function(){return hY()})),u(hs,u(hs,oY(i(function(t,e){return it(u(j,t,u(nO,"",e)))})),hN("<")),h$(function(){return hY()})),u(hs,u(hs,oY(i(function(t,e){var i=C(t,u(nO,"",e));return""!==i?it(i):ie})),hX),h$(function(){return hY()})),u(hs,u(oX,oY(function(t){var e=u(nO,"",t);return""!==e?it(e):ie}),o0),h$(function(){return hY()})),oY(ie)])))}var hK=hY();hY=function(){return hK};var hZ=function(t){return u(o6,"children",hg(P([u(oX,oY(S),hH(t)),u(o9,function(e){if(e.$)return u(oX,oY(S),hH(t));var i=e.a;return u(hs,oY(function(t){return u(R,{$:1,a:i},t)}),hZ(t))},hK),h$(function(){return u(hs,u(hs,oY(R),hJ()),hZ(t))})])))};function hJ(){return u(o6,"element",u(hs,u(oX,oY(iH),ho("<")),u(o9,function(t){return u(hs,u(hs,u(oX,oY(hw(t)),hy),u(oX,hV(nd),hy)),hg(P([u(oX,oY(S),ho("/>")),u(hs,u(oX,oY(iH),ho(">")),h$(function(){return hZ(t)}))])))},hb)))}var hQ=hJ();hJ=function(){return hQ};var h0={$:10},h1=function(t){return function(e){return _(iU(e.ft),e.b)?c(oB,!1,0,e):u(oj,!1,u(oJ,e,t))}},h2=h1(h0),h3=i(function(t,e){return{cl:t,fL:e}}),h4=u(o6,"processingInstructionName",u(hr,1,function(t){return" "!==t}));function h5(){return u(o6,"processingInstructionValue",hg(P([u(oX,oY(""),ho("?>")),u(o9,function(){return u(hc,function(t){return"?"+t},h5())},ho("?")),u(hs,u(hs,oY(E),u(hr,0,function(t){return"?"!==t})),h$(function(){return h5()}))])))}var h6=h5();h5=function(){return h6};var h8,h9,h7,lt,le,li,ln,lr,ls,la=u(o6,"processingInstruction",u(hs,u(hs,u(oX,oY(h3),ho("<?")),u(oX,h4,ho(" "))),h6)),lo=function(t){return{$:1,a:t}},lh=function(t){return{$:0,a:t}},ll=r(function(t,e,i,n){for(;;){var r=i(e)(n);if(r.$)return s=r.a,u(oj,t||s,r.b);var s=r.a,a=r.b,o=r.c;if(a.$)return c(oB,t||s,a.a,o);t=t||s,e=a.a,n=o}}),lu=i(function(t,e){return function(i){return d(ll,!1,t,e,i)}}),lc=i(function(t,e){return u(o9,function(e){return 1>y(t,io(e))?oY(e):hn(o8)},u(lu,S,function(t){return hg(P([u(hc,function(e){return lh(u(nu,t,P([e])))},e),u(hc,sN(lo(t)),oY(0))]))}))}),ld=u(h_,1,hv),lf=u(o6,"xml",u(hs,u(hs,u(hs,u(oX,oY(oz),hy),u(oX,u(lc,0,u(hs,oY(iH),u(oX,la,hy))),u(lc,0,hg(P([ld,o0]))))),u(oX,hm(hM),u(lc,0,hg(P([ld,o0]))))),u(oX,u(oX,hQ,u(lc,0,hg(P([ld,o0])))),h2))),lg=i(function(t,e){var i=u(oG,lf,e);if(i.$)return e4(u(B,"Invalid XML document.\n",u(ii,"\n",u(i1,function(t){return C("At ["+J(t.iP)+","+J(t.d2)+"], ",function(t){switch(t.$){case 0:return"I was expecting: "+t.a;case 1:return"I was expecting an integer";case 2:return"I was expecting a hexadecimal";case 3:return"I was expecting an octal";case 4:return"I was expecting a binary";case 5:return"I was expecting a float";case 6:return"I was expecting a number";case 7:return"I was expecting a variable";case 8:return"I was expecting a symbol: "+t.a;case 9:return"I was expecting a keyword: "+t.a;case 10:return"I was expecting the end of input";case 11:return"I got an unexpected character";case 12:return t.a;default:return"I got a bad repetition"}}(t.iH))},i.a))));var n=u(oP,t,i.a);return n.$?e4(u(ii,"\n",oN(n.a))):e9(n.a)}),lm="https://maps.zh.ch",lp=lm+"/wfs/OGDZHWFS?"+u(ii,"",P(["SERVICE=WFS&","VERSION=2.0.0&","Request=getfeature&","TYPENAME="+oR+"&","BBOX="])),l_=n(function(t,e,n){var r=i(function(t,e){if(e.$)return e4({$:0,a:e.a});var i,n,r,s,a,o,h=e.a;return u(rl,a1,u(lg,(n=u(oM,u(nu,i=P(["wfs:member",oR]),P(["gml:boundedBy","gml:Envelope","gml:lowerCorner"])),oC(oS)),r=u(oM,u(nu,i,P(["ms:geometry","gml:MultiSurface","gml:surfaceMember","gml:Polygon","gml:exterior","gml:LinearRing","gml:posList"])),oC(oS)),s=u(a9,function(t){var e=function(t){var e=u(nO,od,oc("\\s+")),i=a7(u(i1,function(t){return oe(t)},u(og,e,t.trim()))),n=i.$?e4("Koordinatenliste enth\xe4lt nicht nur Zahlen"):e9(u(of,function(t){return t>2e6},i.a));if(n.$)return e4(u(ii," ",P(["Koordinaten ergeben kein Polygon.",n.a])));var r=n.a,s=r.a,a=r.b;return _(io(s),io(a))?e9(c(T,ol,s,a)):e4(u(ii," ",P(["Koordinaten ergeben kein g\xfcltiges Polygon.","Anzahl Ost-Koordinaten entspricht nicht der Anzahl Nord-Koordinaten."])))}(t);return e.$?os(e.a):oI(P([e.a]))},r),a=u(oM,u(nu,i,P(["gml:boundedBy","gml:Envelope","gml:upperCorner"])),oC(oS)),o=u(a9,function(t){var e=oi(u(a2,t.a,t.b));return e.$?os(e.a):oI(e.a)},c(a5,ol,n,a)),u(a6,s,c(ow,u(nu,i,P(["ms:egris_egrid"])),oC(oS),u(a6,oI(t),u(a6,o,c(ow,u(nu,i,P(["ms:bfsnr"])),oC(oh),c(ow,u(nu,i,P(["ms:nummer"])),oC(oS),c(ow,u(nu,i,P(["ms:geodb_oid"])),oC(oh),oI(sn))))))))),h))}),s=u(ii,",",u(i1,J,e)),a=u(ii,",",P([s,s]));return rH({bC:u(rh,function(e){return n(u(r,t,e))},rm(e9)),jX:C(lp,a)})}),lv=function(t){return r9+"/geoshopapi/v1/orders/"+t},ly=i(function(t,e){return rH({bC:u(rp,e,sm),jX:lv(t)})}),lx=n(function(t,e,i){return{ha:e,iJ:i,jn:t}}),lb=u(ij,function(t){return oi({$:0,a:t})},tr),lM=u(to,function(t){return t.$?nW(t.a):iW(t.a)},u(ts,"box2d",lb)),lw=p(tf,sn,u(ts,"geodb_oid",tt),u(ts,"nummer",tr),u(ts,"bfsnr",tt),lM,u(ts,"gemeinde",tr),u(ts,"egris_egrid",tr),lM),lE=d(tu,lx,u(ts,"success",te),u(ts,"features",nj(lw)),u(ts,"quality",tt)),lC=i(function(t,e){return rH({bC:u(rp,e,lE),jX:lm+"/search/grundstueck.json?"+u(ii,"",P(["srid=2056&","page=1&","start=0&","limit=25&",'sort=[{"property":"gemeindename","direction":"ASC"}]&',"nummer="+t]))})}),lS=i(function(t,e){return u(nt,e,tR(function(e){(eX=document.createElement("input")).type="file",eX.accept=u(ii,",",t),eX.addEventListener("change",function(t){e(tI(t.target.files[0]))}),eK(eX)}))}),lI=i(function(t,e){return c(nS,n(function(e,i,n){return u(t,e,i)?c(np,e,i,n):n}),nd,e)}),lR=i(function(t,e){return u(lI,i(function(e){return t(e)}),e)}),lP={$:60},lk=i(function(t,e){return i7(u(tk,u(sq,u(sq,tI,t),e4),u(tP,u(sq,u(sq,tI,t),e9),e)))}),lT=eL("focus"),lA=i(function(t,e){return e.j7*t.ke-e.ke*t.j7}),lL=i(function(t,e){return{j7:e.j7-t.j7,ke:e.ke-t.ke}}),lO=i(function(t,e){return t*e}),lF=n(function(t,e,i){return M(t,e,i)}),lD=i(function(t,e){return e+t}),lN=function(t){return c(ia,lD,0,t)},l$=function(t){if(t.b&&t.b.b){if(t.b.b.b){r=t.a;var e=t.b,n=(s=e.a,e.b);return lN(c(T,i(function(t,e){var i,n,s,a;return s=(i=c(lF,r,t,e)).c,a=u(lL,n=i.a,i.b),u(lO,.5,u(lA,u(lL,n,s),a))}),u(R,s,n),n))}var r=t.a,s=t.b.a}return 0},lG=i(function(t,e){t:for(;;){if(t>0&&e.b){t-=1,e=e.b;continue t}return e}}),lz=i(function(t,e){return{j7:t,ke:e}}),lj=i(function(t,e){return 1>y(e,t)}),lB=function(t){return u(lj,0,l$(t))?t:i_(t)},lW=i(function(t,e){return y(e,t)>-1}),lV=i(function(t,e){return{ba:u(i1,lB,t),bh:u(lW,0,l$(e))?e:i_(e)}}),lH=function(t){var e,i,n=u(lG,1,u(i1,function(t){return u(lz,t.a,t.b)},(e=nx(t)).$?S:e.a));return u(lD,lN(u(i1,l$,(i=u(lV,S,n)).ba)),l$(i.bh))},lq=i(function(t,e){return c(nS,n(function(t,e,i){return u(rs,t,i)}),t,e)}),lU=i(function(t,e){return u(lq,t,e)}),lX=function(t){return t},lY=i(function(t,e){return e.j7*t.j7+e.ke*t.ke}),lK=n(function(t,e,i){return i>.5?{j7:e.j7+(1-i)*(t.j7-e.j7),ke:e.ke+(1-i)*(t.ke-e.ke)}:{j7:t.j7+i*(e.j7-t.j7),ke:t.ke+i*(e.ke-t.ke)}}),lZ=i(function(t,e){return c(lK,t.a,t.b,e)}),lJ=i(function(t,e){return 0>y(e,t)}),lQ=i(function(t,e){return e-t}),l0=i(function(t,e){return t/e}),l1=function(t){return u(lL,t.a,t.b)},l2=i(function(t,e){var i=l1(e),n=l1(t),r=e.a,s=e.b,a=t.a,o=t.b,h=u(lL,a,r),l=u(lA,n,h),c=u(lA,i,h),d=u(lD,u(lA,u(lL,a,s),n),l),f=u(lQ,u(lA,u(lL,r,o),i),c);if(_(f,0)||_(d,0))return u(lJ,0,u(lY,i,n))?_(o,s)?it(o):_(a,r)?it(a):ie:_(o,r)?it(o):_(a,s)?it(a):ie;var g=u(l0,l,d),m=u(l0,c,f);return 0>m||m>1||0>g||g>1?ie:it(1>y(u(nA,m,1-m),u(nA,g,1-g))?u(lZ,t,m):u(lZ,e,g))}),l3=n(function(t,e,i){t:for(;;){if(t>0&&e.b){var n=e.a;t-=1,e=e.b,i=u(R,n,i);continue t}return i}}),l4=i(function(t,e){return i_(c(l3,t,e,S))}),l5=n(function(t,e,i){if(e>0){var n=b(e,i);t:for(;;){e:for(;;){if(!n.b.b)return i;if(!n.b.b.b){if(1===n.a)break t;break e}switch(n.a){case 1:break t;case 2:var r=n.b;return P([r.a,r.b.a]);case 3:if(n.b.b.b.b){var s=n.b,a=s.b;return P([s.a,a.a,a.b.a])}break e;default:if(n.b.b.b.b&&n.b.b.b.b.b){var o=n.b,h=o.b,l=h.b,d=l.b,f=d.b;return u(R,o.a,u(R,h.a,u(R,l.a,u(R,d.a,t>1e3?u(l4,e-4,f):c(l5,t+1,e-4,f)))))}break e}}return i}return P([n.b.a])}return S}),l6=i(function(t,e){return c(l5,0,t,e)}),l8=i(function(t,e){return b(t(e.j7),t(e.ke))}),l9=T(ol),l7=function(t){switch(t.$){case 0:return"Ung\xfcltige Adresse: "+t.a;case 1:return"Timeout";case 2:return"Netzwerk-Fehler";case 3:var e=t.a;switch(e){case 801:return"Rasterdaten k\xf6nnen nur bis max. 4 km2 bestellt werden.\nBitte w\xe4hlen Sie 'Rechteck' und zeichnen Sie einen\nkleinen Perimeter im Zentrum des gew\xfcnschten Ausschnitts.\nSie erhalten alle angeschnittenen Raster-Kacheln.";case 802:return"Rasterdaten k\xf6nnen nur mit genau EINER Parzelle bestellt werden.";case 803:return"Rasterdaten k\xf6nnen nur mit einer Parzelle bestellt werden.\nAuswahl einer Gemeinde ist nicht zul\xe4ssig.";case 804:return"Der Basisplan kann nur bis max. 30 km2 bestellt werden.\nBitte w\xe4hlen Sie bei der Definition des Perimeters\n'Rechteck' oder 'Polygon' und zeichnen Sie einen\nkleineren Perimeter im Zentrum des gew\xfcnschten Ausschnitts.";case 805:return"Die Bestellung erfolgte mit einem ung\xfcltigen JSON-Body.";case 806:return"Die E-Mail Adresse ist ung\xfcltig.";case 807:return"Ung\xfcltige Auswahlfl\xe4che: Das Polygon \xfcberschneidet sich selbst.";case 808:return"Ung\xfcltige Auswahlfl\xe4che: Die Fl\xe4che muss gr\xf6sser als 1 Quadratmeter sein.";case 809:return"Die ausgew\xe4hlte Gemeinde ist ung\xfcltig.";case 810:return"Die Eidg. Grundst\xfcck-ID (EGRID) ist unbekannt.";case 811:return"Der Perimetertyp ist ung\xfcltig. Erlaubt sind nur DIRECT oder INDIRECT";case 812:return"Das Produkt und/oder Datenformat ist nicht vorhanden";case 813:return"Die Bestellung enth\xe4lt einen unerwarteten oder ung\xfcltigen Wert.";default:return"Fehler Status-Code: "+J(e)}default:return"Aufruf-Parameter werden vom Server nicht (mehr?) verstanden: "+t.a}},ut=function(t){return!t.b},ue=i(function(t,e){if(-2===e.$)return nc;var i=e.b,n=e.d,r=e.e;return f(nf,e.a,i,u(t,i,e.c),u(ue,t,n),u(ue,t,r))}),ui=function(t){return{$:1,a:t}},un=i(function(t,e){return u(nt,function(){return e},tG(t))}),ur=n(function(t,e,i){var n=w(i,{P:u(R,e,i.P)}),r=function(){var e=t.jf;switch(e.$){case 0:var r=e.a;return i.bH?sS:u(un,r,ui(ie));case 1:r=e.a;var s=e.b;return i.bH?sS:u(un,r,ui(it(s)));default:return u(un,s=e.a,{$:2,a:io(n.P)})}}();return b(n,u(tq,t.jS,r))}),us=tZ("readPFCFromCache",tC),ua=i(function(t,e){return u(rs,t,e)}),uo=function(t){return rY(t)},uh=tZ("setOlAction",tC),ul=tZ("storeOrdersInCache",tC),uu=tZ("storePFCInCache",tC),uc=tZ("storeSettingsInCache",tC),ud=n(function(t,e,i){return u(nt,iZ,c(eY,t,e,i))}),uf=n(function(t,e){return b(S,t(e))}),ug=function(t){return t.toUpperCase()},um={cN:S,cO:5e3,cZ:S,dv:S,dw:S,dx:0},up=i(function(t,e){return w(e,{cN:t})}),u_=P([u(en,"position","fixed"),u(en,"top","0"),u(en,"right","0"),u(en,"width","100%"),u(en,"max-width","300px"),u(en,"list-style-type","none"),u(en,"padding","0"),u(en,"margin","0")]),uv=i(function(t,e){return w(e,{cO:t})}),uy=i(function(t,e){return w(e,{cZ:t})}),ux=P([u(en,"margin","1em 1em 0 1em"),u(en,"max-height","100px"),u(en,"transition","max-height 0.6s, margin-top 0.6s")]),ub=i(function(t,e){return w(e,{dv:t})}),uM=i(function(t,e){return u(er,t,tC(e))}),uw=uM("className"),uE=P([uw("animated bounceInRight")]),uC=i(function(t,e){return w(e,{dw:t})}),uS=P([uw("animated fadeOutRightBig"),u(en,"max-height","0"),u(en,"margin-top","0")]),uI=u(uv,5e3,u(uy,ux,u(up,u_,u(ub,uE,u(uC,uS,u(i(function(t,e){return w(e,{dx:t})}),700,um)))))),uR=u(uv,2500,uI),uP=r(function(t,e,i,n){switch(i.$){case 0:return b(n,sS);case 1:var r=i.a,s=n.P;if(s.b){var a=s.a,o=s.b,h=function(){if(r.$)return sS;var t=r.a;return u(un,t,ui(it(t)))}(),l=u(e,a,o),c=l.b;return b(w(n,{P:l.a,bH:!0}),tH(P([c,u(tq,t.jS,h)])))}return b(w(n,{bH:!1}),sS);default:var d=i.a,f=b(1>y(io(n.P),d),n.P);if(f.a&&f.b.b){var g=f.b,m=u(e,a=g.a,o=g.b),p=m.b;return b(w(n,{P:m.a}),p)}return b(n,sS)}}),uk=r(function(t,e,i,n){var r=n.fD,s=r.a,a=r.b;switch(i.$){case 0:return d(aw,um,e,i.a,b(n,sS));case 1:var o=i.a;return b(w(n,{fD:u(sM,h=u(nw,function(t){return!_(t.a,o)},s),a)}),sS);default:o=i.a;var h=u(i1,function(t){var e=t.a,i=t.b,n=t.c;return _(e,o)?M(e,1,n):M(e,i,n)},s);return b(w(n,{fD:u(sM,h,a)}),u(nt,function(){return e({$:1,a:o})},tG(t.dx)))}}),uT=n(function(t,e,i){return w(t,{j5:e3(u(nP,e,i))})}),uA=function(t){return c(e0,n(function(t,e,i){return u(R,e,i)}),S,t)},uL=i(function(t,e){switch(t.$){case 60:return b(e,sS);case 0:return b(w(e,{fB:t.a}),sS);case 1:return b(w(e,{gQ:t.a}),sS);case 2:return b(w(e,{ij:t.a}),sS);case 9:return b(w(e,{eY:(to=t.a).$?!e.eY:!!to.a}),sS);case 8:return b(w(e,{cA:(to=t.a).$?!e.cA:!!to.a}),sS);case 10:var n,r,s,a,o,h,l,f,g,m=2===(th=(tl=e.bx).jj).$?w(th.a,{hA:t.a}):tl.gd,p=w(tl,{jj:ne(m)}),v=d(ah,e.h5,e3(e.hw),e.cP,m);return b(w(e,{bx:p}),uc(u(tE,0,aU(v))));case 11:return m=2===(th=(tl=e.bx).jj).$?w(th.a,{iR:t.a}):tl.gd,p=w(tl,{jj:ne(m)}),v=d(ah,e.h5,e3(e.hw),e.cP,m),b(w(e,{bx:p}),uc(u(tE,0,aU(v))));case 12:return p=w(tl=e.bx,{jj:ne(m=tl.gd)}),v=d(ah,e.h5,e3(e.hw),e.cP,m),b(w(e,{bx:p}),uc(u(tE,0,aU(v))));case 20:var y=t.a,x=2===(t3=(t2=e.bx).jj).$?t3.a:t2.gd;return v=d(ah,e.h5,e3(e.hw),y,x),b(w(e,{cP:y}),uc(u(tE,0,aU(v))));case 23:return b(w(e,{dr:"Bestellung wird ausgef\xfchrt"}),u(a0,e,ac));case 24:if(t.a.$){var M=t.a.a;return b(w(e,{dH:na(2),gb:e.dH,g6:"Bestellung kann nicht gefunden werden:\n\n"+l7(M)}),sS)}var E=t.a.a;return b(w(e,{dH:st,g6:"",i_:ie,dr:"Daten werden aufbereitet",j$:ny(S)}),u(ly,E,ad));case 25:if(t.a.$)return M=t.a.a,b(w(e,{dH:na(2),gb:e.dH,g6:"Status der Bestellung kann nicht ermittelt werden:\n\n"+l7(M)}),sS);var C=_((T=t.a.a).im.iC,it("PARCEL"))?w(T,{h$:uA(e.iZ)}):T;return b(w(e,{g6:"",$9:tu=c(np,T.ip,C,e.$9),dr:"Daten werden aufbereitet - Status: "+T.i9}),ul(u(tE,0,aq(tu))));case 30:var I=t.a,k=i(function(t,e){return _(e,I)?w(e,{ee:!e.ee}):w(e,{ee:!1})});return b(w(e,{$9:tu=u(ue,k,e.$9),dr:c(nS,i(function(t,e){return z(!e.ee)}),!0,tu)?"":"Bezeichnung f\xfcr die Bestellung eingeben"}),u(lk,function(){return lP},lT(I.ip)));case 31:var T=w(I=t.a,{io:t.b});return b(w(e,{$9:tu=c(np,I.ip,T,e.$9),dr:""}),ul(u(tE,0,aq(tu))));case 28:return b(w(e,{$9:tu=u(rs,t.a,e.$9),dr:"Bestellung gel\xf6scht"}),ul(u(tE,0,aq(tu))));case 29:return b(w(e,{$9:u(s7,tK=1===(tY=u(tm,aA,tU=t.a)).$?nd:tY.a,e.$9)}),sS);case 26:var A=e2(u(lI,i(function(t,e){return""===e.hc}),e.$9)),L=e.ij?tH(u(i1,function(t){return u(ly,t,ad)},A)):sS;return b(e,L);case 27:return b(J=u(nF,e,I=t.a),tH(u(rK,I.im.e5,J.bI)));case 40:return b(e,uh("zoomToPeri"));case 41:return b(e,uh("deletePeri"));case 44:var O=t.a,F=ny((tc=e.bI).hj),D=w(tc,{hj:e3(tt=u(u(hW,O,F)?ua:nv,O,F))});return b(J=w(e,{bI:D}),uo(D));case 45:var N=t.a,$=t.b,G=!iY(e.aN)&&(u(Z,ug(e.aN),ug(N.id))||u(Z,e.aN,u(W,im,N.id))),j=$?u(rs,N.g2,e.iZ):c(np,N.g2,N,e.iZ),B=$&&G&&!u(hB,N.g2,e.iw)?c(np,N.g2,N,e.iw):e.iw;return D=w(tc=e.bI,{iw:uA(j)}),b(J=w(e,{bI:D,iw:B,iZ:j}),uo(D));case 46:return D=w(tc=e.bI,{hj:S}),b(J=w(e,{bI:D}),uo(D));case 47:return D=w(tc=e.bI,{iw:S}),b(J=w(e,{bI:D,iw:nd,aN:"",iZ:nd}),uo(D));case 37:var V=aT(t.a);return b(J=w(e,V.$?{dr:"GetMapConfigChanged Error: "+ix(V.a)}:{bI:V.a}),sS);case 38:var H,q=(V=aT(t.a)).$?e.bI:V.a,U="polygon"===q.cs?(o=u(i1,function(t){return u(lz,t.a,t.b)},(a=nx(q.iG)).$?S:a.a),h=u(l6,io(o)-1,o),f=u(i1,function(t){return u(nC,function(e){return u(l2,t,e)},l)},l=u(i1,iH,u(l9,h,u(lG,1,o)))),g=ny(u(i1,l8(lX),nM(f))),e3(u(lU,g,ny(u(i1,l8(lX),o))))):q.hN,X=(s=function(t){return io(u(nO,S,nx(t)))},!!_(q.iG,e.bI.iG)||(s(q.iG)>3?lH(q.iG)>=1:!s(q.iG))),Y=(H=function(t){return io(u(nO,S,nx(t)))},!!_(q.gv,e.bI.gv)||(H(q.gv)>3?lH(q.gv)>=1:!H(q.gv))),K=w(q,{gv:"box"===q.cs?Y?q.gv:S:q.gv,hN:U,iG:"polygon"===q.cs?X?q.iG:S:q.iG}),J=w(e,V.$?{dr:"GetPerimeterChanged Error: "+ix(V.a)}:{bI:K});return ut(U)||_(U,q.hN)?"polygon"===q.cs?X?b(J,uo(K)):d(aS,uR,am,u(ap,"Ung\xfcltiger Perimeter","Das Polygon ist kleiner als 1 m2"),b(J,uo(K))):"box"===q.cs?Y?b(J,uo(K)):d(aS,uR,am,u(ap,"Ung\xfcltiger Perimeter","Das Rechteck ist kleiner als 1 m2"),b(J,uo(K))):b(J,sS):d(aS,uR,am,u(ap,"Ung\xfcltiger Perimeter","Das Polygon \xfcberschneidet sich selbst."),b(J,uo(K)));case 36:return d(aS,uR,am,u(ap,"Ung\xfcltiger Perimeter","Das Polygon \xfcberschneidet sich selbst."),b(e,sS));case 35:return d(uk,uR,am,t.a,e);case 39:var Q=aP(t.a),tt=(F=ny((tc=e.bI).hj),function(t){return u(u(hW,t,F)?ua:nv,t,F)}),te=function(){if(Q.$)return tc;var t=Q.a;return"gemeinden"===t.eX?w(tc,{hj:e3(tt(t.gj))}):tc}(),ti=function(){if(Q.$){var t=Q.a;return b(w(e,{dH:na(2),gb:e.dH,g6:"Gemeinde kann nicht ausgew\xe4hlt werden:\n\n"+ix(t)}),sS)}var i=Q.a;return"gemeinden"===i.eX?b(w(e,{bI:te}),uo(te)):b(e,c(l_,i.cl,i.gP,a_))}();return b(J=ti.a,tG=ti.b);case 58:var tn=t.a;if(tn.$){var tr=tn.a,ts=tr.$?tr.a:l7(tr.a);return b(w(e,{dH:na(2),gb:e.dH,g6:"Parzelle kann nicht ausgew\xe4hlt werden:\n\n"+ts}),sS)}var ta=tn.a;return te=w(tc=e.bI,{iw:uA(j=u(hB,ta.g2,e.iZ)?u(rs,ta.g2,e.iZ):c(np,ta.g2,ta,e.iZ))}),b(w(e,{bI:te,iZ:j}),uo(te));case 34:return b(e,uo(tc=t.a));case 33:var to,th,tl,tu,tc,td=t.a,tf=function(){switch(td){case 0:return"box";case 1:return"polygon";case 2:return"extent";case 3:return"gemeinden";default:return"parzellen"}}();return D=w(tc=e.bI,{cs:tf}),b(J=w(e,{g6:"",bI:D,aO:td}),uo(D));case 7:return b(w(e,{cY:t.a}),sS);case 4:return b(w(e,{g$:rZ(u(ag,iT((tg=t.a).fO.ht),iT(tg.fO.fP))),fO:tg}),sS);case 5:var tg,tp=t.a,t_=t.b,tv=u(ag,t_,tp),ty=e.fO,tx=w(tg=ty.fO,{ht:t_,fP:tp}),tb=w(ty,{fO:tx}),tM=rZ(tv);return b(e.cY?e:w(e,{g$:tM,fO:tb}),rY(e.bI));case 6:var tw=t.a,tS=function(){var t=e.i_;if(t.$)return ie;var i=t.a;return _(e.dH,na(2))?it(i):ie}(),tP=_(tw,se)?rY(e.bI):sS;return b(w(e,{dH:tw,g6:_(tw,na(2))?e.g6:"",i_:tS,dr:""}),tP);case 17:var tk=t.a,tT=(tS=nx(u(nw,function(t){return _(t.cc,tk)},e.g1.e5))).$?sS:tS.a.eK.$?u(rq,tk,nD):sS;return b(w(e,{i_:it(tk)}),tT);case 19:return b(w(e,{dH:si,i_:it(tS=t.a)}),sS);case 15:if(t.a.$)return M=t.a.a,b(w(e,{dH:na(2),gb:e.dH,g6:"Metadaten zum Produkt k\xf6nnen nicht geladen werden:\n\n"+l7(M)}),sS);var tA=t.a.a,tL=e.g1,tO=u(i1,function(t){return _(it(t.cc),e.i_)?w(t,{eK:it(tA)}):t},tL.e5),tF=w(tL,{e5:tO});return b(w(e,{g1:tF,g6:"",bI:K=c(uT,e.bI,e.j$,tO)}),sS);case 16:return b(w(e,{e4:tD=t.a}),sS);case 42:return b(w(e,{d4:tD=t.a}),sS);case 43:var tD,tN=iY(tD=t.a)?nd:e.iw,t$=c(ur,aI,tD,e.by),tG=t$.b;return b(w(e,{by:t$.a,iw:tN,aN:tD}),tG);case 57:var tz=t.a,tj=d(uP,aI,uf(function(t){return iY(t)?sS:u(lC,t,af)}),tz,e.by);return tG=tj.b,b(w(e,{by:tj.a}),tG);case 32:if(t.a.$)return M=t.a.a,b(w(e,{dH:na(2),gb:e.dH,g6:"Fehler bei der Parzellen-Suche:\n\n"+l7(M)}),sS);var tB=u(i1,function(t){return b(t.g2,t)},t.a.a.ha);return b(w(e,{g6:"",iw:n_(tB)}),sS);case 21:return b(w(e,{bI:c(uT,e.bI,tX=u(nv,t.a,e.j$),e.g1.e5),j$:tX}),sS);case 22:return b(w(e,{bI:c(uT,e.bI,tX=u(ua,t.a,e.j$),e.g1.e5),j$:tX}),sS);case 18:return b(w(e,{i_:ie}),sS);case 13:var tW=u(tm,r8,t.a);return b(w(e,{g1:1===tW.$?d(nn,"",nd,S,S):tW.a,hf:!0}),sS);case 14:if(t.a.$)return M=t.a.a,b(w(e,{dH:na(2),gb:e.dH,g6:"Produkte, Formate und Gemeinden\nk\xf6nnen nicht geladen werden:\n\n"+l7(M)}),us(""));var tV=t.a.a,tq=uu(u(tE,0,rX(P([b("timestamp",tC(tV.jM)),b("products",u(rU,aN,tV.e5)),b("formats",(r=u(i1,function(t){var e=t.b;return c(r1,e.cc,e.cl,e.fp)},e1(tV.el)),u(rU,aD,r))),b("communes",u(rU,aF,tV.gK))]))));return b(w(e,{g1:tV,hf:!1}),tq);case 49:var tU=u(tE,4,aq(e.$9));return b(e,c(ud,"geoTangle-Bestellungen.json","application/json",tU));case 50:return b(e,u(lS,P(["application/json"]),au));case 51:return b(e,u(nt,al,(n=t.a,tR(function(t){var e=new FileReader;return e.addEventListener("loadend",function(){t(tI(e.result))}),e.readAsText(n),function(){e.abort()}}))));case 52:var tX,tY,tK=1===(tY=u(tm,aA,t.a)).$?e.$9:tY.a,tZ=(tT=tY.$?sS:ul(u(tE,0,aq(tK))),tw=1===tY.$?e.dH:st,tY.$?"Fehler: Datei konnte nicht importiert werden ("+ix(tY.a)+")":"Bestellungen erfolgreich importiert");return b(w(e,{dH:tw,$9:tK,dr:tZ}),tT);case 53:var tJ=t.a,tQ=u(u(hW,tJ,e.hw)?ua:nv,tJ,e.hw);return x=2===(t3=(t2=e.bx).jj).$?t3.a:t2.gd,v=d(ah,e.h5,e3(tQ),e.cP,x),b(w(e,{hw:tQ}),uc(u(tE,0,aU(v))));case 54:return b(w(e,{dH:nl,i_:ie,j$:u(lR,function(t){return!u(hW,t.b,e.hw)},e.j$)}),sS);case 48:return b(J=w(e,{aJ:!e.aJ}),uo(e.bI));case 55:var t0=t.a,t1=e.gN;return b(w(e,{gN:!t0.$&&u(aC,t0.a,t1)?c(ia,i(function(t,e){return t0.$||_(t0.a,t)?e:u(R,t,e)}),S,t1):t0.$?t1:u(R,t0.a,t1)}),sS);case 56:return x=2===(t3=(t2=e.bx).jj).$?t3.a:t2.gd,v=d(ah,!e.h5,e3(e.hw),e.cP,x),b(w(e,{h5:!e.h5}),uc(u(tE,0,aU(v))));case 59:return b(w(e,{i1:!e.i1}),sS);default:var t2,t3,t4=u(tm,aO,t.a),t5=(x=2===(t3=(t2=e.bx).jj).$?t3.a:t2.gd,t4.$?d(ah,e.h5,e3(e.hw),e.cP,x):t4.a);return p=w(t2,{jj:ne(t5.gd)}),b(w(e,{bx:p,cP:t5.cP,hw:ny(t5.hw),h5:t5.hB}),sS)}}),uO=n(function(t,e,i){return{$:4,a:t,b:e,c:i}}),uF=i(function(t,e){return{$:4,a:t,b:e}}),uD=function(t){return t>31?{$:1,a:1<<t-32}:{$:0,a:1<<t}},uN=uD(14),u$=Math.round,uG=function(t){return J(u$(255*t))},uz=function(t){var e=t.b,i=t.c,n=t.d;return uG(t.a)+"-"+uG(e)+"-"+uG(i)+"-"+uG(n)},uj=function(t){return u(uF,uN,c(uO,"fc-"+uz(t),"color",t))},uB=function(t){return{$:0,a:t}},uW="accx",uV="accy",uH="cptr",uq="ctxt",uU="focus-within",uX="imlf",uY="imlp",uK="implw",uZ="notxt",uJ={$:0},uQ={$:0},u0=function(t){return{$:1,a:t}},u1={$:0},u2=function(t){return{$:1,a:t}},u3=function(t){return{$:0,a:t}},u4=i(function(t,e){switch(e.$){case 0:return t;case 1:return C(e.a,t);case 2:return C(t,e.a);default:return C(e.a,C(t,e.b))}}),u5=n(function(t,e,i){switch(i.$){case 0:return e;case 1:return C(u(i1,function(e){return b(t,e)},i.a),e);case 2:return C(e,u(i1,function(e){return b(t,e)},n=i.a));default:var n=i.b;return C(u(i1,function(e){return b(t,e)},i.a),C(e,u(i1,function(e){return b(t,e)},n)))}}),u6=uD(41),u8=uD(40),u9=uD(42),u7=uD(43),ct=t9("div"),ce=function(t){switch(t.$){case 0:return J(t.a)+"px";case 1:return"auto";case 2:return J(t.a)+"fr";case 3:var e=t.b;return"min"+(J(t.a)+ce(e));default:return e=t.b,"max"+(J(t.a)+ce(e))}},ci=function(t){switch(t.$){case 0:return ie;case 1:var e=t.a,i=e.b,n=e.c;return it("mv-"+uG(e.a)+"-"+uG(i)+"-"+uG(n));default:var r=t.a,s=r.b,a=r.c,o=t.b,h=o.a,l=o.b,u=o.c,c=t.c,d=c.a,f=c.b,g=c.c,m=t.d;return it("tfrm-"+uG(r.a)+"-"+uG(s)+"-"+uG(a)+"-"+uG(h)+"-"+uG(l)+"-"+uG(u)+"-"+uG(d)+"-"+uG(f)+"-"+uG(g)+"-"+uG(m))}},cn=function(t){switch(t.$){case 13:case 1:case 12:return s=t.a;case 0:case 3:case 4:case 5:case 7:case 6:return t.a;case 2:return"font-size-"+J(t.a);case 8:var e=t.a;return"grid-rows-"+u(ii,"-",u(i1,ce,e.iQ))+"-cols-"+u(ii,"-",u(i1,ce,e.ac))+"-space-x-"+ce(e.i6.a)+"-space-y-"+ce(e.i6.b);case 9:var i=t.a;return"gp grid-pos-"+J(i.iP)+"-"+J(i.d2)+"-"+J(i.fP)+"-"+J(i.ht);case 11:var n=t.a,r=t.b,s=function(){switch(n){case 0:return"fs";case 1:return"hv";default:return"act"}}();return u(ii," ",u(i1,function(t){var e=cn(t);return""===e?"":e+"-"+s},r));default:return u(nO,"",ci(t.a))}},cr=i(function(t,e){var i=e.a,n=e.b,r=cn(t);return u(hW,r,i)?e:b(u(nv,r,i),u(R,t,n))}),cs=i(function(t,e){return{$:0,a:t,b:e}}),ca=i(function(t,e){return{$:0,a:t,b:e}}),co=function(t){return"."+t},ch=function(t){var e=t.b,i=t.c,n=t.d;return"rgba("+J(u$(255*t.a))+","+J(u$(255*e))+","+J(u$(255*i))+","+J(n)+")"},cl=function(t){return u(ii," ",u(nC,iH,P([t.ew?it("inset"):ie,it(J(t.b.a)+"px"),it(J(t.b.b)+"px"),it(J(t.a$)+"px"),it(J(t.i3)+"px"),it(ch(t.gJ))])))},cu=i(function(t,e){var i=e.b;return b(t(e.a),i)}),cc=i(function(t,e){return b(e.a,t(e.b))}),cd=function(t){return P([u(ca,co(uU)+":focus-within",u(nC,iH,P([u(hF,function(t){return u(cs,"border-color",ch(t))},t.gp),u(hF,function(t){return u(cs,"background-color",ch(t))},t.gc),u(hF,function(t){return u(cs,"box-shadow",cl({a$:t.a$,gJ:t.gJ,ew:!1,b:u(cc,iS,u(cu,iS,t.b)),i3:t.i3}))},t.i0),it(u(cs,"outline","none"))]))),u(ca,co("s")+":focus .focusable, "+co("s")+".focusable:focus, .ui-slide-bar:focus + "+co("s")+" .focusable-thumb",u(nC,iH,P([u(hF,function(t){return u(cs,"border-color",ch(t))},t.gp),u(hF,function(t){return u(cs,"background-color",ch(t))},t.gc),u(hF,function(t){return u(cs,"box-shadow",cl({a$:t.a$,gJ:t.gJ,ew:!1,b:u(cc,iS,u(cu,iS,t.b)),i3:t.i3}))},t.i0),it(u(cs,"outline","none"))])))])},cf=function(t){return t9(ea(t))},cg=i(function(t,e){return u(er,"innerHTML"==t||"formAction"==t?"data-"+t:t,eo(e))}),cm=i(function(t,e){return{$:2,a:t,b:e}}),cp=function(t){return{$:6,a:t}},c_=i(function(t,e){return{$:1,a:t,b:e}}),cv=i(function(t,e){return{$:0,a:t,b:e}}),cy=i(function(t,e){return{$:4,a:t,b:e}}),cx=i(function(t,e){return{$:0,a:t,b:e}}),cb=i(function(t,e){return{$:3,a:t,b:e}}),cM=P([0,1,2,3,4,5]),cw=function(t){switch(t){case 0:return co("ct");case 1:return co("cb");case 2:return co("cr");case 3:return co("cl");case 4:return co("ccx");default:return co("ccy")}},cE=function(t){switch(t){case 0:return co("at");case 1:return co("ab");case 2:return co("ar");case 3:return co("al");case 4:return co("cx");default:return co("cy")}},cC=function(t){return cp(u(ov,function(e){var i=t(e),n=i.a,r=i.b;return P([u(cy,cw(e),n),u(c_,co("s"),P([u(cy,cE(e),r)]))])},cM))},cS=P([u(cx,"display","flex"),u(cx,"flex-direction","column"),u(cx,"white-space","pre"),u(cy,co("hbh"),P([u(cx,"z-index","0"),u(c_,co("bh"),P([u(cx,"z-index","-1")]))])),u(cy,co("sbt"),P([u(c_,co("t"),P([u(cy,co("hf"),P([u(cx,"flex-grow","0")])),u(cy,co("wf"),P([u(cx,"align-self","auto !important")]))]))])),u(c_,co("hc"),P([u(cx,"height","auto")])),u(c_,co("hf"),P([u(cx,"flex-grow","100000")])),u(c_,co("wf"),P([u(cx,"width","100%")])),u(c_,co("wfp"),P([u(cx,"width","100%")])),u(c_,co("wc"),P([u(cx,"align-self","flex-start")])),cC(function(t){switch(t){case 0:return b(P([u(cx,"justify-content","flex-start")]),P([u(cx,"margin-bottom","auto !important"),u(cx,"margin-top","0 !important")]));case 1:return b(P([u(cx,"justify-content","flex-end")]),P([u(cx,"margin-top","auto !important"),u(cx,"margin-bottom","0 !important")]));case 2:return b(P([u(cx,"align-items","flex-end")]),P([u(cx,"align-self","flex-end")]));case 3:return b(P([u(cx,"align-items","flex-start")]),P([u(cx,"align-self","flex-start")]));case 4:return b(P([u(cx,"align-items","center")]),P([u(cx,"align-self","center")]));default:return b(P([u(c_,co("s"),P([u(cx,"margin-top","auto"),u(cx,"margin-bottom","auto")]))]),P([u(cx,"margin-top","auto !important"),u(cx,"margin-bottom","auto !important")]))}})]),cI=P([0,1,2,3,4,5]),cR=P([u(cv,"html,body",P([u(cx,"height","100%"),u(cx,"padding","0"),u(cx,"margin","0")])),u(cv,C(co("s"),C(co("e"),co("ic"))),P([u(cx,"display","block"),u(cy,co("hf"),P([u(c_,"img",P([u(cx,"max-height","100%"),u(cx,"object-fit","cover")]))])),u(cy,co("wf"),P([u(c_,"img",P([u(cx,"max-width","100%"),u(cx,"object-fit","cover")]))]))])),u(cv,co("s")+":focus",P([u(cx,"outline","none")])),u(cv,co("ui"),P([u(cx,"width","100%"),u(cx,"height","auto"),u(cx,"min-height","100%"),u(cx,"z-index","0"),u(cy,C(co("s"),co("hf")),P([u(cx,"height","100%"),u(c_,co("hf"),P([u(cx,"height","100%")]))])),u(c_,co("fr"),P([u(cy,co("nb"),P([u(cx,"position","fixed"),u(cx,"z-index","20")]))]))])),u(cv,co("nb"),P([u(cx,"position","relative"),u(cx,"border","none"),u(cx,"display","flex"),u(cx,"flex-direction","row"),u(cx,"flex-basis","auto"),u(cy,co("e"),cS),cp(u(i1,function(t){switch(t){case 0:return u(cy,co("a"),P([u(cx,"position","absolute"),u(cx,"bottom","100%"),u(cx,"left","0"),u(cx,"width","100%"),u(cx,"z-index","20"),u(cx,"margin","0 !important"),u(c_,co("hf"),P([u(cx,"height","auto")])),u(c_,co("wf"),P([u(cx,"width","100%")])),u(cx,"pointer-events","none"),u(c_,"*",P([u(cx,"pointer-events","auto")]))]));case 1:return u(cy,co("b"),P([u(cx,"position","absolute"),u(cx,"bottom","0"),u(cx,"left","0"),u(cx,"height","0"),u(cx,"width","100%"),u(cx,"z-index","20"),u(cx,"margin","0 !important"),u(cx,"pointer-events","none"),u(c_,"*",P([u(cx,"pointer-events","auto")])),u(c_,co("hf"),P([u(cx,"height","auto")]))]));case 2:return u(cy,co("or"),P([u(cx,"position","absolute"),u(cx,"left","100%"),u(cx,"top","0"),u(cx,"height","100%"),u(cx,"margin","0 !important"),u(cx,"z-index","20"),u(cx,"pointer-events","none"),u(c_,"*",P([u(cx,"pointer-events","auto")]))]));case 3:return u(cy,co("ol"),P([u(cx,"position","absolute"),u(cx,"right","100%"),u(cx,"top","0"),u(cx,"height","100%"),u(cx,"margin","0 !important"),u(cx,"z-index","20"),u(cx,"pointer-events","none"),u(c_,"*",P([u(cx,"pointer-events","auto")]))]));case 4:return u(cy,co("fr"),P([u(cx,"position","absolute"),u(cx,"width","100%"),u(cx,"height","100%"),u(cx,"left","0"),u(cx,"top","0"),u(cx,"margin","0 !important"),u(cx,"pointer-events","none"),u(c_,"*",P([u(cx,"pointer-events","auto")]))]));default:return u(cy,co("bh"),P([u(cx,"position","absolute"),u(cx,"width","100%"),u(cx,"height","100%"),u(cx,"left","0"),u(cx,"top","0"),u(cx,"margin","0 !important"),u(cx,"z-index","0"),u(cx,"pointer-events","none"),u(c_,"*",P([u(cx,"pointer-events","auto")]))]))}},cI))])),u(cv,co("s"),P([u(cx,"position","relative"),u(cx,"border","none"),u(cx,"flex-shrink","0"),u(cx,"display","flex"),u(cx,"flex-direction","row"),u(cx,"flex-basis","auto"),u(cx,"resize","none"),u(cx,"font-feature-settings","inherit"),u(cx,"box-sizing","border-box"),u(cx,"margin","0"),u(cx,"padding","0"),u(cx,"border-width","0"),u(cx,"border-style","solid"),u(cx,"font-size","inherit"),u(cx,"color","inherit"),u(cx,"font-family","inherit"),u(cx,"line-height","1"),u(cx,"font-weight","inherit"),u(cx,"text-decoration","none"),u(cx,"font-style","inherit"),u(cy,co("wrp"),P([u(cx,"flex-wrap","wrap")])),u(cy,co(uZ),P([u(cx,"-moz-user-select","none"),u(cx,"-webkit-user-select","none"),u(cx,"-ms-user-select","none"),u(cx,"user-select","none")])),u(cy,co(uH),P([u(cx,"cursor","pointer")])),u(cy,co(uq),P([u(cx,"cursor","text")])),u(cy,co("ppe"),P([u(cx,"pointer-events","none !important")])),u(cy,co("cpe"),P([u(cx,"pointer-events","auto !important")])),u(cy,co("clr"),P([u(cx,"opacity","0")])),u(cy,co("oq"),P([u(cx,"opacity","1")])),u(cy,co(C("hv","clr"))+":hover",P([u(cx,"opacity","0")])),u(cy,co(C("hv","oq"))+":hover",P([u(cx,"opacity","1")])),u(cy,co(C("fcs","clr"))+":focus",P([u(cx,"opacity","0")])),u(cy,co(C("fcs","oq"))+":focus",P([u(cx,"opacity","1")])),u(cy,co(C("atv","clr"))+":active",P([u(cx,"opacity","0")])),u(cy,co(C("atv","oq"))+":active",P([u(cx,"opacity","1")])),u(cy,co("ts"),P([u(cx,"transition",u(ii,", ",u(i1,function(t){return t+" 160ms"},P(["transform","opacity","filter","background-color","color","font-size"]))))])),u(cy,co("sb"),P([u(cx,"overflow","auto"),u(cx,"flex-shrink","1")])),u(cy,co("sbx"),P([u(cx,"overflow-x","auto"),u(cy,co("r"),P([u(cx,"flex-shrink","1")]))])),u(cy,co("sby"),P([u(cx,"overflow-y","auto"),u(cy,co("c"),P([u(cx,"flex-shrink","1")])),u(cy,co("e"),P([u(cx,"flex-shrink","1")]))])),u(cy,co("cp"),P([u(cx,"overflow","hidden")])),u(cy,co("cpx"),P([u(cx,"overflow-x","hidden")])),u(cy,co("cpy"),P([u(cx,"overflow-y","hidden")])),u(cy,co("wc"),P([u(cx,"width","auto")])),u(cy,co("bn"),P([u(cx,"border-width","0")])),u(cy,co("bd"),P([u(cx,"border-style","dashed")])),u(cy,co("bdt"),P([u(cx,"border-style","dotted")])),u(cy,co("bs"),P([u(cx,"border-style","solid")])),u(cy,co("t"),P([u(cx,"white-space","pre"),u(cx,"display","inline-block")])),u(cy,co("it"),P([u(cx,"line-height","1.05"),u(cx,"background","transparent"),u(cx,"text-align","inherit")])),u(cy,co("e"),cS),u(cy,co("r"),P([u(cx,"display","flex"),u(cx,"flex-direction","row"),u(c_,co("s"),P([u(cx,"flex-basis","0%"),u(cy,co("we"),P([u(cx,"flex-basis","auto")])),u(cy,co("lnk"),P([u(cx,"flex-basis","auto")]))])),u(c_,co("hf"),P([u(cx,"align-self","stretch !important")])),u(c_,co("hfp"),P([u(cx,"align-self","stretch !important")])),u(c_,co("wf"),P([u(cx,"flex-grow","100000")])),u(c_,co("ctr"),P([u(cx,"flex-grow","0"),u(cx,"flex-basis","auto"),u(cx,"align-self","stretch")])),u(c_,"u:first-of-type.acr",P([u(cx,"flex-grow","1")])),u(c_,"s:first-of-type."+uW,P([u(cx,"flex-grow","1"),u(c_,co("cx"),P([u(cx,"margin-left","auto !important")]))])),u(c_,"s:last-of-type."+uW,P([u(cx,"flex-grow","1"),u(c_,co("cx"),P([u(cx,"margin-right","auto !important")]))])),u(c_,"s:only-of-type."+uW,P([u(cx,"flex-grow","1"),u(c_,co("cy"),P([u(cx,"margin-top","auto !important"),u(cx,"margin-bottom","auto !important")]))])),u(c_,"s:last-of-type.accx ~ u",P([u(cx,"flex-grow","0")])),u(c_,"u:first-of-type.acr ~ s."+uW,P([u(cx,"flex-grow","0")])),cC(function(t){switch(t){case 0:return b(P([u(cx,"align-items","flex-start")]),P([u(cx,"align-self","flex-start")]));case 1:return b(P([u(cx,"align-items","flex-end")]),P([u(cx,"align-self","flex-end")]));case 2:return b(P([u(cx,"justify-content","flex-end")]),S);case 3:return b(P([u(cx,"justify-content","flex-start")]),S);case 4:return b(P([u(cx,"justify-content","center")]),S);default:return b(P([u(cx,"align-items","center")]),P([u(cx,"align-self","center")]))}}),u(cy,co("sev"),P([u(cx,"justify-content","space-between")])),u(cy,co("lbl"),P([u(cx,"align-items","baseline")]))])),u(cy,co("c"),P([u(cx,"display","flex"),u(cx,"flex-direction","column"),u(c_,co("s"),P([u(cx,"flex-basis","0px"),u(cx,"min-height","min-content"),u(cy,co("he"),P([u(cx,"flex-basis","auto")]))])),u(c_,co("hf"),P([u(cx,"flex-grow","100000")])),u(c_,co("wf"),P([u(cx,"width","100%")])),u(c_,co("wfp"),P([u(cx,"width","100%")])),u(c_,co("wc"),P([u(cx,"align-self","flex-start")])),u(c_,"u:first-of-type.acb",P([u(cx,"flex-grow","1")])),u(c_,"s:first-of-type."+uV,P([u(cx,"flex-grow","1"),u(c_,co("cy"),P([u(cx,"margin-top","auto !important"),u(cx,"margin-bottom","0 !important")]))])),u(c_,"s:last-of-type."+uV,P([u(cx,"flex-grow","1"),u(c_,co("cy"),P([u(cx,"margin-bottom","auto !important"),u(cx,"margin-top","0 !important")]))])),u(c_,"s:only-of-type."+uV,P([u(cx,"flex-grow","1"),u(c_,co("cy"),P([u(cx,"margin-top","auto !important"),u(cx,"margin-bottom","auto !important")]))])),u(c_,"s:last-of-type.accy ~ u",P([u(cx,"flex-grow","0")])),u(c_,"u:first-of-type.acb ~ s."+uV,P([u(cx,"flex-grow","0")])),cC(function(t){switch(t){case 0:return b(P([u(cx,"justify-content","flex-start")]),P([u(cx,"margin-bottom","auto")]));case 1:return b(P([u(cx,"justify-content","flex-end")]),P([u(cx,"margin-top","auto")]));case 2:return b(P([u(cx,"align-items","flex-end")]),P([u(cx,"align-self","flex-end")]));case 3:return b(P([u(cx,"align-items","flex-start")]),P([u(cx,"align-self","flex-start")]));case 4:return b(P([u(cx,"align-items","center")]),P([u(cx,"align-self","center")]));default:return b(P([u(cx,"justify-content","center")]),S)}}),u(c_,co("ctr"),P([u(cx,"flex-grow","0"),u(cx,"flex-basis","auto"),u(cx,"width","100%"),u(cx,"align-self","stretch !important")])),u(cy,co("sev"),P([u(cx,"justify-content","space-between")]))])),u(cy,co("g"),P([u(cx,"display","-ms-grid"),u(c_,".gp",P([u(c_,co("s"),P([u(cx,"width","100%")]))])),u(cb,b("display","grid"),P([b("display","grid")])),(le=function(t){switch(t){case 0:return P([u(cx,"justify-content","flex-start")]);case 1:return P([u(cx,"justify-content","flex-end")]);case 2:return P([u(cx,"align-items","flex-end")]);case 3:return P([u(cx,"align-items","flex-start")]);case 4:return P([u(cx,"align-items","center")]);default:return P([u(cx,"justify-content","center")])}},cp(u(ov,function(t){return P([u(c_,co("s"),P([u(cy,cE(t),le(t))]))])},cM)))])),u(cy,co("pg"),P([u(cx,"display","block"),u(c_,co("s:first-child"),P([u(cx,"margin","0 !important")])),u(c_,co("s"+cE(3)+":first-child + .s"),P([u(cx,"margin","0 !important")])),u(c_,co("s"+cE(2)+":first-child + .s"),P([u(cx,"margin","0 !important")])),cC(function(t){switch(t){case 0:case 1:case 4:default:return b(S,S);case 2:return b(S,P([u(cx,"float","right"),u(cy,"::after",P([u(cx,"content",'""'),u(cx,"display","table"),u(cx,"clear","both")]))]));case 3:return b(S,P([u(cx,"float","left"),u(cy,"::after",P([u(cx,"content",'""'),u(cx,"display","table"),u(cx,"clear","both")]))]))}})])),u(cy,co("iml"),P([u(cx,"white-space","pre-wrap !important"),u(cx,"height","100%"),u(cx,"width","100%"),u(cx,"background-color","transparent")])),u(cy,co(uK),P([u(cy,co("e"),P([u(cx,"flex-basis","auto")]))])),u(cy,co(uY),P([u(cx,"white-space","pre-wrap !important"),u(cx,"cursor","text"),u(c_,co(uX),P([u(cx,"white-space","pre-wrap !important"),u(cx,"color","transparent")]))])),u(cy,co("p"),P([u(cx,"display","block"),u(cx,"white-space","normal"),u(cx,"overflow-wrap","break-word"),u(cy,co("hbh"),P([u(cx,"z-index","0"),u(c_,co("bh"),P([u(cx,"z-index","-1")]))])),u(cm,co("t"),P([u(cx,"display","inline"),u(cx,"white-space","normal")])),u(cm,co("p"),P([u(cx,"display","inline"),u(cy,"::after",P([u(cx,"content","none")])),u(cy,"::before",P([u(cx,"content","none")]))])),u(cm,co("e"),P([u(cx,"display","inline"),u(cx,"white-space","normal"),u(cy,co("we"),P([u(cx,"display","inline-block")])),u(cy,co("fr"),P([u(cx,"display","flex")])),u(cy,co("bh"),P([u(cx,"display","flex")])),u(cy,co("a"),P([u(cx,"display","flex")])),u(cy,co("b"),P([u(cx,"display","flex")])),u(cy,co("or"),P([u(cx,"display","flex")])),u(cy,co("ol"),P([u(cx,"display","flex")])),u(c_,co("t"),P([u(cx,"display","inline"),u(cx,"white-space","normal")]))])),u(c_,co("r"),P([u(cx,"display","inline")])),u(c_,co("c"),P([u(cx,"display","inline-flex")])),u(c_,co("g"),P([u(cx,"display","inline-grid")])),cC(function(t){switch(t){case 0:case 1:case 4:default:return b(S,S);case 2:return b(S,P([u(cx,"float","right")]));case 3:return b(S,P([u(cx,"float","left")]))}})])),u(cy,".hidden",P([u(cx,"display","none")])),u(cy,co("w1"),P([u(cx,"font-weight","100")])),u(cy,co("w2"),P([u(cx,"font-weight","200")])),u(cy,co("w3"),P([u(cx,"font-weight","300")])),u(cy,co("w4"),P([u(cx,"font-weight","400")])),u(cy,co("w5"),P([u(cx,"font-weight","500")])),u(cy,co("w6"),P([u(cx,"font-weight","600")])),u(cy,co("w7"),P([u(cx,"font-weight","700")])),u(cy,co("w8"),P([u(cx,"font-weight","800")])),u(cy,co("w9"),P([u(cx,"font-weight","900")])),u(cy,co("i"),P([u(cx,"font-style","italic")])),u(cy,co("sk"),P([u(cx,"text-decoration","line-through")])),u(cy,co("u"),P([u(cx,"text-decoration","underline"),u(cx,"text-decoration-skip-ink","auto"),u(cx,"text-decoration-skip","ink")])),u(cy,C(co("u"),co("sk")),P([u(cx,"text-decoration","line-through underline"),u(cx,"text-decoration-skip-ink","auto"),u(cx,"text-decoration-skip","ink")])),u(cy,co("tun"),P([u(cx,"font-style","normal")])),u(cy,co("tj"),P([u(cx,"text-align","justify")])),u(cy,co("tja"),P([u(cx,"text-align","justify-all")])),u(cy,co("tc"),P([u(cx,"text-align","center")])),u(cy,co("tr"),P([u(cx,"text-align","right")])),u(cy,co("tl"),P([u(cx,"text-align","left")])),u(cy,".modal",P([u(cx,"position","fixed"),u(cx,"left","0"),u(cx,"top","0"),u(cx,"width","100%"),u(cx,"height","100%"),u(cx,"pointer-events","none")]))]))]),cP=function(t){return P([u(cv,".v-"+t,P([u(cx,"font-feature-settings",'"'+t+'"')])),u(cv,".v-"+t+"-off",P([u(cx,"font-feature-settings",'"'+t+'" 0')]))])},ck=nM(P([u(i1,function(t){return u(cv,".border-"+J(t),P([u(cx,"border-width",J(t)+"px")]))},u(il,0,6)),u(i1,function(t){return u(cv,".font-size-"+J(t),P([u(cx,"font-size",J(t)+"px")]))},u(il,8,32)),u(i1,function(t){return u(cv,".p-"+J(t),P([u(cx,"padding",J(t)+"px")]))},u(il,0,24)),P([u(cv,".v-smcp",P([u(cx,"font-variant","small-caps")])),u(cv,".v-smcp-off",P([u(cx,"font-variant","normal")]))]),cP("zero"),cP("onum"),cP("liga"),cP("dlig"),cP("ordn"),cP("tnum"),cP("afrc"),cP("frac")])),cT="@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {"+co("s")+co("r")+" > "+co("s")+" { flex-basis: auto !important; } "+co("s")+co("r")+" > "+co("s")+co("ctr")+' { flex-basis: auto !important; }}\ninput[type="search"],\ninput[type="search"]::-webkit-search-decoration,\ninput[type="search"]::-webkit-search-cancel-button,\ninput[type="search"]::-webkit-search-results-button,\ninput[type="search"]::-webkit-search-results-decoration {\n  -webkit-appearance:none;\n}\n\ninput[type=range] {\n  -webkit-appearance: none; \n  background: transparent;\n  position:absolute;\n  left:0;\n  top:0;\n  z-index:10;\n  width: 100%;\n  outline: dashed 1px;\n  height: 100%;\n  opacity: 0;\n}\n\ninput[type=range]::-moz-range-track {\n    background: transparent;\n    cursor: pointer;\n}\ninput[type=range]::-ms-track {\n    background: transparent;\n    cursor: pointer;\n}\ninput[type=range]::-webkit-slider-runnable-track {\n    background: transparent;\n    cursor: pointer;\n}\n\ninput[type=range]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range]::-moz-range-thumb {\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range]::-ms-thumb {\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range][orient=vertical]{\n    writing-mode: bt-lr; /* IE */\n    -webkit-appearance: slider-vertical;  /* WebKit */\n}\n\n.explain {\n    border: 6px solid rgb(174, 121, 15) !important;\n}\n.explain > .s {\n    border: 4px dashed rgb(0, 151, 167) !important;\n}\n\n.ctr {\n    border: none !important;\n}\n.explain > .ctr > .s {\n    border: 4px dashed rgb(0, 151, 167) !important;\n}\n\n',cA=function(t){return u(ii,"",t)},cL=i(function(t,e){return{b5:e,D:S,ay:S,Z:t}}),cO=i(function(t,e){return c(i0,i(function(e,i){switch(e.$){case 0:return w(i,{ay:u(R,b(e.a,e.b),i.ay)});case 3:var n=e.a;return w(i,{D:u(R,{b5:"\n}",D:S,ay:e.b,Z:"@supports ("+n.a+":"+n.b+") {"+t.Z},i.D)});case 5:var r=e.b;return w(i,{D:u(R,u(cO,u(cL,t.Z+" + "+e.a,""),r),i.D)});case 1:var s=e.b;return w(i,{D:u(R,u(cO,u(cL,t.Z+" > "+e.a,""),s),i.D)});case 2:return s=e.b,w(i,{D:u(R,u(cO,u(cL,t.Z+" "+e.a,""),s),i.D)});case 4:var a=e.b;return w(i,{D:u(R,u(cO,u(cL,C(t.Z,e.a),""),a),i.D)});default:var o=e.a;return w(i,{D:u(R,u(cO,u(cL,t.Z,""),o),i.D)})}}),t,e)}),cF=C(cT,(li=C(cR,ck),ln=function(t){return C(t.ay.b?t.Z+"{"+cA(u(i1,function(t){return t.a+":"+t.b+";"},t.ay))+t.b5+"}":"",cA(u(i1,ln,t.D)))},cA(u(i1,ln,c(i0,i(function(t,e){var i=t.b;return u(R,u(cO,u(cL,t.a,""),i),e)}),S,li))))),cD=function(t){switch(t.h8){case 0:return c(cf,"div",S,P([c(cf,"style",S,P([t6(cF)]))]));case 1:return t6("");default:return c(cf,"elm-ui-static-rules",P([u(cg,"rules",tC(cF))]),S)}},cN=function(t){switch(t.$){case 0:return"serif";case 1:return"sans-serif";case 2:return"monospace";case 3:case 4:return'"'+t.a+'"';default:return'"'+t.a.cl+'"'}},c$=function(t){switch(t.$){case 0:return"smcp"===t.a;case 1:return!1;default:return"smcp"===t.a&&1===t.b}},cG=function(t){return 5===t.$&&u(nb,c$,t.a.fM)},cz=n(function(t,e,i){var n=e.a,r=e.b;return t?i+"\n  "+n+": "+r+" !important;":i+"\n  "+n+": "+r+";"}),cj=r(function(t,e,i,n){if(1===e.$)return P([i+"{"+c(ia,cz(!1),"",n)+"\n}"]);switch(e.a){case 1:switch(t.hx){case 0:return S;case 2:return P([i+"-hv {"+c(ia,cz(!0),"",n)+"\n}"]);default:return P([i+"-hv:hover {"+c(ia,cz(!1),"",n)+"\n}"])}case 0:var r=c(ia,cz(!1),"",n);return P([i+"-fs:focus {"+r+"\n}",".s:focus "+i+"-fs  {"+r+"\n}",i+"-fs:focus-within {"+r+"\n}",".ui-slide-bar:focus + "+co("s")+" .focusable-thumb"+i+"-fs {"+r+"\n}"]);default:return P([i+"-act:active {"+c(ia,cz(!1),"",n)+"\n}"])}}),cB=function(t){switch(t.$){case 0:return'"'+t.a+'"';case 1:return'"'+t.a+'" 0';default:return'"'+t.a+'" '+J(t.b)}},cW=function(t){return 5===t.$?it(u(ii,", ",u(i1,cB,t.a.fM))):ie},cV=n(function(t,e,i){switch(e.$){case 0:return d(cj,t,i,e.a,e.b);case 13:return d(cj,t,i,"."+(s=e.a),P([u(cs,"box-shadow",e.b)]));case 12:return d(cj,t,i,"."+(s=e.a),P([u(cs,"opacity",J(u(iL,0,u(nA,1,1-e.b))))]));case 2:var r=e.a;return d(cj,t,i,".font-size-"+J(r),P([u(cs,"font-size",J(r)+"px")]));case 1:var s=e.a,a=e.b,o=u(ii,", ",u(nC,cW,a));return d(cj,t,i,"."+s,P([u(cs,"font-family",u(ii,", ",u(i1,cN,a))),u(cs,"font-feature-settings",o),u(cs,"font-variant",u(nb,cG,a)?"small-caps":"normal")]));case 3:return d(cj,t,i,"."+($=e.a),P([u(cs,e.b,z=e.c)]));case 4:return d(cj,t,i,"."+($=e.a),P([u(cs,e.b,ch(e.c))]));case 5:var h=e.a,l=e.b,f=e.c,g=J(f)+"px",m=J(l)+"px",p=".ar",_=".al",v=J(f/2)+"px",y=J(l/2)+"px";return nM(P([d(cj,t,i,($="."+h)+".r > .s + .s",P([u(cs,"margin-left",m)])),d(cj,t,i,$+".wrp.r > .s",P([u(cs,"margin",v+" "+y)])),d(cj,t,i,$+".c > .s + .s",P([u(cs,"margin-top",g)])),d(cj,t,i,$+".pg > .s + .s",P([u(cs,"margin-top",g)])),d(cj,t,i,$+".pg > "+_,P([u(cs,"margin-right",m)])),d(cj,t,i,$+".pg > "+p,P([u(cs,"margin-left",m)])),d(cj,t,i,C($,".p"),P([u(cs,"line-height","calc(1em + "+J(f)+"px)")])),d(cj,t,i,"textarea.s"+$,P([u(cs,"line-height","calc(1em + "+J(f)+"px)"),u(cs,"height","calc(100% + "+J(f)+"px)")])),d(cj,t,i,$+".p > "+_,P([u(cs,"margin-right",m)])),d(cj,t,i,$+".p > "+p,P([u(cs,"margin-left",m)])),d(cj,t,i,$+".p::after",P([u(cs,"content","''"),u(cs,"display","block"),u(cs,"height","0"),u(cs,"width","0"),u(cs,"margin-top",J(-1*(f/2|0))+"px")])),d(cj,t,i,$+".p::before",P([u(cs,"content","''"),u(cs,"display","block"),u(cs,"height","0"),u(cs,"width","0"),u(cs,"margin-bottom",J(-1*(f/2|0))+"px")]))]));case 7:p=e.c;var x=e.d;return _=e.e,d(cj,t,i,$="."+(h=e.a),P([u(cs,"padding",J(e.b)+"px "+J(p)+"px "+J(x)+"px "+J(_)+"px")]));case 6:return p=e.c,x=e.d,_=e.e,d(cj,t,i,$="."+(h=e.a),P([u(cs,"border-width",J(e.b)+"px "+J(p)+"px "+J(x)+"px "+J(_)+"px")]));case 8:var M=e.a,w=n(function(t,e,i){t:for(;;)switch(i.$){case 0:return J(i.a)+"px";case 1:var n=b(t,e);if(1===n.a.$)return 1===n.b.$?"max-content":"minmax(max-content, "+J(r=n.b.a)+"px)";if(1===n.b.$)return"minmax("+J(n.a.a)+"px, max-content)";var r=n.b.a;return"minmax("+J(n.a.a)+"px, "+J(r)+"px)";case 2:var s=i.a,a=b(t,e);return 1===a.a.$?1===a.b.$?J(s)+"fr":"minmax(max-content, "+J(r=a.b.a)+"px)":1===a.b.$?"minmax("+J(a.a.a)+"px, "+J(s)+"frfr)":(r=a.b.a,"minmax("+J(a.a.a)+"px, "+J(r)+"px)");case 3:var o=i.b;t=it(i.a),i=o;continue t;default:o=i.b,e=it(i.a),i=o;continue t}}),E=function(t){return c(w,ie,ie,t)},I=(E(M.i6.a),E(M.i6.b)),R="grid-template-rows: "+u(ii," ",u(i1,E,M.iQ))+";",k="-ms-grid-rows: "+u(ii,I,u(i1,E,M.ac))+";",T="-ms-grid-columns: "+u(ii,I,u(i1,E,M.ac))+";",A="grid-row-gap:"+E(M.i6.b)+";",L="grid-column-gap:"+E(M.i6.a)+";",O="grid-template-columns: "+u(ii," ",u(i1,E,M.ac))+";";return P([($=".grid-rows-"+u(ii,"-",u(i1,ce,M.iQ))+"-cols-"+u(ii,"-",u(i1,ce,M.ac))+"-space-x-"+ce(M.i6.a)+"-space-y-"+ce(M.i6.b))+"{"+T+k+"}","@supports (display:grid) {"+$+"{"+O+R+L+A+"}}"]);case 9:var F=e.a,D=u(ii," ",P(["-ms-grid-row: "+J(F.iP)+";","-ms-grid-row-span: "+J(F.ht)+";","-ms-grid-column: "+J(F.d2)+";","-ms-grid-column-span: "+J(F.fP)+";"])),N=u(ii," ",P(["grid-row: "+J(F.iP)+" / "+J(F.iP+F.ht)+";","grid-column: "+J(F.d2)+" / "+J(F.d2+F.fP)+";"]));return P([($=".grid-pos-"+J(F.iP)+"-"+J(F.d2)+"-"+J(F.fP)+"-"+J(F.ht))+"{"+D+"}","@supports (display:grid) {"+$+"{"+N+"}}"]);case 11:var $=e.a;return u(ov,function(e){return c(cV,t,e,it($))},e.b);default:var G=e.a,z=function(t){switch(t.$){case 0:return ie;case 1:var e=t.a,i=e.b,n=e.c;return it("translate3d("+J(e.a)+"px, "+J(i)+"px, "+J(n)+"px)");default:var r=t.a,s=r.b,a=r.c,o=t.b,h=o.a,l=o.b,u=o.c,c=t.c,d=c.a,f=c.b,g=c.c,m=t.d;return it("translate3d("+J(r.a)+"px, "+J(s)+"px, "+J(a)+"px) "+("scale3d("+J(h)+", "+J(l)+", ")+J(u)+") "+("rotate3d("+J(d)+", "+J(f)+", "+J(g)+", ")+J(m)+"rad)")}}(G),j=b($=ci(G),z);return j.a.$||j.b.$?S:d(cj,t,i,"."+(h=j.a.a),P([u(cs,"transform",j.b.a)]))}}),cH=i(function(t,e){return rX(u(i1,function(e){var i=c(cV,t,e,ie);return b(cn(e),u(rU,tC,i))},e))}),cq=i(function(t,e){return t+" {"+u(ii,"",u(i1,function(t){return t.a+": "+t.b+";"},e))+"}"}),cU=n(function(t,e,i){var n=i.b;return P([u(cq,"."+t+"."+e+", ."+t+" ."+e,i.a),u(cq,"."+t+"."+e+"> .t, ."+t+" ."+e+" > .t",n)])}),cX=n(function(t,e,i){var n=e.a,r=e.b,s=_(t,i)?t:i+" ."+t;return u(ii," ",C(c(cU,s,"cap",r),c(cU,s,"fs",n)))}),cY=i(function(t,e){var i=_(t,e)?t:e+" ."+t;return u(ii," ",P([u(cq,"."+i+".cap, ."+i+" .cap",P([b("line-height","1")])),u(cq,"."+i+".cap> .t, ."+i+" .cap > .t",P([b("vertical-align","0"),b("line-height","1")]))]))}),cK=n(function(t,e,i){return{ht:e/t,i3:t,fN:i}}),cZ=function(t){var e=P([t.gx,t.ge,t.gY,t.h0]),i=u(nO,t.gY,nL(e)),n=u(nO,t.ge,nL(u(nw,function(t){return!_(t,i)},e))),r=u(nO,t.gx,nT(e)),s=1/(r-i),a=1-r;return{gx:c(cK,1/(r-n),r-n,1-r),en:c(cK,s,r-i,a)}},cJ=function(t){return b(P([b("display","block")]),P([b("display","inline-block"),b("line-height",J(t.ht)),b("vertical-align",J(t.fN)+"em"),b("font-size",J(t.i3)+"em")]))},cQ=i(function(t,e){var n,r,s,a=c(ia,i(function(e,i){var n;return{cx:C(i.cx,c(cV,t,e,ie)),bT:1===(n=1===e.$?it(b(e.a,e.b)):ie).$?i.bT:u(R,n.a,i.bT)}}),{cx:S,bT:S},e),o=a.cx;return C((n=a.bT,r=function(t){return 4===t.$?it("@import url('"+t.b+"');"):ie},s=u(i1,iF,n),C(u(ii,"\n",u(i1,function(t){return u(ii,"\n",u(nC,r,t.b))},n)),u(ii,"\n",u(i1,function(t){var e,n=t.a,r=(e=t.b,c(ia,i(function(t,e){if(1===e.$&&5===t.$){var i=t.a.fV;if(1===i.$)return e;var n=i.a;return it(b(cJ(cZ(n).en),cJ(cZ(n).gx)))}return e}),ie,e));return u(ii,"",u(i1,1===r.$?cY(n):u(cX,n,r.a),s))},n)))),cA(o))}),c0=i(function(t,e){switch(t.h8){case 0:case 1:return c(cf,"div",S,P([c(cf,"style",S,P([t6(u(cQ,t,e))]))]));default:return c(cf,"elm-ui-rules",P([u(cg,"rules",u(cH,t,e))]),S)}}),c1=r(function(t,e,i,n){var r=u(c0,e,c(ia,cr,b(nd,cd(e.hd)),i).b);return t?u(R,b("static-stylesheet",cD(e)),u(R,b("dynamic-stylesheet",r),n)):u(R,b("dynamic-stylesheet",r),n)}),c2=r(function(t,e,i,n){var r=u(c0,e,c(ia,cr,b(nd,cd(e.hd)),i).b);return t?u(R,cD(e),u(R,r,n)):u(R,r,n)}),c3=uD(45),c4=uD(37),c5=function(t){return et(ea(t))},c6=t9("p"),c8=i(function(t,e){var i=e.a;if(t.$){var n=t.a;return _(n&e.b,n)}var r=t.a;return _(r&i,r)}),c9=t9("s"),c7=t9("u"),dt=uD(44),de=uD(39),di=a(function(t,e,n,r,s,a){var o=i(function(t,e){if(1===r.$){var i=r.a;return c(c5,t,e,function(){switch(s.$){case 0:return i;case 2:return d(c1,!1,s.a,s.b,i);default:return d(c1,!0,s.a,s.b,i)}}())}var n=r.a;return u(function(){switch(t){case"div":return ct;case"p":return c6;default:return cf(t)}}(),e,function(){switch(s.$){case 0:return n;case 2:return d(c2,!1,s.a,s.b,n);default:return d(c2,!0,s.a,s.b,n)}}())}),h=function(){switch(e.$){case 0:return u(o,"div",n);case 1:return u(o,e.a,n);default:return c(cf,e.a,n,P([u(o,e.b,P([uw("s e")]))]))}}();switch(a){case 0:return u(c8,de,t)&&!u(c8,dt,t)?h:u(c8,u8,t)?u(c7,P([uw(u(ii," ",P(["s","e","ctr","ccy","acr"])))]),P([h])):u(c8,u9,t)?u(c9,P([uw(u(ii," ",P(["s","e","ctr","ccy",uW])))]),P([h])):h;case 1:return u(c8,c4,t)&&!u(c8,c3,t)?h:u(c8,u7,t)?u(c9,P([uw(u(ii," ",P(["s","e","ctr",uV])))]),P([h])):u(c8,u6,t)?u(c7,P([uw(u(ii," ",P(["s","e","ctr","acb"])))]),P([h])):h;default:return h}}),dn=function(t){return u(ct,P([uw("s t wc hc")]),P([t6(t)]))},dr=function(t){return u(ct,P([uw("s t wf hf")]),P([t6(t)]))},ds=n(function(t,e,n){var r=i(function(e,i){var n=e.a,r=e.b,s=i.a,a=i.b;switch(r.$){case 0:var o=r.a;return _(t,4),b(u(R,b(n,o(t)),s),a);case 1:var h=r.a;return _(t,4),b(u(R,b(n,u(h.hz,u1,t)),s),ut(a)?h.jk:C(h.jk,a));case 2:var l=r.a;return b(u(R,b(n,_(t,2)?dr(l):dn(l)),s),a);default:return b(s,a)}}),s=i(function(e,i){var n=i.a,r=i.b;switch(e.$){case 0:var s=e.a;return _(t,4),b(u(R,s(t),n),r);case 1:var a=e.a;return _(t,4),b(u(R,u(a.hz,u1,t),n),ut(r)?a.jk:C(a.jk,r));case 2:var o=e.a;return b(u(R,_(t,2)?dr(o):dn(o),n),r);default:return b(n,r)}});if(1===e.$){var a=e.a,o=c(i0,r,b(S,S),a),h=o.a;if((m=ut(g=o.b)?n.jk:C(n.jk,g)).b){var l=m;return u2({hz:d(di,n.aF,n.aK,n.cJ,u0(c(u5,"nearby-element-pls",h,n.gD))),jk:l})}return u3(f(di,n.aF,n.aK,n.cJ,u0(c(u5,"nearby-element-pls",h,n.gD)),u1))}var g,m,p=e.a,v=c(i0,s,b(S,S),p),y=v.a;return(m=ut(g=v.b)?n.jk:C(n.jk,g)).b?(l=m,u2({hz:d(di,n.aF,n.aK,n.cJ,uB(u(u4,y,n.gD))),jk:l})):u3(f(di,n.aF,n.aK,n.cJ,uB(u(u4,y,n.gD)),u1))}),da=n(function(t,e,i){return{$:3,a:t,b:e,c:i}}),dh=function(t){return{$:10,a:t}},dl=i(function(t,e){return{$:0,a:t,b:e}}),du=i(function(t,e){var i=e.a,n=e.b;return t.$?u(dl,i,t.a|n):u(dl,t.a|i,n)}),dc=function(t){return{$:1,a:t}},dd=i(function(t,e){return{$:3,a:t,b:e}}),df=function(t){return{$:2,a:t}},dg=i(function(t,e){return u(ct,P([uw(function(){switch(t){case 0:return u(ii," ",P(["nb","e","a"]));case 1:return u(ii," ",P(["nb","e","b"]));case 2:return u(ii," ",P(["nb","e","or"]));case 3:return u(ii," ",P(["nb","e","ol"]));case 4:return u(ii," ",P(["nb","e","fr"]));default:return u(ii," ",P(["nb","e","bh"]))}}())]),P([function(){switch(e.$){case 3:return t6("");case 2:return dn(e.a);case 0:return(0,e.a)(2);default:return u(e.a.hz,u1,2)}}()]))}),dm=n(function(t,e,i){var n=u(dg,t,e);switch(i.$){case 0:return 5===t?dc(P([n])):df(P([n]));case 1:var r=i.a;return 5===t?dc(u(R,n,r)):u(dd,r,P([n]));case 2:var s=i.a;return 5===t?u(dd,P([n]),s):df(u(R,n,s));default:return r=i.a,s=i.b,5===t?u(dd,u(R,n,r),s):u(dd,r,u(R,n,s))}}),dp=i(function(t,e){return{$:2,a:t,b:e}}),d_=function(t){return{$:1,a:t}},dv=i(function(t,e){switch(e.$){case 0:return d_(t);case 1:return u(dp,e.a,t);default:return u(dp,e.a,e.b)}}),dy=function(t){switch(t){case 0:return"ah al";case 2:return"ah ar";default:return"ah cx"}},dx=function(t){switch(t){case 0:return"av at";case 2:return"av ab";default:return"av cy"}},db=i(function(t,e){return u(es,/^(on|formAction$)/i.test(t)?"data-"+t:t,eo(e))}),dM=r(function(t,e,i,n){return{$:2,a:t,b:e,c:i,d:n}}),dw=function(t){return{$:1,a:t}},dE=i(function(t,e){switch(t.$){case 0:switch(e.$){case 0:return dw(M(r=e.a,0,0));case 1:return dw(M(0,s=e.a,0));case 2:return dw(M(0,0,a=e.a));case 3:return dw(i=e.a);case 4:var i=e.a,n=e.b;return d(dM,M(0,0,0),M(1,1,1),i,n);default:return i=e.a,d(dM,M(0,0,0),i,M(0,0,1),0)}case 1:var r=(o=t.a).a,s=o.b,a=o.c;switch(e.$){case 0:return dw(M(e.a,s,a));case 1:return dw(M(r,e.a,a));case 2:return dw(M(r,s,e.a));case 3:return dw(i=e.a);case 4:return i=e.a,n=e.b,d(dM,o,M(1,1,1),i,n);default:return d(dM,o,e.a,M(0,0,1),0)}default:r=(o=t.a).a,s=o.b,a=o.c;var o,h=t.b,l=t.c;switch(n=t.d,e.$){case 0:return d(dM,M(e.a,s,a),h,l,n);case 1:return d(dM,M(r,e.a,a),h,l,n);case 2:return d(dM,M(r,s,e.a),h,l,n);case 3:return d(dM,e.a,h,l,n);case 4:return d(dM,o,h,e.a,e.b);default:return d(dM,o,e.a,l,n)}}}),dC=uD(7),dS=uD(36),dI=i(function(t,e){return u(dl,t.a|e.a,t.b|e.b)}),dR=u(dl,0,0),dP=function(t){switch(t.$){case 0:var e=J(t.a),i="height-px-"+e;return M(dR,"he "+i,P([c(da,i,"height",e+"px")]));case 1:return M(u(du,dS,dR),"hc",S);case 2:var n=t.a;return 1===n?M(u(du,c4,dR),"hf",S):M(u(du,c4,dR),"hfp height-fill-"+J(n),P([c(da,"s.c > "+co("height-fill-"+J(n)),"flex-grow",J(1e5*n))]));case 3:var r=t.a,s=t.b,a="min-height-"+J(r),o=c(da,a,"min-height",J(r)+"px !important"),h=dP(s),l=h.b,d=h.c;return M(u(du,c3,h.a),a+" "+l,u(R,o,d));default:var f=t.a,g=(s=t.b,o=c(da,a="max-height-"+J(f),"max-height",J(f)+"px"),dP(s));return l=g.b,d=g.c,M(u(du,c3,g.a),a+" "+l,u(R,o,d))}},dk=uD(38),dT=function(t){switch(t.$){case 0:var e=t.a;return M(dR,"we width-px-"+J(e),P([c(da,"width-px-"+J(e),"width",J(e)+"px")]));case 1:return M(u(du,dk,dR),"wc",S);case 2:var i=t.a;return 1===i?M(u(du,de,dR),"wf",S):M(u(du,de,dR),"wfp width-fill-"+J(i),P([c(da,"s.r > "+co("width-fill-"+J(i)),"flex-grow",J(1e5*i))]));case 3:var n=t.a,r=t.b,s="min-width-"+J(n),a=c(da,s,"min-width",J(n)+"px"),o=dT(r),h=o.b,l=o.c;return M(u(du,dt,o.a),s+" "+h,u(R,a,l));default:var d=t.a,f=(r=t.b,a=c(da,s="max-width-"+J(d),"max-width",J(d)+"px"),dT(r));return h=f.b,l=f.c,M(u(du,dt,f.a),s+" "+h,u(R,a,l))}},dA=uD(27),dL=i(function(t,e){if(_(t,dA)){if(3!==e.$)return!1;switch(e.c){case"0px":case"1px":case"2px":case"3px":case"4px":case"5px":case"6px":return!0;default:return!1}}else switch(e.$){case 2:var i=e.a;return i>=8&&32>=i;case 7:var n=e.b,r=e.c,s=e.e;return _(n,e.d)&&_(n,r)&&_(n,s)&&n>=0&&24>=n;default:return!1}}),dO=uD(6),dF=uD(30),dD=uD(29),dN=h(function(t,e,i,n,r,s,a,o){t:for(;;){if(!o.b){var h=ci(n);return 1===h.$?{cJ:u(R,uw(t),s),gD:a,aF:i,aK:e,jk:r}:{cJ:u(R,uw(t+" "+h.a),s),gD:a,aF:i,aK:e,jk:u(R,dh(n),r)}}var l=o.a,d=o.b;switch(l.$){case 0:t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,o=d;continue t;case 3:var f=l.b;if(u(c8,m=l.a,i)){t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,o=d;continue t}t=v=f+" "+t,e=y=e,i=x=u(du,m,i),n=b=n,r=M=r,o=d;continue t;case 1:t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,s=u(R,l.a,s),o=d;continue t;case 4:var g=l.b;if(u(c8,m=l.a,i)){t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,o=d;continue t}if(u(dL,m,g)){t=v=cn(g)+" "+t,e=y=e,i=x=u(du,m,i),n=b=n,r=M=r,o=d;continue t}t=v=cn(g)+" "+t,e=y=e,i=x=u(du,m,i),n=b=n,r=M=u(R,g,r),o=d;continue t;case 10:var m,p=l.b;t=v=t,e=y=e,i=x=u(du,m=l.a,i),n=b=u(dE,n,p),r=M=r,o=d;continue t;case 7:var _=l.a;if(u(c8,dO,i)){t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,o=d;continue t}switch(_.$){case 0:var v="we width-px-"+J(P=_.a)+" "+t,y=e,x=u(du,dO,i),b=n,M=u(R,c(da,"width-px-"+J(P),"width",J(P)+"px"),r);t=v,e=y,i=x,n=b,r=M,o=d;continue t;case 1:t=v=t+" wc",e=y=e,i=x=u(du,dk,u(du,dO,i)),n=b=n,r=M=r,o=d;continue t;case 2:if(1===(S=_.a)){t=v=t+" wf",e=y=e,i=x=u(du,de,u(du,dO,i)),n=b=n,r=M=r,o=d;continue t}v=t+" wfp width-fill-"+J(S),y=e,x=u(du,de,u(du,dO,i)),b=n,M=u(R,c(da,"s.r > "+co("width-fill-"+J(S)),"flex-grow",J(1e5*S)),r),t=v,e=y,i=x,n=b,r=M,o=d;continue t;default:var w=dT(_),E=w.c;v=t+" "+w.b,y=e,x=u(dI,w.a,u(du,dO,i)),b=n,M=C(E,r),t=v,e=y,i=x,n=b,r=M,o=d;continue t}case 8:var S,I=l.a;if(u(c8,dC,i)){t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,o=d;continue t}switch(I.$){case 0:var P,k=J(P=I.a)+"px",T="height-px-"+k;t=v="he "+T+" "+t,e=y=e,i=x=u(du,dC,i),n=b=n,r=M=u(R,c(da,T,"height ",k),r),o=d;continue t;case 1:t=v="hc "+t,e=y=e,i=x=u(du,dS,u(du,dC,i)),n=b=n,r=M=r,o=d;continue t;case 2:if(1===(S=I.a)){t=v="hf "+t,e=y=e,i=x=u(du,c4,u(du,dC,i)),n=b=n,r=M=r,o=d;continue t}v=t+" hfp height-fill-"+J(S),y=e,x=u(du,c4,u(du,dC,i)),b=n,M=u(R,c(da,"s.c > "+co("height-fill-"+J(S)),"flex-grow",J(1e5*S)),r),t=v,e=y,i=x,n=b,r=M,o=d;continue t;default:var A=dP(I);E=A.c,v=t+" "+A.b,y=e,x=u(dI,A.a,u(du,dC,i)),b=n,M=C(E,r),t=v,e=y,i=x,n=b,r=M,o=d;continue t}case 2:var L=l.a;switch(L.$){case 0:t=v=t,e=y=u(dv,"main",e),i=x=i,n=b=n,r=M=r,o=d;continue t;case 1:t=v=t,e=y=u(dv,"nav",e),i=x=i,n=b=n,r=M=r,o=d;continue t;case 2:t=v=t,e=y=u(dv,"footer",e),i=x=i,n=b=n,r=M=r,o=d;continue t;case 3:t=v=t,e=y=u(dv,"aside",e),i=x=i,n=b=n,r=M=r,o=d;continue t;case 4:var O=L.a;if(O>1){if(7>O){t=v=t,e=y=u(dv,"h"+J(O),e),i=x=i,n=b=n,r=M=r,o=d;continue t}t=v=t,e=y=u(dv,"h6",e),i=x=i,n=b=n,r=M=r,o=d;continue t}t=v=t,e=y=u(dv,"h1",e),i=x=i,n=b=n,r=M=r,o=d;continue t;case 9:t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,o=d;continue t;case 8:t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,s=u(R,u(db,"role","button"),s),o=d;continue t;case 5:t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,s=u(R,u(db,"aria-label",L.a),s),o=d;continue t;case 6:t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,s=u(R,u(db,"aria-live","polite"),s),o=d;continue t;default:t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,s=u(R,u(db,"aria-live","assertive"),s),o=d;continue t}case 9:var F=l.a,D=l.b;E=function(){switch(D.$){case 3:case 2:case 0:return r;default:return C(r,D.a.jk)}}(),t=v=t,e=y=e,i=x=i,n=b=n,r=M=E,a=c(dm,F,D,a),o=d;continue t;case 6:var N=l.a;if(u(c8,dF,i)){t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,o=d;continue t}t=v=dy(N)+" "+t,e=y=e,i=x=function(t){switch(N){case 1:return u(du,u9,t);case 2:return u(du,u8,t);default:return t}}(u(du,dF,i)),n=b=n,r=M=r,o=d;continue t;default:var $=l.a;if(u(c8,dD,i)){t=v=t,e=y=e,i=x=i,n=b=n,r=M=r,o=d;continue t}t=v=dx($)+" "+t,e=y=e,i=x=function(t){switch($){case 1:return u(du,u7,t);case 2:return u(du,u6,t);default:return t}}(u(du,dD,i)),n=b=n,r=M=r,o=d;continue t}}}),d$={$:0},dG=r(function(t,e,i,n){return c(ds,t,n,p(dN,function(t){switch(t){case 0:return"s r";case 1:return"s c";case 2:return"s e";case 3:return"s g";case 4:return"s p";default:return"s pg"}}(t),e,dR,d$,S,S,uQ,i_(i)))}),dz=function(t){return{$:8,a:t}},dj=function(t){return{$:1,a:t}},dB=function(t){return dj(uw(t))},dW={$:1},dV=function(t){return{$:7,a:t}},dH=i(function(t,e){return d(dG,1,uJ,u(R,dB("ct cl"),u(R,dz(dW),u(R,dV(dW),t))),uB(e))}),dq=uD(8),dU=function(t){return u(uF,dq,c(uO,"bg-"+uz(t),"background-color",t))},dX=function(t){return{$:2,a:t}},dY=dX(1),dK=i(function(t,e){return d(dG,0,uJ,u(R,dB("cl ccy"),u(R,dV(dW),u(R,dz(dW),t))),uB(e))}),dZ=function(t){return{$:10,a:t}},dJ=function(t){return{$:11,a:t}},dQ={$:54},d0={$:12},d1={$:56},d2=function(t){return{$:5,a:t}},d3=d2(2),d4=i(function(t,e){return{$:9,a:t,b:e}}),d5={$:0},d6=i(function(t,e){return 3===e.$?d5:u(d4,t,e)}),d8=function(t){return u(d6,5,t)},d9=s(function(t,e,i,n,r){return{$:7,a:t,b:e,c:i,d:n,e:r}}),d7=uD(2),ft=i(function(t,e){return _(t,e)?u(uF,d7,f(d9,"p-"+J(t),t,t,t,t)):u(uF,d7,f(d9,"p-"+J(t)+"-"+J(e),e,t,e,t))}),fe=function(t){return{$:2,a:t}},fi={$:9},fn=n(function(t,e,i){return{$:5,a:t,b:e,c:i}}),fr=uD(3),fs=i(function(t,e){return"spacing-"+J(t)+"-"+J(e)}),fa=function(t){return u(uF,fr,c(fn,u(fs,t,t),t,t))},fo=i(function(t,e){return d(dG,4,uJ,u(R,fe(fi),u(R,dV(dY),u(R,fa(5),t))),uB(e))}),fh=i(function(t,e){return{$:3,a:t,b:e}}),fl=uD(13),fu=u(fh,fl,"w4"),fc=n(function(t,e,i){return i?0>i?t*u(N,e,i):t*u(N,e,i-1):t}),fd=u(ro,u(fc,16,1.25),u$),ff=function(t){return{$:2,a:t}},fg=uD(4),fm=function(t){return u(uF,fg,ff(t))},fp=function(t){return{$:2,a:t}},f_=function(t){return fp(t)},fv={ae:M(96,96,96),h1:M(128,128,128),cy:M(160,160,160),fS:M(64,64,64),aa:M(192,192,192),kb:M(32,32,32),aY:M(224,224,224),kc:M(0,0,0),kd:M(255,255,255)},fy=r(function(t,e,i,n){return{$:0,a:t,b:e,c:i,d:n}}),fx=r(function(t,e,i,n){return d(fy,t/255,e/255,i/255,n)}),fb={ae:(lr=function(t){return d(fx,t.a,t.b,t.c,1)})(fv.ae),h1:lr(fv.h1),cy:lr(fv.cy),fS:lr(fv.fS),aa:lr(fv.aa),kb:lr(fv.kb),aY:lr(fv.aY),kc:lr(fv.kc),kd:lr(fv.kd)},fM=function(t){return u(fo,P([dV(dY),fm(fd(1)),fu,uj(fb.aa),u(ft,5,5)]),P([f_(t)]))},fw=i(function(t,e){return d(dG,2,uJ,u(R,dV(dW),u(R,dz(dW),t)),uB(P([e])))}),fE={$:3},fC=r(function(t,e,i,n){return"pad-"+J(t)+"-"+J(e)+"-"+J(i)+"-"+J(n)}),fS=function(t){var e=t.fE,i=t.fg,n=t.dW,r=t.eB;return _(e,i)&&_(e,n)&&_(e,r)?u(uF,d7,f(d9,"p-"+J(e),e,e,e,e)):u(uF,d7,f(d9,d(fC,e,i,n,r),e,i,n,r))},fI=u(fh,fl,"w6"),fR=i(function(t,e){var i=_(t,fE)?P([u(fo,S,P([f_(e)]))]):P([u(fw,P([dV(dW)]),t),u(fo,P([u(ft,15,5)]),P([f_(e)]))]);return u(dK,P([dV(dY),fS({dW:10,eB:5,fg:5,fE:30}),fm(16),fI]),i)}),fP={$:8},fk=i(function(t,e){return u(er,t,tC(e))}),fT=fk("disabled"),fA=function(t){return 4===t.$&&11===t.b.$&&!t.b.a},fL=i(function(t,e){return u(ei,t,{$:0,a:e})}),fO=function(t){return u(fL,"click",iW(t))},fF=u(sq,dj,fO),fD=i(function(t,e){return u(ei,t,{$:2,a:e})}),fN=uD(21),f$=u(fh,fN,uH),fG=i(function(t,e){var i=e.cn,n=e.hS;return d(dG,2,uJ,u(R,dV(dW),u(R,dz(dW),u(R,dB("ccx ccy sbt "+uZ),u(R,f$,u(R,u(nb,fA,t)?d5:dB("focusable"),u(R,fe(fP),u(R,dj(u(es,"tabIndex",J(0))),function(){if(1===i.$)return u(R,dj(fT(!0)),t);var e=i.a;return u(R,fF(e),u(R,dj(u(fD,"keydown",u(ij,function(t){return b(t,!0)},u(to,function(t){var i=_(t,"Enter")||_(t," ")?it(e):ie;return 1===i.$?nW("No key matched"):iW(i.a)},u(ts,"key",tr))))),t))}()))))))),uB(P([n])))}),fz=uD(28),fj=function(t){return u(uF,fz,c(uO,"bc-"+uz(t),"border-color",t))},fB=d(fx,245,121,0,1),fW=function(t){return u(uF,d7,f(d9,"p-"+J(t),t,t,t,t))},fV=uD(17),fH=function(t){return u(uF,fV,c(da,"br-"+J(t),"border-radius",J(t)+"px"))},fq=u(fh,uD(11),"bs"),fU=s(function(t,e,i,n,r){return{$:6,a:t,b:e,c:i,d:n,e:r}}),fX=function(t){return u(uF,dA,f(fU,"b-"+J(t),t,t,t,t))},fY=function(t){return P([fW(t),fj(fB),fq,fX(1),fH(5)])},fK=d2(1),fZ=es("d"),fJ=es("fill"),fQ=t8("http://www.w3.org/2000/svg"),f0=fQ("g"),f1=es("height"),f2=fQ("svg"),f3=function(t){return{f4:t.d,dU:t.c,hn:t.b,iN:t.a}},f4=es("viewBox"),f5=es("width"),f6=r(function(t,e,i,n){var r,s,a,o,h=J(n),l=(s=(r=f3(i)).hn,a=r.dU,o=r.f4,"rgba("+J(u$(255*r.iN))+","+J(u$(255*s))+","+J(u$(255*a))+","+J(o)+")");return u(f2,P([f5(h),f1(h),f4(t)]),P([u(f0,P([fJ(l)]),e)]))}),f8=fQ("path"),f9=u(f6,"0 0 48 48",P([u(f8,P([fZ("M38.71 20.07C37.35 13.19 31.28 8 24 8c-5.78 0-10.79 3.28-13.3 8.07C4.69 16.72 0 21.81 0 28c0 6.63 5.37 12 12 12h26c5.52 0 10-4.48 10-10 0-5.28-4.11-9.56-9.29-9.93zM20 34l-7-7 2.83-2.83L20 28.34l10.35-10.35 2.83 2.83L20 34z")]),S)])),f7=u(f6,"0 0 48 48",P([u(f8,P([fZ("M38.71 20.07C37.35 13.19 31.28 8 24 8c-2.95 0-5.7.87-8.02 2.34l2.92 2.92C20.43 12.47 22.16 12 24 12c6.08 0 11 4.92 11 11v1h3c3.31 0 6 2.69 6 6 0 2.27-1.27 4.22-3.13 5.24l2.9 2.9C46.32 36.33 48 33.37 48 30c0-5.28-4.11-9.56-9.29-9.93zM6 10.55l5.5 5.48C5.12 16.3 0 21.55 0 28c0 6.63 5.37 12 12 12h23.45l4 4L42 41.46 8.55 8 6 10.55zM15.45 20l16 16H12c-4.42 0-8-3.58-8-8s3.58-8 8-8h3.45z")]),S)])),gt=function(t){return{$:0,a:t}},ge=n(function(t,e,i){return d(fy,t,e,i,1)}),gi=P([dV(gt(16)),dz(gt(16)),fH(8),fX(1),fj(c(ge,.5,.5,.5)),dU(c(ge,1,1,1))]),gn=r(function(t,e,i,n){return{$:0,a:t,b:e,c:i,d:n}}),gr=function(t){return t/255},gs=n(function(t,e,i){return d(gn,gr(t),gr(e),gr(i),1)}),ga={ae:(lt=function(t){return c(gs,t.a,t.b,t.c)})(fv.ae),h1:lt(fv.h1),cy:lt(fv.cy),fS:lt(fv.fS),aa:lt(fv.aa),kb:lt(fv.kb),aY:lt(fv.aY),kc:lt(fv.kc),kd:lt(fv.kd)},go=u(sq,u3,sN),gh=d(gn,206/255,92/255,0,1),gl=d(gn,245/255,121/255,0,1),gu=function(t){return -2===t.$},gc=n(function(t,e,i){return{$:0,a:t,b:e,c:i}})(1),gd=i(function(t,e){return{$:11,a:t,b:e}}),gf=uD(33),gg=function(t){return{$:6,a:t}},gm=i(function(t,e){return{$:10,a:t,b:e}}),gp=i(function(t,e){switch(e.$){case 1:var n=e.a;return u2({hz:i(function(e,i){return u(ee,t,u(n.hz,e,i))}),jk:n.jk});case 0:var r=e.a;return u3(u(sq,ee(t),r));case 2:return fp(e.a);default:return fE}}),g_=i(function(t,e){switch(e.$){case 0:return d5;case 2:return fe(e.a);case 6:return gg(e.a);case 5:return d2(e.a);case 7:return dV(e.a);case 8:return dz(e.a);case 3:return u(fh,e.a,e.b);case 4:return u(uF,e.a,e.b);case 9:return u(d4,e.a,u(gp,t,e.b));case 1:return dj(u(el,t,e.a));default:return u(gm,e.a,e.b)}}),gv=i(function(t,e){var i=e.a,n=e.b,r=u(g_,iZ,t);switch(r.$){case 4:return b(u(R,r.b,i),n);case 10:return b(i,u(dE,n,r.b));default:return b(i,n)}}),gy=function(t){var e=c(ia,gv,b(S,d$),t),i=e.a;return u(R,dh(e.b),i)},gx=function(t){return u(uF,gf,u(gd,1,gy(t)))},gb=function(t){return u(uM,"href",/^javascript:/i.test(t.replace(/\s/g,""))?"":t)},gM=es("rel"),gw=uM("target"),gE=i(function(t,e){var i=e.jX,n=e.hS;return d(dG,2,d_("a"),u(R,dj(gb(i)),u(R,dj(gM("noopener noreferrer")),u(R,dj(gw("_blank")),u(R,dV(dW),u(R,dz(dW),u(R,dB("ccx ccy lnk"),t)))))),uB(P([n])))}),gC=i(function(t,e){return e.$?e4(e.a):t(e.a)}),gS=function(t){return t8(ea(t))},gI=gS("http://www.w3.org/2000/svg"),gR=function(t){return u(db,t.a,t.b)},gP=function(t){var e;switch(t.$){case 0:return c(gI,(e=t.a).cl,u(i1,gR,e.cJ),u(i1,gP,e.gD));case 1:return t6(t.a);default:return t6("")}},gk=function(t){return t},gT=i(function(t,e){return i(function(i,n){var r=c(gk,e,i,n);if(r.c.$)return M(r.a,r.b,e4(r.c.a));var s=r.a,a=r.b;return c(gk,t(r.c.a),s,a)})}),gA=n(function(t,e,i){return u(t,i,e)}),gL=n(function(t,e,n){return i(function(i,r){var s=c(gk,n,i,r);return M(s.a,s.b,s.c.$?e4(e(s.c.a)):e9(t(s.c.a)))})}),gO=i(function(t,e){return c(gL,t,iH,e)}),gF=i(function(t,e){return u(gT,u(gA,gO,t),e)}),gD=n(function(t,e,i){return u(t,i,e)}),gN=i(function(t,e){return u(gF,e,u(gO,gD(sN),t))}),g$=function(t){return{$:0,a:t}},gG=i(function(t,e){return u(gF,e,u(gO,sN,t))}),gz=i(function(t,e){return M(t,e,e4(S))}),gj=i(function(t,e){return i(function(i,n){var r=c(gk,t,i,n);if(r.c.$){var s=r.c.a,a=c(gk,e,i,n);return a.c.$?M(i,n,e4(C(s,a.c.a))):a}return r})}),gB=function(t){return c(i0,gj,gz,t)},gW=function(t){return{$:2,a:t}},gV=gL(iH),gH=i(function(t,e){return u(gV,sN(P([t])),e)}),gq=u(gH,"expected any character",(ls=sN(!0),iH(i(function(t,e){var i="could not satisfy predicate",n=iv(e.P);if(n.$)return M(t,e,e4(P([i])));var r=n.a,s=r.a,a=r.b;return ls(s)?M(t,w(e,{P:a,ax:e.ax+1}),e9(s)):M(t,e,e4(P([i])))})))),gU=function(t){return k(t).join("")},gX=function(t){return i(function(e,i){return M(e,i,e9(t))})},gY=function(t){return u(gT,t,gX(0))},gK=i(function(t,e){return n(function(i,n,r){for(;;){var s=c(gk,e,n,r);if(!s.c.$)return M(d=s.a,f=s.b,e9(i_(i)));var a=s.a,o=s.b,h=s.c.a,l=c(gk,t,n,r);if(l.c.$)return M(a,o,e4(h));var d=l.a,f=l.b;i=u(R,l.c.a,i),n=d,r=f}})(S)}),gZ=function(t){return i(function(e,i){if(u(Z,t,i.P)){var n=iU(t),r=i.ax+n;return M(e,w(i,{P:u(iX,n,i.P),ax:r}),e9(t))}return M(e,i,e4(P(['expected "'+t+'"'])))})},gJ=s(function(t,e,i,n,r){var s=u(Z,"^",i)?i:"^"+i,a=c(ej,1,u(nO,od,t(s)),r.P);if(a.b&&!a.b.b){var o=a.a,h=iU(o.bJ),l=r.ax+h;return M(n,w(r,{P:u(iX,h,r.P),ax:l}),e9(e(o)))}return M(n,r,e4(P(["expected input matching Regexp /"+s+"/"])))}),gQ=u(ro,u(gJ,oc,function(t){return t.bJ}),iH),g0=u(gH,"optional whitespace",gQ("\\s*")),g1=gY(function(){return u(gO,u(sq,gW,gU),u(gN,u(gN,g0,gZ("<!--")),u(gK,gq,gZ("-->"))))}),g2=function(t){var e=n(function(e,i,n){for(;;){var r=c(gk,t,i,n);if(r.c.$)return M(i,n,i_(e));var s=r.a,a=r.b,o=r.c.a;if(_(n,a))return M(s,a,i_(e));e=u(R,o,e),i=s,n=a}});return i(function(t,i){var n=c(e,S,t,i);return M(n.a,n.b,e9(n.c))})},g3=n(function(t,e,i){return{cJ:e,gD:i,cl:t}}),g4=i(function(t,e){return u(gj,e,gX(t))}),g5=u(gF,u(g4,"",u(gG,u(gN,gZ('="'),gQ('[^"]*')),gZ('"'))),u(gO,ol,gQ("[^=>/]+"))),g6=i(function(t,e){return u(gF,t,u(gO,gA(sN),e))}),g8=i(function(t,e){return u(gF,g2(u(g6,e,t)),u(gO,R,e))}),g9=i(function(t,e){return u(gj,u(g8,t,e),gX(S))}),g7=c(gD,gF,u(gF,gQ("[^/>\\s]+"),u(gO,n(function(t,e,i){return c(g3,e,i,S)}),gZ("<"))),u(gG,u(gN,g0,u(g9,g0,g5)),g0)),mt=function(t){return{$:1,a:t}},me=gY(function(){return u(gO,mt,u(gN,g0,gQ("[^<]+")))}),mi=function(t){var e=u(gO,function(e){return w(t,{gD:e})},u(gG,u(gG,u(gN,u(gN,g0,gZ(">")),g2(mr())),g0),gZ("</"+t.cl+">")));return gY(function(){return gB(P([u(gN,u(gN,g0,gZ("/>")),gX(t)),e]))})};function mn(){return gY(function(){return u(gO,g$,u(gT,mi,u(gF,g7,u(gO,gD(sN),g0))))})}function mr(){return gY(function(){return gB(P([me,g1,mn()]))})}var ms=mn();mn=function(){return ms};var ma=mr();mr=function(){return ma};var mo,mh,ml,mu=n(function(t,e,i){return{d7:t,P:e,ax:i}}),mc=n(function(t,e,i){var n=c(gk,t,e,c(mu,i,i,0));return n.c.$?e4(M(n.a,n.b,n.c.a)):e9(M(n.a,n.b,n.c.a))}),md=u(gO,gU,u(gN,u(gN,g0,gZ("<?xml")),u(gK,gq,gZ("?>")))),mf=function(t){var e;return u(gC,function(t){if(t.$)return e4("Top element is not svg");var e=t.a;return"svg"===e.cl?e9(u(f2,u(i1,gR,e.cJ),u(i1,gP,e.gD))):e4("Top element is not svg")},(e=c(mc,u(gN,u(g4,"",md),ma),S,t)).$?e4(u(ii," or ",e.a.c)):e9(e.a.c))},mg=u(dK,P([fS({dW:30,eB:0,fg:0,fE:15})]),P([u(fG,fY(10),{hS:u(fw,S,f_("Bestellungen exportieren")),cn:it({$:49})})])),mm=gg(1),mp=u(ro,u(fc,8,1.25),u$),m_=r(function(t,e,i,n){var r=M(t,e,i),s=r.a,a=r.b,o=r.c,h=o>.5?o+a-o*a:o*(a+1),l=2*o-h,u=function(t){var e=0>t?t+1:t>1?t-1:t;return 1>6*e?l+(h-l)*e*6:1>2*e?h:2>3*e?l+(h-l)*(2/3-e)*6:l},c=u(s-1/3),f=u(s);return d(gn,u(s+1/3),f,c,n)}),mv=function(t){var e=t.iR,i=t.hA/360,n=function(e){return f3(d(m_,e.a,e.b,e.c,t.f4))};return{ae:n(M(i,e,.325)),h1:n(M(i,e,.5)),cy:n(M(i,e,.675)),fS:n(M(i,e,.25)),aa:n(M(i,e,.75)),kb:n(M(i,e,.1875)),aY:n(M(i,e,.8125)),kc:n(M(i,e,.125)),kd:n(M(i,e,.875))}},my=function(t){var e=function(t){return d(fy,t.iN,t.hn,t.dU,t.f4)},i=t.jj;if(2===i.$){var n=i.a;return{ae:e(mv(n).ae),h1:e(mv(n).h1),cy:e(mv(n).cy),fS:e(mv(n).fS),aa:e(mv(n).aa),kb:e(mv(n).kb),aY:e(mv(n).aY),kc:e(mv(n).kc),kd:e(mv(n).kd)}}return{ae:e(mv(t.gd).ae),h1:e(mv(t.gd).h1),cy:e(mv(t.gd).cy),fS:e(mv(t.gd).fS),aa:e(mv(t.gd).aa),kb:e(mv(t.gd).kb),aY:e(mv(t.gd).aY),kc:e(mv(t.gd).kc),kd:e(mv(t.gd).kd)}},mx=i(function(t,e){return u(dK,P([dV(dY),dz(gt(50)),fW(mp(2)),dU(my(t).kb)]),P([u(fw,P([fm(fd(2)),uj(fb.kd),mm]),f_(e))]))}),mb=function(t){var e=t.g$.ir?0:53;return u$(t.fO.fO.ht)-66-e-50-70},mM=function(t){return{$:6,a:t}},mw=uD(12),mE=u(fh,mw,"tc"),mC=i(function(t,e){return P([fq,fH(7),fX(1),fj(t),u(ft,5,2),fF(e),mE,f$,fK])}),mS=i(function(t,e){return C(u(mC,t,e),P([u(ft,10,7),mm,fa(10)]))}),mI=u(f6,"0 0 48 48",P([u(f8,P([fZ("M25 16c-5.29 0-10.11 1.97-13.8 5.2L4 14v18h18l-7.23-7.23C17.54 22.44 21.09 21 25 21c7.09 0 13.09 4.61 15.19 11l4.73-1.56C42.17 22.06 34.3 16 25 16z")]),S)])),mR=function(t){var e=t.bx;return _(t.dH,na(2))?u(fw,P([fa(25),dV(dW),mm,dU(my(e).kb),dV(dY),dz(gt(70)),fW(10)]),u(dK,u(mS,fB,mM(t.gb)),P([u(fw,S,go(u(mI,gl,fd(3)))),f_("Zur\xfcck")]))):u(fo,P([dU(my(e).kb),dV(dY),dz(gt(70)),fW(10)]),P([u(dK,P([u(ft,10,7),fa(10),dV(dW),mm,fK,fq,fH(7),fX(1),fj(fB),mE,f$,dj(u(en,"display","none")),dj(uw("add-button"))]),P([f_("Data Shop zum Desktop hinzuf\xfcgen?")]))]))},mP=uD(20),mk=u(fh,mP,"sby"),mT=n(function(t,e,i){var n=t.bx;return u(dH,P([dV(dY),dz(dY),dU(my(n).fS)]),P([u(mx,n,i),u(dH,P([mm,dV(dY),dz(gt(mb(t))),mk,u(ft,30,20),uj(fb.aa)]),P([u(dH,P([dV(dY)]),e)])),mR(t)]))}),mA={$:50},mL=gg(2),mO=u(f6,"0 0 48 48",P([u(f8,P([fZ("M38 6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM20 34L10 24l2.83-2.83L20 28.34l15.17-15.17L38 16 20 34z")]),S)])),mF=u(f6,"0 0 48 48",P([u(f8,P([fZ("M38 10v28H10V10h28m0-4H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4z")]),S)])),mD=u(f6,"0 0 48 48",P([u(f8,P([fZ("M42 4H6C3.79 4 2 5.79 2 8v24c0 2.21 1.79 4 4 4h14v4h-4v4h16v-4h-4v-4h14c2.21 0 4-1.79 4-4V8c0-2.21-1.79-4-4-4zm0 28H6V8h36v24z")]),S)])),mN=u(f6,"0 0 48 48",P([u(f8,P([fZ("M40 8H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 8L24 26 8 16v-4l16 10 16-10v4z")]),S)])),m$=u(f6,"0 0 48 48",P([u(f8,P([fZ("M24 16L12 28l2.83 2.83L24 21.66l9.17 9.17L36 28z")]),S)])),mG=u(f6,"0 0 48 48",P([u(f8,P([fZ("M33.17 17.17L24 26.34l-9.17-9.17L12 20l12 12 12-12z")]),S)])),mz=u(f6,"0 0 48 48",P([u(f8,P([fZ("M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm2 34h-4v-4h4v4zm4.13-15.49l-1.79 1.84C26.9 25.79 26 27 26 30h-4v-1c0-2.21.9-4.21 2.34-5.66l2.49-2.52C27.55 20.1 28 19.1 28 18c0-2.21-1.79-4-4-4s-4 1.79-4 4h-4c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.76-.71 3.35-1.87 4.51z")]),S)])),mj=u(f6,"0 0 48 48",P([u(f8,P([fZ("M20 40V28h8v12h10V24h6L24 6 4 24h6v16z")]),S)])),mB=u(f6,"0 0 48 48",P([u(f8,P([fZ("M18 6l-8 7.98h6V28h4V13.98h6L18 6zm14 28.02V20h-4v14.02h-6L30 42l8-7.98h-6z")]),S)])),mW=u(f6,"0 0 48 48",P([u(f8,P([fZ("M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm2 30h-4V22h4v12zm0-16h-4v-4h4v4z")]),S)])),mV=u(f6,"0 0 48 48",P([u(f8,P([fZ("M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z")]),S)])),mH=u(f6,"0 0 48 48",P([u(f8,P([fZ("M41 6c-.11 0-.21.01-.31.05L30 10.2 18 6 6.73 9.8c-.42.14-.73.5-.73.96V41c0 .55.45 1 1 1 .11 0 .21-.01.31-.05L18 37.8 30 42l11.28-3.79c.42-.15.72-.51.72-.97V7c0-.55-.45-1-1-1zM30 38l-12-4.21V10l12 4.21V38z")]),S)])),mq=u(f6,"0 0 48 48",P([u(f8,P([fZ("M25.99 6C16.04 6 8 14.06 8 24H2l7.79 7.79.14.29L18 24h-6c0-7.73 6.27-14 14-14s14 6.27 14 14-6.27 14-14 14c-3.87 0-7.36-1.58-9.89-4.11l-2.83 2.83C16.53 39.98 21.02 42 25.99 42 35.94 42 44 33.94 44 24S35.94 6 25.99 6zM24 16v10l8.56 5.08L34 28.65l-7-4.15V16h-3z")]),S)])),mU=u(f6,"0 0 48 48",P([u(f8,P([fZ("M34 6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V14l-8-8zM24 38c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm6-20H10v-8h20v8z")]),S)])),mX=u(f6,"0 0 48 48",P([u(f8,P([fZ("M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3c-1.22.51-2.35 1.17-3.38 1.97L9.9 10.1c-.45-.17-.97 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3c1.22-.51 2.35-1.17 3.38-1.97l4.98 2.01c.45.17.97 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z")]),S)])),mY=u(f6,"0 0 48 48",P([u(f8,P([fZ("M14 36c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4zM2 4v4h4l7.19 15.17-2.7 4.9c-.31.58-.49 1.23-.49 1.93 0 2.21 1.79 4 4 4h24v-4H14.85c-.28 0-.5-.22-.5-.5 0-.09.02-.17.06-.24L16.2 26h14.9c1.5 0 2.81-.83 3.5-2.06l7.15-12.98c.16-.28.25-.61.25-.96 0-1.11-.9-2-2-2H10.43l-1.9-4H2zm32 32c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4z")]),S)])),mK=n(function(t,e,i){var n=function(){switch(t){case 0:return mO;case 1:return mF;case 2:return mN;case 4:return mG;case 3:return m$;case 9:return mH;case 8:return mV;case 5:return mz;case 12:return mB;case 7:return mW;case 6:return mj;case 10:return mX;case 11:return mY;case 13:return mD;case 14:return mU;default:return mq}}();return go(u(n,e,i))}),mZ=s(function(t,e,i,n,r){var s=_(e,fE)?P([u(fo,S,P([f_(i)]))]):P([u(fw,P([dV(dW)]),e),u(fo,P([u(ft,15,5)]),P([f_(i)]))]),a=dU(n.$?my(t).fS:my(t).ae),o=P(n.$?[fE]:[u(fw,P([mL,dV(dW)]),c(mK,r?3:4,ga.aa,24))]);return u(dK,P([dV(dY),fS({dW:10,eB:5,fg:5,fE:10}),fm(16),fI,gx(P([a])),fF({$:55,a:n})]),C(s,o))}),mJ=uD(32),mQ=fe({$:6}),m0=n(function(t,e,i){if(1===e.$)return d(dG,1,d_("label"),t,uB(P([i])));var n=e.a,r=d(dG,2,uJ,e.b,uB(P([e.c])));switch(n){case 2:return d(dG,1,d_("label"),u(R,dB("lbl"),t),uB(P([r,i])));case 3:return d(dG,1,d_("label"),u(R,dB("lbl"),t),uB(P([i,r])));case 0:return d(dG,0,d_("label"),u(R,dB("lbl"),t),uB(P([i,r])));default:return d(dG,0,d_("label"),u(R,dB("lbl"),t),uB(P([r,i])))}}),m1=uD(31),m2=function(t){return c(i0,i(function(t,e){return e.$?8===t.$?it(t.a):ie:it(e.a)}),ie,t)},m3=i(function(t,e){return u(nO,e,c(i0,i(function(t,e){if(e.$){if(4===t.$&&5===t.b.$){var i=t.b;return it(b(i.b,i.c))}return ie}return it(e.a)}),ie,t))}),m4=function(t){return c(i0,i(function(t,e){return e.$?7===t.$?it(t.a):ie:it(e.a)}),ie,t)},m5=function(t){return 1===t.$?fe({$:5,a:t.a}):d5},m6=function(t){return 1===t.$},m8=uM("max"),m9=uM("min"),m7=function(t){return b(t,!0)},pt=i(function(t,e){return u(ei,t,{$:1,a:e})}),pe=u(nY,P(["target","value"]),tr),pi=function(t){return u(pt,"input",u(ij,m7,u(ij,t,pe)))},pn=i(function(t,e){return u(uF,fr,c(fn,u(fs,t,e),t,e))}),pr=uM("type"),ps=uM("value"),pa=function(t){return 0>t?-t:t},po=i(function(t,e){switch(e.$){case 0:return d5;case 2:return fe(e.a);case 6:return gg(e.a);case 5:return d2(e.a);case 7:return dV(e.a);case 8:return dz(e.a);case 3:return u(fh,e.a,e.b);case 4:return u(uF,e.a,e.b);case 9:return u(d4,e.a,u(gp,t,e.b));case 1:return dj(u(el,t,e.a));default:return u(gm,e.a,e.b)}}),ph=n(function(t,e,i){return u(dK,P([dV(dY),dz(u(nO,dY,i)),fK]),P([u(fw,P([dV(dX(u$(1e4*t)))]),fE),u(fw,u(R,fK,u(i1,po(iZ),e)),fE),u(fw,P([dV(dX(u$(1e4*pa(1-t))))]),fE)]))}),pl=n(function(t,e,i){return u(dH,P([dz(dY),dV(u(nO,dY,i)),mm]),P([u(fw,P([dz(dX(u$(1e4*pa(1-t))))]),fE),u(fw,u(R,mm,u(i1,po(iZ),e)),fE),u(fw,P([dz(dX(u$(1e4*t)))]),fE)]))}),pu=i(function(t,e){var i,n=m4(t),r=m2(t),s=function(){var t=b(n,r);t:for(;;){if(1===t.a.$){if(1===t.b.$)return!1;break t}if(t.a.a.$||t.b.$)break t;switch(t.b.a.$){case 0:return y(t.b.a.a,t.a.a.a)>0;case 2:return!0;default:break t}}return!1}(),a=(e.fL-e.eL)/(e.eG-e.eL),o=e.fA,h=m2(o),l=1===h.$?"20px":h.a.$?"100%":J(h.a.a)+"px",f=m4(o),g=1===f.$?"20px":f.a.$?"100%":J(f.a.a)+"px",m="thmb-"+g+"-"+l,p=P([u(cs,"width",g),u(cs,"height",l)]),_=u(m3,t,b(5,5)),v=_.a,x=_.b;return c(m0,P([m6(e.hS)?d5:u(pn,v,x),mQ,dV(1===n.$?dY:n.a.$?n.a:dW),dz(1===r.$?dW:r.a.$?r.a:dW)]),e.hS,u(dK,P([dV(u(nO,dY,n)),dz(u(nO,gt(20),r))]),P([d(dG,2,d_("input"),P([m5(e.hS),u(uF,mJ,u(ca,'input[type="range"].'+m+"::-moz-range-thumb",p)),u(uF,gf,u(ca,'input[type="range"].'+m+"::-webkit-slider-thumb",p)),u(uF,m1,u(ca,'input[type="range"].'+m+"::-ms-thumb",p)),dj(uw(m+" ui-slide-bar focusable-parent")),dj(pi(function(t){var i=oe(t);return e.eU(1===i.$?0:i.a)})),dj(pr("range")),dj(u(uM,"step",1===(i=e.fu).$?"any":J(i.a))),dj(m9(J(e.eL))),dj(m8(J(e.eG))),dj(ps(J(e.fL))),s?dj(u(db,"orient","vertical")):d5,dV(s?u(nO,gt(20),r):u(nO,dY,n)),dz(s?u(nO,dY,n):u(nO,gt(20),r))]),uB(S)),u(fw,u(R,dV(u(nO,dY,n)),u(R,dz(u(nO,gt(20),r)),C(t,P([d8(s?c(pl,a,u(R,dB("focusable-thumb"),o),n):c(ph,a,u(R,dB("focusable-thumb"),o),r))])))),fE)])))}),pc=i(function(t,e){var n,r,s,a,o,h,l,d,g,m,p,_=c(mT,t,C(gu(t.$9)?S:P([u(fR,c(mK,14,ga.cy,20),"Exportieren"),fM("Die Liste der bestellten Produkte kann exportiert werden. Es wird eine Datei 'geoTangle-Bestellungen.json' im Download-Ordner gespeichert."),mg]),P([u(fR,c(mK,15,ga.cy,20),"Importieren"),fM("Eine zuvor exportierte JSON-Datei kann wieder in die Liste der Bestellungen geladen werden."),u(dH,S,P([u(dK,P([u(ft,0,15)]),P([u(fG,fY(10),{hS:u(fw,S,f_("Bestellungen importieren")),cn:it(mA)})])),fM(t.dr)]))])),"Bestellungen Import-Export"),v=(s=u(dK,P([dV(dY),fa(20)]),P(t.ij?[u(fw,S,go(u(f9,gl,fd(3)))),u(fo,P([dV(dY)]),P([f_("Netzwerkverbindung ok!")]))]:[u(fw,S,go(u(f7,gl,fd(3)))),u(fo,P([dV(dY)]),P([f_("Browser hat keine Verbindung zu einem Netzwerk!")]))])),c(mT,t,P([u(dH,P([fa(20)]),P([s,f_(t.g6)]))]),"*** ERROR ***")),y=function(t){var e;return u(fw,S,go(1===(e=mf(t)).$?t6("elmLogo"+e.a):e.a))},x=t.bx,b=c(mT,t,P([u(fo,P([fS({dW:25,eB:5,fg:5,fE:10})]),P([f_("Diese Applikation entstand als Freizeit-Projekt zum Erlernen der Programmiersprache 'elm'. Anregungen und Kommentare an "),u(gE,P([uj(fb.aY),gx(P([dU(my(x).ae)]))]),{hS:f_("stephan@zinggeler.net"),jX:"mailto:stephan@zinggeler.net"})])),u(fR,fE,"Version"),u(fo,P([fS({dW:25,eB:5,fg:5,fE:10})]),P([f_(t.jY),u(fw,P([u(ft,20,0)]),f_("⇾")),u(gE,P([uj(fb.aY),gx(P([dU(my(x).ae)]))]),{hS:f_("CHANGELOG.md"),jX:"/geoTangle/"})])),u(fR,fE,"Services"),fM("- Open Government Data - Datenshop-Dienst"),u(gE,P([uj(fb.aY)]),{hS:u(fw,P([u(ft,15,0),gx(P([dU(my(x).ae)]))]),f_("(Link zur Spezifikation der REST-Schnittstelle - PDF | 15 Seiten | 301 KB)")),jX:"https://www.zh.ch/content/dam/zhweb/bilder-dokumente/themen/planen-bauen/geoinformation/geodaten/geodatenshop/rest_schnittstelle_ogd_interface.pdf"}),u(gE,P([uj(fb.aY),u(ft,5,5)]),{hS:u(fw,P([gx(P([dU(my(x).ae)]))]),f_("- Service f\xfcr Metadaten zu einem Geolion-Datensatz")),jX:"https://geolion.zh.ch/api/getGeodatenmetaDocu"}),u(fR,fE,"Programmiersprachen"),u(gE,P([u(ft,15,5)]),{hS:u(dK,P([u(ft,0,10),fa(10)]),P([u(fw,P([dU(fb.kd)]),y('<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   width="'+J(128)+'px"\n   height="'+J(128)+'px"\n   viewBox="0 0 85.539261 85.539261"\n   version="1.1"\n   id="svg821"\n   inkscape:version="0.92.3 (2405546, 2018-03-11)"\n   sodipodi:docname="elmlogo2.svg">\n  <defs\n     id="defs815" />\n  <sodipodi:namedview\n     id="base"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageopacity="0.0"\n     inkscape:pageshadow="2"\n     inkscape:zoom="0.35"\n     inkscape:cx="-361.20818"\n     inkscape:cy="-149.77958"\n     inkscape:document-units="mm"\n     inkscape:current-layer="layer1"\n     showgrid="false"\n     inkscape:window-width="1920"\n     inkscape:window-height="1054"\n     inkscape:window-x="1600"\n     inkscape:window-y="0"\n     inkscape:window-maximized="1" />\n  <metadata\n     id="metadata818">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1"\n     transform="translate(-55.504188,-23.664892)">\n    <g\n       id="g1441"\n       transform="matrix(0.26458333,0,0,0.26458333,55.504188,23.664892)"\n       inkscape:export-xdpi="140.42999"\n       inkscape:export-ydpi="140.42999">\n  <polygon\n   id="polygon1427"\n   points="231.514,82.916 91.783,82.916 161.649,152.782 "\n   style="fill:#f0ad00" />\n\n\n  <polygon\n   id="polygon1429"\n   points="161.838,0 8.867,0 79.241,70.375 232.213,70.375 "\n   style="fill:#7fd13b" />\n   width="107.676"\n   height="108.167"/>\n\n  <rect\n   id="rect1431"\n   transform="matrix(0.7071,0.7071,-0.7071,0.7071,186.4727,-127.2386)"\n   y="107.392"\n   x="192.99001"\n   width="107.676"\n   height="108.167"\n   style="fill:#7fd13b" />\n\n  <polygon\n   id="polygon1433"\n   points="323.298,0 179.573,0 323.298,143.724 "\n   style="fill:#60b5cc" />\n\n\n  <polygon\n   id="polygon1435"\n   points="0,8.868 0,314.432 152.781,161.649 "\n   style="fill:#5a6378" />\n\n\n  <polygon\n   id="polygon1437"\n   points="323.298,314.432 323.298,178.879 255.522,246.655 "\n   style="fill:#f0ad00" />\n\n\n  <polygon\n   id="polygon1439"\n   points="8.869,323.298 314.43,323.298 161.649,170.517 "\n   style="fill:#60b5cc" />\n\n</g>\n  </g>\n</svg>\n')),u(dH,P([d3,fm(16),uj(fb.aY),gx(P([dU(my(x).ae)])),fa(15)]),P([u(fR,fE,"elm - 0.19.1"),f_("(https://elm-lang.org)")]))])),jX:"https://elm-lang.org/"}),fM("- JavaScript"),u(fR,fE,"Elm Packages"),fM("- Garados007/elm-svg-parser: 1.0.0"),fM("- NoRedInk/elm-json-decode-pipeline: 1.0.0"),fM("- andre-dietrich/parser-combinators: 3.2.0"),fM("- avh4/elm-color: 1.0.0"),fM("- danmarcab/material-icons: 1.0.0"),fM("- elm/browser: 1.0.2"),fM("- elm/core: 1.0.5"),fM("- elm/file: 1.0.5"),fM("- elm/html: 1.0.0"),fM("- elm/http: 2.0.0"),fM("- elm/json: 1.1.3"),fM("- elm/parser: 1.1.0"),fM("- elm/regex: 1.0.0"),fM("- elm/svg: 1.0.1"),fM("- elm/time: 1.0.0"),fM("- elm/bytes: 1.0.8"),fM("- elm/random: 1.0.0"),fM("- elm/url: 1.0.0"),fM("- elm/virtual-dom: 1.0.2"),fM("- elm-community/list-extra: 8.2.4"),fM("- elm-community/maybe-extra: 5.2.0"),fM("- ianmackenzie/elm-geometry: 3.6.0"),fM("- ianmackenzie/elm-units: 2.7.0"),fM("- ianmackenzie/elm-1d-parameter: 1.0.1"),fM("- ianmackenzie/elm-float-extra: 1.1.0"),fM("- ianmackenzie/elm-interval: 2.0.0"),fM("- ianmackenzie/elm-triangular-mesh: 1.0.4"),fM("- ianmackenzie/elm-units-interval: 1.1.0"),fM("- jinjor/elm-debounce: 3.0.0"),fM("- jinjor/elm-xml-parser: 2.0.0"),fM("- mdgriffith/elm-ui: 1.1.8"),fM("- pablen/toasty: 1.2.0"),fM("- perzanko/elm-loading: 2.0.4"),fM("- pilatch/flip: 1.0.0"),fM("- rtfeldman/elm-css: 16.1.0"),fM("- rtfeldman/elm-hex: 1.0.0"),fM("- rtfeldman/elm-iso8601-date-strings: 1.1.3"),fM("- ymtszw/elm-xml-decode: 3.2.1"),u(fR,fE,"Frameworks"),u(gE,P([u(ft,15,5)]),{hS:u(dK,P([u(ft,0,10),fa(10)]),P([u(fw,S,y('<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   id="svg3859"\n   width="'+J(100)+'px"\n   height="'+J(100)+'px"\n   version="1.1">\n  <defs\n     id="defs3861">\n    <clipPath\n       id="clipPath3849">\n      <rect\n         style="color:#000000;fill:none;stroke:#000000;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate"\n         id="rect3851"\n         transform="matrix(-0.47673484,0.87904715,-0.95035547,-0.31116633,0,0)"\n         y="-1761.3143"\n         x="699.2251"\n         ry="89.573692"\n         height="396.80566"\n         width="394.26315" />\n    </clipPath>\n  </defs>\n  <metadata\n     id="metadata3864">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     id="layer1"\n     transform="translate(0,-952.36218)">\n    <rect\n       width="71.05851"\n       height="71.516754"\n       ry="16.143972"\n       x="-794.30432"\n       y="783.77881"\n       transform="matrix(0.76602036,-0.64281631,0.76990078,0.6381636,0,0)"\n       id="rect3017-1"\n       style="color:#000000;display:inline;overflow:visible;visibility:visible;fill:#005964;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.147975;marker:none;enable-background:accumulate" />\n    <rect\n       width="71.05851"\n       height="71.516754"\n       ry="16.143972"\n       x="-788.10034"\n       y="777.60608"\n       transform="matrix(0.76602036,-0.64281631,0.76990078,0.6381636,0,0)"\n       id="rect3017-7"\n       style="color:#000000;display:inline;overflow:visible;visibility:visible;fill:#e5e5e5;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.147975;marker:none;enable-background:accumulate" />\n    <rect\n       width="71.05851"\n       height="71.516754"\n       ry="16.143972"\n       x="-781.23462"\n       y="770.77496"\n       transform="matrix(0.76602036,-0.64281631,0.76990078,0.6381636,0,0)"\n       id="rect3017"\n       style="color:#000000;display:inline;overflow:visible;visibility:visible;fill:#53c5d5;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.147975;marker:none;enable-background:accumulate" />\n    <path\n       d="m 1233.8003,1119.4669 c -53.8878,178.2803 -220.6429,298.2666 -406.80645,292.7119 l -32.97308,-83.598 164.08844,-297.9751 z"\n       transform="matrix(-0.16766085,-0.06612953,0.06612953,-0.16766085,142.84327,1277.661)"\n       clip-path="url(#clipPath3849)"\n       id="path3812"\n       style="color:#000000;display:inline;overflow:visible;visibility:visible;fill:#35bcce;fill-opacity:1;fill-rule:nonzero;stroke:none;marker:none;enable-background:accumulate" />\n  </g>\n</svg>\n')),u(fw,P([d3,fm(16),gx(P([dU(my(x).ae)]))]),f_("OpenLayers (openlayers.org)"))])),jX:"https://openlayers.org/"}),u(fR,fE,"Tools"),u(fo,P([u(ft,5,5)]),P([u(gE,P([gx(P([dU(my(x).ae)]))]),{hS:f_("- Parcel (parceljs.org)"),jX:"//parceljs.org"})])),u(fo,P([u(ft,5,5)]),P([u(gE,P([gx(P([dU(my(x).ae)]))]),{hS:f_("- workbox"),jX:"//developers.google.com/web/tools/workbox/"})]))]),"\xdcber diese Webapplikation"),M=(l=u(dH,P([fS({dW:0,eB:30,fg:0,fE:0})]),P([u(dK,P([u(ft,0,15)]),P([u(fG,fY(10),{hS:u(fw,P([u(ft,30,0)]),f_("Warenkorb bereinigen")),cn:it(dQ)})])),fM(t.dr)])),d=function(t){return t?0:1},o=2===(a=x.jj).$?a.a.iR:.4,h=2===a.$?a.a.hA:225,g=P([u(dH,P([dV(dY)]),P([u(dK,P([dV(dY),fa(30)]),P([u(fw,P([dV(gt(80))]),f_("Farbe")),u(pu,P([dz(gt(30)),dV(gt(200)),fK,d8(u(fw,P([dV(dY),dz(gt(1)),fK,dU(my(x).cy),fH(2)]),fE))]),{hS:u(gc,S,f_("")),eG:359,eL:0,eU:dZ,fu:ie,fA:gi,fL:h})])),u(dK,P([dV(dY),fa(30)]),P([u(fw,P([dV(gt(80))]),f_("S\xe4ttigung")),u(pu,P([dz(gt(30)),dV(gt(200)),fK,d8(u(fw,P([dV(dY),dz(gt(1)),fK,dU(my(x).cy),fH(2)]),fE))]),{hS:u(gc,S,f_("")),eG:1,eL:0,eU:dJ,fu:ie,fA:gi,fL:o})])),u(dK,P([u(ft,0,15)]),P([u(fG,fY(10),{hS:u(fw,P([u(ft,30,0)]),f_("Farbe zur\xfccksetzen")),cn:it(d0)})]))]))]),m=t.g1.el,p=c(ia,i(function(e,i){var n=e.a,r=e.b;return u(R,u(dK,P([fF({$:53,a:n})]),P([u(fw,P([u(ft,0,3)]),c(mK,d(!u(hW,n,t.hw)),gh,24)),u(fw,P([u(ft,10,3),fm(16),uj(fb.aa)]),f_(r.cl))])),i)}),S,e1(m)),c(mT,t,P([u(dH,S,P([u(fR,fE,"Angezeigte Datenformate"),u(dH,P([fS({dW:10,eB:30,fg:0,fE:10})]),p)])),u(dH,S,P([u(fR,fE,"Nicht ausgew\xe4hlte Formate aus dem Warenkorb entfernen"),l])),u(dH,S,P([u(fR,fE,"Farbe festlegen"),u(dH,P([fS({dW:10,eB:30,fg:0,fE:10})]),g)])),u(dH,S,P([u(fR,fE,"Men\xfc Darstellung"),u(dH,P([fS({dW:20,eB:30,fg:0,fE:10})]),P([u(dK,P([fF(d1)]),P([u(fw,P([u(ft,0,3)]),c(mK,d(t.h5),gh,24)),u(fw,P([u(ft,10,3),fm(16),uj(fb.aa)]),f_("Nur Icon ohne Text darstellen"))]))]))]))]),"Einstellungen"));switch(e){case 0:return n=function(e){return u(aC,e,t.gN)},r=t.bx,c(mT,t,P([f(mZ,r,c(mK,9,ga.aa,24),"Gew\xfcnschten Perimeter festlegen",it(0),n(0)),n(0)?u(dH,P([fa(5)]),P([u(dK,P([fa(40)]),P([f_(""),fM("W\xe4hlen Sie im Dropdown-Men\xfc den gew\xfcnschten Perimetertyp."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("Zeichnen Sie auf der Karte einen Perimeter (Rechteck, Polygon) oder w\xe4hlen Sie den gew\xfcnschten Kartenausschnitt. Einzelne Vertices k\xf6nnen durch einen Klick auf einen Eckpunkt bei gedr\xfcckter <alt>-Taste gel\xf6scht werden."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("W\xe4hlen Sie eine oder mehrere Gemeinden aus der Gemeindeliste oder klicken Sie auf die gew\xfcnschten Gemeinden in der Karte."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("Ben\xfctzen Sie die Parzellensuche zur Auswahl von Grundst\xfccken oder klicken Sie auf die gew\xfcnschten Grundst\xfccke in der Karte."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("Benutzen Sie die Schaltfl\xe4chen 'Zoomen', um eine bereits gezeichnete Fl\xe4che zu finden, oder 'L\xf6schen', um eine neue Fl\xe4che zu zeichnen."),f_("")]))])):fE,f(mZ,r,c(mK,8,ga.aa,24),"Produkt ausw\xe4hlen und Daten-Format festlegen",it(1),n(1)),n(1)?u(dH,P([fa(5)]),P([u(dK,P([fa(40)]),P([f_(""),fM("Suchen Sie \xfcber das Eingabefeld Ihr gew\xfcnschtes Produkt."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("W\xe4hlen Sie es aus mit einem Klick auf die Liste."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("In der anschliessend angezeigten Detail-Ansicht w\xe4hlen Sie die gew\xfcnschten Datenformate."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("Falls das gew\xfcnschte Datenformat nicht angezeigt wird, kontrolliern Sie bitte in den Einstellungen (bearbeitbar \xfcber das Men\xfc), ob das gesuchte Format in der Liste der 'Angezeigten Datenformate' aktiviert ist."),f_("")]))])):fE,f(mZ,r,c(mK,11,ga.aa,24),"Warenkorb kontrollieren und Bestellung abschicken",it(2),n(2)),n(2)?u(dH,P([fa(5)]),P([u(dK,P([fa(40)]),P([f_(""),fM("Kontrollieren Sie die ausgew\xe4hlten Produkte und erg\xe4nzen oder reduzieren Sie die Formate in der \xdcbersicht."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("Erfassen Sie Ihre E-Mail Adresse, falls Sie benachrichtigt werden m\xf6chten, sobald die Daten zum Download bereit sind."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("\xdcber die Schaltfl\xe4che 'Bestellung abschicken' wird der Bestellvorgang gestartet."),f_("")]))])):fE,f(mZ,r,c(mK,2,ga.aa,24),"Status der Bestellung und Daten herunterladen",it(3),n(3)),n(3)?u(dH,P([fa(5)]),P([u(dK,P([fa(40)]),P([f_(""),fM("Im Fenster 'Bestellungen' werden alle laufenden und fr\xfcher get\xe4tigten Bestellungen aufgelistet."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("Sobald die aktuelle Bestellung fertig aufbereitet ist, k\xf6nnen die bestellten Daten \xfcber den 'Download-Knopf' heruntergeladen werden. Die aufbereiteten Daten verbleiben ca. 1 Woche auf dem Server."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("\xdcber die weiteren Schaltfl\xe4chen k\xf6nnen die Bestellungen mit eigenen Bezeichnungen beschriftet, nochmals geladen oder gel\xf6scht werden."),f_("")])),u(dK,P([fa(40)]),P([f_(""),fM("Mit der Export-Funktion im Men\xfc kann die gesamte Bestellliste gespeichert und \xfcber die Import-Funktion wieder geladen werden."),f_("")]))])):fE]),"Anleitung");case 1:return M;case 3:return _;case 2:return v;default:return b}}),pd=function(t){return cA(P([t.ew?"box-inset":"box-",uG(t.b.a)+"px",uG(t.b.b)+"px",uG(t.a$)+"px",uG(t.i3)+"px",uz(t.gJ)]))},pf=uD(19),pg=i(function(t,e){var i,n;return u(uF,pf,c(da,pd(n={a$:(i={a$:2*e,gJ:t,b:b(0,0),i3:e}).a$,gJ:i.gJ,ew:!1,b:i.b,i3:i.i3}),"box-shadow",cl(n)))}),pm=i(function(t,e){var i,n;return u(uF,pf,c(da,pd(n={a$:(i={a$:2*e,gJ:t,b:b(0,0),i3:e}).a$,gJ:i.gJ,ew:!0,b:i.b,i3:i.i3}),"box-shadow",cl(n)))}),pp=function(t){return gu(t)},p_=i(function(t,e){return C(P([fH(32),fX(1),fq,fj(my(t).kc),dU(my(t).fS),f$,u(ft,7,5),fa(5)]),P([fF(e)]))}),pv=function(t){return!ut(t.gv)},py=function(t){return!ut(t.hj)},px=function(t){return!ut(t.hN)},pb=function(t){return!ut(t.iw)},pM=function(t){return!ut(t.iG)},pw=function(t){return"box"===t.cs&&pv(t)||"polygon"===t.cs&&pM(t)&&!px(t)||"extent"===t.cs&&io(t.g8)>0||"gemeinden"===t.cs&&py(t)||"parzellen"===t.cs&&pb(t)},pE=uM("title"),pC=i(function(t,e){var i=e.cq,n=_(t.dH,i),r=function(){switch(i.$){case 0:default:return!1;case 1:return pw(t.bI);case 2:return!pp(t.j$);case 3:return!pp(t.j$)&&pw(t.bI)}}(),s=t.bx,a=P(n?r?[u(pm,my(s).aY,4),u(pg,my(s).aY,4)]:[u(pg,my(s).aY,4)]:r?[dj(pE(e.bO)),fF(mM(i)),f$,u(pm,my(s).aY,4)]:[dj(pE(e.bO)),fF(mM(i)),f$]);return t.g$.ir?u(fw,P([dV(dY)]),u(dK,C(a,C(u(p_,s,mM(e.cq)),P([dV(dY)]))),P([go(u(e.cW,ga.aa,fd(3))),function(){switch(t.g$.cM){case 0:return fE;case 1:return t.h5?fE:u(fw,P([u(ft,5,0)]),f_(e.bO));default:return t.h5?fE:u(fw,P([u(ft,5,0)]),f_(e.ck))}}()]))):u(dK,P([mm,dz(gt(53))]),P([u(dK,C(a,u(p_,s,mM(e.cq))),P([go(u(e.cW,ga.aa,fd(3))),function(){switch(t.g$.cM){case 0:case 1:return fE;case 2:return t.h5?fE:u(fw,P([u(ft,5,0)]),f_(e.bO));default:return t.h5?fE:u(fw,P([u(ft,5,0)]),f_(e.ck))}}()])),_(i,st)?fE:u(fw,P([fW(10)]),fE)]))}),pS=r(function(t,e,i,n){return{cW:t,ck:n,cq:e,bO:i}}),pI=P([d(pS,mj,na(0),"Anleitung","Anleitung anzeigen"),d(pS,mH,se,"Perimeter","Perimeter festlegen"),d(pS,mV,si,"Produkt","Produkt ausw\xe4hlen"),d(pS,mY,nl,"Warenkorb","Warenkorb pr\xfcfen"),d(pS,mN,st,"Bestellungen","Bestellungen anzeigen")]),pR=function(t){var e,i;return t.g$.ir?u(dH,(e=t.bx,P([dV(dY),dz(dY),fa(10),fW(10),dU(my(e).kc)])),u(i1,pC(t),pI)):u(dK,(i=t.bx,P([dV(dY),dz(gt(53)),dU(my(i).kc)])),u(i1,pC(t),pI))},pP=function(t){return{$:30,a:t}},pk=function(t){return{$:7,a:t}},pT=i(function(t,e){return{$:31,a:t,b:e}}),pA=u(fh,fl,"w7"),pL={d1:"",gJ:"#74b4c9",i3:30,fs:1},pO=u(f6,"0 0 48 48",P([u(f8,P([fZ("M12 38c0 2.21 1.79 4 4 4h16c2.21 0 4-1.79 4-4V14H12v24zM38 8h-7l-2-2H19l-2 2h-7v4h28V8z")]),S)])),pF=r(function(t,e,i,n){return d(gn,t,e,i,n)}),pD=function(t){var e=function(t){return d(pF,t.iN,t.hn,t.dU,t.f4)},i=t.jj;if(2===i.$){var n=i.a;return{ae:e(mv(n).ae),h1:e(mv(n).h1),cy:e(mv(n).cy),fS:e(mv(n).fS),aa:e(mv(n).aa),kb:e(mv(n).kb),aY:e(mv(n).aY),kc:e(mv(n).kc),kd:e(mv(n).kd)}}return{ae:e(mv(t.gd).ae),h1:e(mv(t.gd).h1),cy:e(mv(t.gd).cy),fS:e(mv(t.gd).fS),aa:e(mv(t.gd).aa),kb:e(mv(t.gd).kb),aY:e(mv(t.gd).aY),kc:e(mv(t.gd).kc),kd:e(mv(t.gd).kd)}},pN=i(function(t,e){return u(fG,C(fY(10),P([dj(pE("Bestellung l\xf6schen"))])),{hS:go(u(pO,pD(t).kd,24)),cn:it({$:28,a:e.ip})})}),p$=h1(h0),pG=function(t){return hn(hS(t))},pz=u(o9,function(t){if(iU(t)>9)return pG("Expected at most 9 digits, but got "+J(iU(t)));var e=oe("0."+t);return e.$?pG('Invalid float: "'+t+'"'):oY(u$(1e3*e.a))},hi(ht(im))),pj=a(function(t,e,i,n,r,s){return iH(t+60*e*6e4+60*(i-s)*1e3+1e3*n+r)}),pB=function(t){return{$:1,a:t}},pW={$:11},pV=i(function(t,e){return function(i){var n=c(eq,t,i.b,i.ft);return _(n,-1)?u(oj,!1,u(oJ,i,e)):_(n,-2)?c(oB,!0,0,{d2:1,bx:i.bx,p:i.p,b:i.b+1,iP:i.iP+1,ft:i.ft}):c(oB,!0,0,{d2:i.d2+1,bx:i.bx,p:i.p,b:n,iP:i.iP,ft:i.ft})}}),pH=function(t){return t.$?lo(t.a):lh(t.a)},pq=i(function(t,e){return u(lu,t,function(t){return u(hc,pH,e(t))})}),pU=function(t){return u(pq,"",function(e){if(_(iU(e),t)){var i=iK(e);return i.$?pG('Invalid integer: "'+e+'"'):u(hc,pB,oY(i.a))}return u(hc,function(t){return{$:0,a:u(B,e,t)}},hi(u(pV,im,pW)))})},pX=function(t){return oQ(u(oK,t,ha(t)))},pY=function(t){return pG("Invalid day: "+J(t))},pK=function(t){return!(u($,4,t)||!u($,100,t)&&u($,400,t))},pZ=function(t){var e=t-1;return(e/4|0)-(e/100|0)+(e/400|0)},pJ=u(o9,function(t){var e=t.a,i=t.b,n=t.c;if(0>n)return pY(n);var r=function(t){return oY(t+31536e6*(e-1970)+864e5*((3>i||!pK(e)?n-1:n)+(pZ(e)-pZ(1970))))};switch(i){case 1:return n>31?pY(n):r(0);case 2:return n>29||29===n&&!pK(e)?pY(n):r(26784e5);case 3:return n>31?pY(n):r(50976e5);case 4:return n>30?pY(n):r(7776e6);case 5:return n>31?pY(n):r(10368e6);case 6:return n>30?pY(n):r(130464e5);case 7:return n>31?pY(n):r(156384e5);case 8:return n>31?pY(n):r(183168e5);case 9:return n>30?pY(n):r(209952e5);case 10:return n>31?pY(n):r(235872e5);case 11:return n>30?pY(n):r(262656e5);case 12:return n>31?pY(n):r(288576e5);default:return pG('Invalid month: "'+J(i)+'"')}},u(hs,u(hs,u(hs,oY(n(function(t,e,i){return M(t,e,i)})),pU(4)),hg(P([u(hs,u(oX,oY(iH),pX("-")),pU(2)),pU(2)]))),hg(P([u(hs,u(oX,oY(iH),pX("-")),pU(2)),pU(2)])))),pQ=(mo=n(function(t,e,i){return t*(60*e)+i}),u(hs,oY(iH),hg(P([u(hc,function(){return 0},pX("Z")),u(hs,u(hs,u(hs,oY(mo),hg(P([u(hc,function(){return 1},pX("+")),u(hc,function(){return -1},pX("-"))]))),pU(2)),hg(P([u(hs,u(oX,oY(iH),pX(":")),pU(2)),pU(2),oY(0)]))),u(oX,oY(0),p$)])))),p0=u(o9,function(t){return hg(P([u(hs,u(hs,u(hs,u(hs,u(hs,u(oX,oY(pj(t)),pX("T")),pU(2)),hg(P([u(hs,u(oX,oY(iH),pX(":")),pU(2)),pU(2)]))),hg(P([u(hs,u(oX,oY(iH),pX(":")),pU(2)),pU(2)]))),hg(P([u(hs,u(oX,oY(iH),pX(".")),pz),oY(0)]))),u(oX,pQ,p$)),u(oX,oY(g(pj,t,0,0,0,0,0)),p$)]))},pJ),p1=n(function(t,e,i){return{d2:e,iH:i,iP:t}}),p2=function(t){return c(p1,t.iP,t.d2,t.iH)},p3=i(function(t,e){var i=u(oG,t,e);return i.$?e4(u(i1,p2,i.a)):e9(i.a)}),p4=function(t){return u(p3,p0,t)},p5=i(function(t,e){var n=i(function(t,e){return 1e3*t*86400+e}),r=p4(e.hc+"Z");return!r.$&&y(u(n,5,r.a),t)>0}),p6=u(f6,"0 0 48 48",P([u(f8,P([fZ("M38.71 20.07C37.35 13.19 31.28 8 24 8c-5.78 0-10.79 3.28-13.3 8.07C4.69 16.72 0 21.81 0 28c0 6.63 5.37 12 12 12h26c5.52 0 10-4.48 10-10 0-5.28-4.11-9.56-9.29-9.93zM34 26L24 36 14 26h6v-8h8v8h6z")]),S)])),p8=i(function(t,e){var i=e.jX,n=e.hb,r=e.hS;return d(dG,2,d_("a"),u(R,dj(gb(i)),u(R,dj(u(uM,"download",n)),u(R,dV(dW),u(R,dz(dW),u(R,dB("ccx"),u(R,dB("ccy"),t)))))),uB(P([r])))}),p9=n(function(t,e,n){var r,s=i(function(t,e){return 1e3*t*86400+e});return(r=p4(n.hc+"Z")).$?f_("TODO deadEndsToString"):y(u(s,5,r.a),e)>0?u(p8,fY(10),{hb:"Bestellung-"+n.jl,hS:go(u(p6,pD(t).kd,24)),jX:lv(n.ip)+"/download"}):fE}),p7=u(f6,"0 0 48 48",P([u(f8,P([fZ("M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z")]),S)])),_t=uM("id"),_e=u(sq,dj,function(t){return u(fL,"focus",iW(t))}),_i=u(sq,dj,function(t){return u(fL,"blur",iW(t))}),_n=u(f6,"0 0 48 48",P([u(f8,P([fZ("M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z")]),S)])),_r=i(function(t,e){return u(fG,C(fY(10),P([dj(pE("Bestellung neu laden"))])),{hS:go(u(_n,pD(t).kd,24)),cn:it({$:27,a:e})})}),_s=i(function(t,e){var i=t.b,n=t.c;return ut(i)?e:c(np,n,i,e)}),_a=function(t){return t.a},_o=i(function(t,e){return u(t7,t,ea(e))}),_h=i(function(t,e){var i=t.a,n=t.b,r=e.a,s=e.b;switch(n.$){case 4:return b(u(R,b(i,g=n.a),r),s);case 0:var a=n.a,o=n.c,h=c(ia,_l,b(S,c(ia,_s,s,v=n.b)),o),l=h.a,f=h.b,g=c(cf,a,u(i1,_a,v),i_(l));return b(u(R,b(i,g),r),f);case 1:var m=n.a,p=(a=n.b,o=n.d,c(ia,_l,b(S,c(ia,_s,s,v=n.c)),o));return l=p.a,f=p.b,g=d(gS,m,a,u(i1,_a,v),i_(l)),b(u(R,b(i,g),r),f);case 2:a=n.a,o=n.c;var _=c(ia,_h,b(S,c(ia,_s,s,v=n.b)),o);return l=_.a,f=_.b,g=c(c5,a,u(i1,_a,v),i_(l)),b(u(R,b(i,g),r),f);default:m=n.a,a=n.b,o=n.d;var v,y=c(ia,_h,b(S,c(ia,_s,s,v=n.c)),o);return l=y.a,f=y.b,g=d(_o,m,a,u(i1,_a,v),i_(l)),b(u(R,b(i,g),r),f)}}),_l=i(function(t,e){var i=e.a,n=e.b;switch(t.$){case 4:return b(u(R,l=t.a,i),n);case 0:var r=t.a,s=t.c,a=c(ia,_l,b(S,c(ia,_s,n,p=t.b)),s),o=a.a,h=a.b,l=c(cf,r,u(i1,_a,p),i_(o));return b(u(R,l,i),h);case 1:var f=t.a,g=(r=t.b,s=t.d,c(ia,_l,b(S,c(ia,_s,n,p=t.c)),s));return o=g.a,h=g.b,l=d(gS,f,r,u(i1,_a,p),i_(o)),b(u(R,l,i),h);case 2:r=t.a,s=t.c;var m=c(ia,_h,b(S,c(ia,_s,n,p=t.b)),s);return o=m.a,h=m.b,l=c(c5,r,u(i1,_a,p),i_(o)),b(u(R,l,i),h);default:f=t.a,r=t.b,s=t.d;var p,_=c(ia,_h,b(S,c(ia,_s,n,p=t.c)),s);return o=_.a,h=_.b,l=d(_o,f,r,u(i1,_a,p),i_(o)),b(u(R,l,i),h)}}),_u=i(function(t,e){for(;;){if(!e.b)return t;var i=e.a,n=i.b,r=i.c,s=e.b;iY(r)||(t=it(b(r,n))),e=s}}),_c=function(t){var e=u(_u,ie,t);if(1===e.$)return nd;var i=e.a;return u(sR,i.a,i.b)},_d=function(t){return P([t])},_f=i(function(t,e){return!u(nb,u(sq,s2,t),e)}),_g=i(function(t,e){var i=e.a,n=e.b;switch(t.$){case 0:return ut(t.a.c)?b(i,n):b(i,u(R,t,n));case 1:return b(i,u(_f,function(t){return ut(t.c)},t.b)?n:u(R,t,n));case 2:case 4:return ut(t.b)?b(i,n):b(i,u(R,t,n));case 3:return b(i,u(R,t,n));case 5:case 7:case 8:return ut(t.a)?b(i,n):b(i,u(R,t,n));case 6:var r=t.a;return iY(r.gV)?b(i,n):b(c(np,r.cl,r.gV,i),n);default:return b(i,u(_f,function(t){return ut(t.b)},t.a)?n:u(R,t,n))}}),_m=function(t){return{$:6,a:t}},_p=i(function(t,e){return u(nu,u(i1,function(t){return _m({gV:t.b,cl:t.a})},e1(t)),e)}),__=function(t){return"("+t.ei+u(nO,"",u(hF,E(": "),t.fL))+")"},_v=function(t){var e=n(function(t,e,i){return t+" "+u(ii," and ",u(R,function(t){switch(t){case 0:return"print";case 1:return"screen";default:return"speech"}}(e),u(i1,__,i)))});switch(t.$){case 0:return u(ii," and ",u(i1,__,t.a));case 1:return c(e,"only",t.a,t.b);case 2:return c(e,"not",t.a,t.b);default:return t.a}},_y=i(function(t,e){return'@import "'+t+_v(e)+'"'}),_x=function(t){var e=t.b;return u(ii,"\n",u(i1,_y(t.a),e))},_b=function(t){return"@namespace "+t.a+'"'+t.b+'"'},_M="    ",_w=function(t){return C(_M,t)},_E=function(t){return t+";"},_C=function(t){return"::"+t},_S=function(t){switch(t){case 0:return"+";case 1:return"~";case 2:return">";default:return""}},_I=function(t){switch(t.$){case 0:return"."+t.a;case 1:return"#"+t.a;case 2:return":"+t.a;default:return"["+t.a+"]"}},_R=function(t){switch(t.$){case 0:default:return u(ii,"",u(R,t.a,u(i1,_I,e=t.b)));case 1:var e;return ut(e=t.a)?"*":u(ii,"",u(i1,_I,e))}},_P=function(t){var e=t.b;return u(ii," ",P([_S(t.a),_R(e)]))},_k=function(t){var e=t.b,i=t.c,n=u(R,_R(t.a),u(i1,_P,e)),r=u(ii,"",P([u(nO,"",u(hF,_C,i))]));return u(B,u(ii," ",u(nw,u(sq,s2,iY),n)),r)},_T=i(function(t,e){var i=e.c;return u(ii,"",P([u(ii,", ",u(i1,_k,u(R,e.a,e.b)))," {\n",t,u(ii,"\n",u(i1,u(sq,_w,_E),i)),"\n",t,"}"]))}),_A=function(t){switch(t.$){case 0:return u(_T,"",t.a);case 1:var e=t.b;return"@media "+u(ii,",\n",u(i1,_v,t.a))+" {\n"+u(ii,"\n\n",u(i1,u(sq,_w,_T(_M)),e))+"\n}";case 2:case 3:case 4:case 5:case 7:case 8:default:return"TODO";case 6:return"@keyframes "+t.a.cl+" {\n"+t.a.gV+"\n}"}},_L=function(t){return{$:8,a:t}},_O=function(t){return{$:5,a:t}},_F=i(function(t,e){return{$:4,a:t,b:e}}),_D=n(function(t,e,i){return{$:0,a:t,b:e,c:i}}),_N=n(function(t,e,i){return{$:0,a:t,b:e,c:i}}),_$=function(t){return{$:0,a:t}},_G=i(function(t,e){return{$:2,a:t,b:e}}),_z=function(t){return{$:7,a:t}},_j=i(function(t,e){return{$:1,a:t,b:e}}),_B=i(function(t,e){return e.b?e.b.b?u(R,e.a,u(_B,t,e.b)):P([t(e.a)]):e}),_W=i(function(t,e){return c(_N,e.a,e.b,C(e.c,P([t])))}),_V=i(function(t,e){if(!e.b)return e;if(e.b.b)return u(R,e.a,u(_V,t,e.b));switch(e.a.$){case 0:return P([_$(u(_W,t,e.a.a))]);case 1:var i=e.a,n=i.b;return P([u(_j,i.a,u(_B,_W(t),n))]);default:return e}}),_H=i(function(t,e){if(e.b.b){var i=e.a,n=e.b,r=(a=e.c,u(i1,t,n)),s=t(i);return P([c(_N,i,n,a),c(_N,s,r,S)])}var a,o=e.a;return P([c(_N,o,S,a=e.c),c(_N,t(o),S,S)])}),_q=i(function(t,e){return c(_D,e.a,e.b,it(t))}),_U=i(function(t,e){return u(_H,_q(t),e)}),_X=i(function(t,e){return{$:2,a:t,b:e}}),_Y=i(function(t,e){return{$:0,a:t,b:e}}),_K=function(t){return{$:1,a:t}},_Z=i(function(t,e){switch(e.$){case 0:return u(_Y,e.a,C(e.b,P([t])));case 1:return _K(C(e.a,P([t])));default:return u(_X,e.a,C(e.b,P([t])))}}),_J=i(function(t,e){if(e.b){if(e.b.b)return u(R,e.a,u(_J,t,e.b));var i=e.a;return P([b(i.a,u(_Z,t,i.b))])}return S}),_Q=i(function(t,e){if(e.b.b)return i=e.c,c(_D,e.a,u(_J,t,e.b),i);var i=e.c;return c(_D,u(_Z,t,e.a),S,i)}),_0=i(function(t,e){return u(_H,_Q(t),e)}),_1=function(t){t:for(;;){if(t.b){if(t.a.$){t=i=t.b;continue t}var e=t.a.a,i=t.b;return C(u(R,e.a,e.b),_1(i))}return S}},_2=s(function(t,e,i,n,r){return{$:3,a:t,b:e,c:i,d:n,e:r}}),_3=i(function(t,e){t:for(;;){if(!e.b)return e;if(e.b.b)break t;switch(e.a.$){case 0:return u(i1,_$,t(c=e.a.a));case 1:if(e.a.b.b){if(e.a.b.b.b){var i=e.a,n=i.b,r=n.a,s=u(_3,t,P([u(_j,i.a,n.b)]));if(s.b&&1===s.a.$&&!s.b.b){var a=s.a;return P([u(_j,a.a,u(R,r,a.b))])}return s}var o=e.a;return P([u(_j,o.a,t(c=o.b.a))])}break t;case 2:var h=e.a;return P([u(_G,h.a,u(_3,t,h.b))]);case 3:var l=e.a,c=l.e;return u(i1,d(_2,l.a,l.b,l.c,l.d),t(c));default:return e}}return u(R,r=e.a,u(_3,t,e.b))}),_4=r(function(t,e,i,n){return{a0:n,a9:i,aR:e,bj:t}}),_5=i(function(t,e){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}),_6=i(function(t,e){return e<<t|e>>>32-t}),_8=i(function(t,e){return u(_5,5,u(_6,13,t^u(_5,461845907,u(_6,15,u(_5,3432918353,e)))))+3864292196}),_9=i(function(t,e){var i=e.a9|(255&ic(t))<<e.bj;return 24===e.bj?{a0:e.a0+1,a9:0,aR:u(_8,e.aR,i),bj:0}:{a0:e.a0+1,a9:i,aR:e.aR,bj:e.bj+8}}),_7=i(function(t,e){var i,n,r,s;return((s=u(_5,3266489909,(r=u(_5,2246822507,(n=((i=c(V,_9,d(_4,0,t,0,0),e)).a9?i.aR^u(_5,461845907,u(_6,15,u(_5,3432918353,i.a9))):i.aR)^i.a0)^n>>>16))^r>>>13))^s>>>16)>>>0}),vt=function(t){t:for(;;)switch(t){case 0:return"0";case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"8";case 9:return"9";case 10:return"a";case 11:return"b";case 12:return"c";case 13:return"d";case 14:return"e";case 15:return"f";default:continue t}},ve=i(function(t,e){for(;;){if(16>e)return u(R,vt(e),t);t=u(R,vt(u($,16,e)),t),e=e/16|0}}),vi=function(t){return gU(0>t?u(R,"-",u(ve,S,-t)):u(ve,S,t))},vn=function(t){t:for(;;){if(t.b){if(t.b.b){t=t.b;continue t}return it(P([t.a]))}return ie}},vr=function(t){var e=function(t){return t.b?u(R,t.a,e(t.b)):S};return P([{$:9,a:e(t)}])},vs=i(function(t,e){return e.$?e:u(_j,t,P([e.a]))}),va=s(function(t,e,i,n,r){return r.$?r:f(_2,t,e,i,n,r.a)}),vo=i(function(t,e){switch(e.$){case 0:return u(_j,t,P([e.a]));case 1:var i=e.b;return u(_j,C(t,e.a),i);case 2:var n=e.b;return u(_G,e.a,u(i1,vo(t),n));case 3:return f(_2,e.a,e.b,e.c,e.d,e.e);default:return e}}),vh=function(t){return t},vl=r(function(t,e,i,n){var r=function(t){return u(nO,S,hA(t))},s=u(vu,e,u(nO,S,vn(n))),a=function(){var t=b(nx(s),function(t){t:for(;;){if(t.b){if(t.b.b){t=t.b;continue t}return it(t.a)}return ie}}(n));if(t.a.$||t.b.$)return n;var e=t.a.a,i=t.b.a;return C(u(l6,io(n)-1,n),P([_(i,e)?i:e]))}();return C(a,C(r(u(nO,S,u(hF,function(e){return nM(u(_B,vu(t),u(i1,_d,u(_3,i,e))))},vn(n)))),r(s)))}),vu=i(function(t,e){if(!t.b)return e;switch(t.a.$){case 0:return u(vu,o=t.b,u(_V,t.a.a,e));case 1:var n=t.a;return d(vl,_=n.b,o=t.b,_0(n.a),e);case 2:var r=t.a,s=r.a,a=r.b,o=t.b,h=i(function(t,e){var i=t.c,n=e.b,r=e.c;return c(_D,t.a,C(t.b,u(R,b(s,e.a),n)),function(t){t:for(;;){if(t.b){var e=t.a;if(1===e.$){t=t.b;continue t}return e}return ie}}(P([r,i])))});return nM(C(P([u(vu,o,e)]),u(i1,function(t){switch(t.$){case 0:var i=t.a,n=i.a,r=i.b,s=i.c,a=u(ov,function(t){return u(i1,h(t),u(R,n,r))},_1(e));return u(vu,s,a.b?P([_$(c(_N,a.a,a.b,S))]):S);case 1:return u(vf,t.a,t.b);case 2:return u(vg,t.a,t.b);case 3:var o=t.e;return u(i1,d(va,t.a,t.b,t.c,t.d),vc(o));case 4:return P([u(_F,t.a,t.b)]);case 5:return P([_O(t.a)]);case 6:return P([_z(t.a)]);case 7:return P([_L(t.a)]);default:return vr(t.a)}},u(ov,vh,a))));case 3:var l=t.a;return d(vl,_=l.b,o=t.b,_U(l.a),e);case 5:var f=t.a.a,g=(o=t.b,u(j,"_",vi(u(_7,15739,f))));return u(nu,u(vu,o,u(_V,"animation-name:"+g,e)),P([_m({gV:f,cl:g})]));case 4:var m=t.a,p=m.a,_=m.b,v=(o=t.b,function(){var t=_1(e);if(t.b){var i=t.a,n=t.b;return u(i1,vs(p),u(vu,_,_d(_$(c(_N,i,n,S)))))}return S}());return C(u(vu,o,e),v);default:return u(vu,C(t.a.a,o=t.b),e)}}),vc=function(t){return u(vu,t.c,P([_$(c(_N,t.a,t.b,S))]))},vd=function(t){if(t.b){var e=t.b;return C(vm(t.a),vd(e))}return S},vf=i(function(t,e){return u(ov,function(e){return u(i1,vo(t),vc(e))},e)}),vg=i(function(t,e){var i=vd(u(ov,vh,e));return P([u(_G,t,i)])}),vm=function(t){switch(t.$){case 0:return vc(e=t.a);case 1:return u(vf,t.a,t.b);case 2:return u(vg,t.a,t.b);case 3:var e=t.e;return u(i1,d(va,t.a,t.b,t.c,t.d),vc(e));case 4:return P([u(_F,t.a,t.b)]);case 5:return P([_O(t.a)]);case 6:return P([_z(t.a)]);case 7:return P([_L(t.a)]);default:return vr(t.a)}},vp=function(t){var e,i,n,r,s,a,o,h,l,d,f,g,m;return d=(r=(e=t.es,i=t.eR,n={d_:t.d_,gW:vd(u(ov,vh,t.fo)),es:e,eR:i}).d_,s=n.es,a=n.eR,o=n.gW,l={d_:r,gW:u(_p,(h=c(i0,_g,b(nd,S),o)).a,h.b),es:s,eR:a}).d_,f=l.es,g=l.eR,m=l.gW,u(ii,"\n\n",u(nw,u(sq,s2,iY),P([u(nO,"",u(hF,function(t){return'@charset "'+t+'"'},d)),u(ii,"\n",u(i1,_x,f)),u(ii,"\n",u(i1,_b,g)),u(ii,"\n\n",u(i1,_A,m))])))},v_=function(t){return u(ii,"\n\n",u(i1,vp,t))},vv=n(function(t,e,i){return{$:0,a:t,b:e,c:i}}),vy=i(function(t,e){return P([{$:0,a:c(vv,c(_D,e,S,ie),S,t)}])}),vx=function(t){return u(vy,t.b,_K(P([{$:0,a:t.a}])))},vb=function(t){return{d_:ie,es:S,eR:S,fo:t}},vM=function(t){return c(cf,"style",S,_d(t6(v_(_d(vb(u(i1,vx,e1(t))))))))},vw=n(function(t,e,i){var n=u(i1,_a,e),r=c(ia,_l,b(S,_c(e)),i),s=r.a,a=vM(r.b);return c(cf,t,n,u(R,a,i_(s)))}),vE=i(function(t,e){for(;;){if(!e.b)return!1;var i=e.b;if(_(t,e.a.a))return!0;e=i}}),vC=i(function(t,e){t:for(;;){if(e.b){var i=e.b,n="_"+e.a.a;if(u(vE,n,i)){t=n,e=i;continue t}return n}return t}}),vS=i(function(t,e){return b(u(vC,"_",e),vM(t))}),vI=n(function(t,e,i){var n=u(i1,_a,e),r=c(ia,_h,b(S,_c(e)),i),s=r.a;return c(c5,t,n,u(R,u(vS,r.b,s),i_(s)))}),vR=r(function(t,e,i,n){var r=u(i1,_a,i),s=c(ia,_h,b(S,_c(i)),n),a=s.a;return d(_o,t,e,r,u(R,u(vS,s.b,a),i_(a)))}),vP=r(function(t,e,i,n){var r=u(i1,_a,i),s=c(ia,_l,b(S,_c(i)),n),a=s.a,o=vM(s.b);return d(gS,t,e,r,u(R,o,i_(a)))}),vk=function(t){switch(t.$){case 4:return t.a;case 0:return c(vw,t.a,t.b,t.c);case 1:return d(vP,t.a,t.b,t.c,t.d);case 2:return c(vI,t.a,t.b,t.c);default:return d(vR,t.a,t.b,t.c,t.d)}},vT=function(t){return{$:0,a:t}},vA=i(function(t,e){return vT(t+":"+e)}),vL=n(function(t,e,i){t:for(;;)switch(i.$){case 0:var n=u(nO,"",nx(u(ir,":",i.a)));return u(vA,e,n);case 1:return u(vA,e,"elm-css-error-cannot-apply-"+t+"-with-inapplicable-Style-for-selector");case 2:return u(vA,e,"elm-css-error-cannot-apply-"+t+"-with-inapplicable-Style-for-combinator");case 3:return u(vA,e,"elm-css-error-cannot-apply-"+t+"-with-inapplicable-Style-for-pseudo-element setter");case 4:return u(vA,e,"elm-css-error-cannot-apply-"+t+"-with-inapplicable-Style-for-media-query");case 5:return u(vA,e,"elm-css-error-cannot-apply-"+t+"-with-inapplicable-Style-for-keyframes");default:if(i.a.b){if(i.a.b.b){i={$:6,a:i.a.b};continue t}i=i.a.a;continue t}return u(vA,e,"elm-css-error-cannot-apply-"+t+"-with-empty-Style")}}),vO=n(function(t,e,i){return{dG:0,dX:0,a5:0,F:0,c0:0,bc:0,as:0,bd:0,be:0,aG:0,aH:0,af:0,av:i,bn:0,bp:e,bW:t,fL:C(J(i),e)}}),vF=c(vO,0,"",0),vD=function(t){return c(vL,"alignItems","align-items",t(vF))},vN=i(function(t,e){return vT(t+":"+e)}),v$=i(function(t,e){return u(vN,t,e.fL)}),vG=function(t){return"none"===t.fL||"inherit"===t.fL||"unset"===t.fL||"initial"===t.fL?u(v$,"animation-name",t):{$:5,a:t.fL}},vz={f1:0,c:0,a5:0,ce:0,hQ:0,bc:0,as:0,af:0,bi:0,Y:0,cB:0,bo:0,Q:0,fL:"auto"},vj=function(t){return u(vN,"background-color",t.fL)},vB=v$("border-radius"),vW=n(function(t,e,i){return{$:0,a:t,b:e,c:i}}),vV=i(function(t,e){return c(vW,u(cg,t,e),S,"")}),vH=i(function(t,e){return u(vV,t,tC(e))})("className"),vq=function(t){var e=ut(t)?"unstyled":u(j,"_",vi(u(_7,15739,v_(_d(vb(_d(u(vy,t,_K(S)))))))));return c(vW,u(cg,"className",tC(e)),t,e)},vU=n(function(t,e,i){return{$:0,a:t,b:e,c:i}})("div"),vX=v$("flex-end"),vY=v$("height"),vK=function(t){return u(Z,"#",t)?t:u(j,"#",t)},vZ=function(t){return{f4:1,dU:0,gJ:0,hn:0,iN:0,fL:vK(t)}},vJ=s(function(t,e,i,n,r){var s=e.a,a=e.b,o=i.a,h=i.b,l=n.a,c=n.b,d=r.a,f=r.b,g=u(ro,gU,u(ro,sp,hO)),m=b(b(g(P([s,a])),g(P([o,h]))),b(g(P([l,c])),g(P([d,f]))));if(m.a.a.$||m.a.b.$||m.b.a.$||m.b.b.$)return vZ(t);var p=m.a,_=m.b;return{f4:_.b.a/255,dU:_.a.a,gJ:0,hn:p.b.a,iN:p.a.a,fL:vK(t)}}),vQ=function(t){var e=hL(u(Z,"#",t)?u(iX,1,t):t);t:for(;;){if(e.b&&e.b.b&&e.b.b.b){if(e.b.b.b.b){if(e.b.b.b.b.b){if(e.b.b.b.b.b.b){if(e.b.b.b.b.b.b.b){if(e.b.b.b.b.b.b.b.b&&!e.b.b.b.b.b.b.b.b.b){var i=e.b,n=i.b,r=(g=n.a,n.b),s=(p=r.a,r.b),a=(v=s.a,s.b),o=(y=a.a,a.b),h=o.a,l=o.b.a;return f(vJ,t,b(e.a,i.a),b(g,p),b(v,y),b(h,l))}break t}var c=e.b,d=c.b,g=d.a,m=d.b,p=m.a,_=m.b,v=_.a,y=_.b.a;return f(vJ,t,b(e.a,c.a),b(g,p),b(v,y),b("f","f"))}break t}var x=e.b,M=(S=x.a,x.b),w=(I=M.a,M.b.a);return f(vJ,t,b(E=e.a,E),b(S,S),b(I,I),b(w,w))}var E,C=e.b,S=C.a,I=C.b.a;return f(vJ,t,b(E=e.a,E),b(S,S),b(I,I),b("f","f"))}break t}return vZ(t)},v0=function(t){return c(vL,"justifyContent","justify-content",t(vF))},v1=function(t){var e=t.a,i=u(ii,"",u(i1,function(t){return t+";"},t.b));return J(e)+"% {"+i+"}"},v2=function(t){return ut(t)?{c_:0,db:0,fL:"none"}:{c_:0,db:0,fL:u(ii,"\n\n",u(i1,v1,t))}},v3=n(function(t,e,i){return u(vN,t,u(ii," ",P([e.fL,i.fL])))})("margin"),v4=v$("position"),v5=i(function(t,e){return t+":"+e}),v6=u(vO,0,"px"),v8={ax:0,fL:"relative"},v9=v$("space-between"),v7=v$("width"),yt={u:0,fL:"block"},ye=v$("center"),yi=v$("display"),yn=u(vO,0,"%"),yr={ax:0,fL:"absolute"},ys=v$("left"),ya=function(t){return{aH:0,af:0,ic:0,cm:0,av:t,bp:"",bW:0,fL:J(t)}},yo=v$("opacity"),yh=v$("top"),yl=i(function(t,e){return{$:3,a:t,b:e}}),yu=function(t){return yl(t)},yc=yu("after"),yd=yu("before"),yf=r(function(t,e,i,n){return u(vN,t,u(ii," ",P([e.fL,i.fL,n.fL])))})("border"),yg=function(t){return"opacity:"+t.fL},ym={J:0,aS:0,fL:"solid"},yp=n(function(t,e,i){var n=function(){var i,n,r,s,a,o,h,l,d,f,g,m,p;switch(t){case 0:return vk((i=P([v7(v6(e.i3)),vY(v6(e.i3)),v4(v8),u(v3,v6(0),vz)]),n=P([v7(yn(100)),vY(yn(100)),vB(yn(50)),vj(vQ(e.gJ)),yo(ya(.6)),v4(yr),yh(v6(0)),ys(v6(0)),vG(v2(P([b(0,P([u(v5,"transform","scale(0.0)")])),b(50,P([u(v5,"transform","scale(1.0)")])),b(100,P([u(v5,"transform","scale(0.0)")]))]))),u(vN,"animation-duration",J(2/e.fs)+"s"),u(vN,"animation-timing-function","ease-in-out"),u(vN,"animation-iteration-count","infinite")]),u(vU,P([vq(i),vH(e.d1)]),P([u(vU,P([vq(n)]),S),u(vU,P([vq(nM(P([n,P([u(vN,"animation-delay","-"+J(1/e.fs)+"s")])])))]),S)]))));case 1:return vk((r=P([v7(v6(e.i3)),vY(v6(e.i3)),v4(v8),u(v3,v6(0),vz)]),s=u(il,1,12),P([v7(yn(100)),vY(yn(100))]),u(vU,P([vq(r),vH(e.d1)]),P([u(vU,P([vq(S)]),u(i1,function(t){return u(vU,P([vq(P([v7(yn(100)),vY(yn(100)),v4(yr),ys(v6(0)),yh(v6(0)),u(vN,"transform","rotate("+J(30*t-30)+"deg)"),yd(P([u(vN,"animation-delay",1===t?"0s":J(-(1.1-t/10)/e.fs)+"s"),u(vN,"content","' '"),yi(yt),u(v3,v6(0),vz),v7(yn(15)),vY(yn(15)),vj(vQ(e.gJ)),vB(yn(100)),u(vN,"animation-duration",J(1.2/e.fs)+"s"),u(vN,"animation-iteration-count","infinite"),u(vN,"animation-fill-mode","both"),vG(v2(P([b(0,P([u(v5,"transform","scale(0.0)")])),b(40,P([u(v5,"transform","scale(1.0)")])),b(80,P([u(v5,"transform","scale(0.0)")])),b(100,P([u(v5,"transform","scale(0.0)")]))])))]))]))]),S)},s))]))));case 2:return vk((a=function(t){return J(t/e.fs)},o=P([v7(v6(e.i3)),vY(v6(e.i3)),v4(v8),u(v3,v6(0),vz),u(vN,"display","flex"),v0(v9),vD(ye)]),h=P([yi(yt),v7(v6(e.i3/3.5)),vY(v6(e.i3/3.5)),vB(yn(100)),vj(vQ(e.gJ)),u(vN,"animation-duration",a(.6)+"s"),u(vN,"animation-delay",a(.1)+"s"),u(vN,"animation-timing-function","linear"),u(vN,"animation-iteration-count","infinite"),vG(v2(P([b(0,P([u(v5,"transform","translate3d(0,0,0) translateZ(0) translate(0,0)")])),b(50,P([u(v5,"transform","translate3d(0,0,0) translateZ(0) translate(0,"+J(e.i3/3.5)+"px)")])),b(100,P([u(v5,"transform","translate3d(0,0,0) translateZ(0) translate(0,0)")]))])))]),u(vU,P([vq(o),vH(e.d1)]),P([u(vU,P([vq(C(h,P([u(vN,"animation-delay",a(.1)+"s")])))]),S),u(vU,P([vq(C(h,P([u(vN,"animation-delay",a(.2)+"s")])))]),S),u(vU,P([vq(C(h,P([u(vN,"animation-delay",a(.3)+"s")])))]),S)]))));case 3:return vk((l=function(t){return J(t/e.fs)},d=P([v7(v6(e.i3)),vY(v6(e.i3)),v4(v8),u(v3,v6(0),vz),u(vN,"display","flex"),v0(v9),vD(vX)]),f=P([v7(v6(e.i3/3.5)),vY(v6(e.i3/3.5)),vB(v6(5)),vj(vQ(e.gJ)),u(vN,"animation-duration",l(1.5)+"s"),u(vN,"animation-iteration-count","infinite"),u(vN,"animation-timing-function","ease-in-out"),vG(v2(P([b(0,P([u(v5,"height",J(e.i3/3.5)+"px"),u(v5,"transform","translate3d(0,0,0)")])),b(50,P([u(v5,"height",J(e.i3)+"px"),u(v5,"transform","translate3d(0,0,0)")])),b(100,P([u(v5,"height",J(e.i3/3.5)+"px"),u(v5,"transform","translate3d(0,0,0)")]))])))]),u(vU,P([vq(d),vH(e.d1)]),P([u(vU,P([vq(C(f,P([u(vN,"animation-delay",l(1)+"s")])))]),S),u(vU,P([vq(C(f,P([u(vN,"animation-delay",l(.5)+"s")])))]),S),u(vU,P([vq(C(f,P([u(vN,"animation-delay",l(1e-7)+"s")])))]),S)]))));case 4:return vk((g=P([v7(v6(e.i3)),vY(v6(.95*e.i3)),v4(v8),u(v3,v6(0),vz)]),m=P([v7(v6(e.i3-.17*e.i3*2)),vY(v6(e.i3-.17*e.i3*2)),vB(yn(50)),v4(yr),yh(v6(0)),ys(v6(0)),u(vN,"animation-duration",J(1.33/e.fs)+"s"),u(vN,"animation-timing-function","cubic-bezier(.51,.92,.24,1.15)"),u(vN,"animation-iteration-count","infinite"),vG(v2(P([b(0,P([u(v5,"transform","translate3d(0,0,0) rotate(0deg)")])),b(100,P([u(v5,"transform","translate3d(0,0,0) rotate(720deg)")]))])))]),u(vU,P([vq(g),vH(e.d1)]),P([u(vU,P([vq(nM(P([m,P([u(vN,"border",J(.17*e.i3)+"px "+e.gJ+" solid"),yo(ya(.25))])])))]),S),u(vU,P([vq(nM(P([m,P([u(vN,"border",J(.17*e.i3)+"px transparent solid"),u(vN,"border-top",J(.17*e.i3)+"px "+e.gJ+" solid"),yo(ya(.8))])])))]),S)]))));default:return vk((p=P([v7(v6(e.i3)),vY(v6(e.i3)),v4(v8),u(v3,v6(0),vz),yd(P([u(vN,"content","' '"),v4(yr),vB(yn(50)),v7(v6(e.i3/3)),vY(v6(e.i3/3)),u(vN,"top","calc(50% - "+J(e.i3/6)+"px)"),u(vN,"left","calc(50% - "+J(e.i3/6)+"px)"),vj(vQ(e.gJ)),u(vN,"animation-duration",J(3/e.fs)+"s"),u(vN,"animation-timing-funtion","linear"),u(vN,"animation-iteration-count","infinite"),vG(v2(P([b(0,P([yg(ya(1))])),b(15,P([yg(ya(1)),u(v5,"transform","scale(0.5)")])),b(60,P([u(v5,"transform","scale(4)"),yg(ya(0))])),b(90,P([yg(ya(0)),u(v5,"transform","scale(3)")])),b(95,P([yg(ya(1))])),b(100,P([yg(ya(1)),u(v5,"transform","scale(1)")]))])))])),yc(P([u(vN,"content","' '"),v4(yr),vB(yn(50)),v7(v6(e.i3/3)),vY(v6(e.i3/3)),u(vN,"top","calc(50% - "+J(e.i3/6)+"px)"),u(vN,"left","calc(50% - "+J(e.i3/6)+"px)"),c(yf,v6(1),ym,vQ(e.gJ)),yo(ya(0)),u(vN,"animation-duration",J(3/e.fs)+"s"),u(vN,"animation-timing-funtion","linear"),u(vN,"animation-iteration-count","infinite"),vG(v2(P([b(0,P([yg(ya(0)),u(v5,"transform","scale(1)")])),b(30,P([yg(ya(0)),u(v5,"transform","scale(1)")])),b(60,P([yg(ya(.3))])),b(90,P([u(v5,"transform","scale(3)")])),b(100,P([yg(ya(0))]))])))]))]),u(vU,P([vq(p),vH(e.d1)]),S)))}}();return i?t6(" "):u(ct,P([uw("loading")]),P([n]))}),y_=function(t){return{$:0,a:t}},yv={$:1},yy=u(sq,dj,db("autocomplete")),yx=uD(26),yb=function(t){var e=c(i0,i(function(t,e){return 4===t.$&&5===t.b.$&&1===e.$?it(t.b.c):e}),ie,t);return 1===e.$?d5:u(gm,yx,{$:1,a:-iT(e.a/2)})},yM=u(fh,mP,"cp"),yw=c(ge,186/255,189/255,182/255),yE=u(ft,12,12),yC=c(ge,1,1,1),yS=P([yE,fH(3),fj(yw),dU(yC),fX(1),fa(5),dV(dY),dz(dW)]),yI=function(t){return 8===t.$?it(t.a):ie},yR=function(t){t:for(;;)switch(t.$){case 1:return!1;case 0:case 2:default:return!0;case 3:t=t.b;continue t}},yP=function(t){t:for(;;)switch(t.$){case 2:return!0;case 1:case 0:return!1;default:t=t.b;continue t}},yk=r(function(t,e,i,n){return"pad-"+uG(t)+"-"+uG(e)+"-"+uG(i)+"-"+uG(n)}),yT=r(function(t,e,i,n){switch(i.$){case 9:return w(n,{h:u(R,i,n.h)});case 7:return yP(i.a)?w(n,{s:u(R,i,n.s),P:u(R,i,n.P),h:u(R,i,n.h)}):w(n,e?{s:u(R,i,n.s)}:{h:u(R,i,n.h)});case 8:var r=i.a;return e?yP(r)?w(n,{s:u(R,i,n.s),h:u(R,i,n.h)}):(function(t){t:for(;;)switch(t.$){case 1:case 2:return!1;case 0:return!0;default:t=t.b;continue t}}(r),w(n,{h:u(R,i,n.h)})):w(n,{s:u(R,i,n.s),h:u(R,i,n.h)});case 6:case 5:return w(n,{s:u(R,i,n.s)});case 4:switch(i.b.$){case 5:return w(n,{s:u(R,i,n.s),P:u(R,i,n.P),h:u(R,i,n.h),br:u(R,i,n.br)});case 7:var s=i.b,a=s.b,o=s.c,h=s.d,l=s.e;if(t)return w(n,{K:u(R,i,n.K),h:u(R,i,n.h)});var c=a-u(nA,a,h),g=dj(u(en,"line-height","calc(1.0em + "+J(2*u(nA,a,h))+"px)")),m=dj(u(en,"height","calc(1.0em + "+J(2*u(nA,a,h))+"px)")),p=h-u(nA,a,h),_=u(uF,d7,f(d9,d(yk,c,o,p,l),c,o,p,l));return w(n,{K:u(R,i,n.K),P:u(R,m,u(R,g,n.P)),h:u(R,_,n.h)});case 6:case 10:return w(n,{K:u(R,i,n.K),h:u(R,i,n.h)});case 2:case 1:return w(n,{s:u(R,i,n.s)});default:return w(n,{h:u(R,i,n.h)})}case 0:return n;case 1:case 2:default:return w(n,{P:u(R,i,n.P)});case 3:return w(n,{h:u(R,i,n.h)})}}),yA=n(function(t,e,i){var n;return{K:i_((n=c(ia,u(yT,t,e),{K:S,s:S,P:S,h:S,br:S},i)).K),s:i_(n.s),P:i_(n.P),h:i_(n.h),br:i_(n.br)}}),yL=function(t){var e=t.fg,i=t.dW,n=t.eB;return J(t.fE)+"px "+J(e)+"px "+J(i)+"px "+J(n)+"px"},yO=i(function(t,e){return{$:12,a:t,b:e}}),yF=uD(0),yD=c(ge,136/255,138/255,133/255),yN=n(function(t,e,i){var n,r=t.a,s=t.b;return u(fw,C(e,C(P([uj(yD),dB(uZ+" ppe"),yM,fj(d(fy,0,0,0,0)),dU(d(fy,0,0,0,0)),dz(dY),dV(dY),(n=1-u(nA,1,u(iL,0,i?1:0)),u(uF,yF,u(yO,"transparency-"+uG(n),n)))]),r)),s)}),y$=t9("span"),yG=fk("spellcheck"),yz=u(sq,dj,yG),yj=u(sq,dj,ps),yB=n(function(t,e,i){var n,r,s=C(yS,e),a=c(yA,_(t.dy,yv),function(t){if(t.$)return!0;switch(t.a){case 0:case 1:return!1;default:return!0}}(i.hS),s),o=!!t.dy.$&&u(nO,!1,u(hF,yR,nx(i_(u(nC,yI,s))))),h=u(nO,{dW:0,eB:0,fg:0,fE:0},nx(i_(u(nC,function(t){if(4===t.$&&7===t.b.$){var e=t.b,i=e.b,n=e.c,r=e.e;return it({dW:u(iL,0,iT(e.d-3)),eB:u(iL,0,iT(r-3)),fg:u(iL,0,iT(n-3)),fE:u(iL,0,iT(i-3))})}return ie},s)))),l=d(dG,2,d_(t.dy.$?"textarea":"input"),C(P((n=t.dy).$?[yM,dz(dY),dB("iml"),yb(s),fS(h),dj(u(en,"margin",yL({dW:-h.dW,eB:-h.eB,fg:-h.fg,fE:-h.fE}))),dj(u(en,"box-sizing","content-box"))]:[dj(pr(n.a)),dB("it")]),C(P([yj(i.jw),dj(pi(i.eU)),m5(i.hS),yz(t._),u(nO,d5,u(hF,yy,t.V))]),a.P)),uB(S)),f=1===t.dy.$?d(dG,2,uJ,C((o?R(mk):iH)(P([dV(dY),u(nb,fA,s)?d5:dB(uU),dB(uK)])),a.h),uB(P([d(dG,4,uJ,u(R,dV(dY),u(R,dz(dY),u(R,u(d6,4,l),u(R,dB(uY),a.br)))),uB(function(){if(""===i.jw){var t=i.iD;return P(1===t.$?[f_("\xa0")]:[c(yN,t.a,S,""===i.jw)])}return P([go(u(y$,P([uw(uX)]),P([t6(i.jw+"\xa0")])))])}()))]))):d(dG,2,uJ,u(R,dV(dY),u(R,u(nb,fA,s)?d5:dB(uU),nM(P([a.h,1===(r=i.iD).$?S:P([d8(c(yN,r.a,a.K,""===i.jw))])])))),uB(P([l])));return c(m0,u(R,u(fh,fN,uq),u(R,m6(i.hS)?d5:fa(5),u(R,mQ,a.s))),i.hS,f)}),yW=yB({V:ie,_:!1,dy:y_("text")}),yV=i(function(t,e){return u(uF,dA,f(fU,"b-"+J(t)+"-"+J(e),e,t,e,t))}),yH=function(t){var e=t.dW,i=t.fE,n=t.eB,r=t.fg;return _(i,e)&&_(n,r)?_(i,r)?fX(i):u(yV,n,i):u(uF,dA,f(fU,"b-"+J(i)+"-"+J(r)+"-"+J(e)+"-"+J(n),i,r,e,n))},yq=r(function(t,e,i,n){return function(){switch(t+1e3){case 1001:case 1e3:return"Bestellung ist in der Warteschlange";case 1002:case 1003:case 1010:case 1011:case 1012:case 1050:case 1051:case 1100:return"Bestellung in Bearbeitung";case 995:return"FEHLER: Unbekannter Gebietsperimeter (falsche BFS-Nummer / EGRIS oder EGRID)";case 910:return"FEHLER: Datenmenge hat die maximale Gr\xf6sse \xfcberschritten, nicht ausgeliefert";case 1200:return n?"Daten bereit zum Herunterladen"+(iY(i)?"":' und E-Mail an Adresse "'+i+'" versandt'):"Bestellung abgelaufen → neu laden";case 790:return"FEHLER: E-Mail konnte nicht zugestellt werden";case 901:return"FEHLER: Ein unerwarteter Fehler ist aufgetreten";default:return function(t){switch(t){case"SUBMITTED":return"Bestellung erhalten, noch nicht in der Warteschlange.";case"QUEUED":return"Bestellung in der Warteschlange";case"WORKING: Processing":return"Bestellung in Bearbeitung.";case"WORKING: Data transfer started":return'Daten aufbereitet und f\xfcr den E-Mail-Versand durch "webtransfer.zh.ch" vorbereitet.';case"SUCCESS: Data transfer succeeded":return'Daten bereit, E-Mail von "webtransfer.zh.ch" mit Download-Link verschickt.';case"FAILURE: Output dataset exceeded maximum size, not delivered":return"FEHLER: Bestellte Datenmenge zu gross.";case"FAILURE: Data transfer failed":return"FEHLER: Problem beim Versenden des E-Mails (Adresse \xfcberpr\xfcfen).";default:return t}}(e)}}()+" (#"+J(t)+")."}),yU=r(function(t,e,i,n){var r=200===n.jb,s=r?u(fw,P([fW(5),f$]),go(u(n.ee?mU:p7,pD(t).aY,24))):fE,a=n.im,o=u(fG,fY(10),{hS:go(u(ct,S,P([c(yp,3,w(pL,{gJ:"#AACCFF",i3:24}),0)]))),cn:ie}),h=P(r?[c(p9,t,i,n),u(_r,t,n),u(pN,t,n)]:[o]),l=""===n.io?d(yq,n.jb,n.i9,a.cP,u(p5,i,n)):n.io,f=n.ee?u(yW,P([fm(fd(2)),uj(fb.kc),dU(fb.h1),_e(pk(!0)),_i(pk(!1)),dj(_t(n.ip))]),{hS:{$:1,a:"Bezeichnung eingeben"},eU:pT(n),iD:ie,jw:n.io}):u(fo,P([pA,fF(pP(n)),f$]),P([f_(l)])),g=u(ii,"\n",u(ir,"T",n.jl));return e.cM||e.ir?u(dK,P([dV(dY),fa(5),fW(mp(1)),yH({dW:1,eB:0,fg:0,fE:0}),fj(my(t).ae)]),C(P([u(fw,P([mE]),f_(g)),u(dK,P([dV(dY),fa(mp(2)),gx(P([dU(my(t).ae),uj(fb.kd)]))]),P([f,u(fw,P([fF(pP(n))]),s)]))]),h)):u(dH,P([dV(dY),fa(5),fW(mp(1)),yH({dW:1,eB:0,fg:0,fE:0}),fj(my(t).ae)]),P([u(dK,P([dV(dY),fa(mp(2)),gx(P([dU(my(t).ae),uj(fb.kd)]))]),P([f,u(fw,P([fF(pP(n))]),s)])),u(dK,P([dV(dY)]),P([u(fw,P([mE]),f_(g)),u(dK,P([mL]),h)]))]))}),yX=function(t){var e=i_(u(A,function(t){return t.jl},uA(t.$9)));return u(i1,c(yU,t.bx,t.g$,t.gQ),e)},yY=function(t){var e=t.bx;return u(dH,P([u(ft,0,5),dU(my(e).ae),dV(dY),dz(dY),fW(mp(2))]),P([gu(t.$9)?u(dH,P([fW(5),dV(dY)]),P([u(fw,P([mm]),f_("(keine Bestellungen vorhanden)"))])):u(dH,P([dV(dY),fa(mp(2))]),P([u(fw,P([mm]),u(fo,P([uj(fb.cy)]),P([f_("Wenn die Daten aufbereitet sind, k\xf6nnen sie hier heruntergeladen werden.")]))),u(dH,P([dV(dY),dU(my(e).fS)]),yX(t))]))]))},yK={$:40},yZ={$:48},yJ=u(f6,"0 0 48 48",P([u(f8,P([fZ("M8 28h8v-8H8v8zm0 10h8v-8H8v8zm0-20h8v-8H8v8zm10 10h24v-8H18v8zm0 10h24v-8H18v8zm0-28v8h24v-8H18z")]),S)])),yQ=u(f6,"0 0 24 24",P([u(f8,P([fZ("M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z")]),S)])),y0=u(f6,"0 0 48 48",P([u(f8,P([fZ("M20 36h10V24H20v12zM8 36h10V10H8v26zm24 0h10V24H32v12zM20 10v12h22V10H20z")]),S)])),y1=i(function(t,e){var i=function(){switch(t){case 0:return pv(e)?"":"Klick auf Karte und Box aufziehen";case 1:return pM(e)?"":"Gebiet digitalisieren durch Klicks auf Karte";case 2:return"Kartenausschnitt wird verwendet";case 3:return py(e)?"":"Gemeinde(n) ausw\xe4hlen";default:return pb(e)?"":"Parzellen suchen und ausw\xe4hlen"}}();return u(fo,P([fK]),P([f_(i)]))}),y2=u(dK,P([fa(mp(1)),mm,fK]),P([u(dK,u(mS,fB,yK),P([u(fw,S,go(u(yQ,gl,fd(3)))),f_("Zoomen")])),u(dK,u(mS,fB,{$:41}),P([u(fw,S,go(u(pO,gl,fd(3)))),f_("L\xf6schen")]))])),y3=function(t){var e=t.bI;return u(fw,P([dU(my(t.bx).kb),dV(dY),dz(gt(70))]),function(){switch(t.aO){case 0:return pv(e)?y2:u(y1,t.aO,e);case 1:return pM(e)?y2:u(y1,t.aO,e);case 2:return u(y1,t.aO,e);case 3:return function(t){var e=t.aJ?"Gemeinde-Liste":"Karte anzeigen",i=t.aJ?yJ:mH,n=py(t.bI)?u(dK,P([fa(mp(1)),mm,fK]),P([t.aJ?u(dK,u(mS,fB,yK),P([u(fw,S,go(u(yQ,gl,fd(3)))),f_("Zoomen")])):fE])):fE;if(!t.g$.ir){var r=t.g$.cM;return u(dK,P([fa(mp(1)),mm,fK]),P(r?[n]:[n,u(dK,u(mS,fB,yZ),P([u(fw,S,go(u(i,gl,fd(3)))),f_(e)]))]))}switch(t.g$.cM){case 0:return u(dK,P([fa(mp(1)),mm,fK]),P([n,u(dK,u(mS,fB,yZ),P([u(fw,S,go(u(i,gl,fd(3)))),f_(e)]))]));case 1:return u(dK,P([fa(mp(1)),mm,fK]),P(t.h5?[n]:[n,u(dK,u(mS,fB,yZ),P([u(fw,S,go(u(i,gl,fd(3)))),f_(e)]))]));default:return u(dK,P([fa(mp(1)),mm,fK]),P([n]))}}(t);default:return function(t){var e=pb(t.bI)?u(dK,P([fa(mp(1)),mm,fK]),P([t.aJ?u(dK,u(mS,fB,yK),P([u(fw,S,go(u(yQ,gl,fd(3)))),f_("Zoomen")])):fE])):fE,i=t.aJ?"Parzellen-Suche":"Karte anzeigen",n=t.aJ?y0:mH;if(!t.g$.ir){var r=t.g$.cM;return u(dK,P([fa(mp(1)),mm,fK]),P(r?[e]:[e,u(dK,u(mS,fB,yZ),P([u(fw,S,go(u(n,gl,fd(3)))),f_(i)]))]))}switch(t.g$.cM){case 0:return u(dK,P([fa(mp(1)),mm,fK]),P([e,u(dK,u(mS,fB,yZ),P([u(fw,S,go(u(n,gl,fd(3)))),f_(i)]))]));case 1:return u(dK,P([fa(mp(1)),mm,fK]),P(t.h5?[e]:[e,u(dK,u(mS,fB,yZ),P([u(fw,S,go(u(n,gl,fd(3)))),f_(i)]))]));default:return u(dK,P([fa(mp(1)),mm,fK]),P([e]))}}(t)}}())},y4=function(t){return{$:9,a:t}},y5=gg(0),y6=function(t){return u(d6,1,t)},y8=u(f6,"0 0 48 48",P([u(f8,P([fZ("M6 10v8h4v-8h8V6h-8c-2.21 0-4 1.79-4 4zm4 20H6v8c0 2.21 1.79 4 4 4h8v-4h-8v-8zm28 8h-8v4h8c2.21 0 4-1.79 4-4v-8h-4v8zm0-32h-8v4h8v8h4v-8c0-2.21-1.79-4-4-4z")]),S)])),y9=function(t){var e=function(){switch(t){case 0:return" Rechteck";case 1:return" Polygon";case 2:return" Kartenausschnitt";case 3:return" Gemeinden";default:return" Parzellen"}}();return u(fw,P([u(pn,20,0),y5]),f_(e))},y7=u(sq,dj,function(t){return u(fL,"mouseleave",iW(t))}),xt=u(f6,"0 0 48 48",P([u(f8,P([fZ("M38 14H22v12h16V14zm4-8H6c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 3.96 4 3.96h36c2.21 0 4-1.76 4-3.96V10c0-2.21-1.79-4-4-4zm0 32.03H6V9.97h36v28.06z")]),S)])),xe=u(f6,"0 0 48 48",P([u(f8,P([fZ("M24 4C12.96 4 4 12.95 4 24s8.96 20 20 20 20-8.95 20-20S35.04 4 24 4zm2 30h-4v-4h4v4zm0-8h-4V14h4v12z")]),S)])),xi=function(t){return u(uF,m1,u(gd,0,gy(t)))},xn={$:36},xr=u(f6,"0 0 48 48",P([u(f8,P([fZ("M46 16c0 2.2-1.8 4-4 4-.36 0-.7-.04-1.02-.14l-7.12 7.1c.1.32.14.68.14 1.04 0 2.2-1.8 4-4 4s-4-1.8-4-4c0-.36.04-.72.14-1.04l-5.1-5.1c-.32.1-.68.14-1.04.14s-.72-.04-1.04-.14l-9.1 9.12c.1.32.14.66.14 1.02 0 2.2-1.8 4-4 4s-4-1.8-4-4 1.8-4 4-4c.36 0 .7.04 1.02.14l9.12-9.1c-.1-.32-.14-.68-.14-1.04 0-2.2 1.8-4 4-4s4 1.8 4 4c0 .36-.04.72-.14 1.04l5.1 5.1c.32-.1.68-.14 1.04-.14s.72.04 1.04.14l7.1-7.12c-.1-.32-.14-.66-.14-1.02 0-2.2 1.8-4 4-4s4 1.8 4 4z")]),S)])),xs=function(t){var e,i,n,r,s,a=t.bx,o=(n=function(t){switch(t){case 0:return xt;case 1:return xr;case 2:return y8;case 3:return yJ;default:return y0}},e=u(nw,function(e){return!_(t.bI.cs,e.a)},P([b("box",0),b("polygon",1),b("extent",2),b("gemeinden",3),b("parzellen",4)])),r=u(i1,function(t){var e=t.b;return u(dK,P([y5,fa(mp(3)),dV(gt(270)),fF({$:33,a:e}),fS({dW:10,eB:0,fg:0,fE:10}),f$,gx(P([dU(my(a).kc)]))]),P([u(dK,P([u(pn,10,0),u(ft,10,2)]),P([u(fw,S,go(c(n,e,pD(a).aa,fd(3)))),y9(e)]))]))},e),s=y6(t.eY?u(dH,P([y5,dU(my(a).fS),fH(5),fS({dW:10,eB:0,fg:0,fE:0})]),r):fE),P([u(dK,P([y5,dz(gt(50)),fa(mp(3)),dV(dY)]),P([t.g$.cM||t.g$.ir?u(fw,S,f_("Perimeter: ")):fE,u(dK,P([dV(gt(270)),dz(gt(40)),u(pn,10,0),dU(my(a).kc),fH(5),u(ft,10,5),s,gx(P([dU(my(a).fS)])),fF(y4(ie)),y7(y4(it(!1)))]),P([u(fw,S,go(c(n,t.aO,pD(a).aa,fd(3)))),y9(t.aO),u(fw,P([mL]),go(u(t.eY?m$:mG,gl,fd(3))))])),"polygon"===(i=t.bI).cs&&pM(i)&&px(i)?u(dK,P([u(pn,10,0)]),P([u(fG,P([xi(S)]),{hS:u(fw,P([dj(pE("Ung\xfcltiges Polygon!"))]),go(u(xe,gl,fd(3)))),cn:it(xn)})])):fE,iY(t.g6)?fE:u(dK,P([u(pn,10,0)]),P([u(fG,P([xi(S)]),{hS:u(fw,P([dj(pE("Ein Fehler ist aufgetreten!"))]),go(u(xe,gl,fd(3)))),cn:it(mM(na(2)))})]))]))]));return u(fw,P([dV(dY),mm,dU(my(a).kb)]),u(dK,P([fK,mm,fm(fd(2)),fa(mp(2))]),o))},xa=go(c(c5,"div",P([_t("myOlMap"),uw("map")]),S)),xo={$:46},xh=function(t){return{$:42,a:t}},xl=eB(eV),xu=function(t){var e=n(function(t,e,i){var n=oc(t);return 1===n.$?i:c(xl,n.a,e,i)}),i=u(e,"[\xfc]",function(){return"u"}),r=u(e,"[\xf6\xf4]",function(){return"o"});return u(e,"[\xe9\xe8\xea]",function(){return"e"})(i(r(u(e,"[\xe4\xe1\xe0\xe2]",function(){return"a"})(sp(t)))))},xc=i(function(t,e){return u(x,xu(t),xu(e))}),xd=function(t){return i(function(e,i){return u(xc,t(e),t(i))})},xf=u(f6,"0 0 48 48",P([u(f8,P([fZ("M26 14h-4v8h-8v4h8v8h4v-8h8v-4h-8v-8zM24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z")]),S)])),xg=u(f6,"0 0 48 48",P([u(f8,P([fZ("M14 22v4h20v-4H14zM24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z")]),S)])),xm=n(function(t,e,i){var n=e?xg:xf;return u(fw,P([dV(dY),f$,fF({$:44,a:i.cc}),gx(P([dU(my(t).ae),uj(fb.kd)]))]),u(dK,P([u(ft,5,5)]),P([u(fw,P([u(ft,10,0)]),go(u(n,gl,fd(2)))),u(fw,S,f_(i.cl))])))}),xp=s(function(t,e,i,n,r){var s=u(nO,od,u(eG,{gy:!0,h9:!1},n)),a=u(nw,function(e){var i;return i=e.cc,t?u(aC,i,r):!u(aC,i,r)},u(nw,function(e){return!!t||u(ez,s,e.cl)},i));return u(dH,P([dz(dY),dV(dY),mk]),io(a)>0?u(i1,u(xm,e,t),u(L,xd(function(t){return t.cl}),a)):P([u(fo,P([u(ft,20,10)]),P([f_("\n            Keine Gemeinde vorhanden. ")])),u(fo,P([u(ft,20,10)]),P([f_(t?"Bitte w\xe4hlen Sie Gemeinden aus der Liste":"Bitte Filter l\xf6schen")]))]))}),x_=go(c(c5,"div",P([_t("myOlMap"),uw("map")]),S)),xv=i(function(t,e){return{$:0,a:t,b:e}}),xy=yB({V:ie,_:!1,dy:y_("search")}),xx=u(f6,"0 0 48 48",P([u(f8,P([fZ("M31 28h-1.59l-.55-.55C30.82 25.18 32 22.23 32 19c0-7.18-5.82-13-13-13S6 11.82 6 19s5.82 13 13 13c3.23 0 6.18-1.18 8.45-3.13l.55.55V31l10 9.98L40.98 38 31 28zm-12 0c-4.97 0-9-4.03-9-9s4.03-9 9-9 9 4.03 9 9-4.03 9-9 9z")]),S)])),xb={$:47},xM=function(t){return{$:43,a:t}},xw=go(c(c5,"div",P([_t("myOlMap"),uw("map")]),S)),xE=i(function(t,e){switch(e){case"helpSearchStart":return u(dH,P([u(ft,20,8),fa(20)]),P([u(fo,S,P([f_("Bitte geben Sie eine Grundst\xfccks-Nummer ins Suchfeld ein:")])),u(fo,S,P([f_("Grundst\xfccks-Nummer: ")])),u(fo,P([u(ft,20,8)]),P([f_(" z.B. '12345' oder 'AA8090'")])),u(fo,S,P([f_("oder den")])),u(fo,S,P([f_("Eidg. Grundst\xfccks-Identifikator (E-GRID):")])),u(fo,P([u(ft,20,8)]),P([f_("z.B. 'CH287431307741'")]))]));case"helpSearchNotFound":return u(dH,P([u(ft,20,8),fa(20)]),P([u(fo,S,P([f_("Keine Grundst\xfccke gefunden mit der Grundst\xfccksnummer '"+t+"'.")])),u(fo,S,P([f_("Bitte neuen Suchtext eingeben f\xfcr die Auswahl von weiteren Parzellen.")]))]));case"helpSearchAllSelected":return u(dH,P([u(ft,20,8),fa(20)]),P([u(fo,S,P([f_("Alle mit Grundst\xfccksnummer '"+t+"' gefundenen Grundst\xfccke sind bereits ausgew\xe4hlt.")])),u(fo,S,P([f_("Bitte neuen Suchtext eingeben f\xfcr die Auswahl von weiteren Parzellen.")]))]));case"helpSelectedNothingToSelect":return u(dH,P([u(ft,20,8),fa(20)]),P([fE]));case"helpSelectedSelectNow":return u(dH,P([u(ft,20,8),fa(20)]),P([u(fo,S,P([f_("Bitte w\xe4hlen Sie ein Grundst\xfcck aus der Liste.")]))]));default:return fE}}),xC=i(function(t,e){return{$:45,a:t,b:e}}),xS=uD(16),xI=n(function(t,e,i){var n=e?xg:xf;return u(fw,P([dV(dY),f$,fF(u(xC,i,e)),gx(P([dU(my(t).ae),uj(fb.kd)]))]),u(dK,P([u(ft,5,5),dV(dY)]),P([u(fw,P([u(ft,10,0)]),go(u(n,gl,fd(2)))),u(dK,P([dV(dY),fa(10)]),P([u(fw,P([u(uF,xS,c(da,"ls-"+uG(1),"letter-spacing",J(1)+"px"))]),f_(i.id)),u(fw,P([pA]),f_(i.hi))]))])))}),xR=i(function(t,e){var n=t?e.iZ:u(lI,i(function(t){return!u(aC,t,e2(e.iZ))}),e.iw);return u(dH,P([dz(dY),dV(dY),u(ft,0,20),mk]),gu(n)?P([t?gu(e.iw)?u(xE,e.aN,"helpSelectedNothingToSelect"):u(xE,e.aN,"helpSelectedSelectNow"):iY(e.aN)?u(xE,e.aN,"helpSearchStart"):gu(e.iw)?u(xE,e.aN,"helpSearchNotFound"):u(xE,e.aN,"helpSearchAllSelected")]):u(i1,u(xI,e.bx,t),u(L,xd(function(t){return t.hi}),u(L,xd(function(t){return t.id}),uA(n)))))}),xP=function(t){var e=u(nO,od,u(eG,{gy:!0,h9:!1},t.e4));return u(nw,function(t){return u(ez,e,t.cl)||u(ez,e,t.gZ)},t.g1.e5)},xk=u(f6,"0 0 48 48",P([u(f8,P([fZ("M36.79 21.2C33.11 17.97 28.29 16 23 16c-9.3 0-17.17 6.06-19.92 14.44L7.81 32c2.1-6.39 8.1-11 15.19-11 3.91 0 7.46 1.44 10.23 3.77L26 32h18V14l-7.21 7.2z")]),S)])),xT=function(t){var e=c(nR,"T"," ",t.g1.jM);return u(fw,P([dU(my(t.bx).kb),dV(dY),dz(gt(70))]),pp(t.j$)?u(fo,P([fK]),P([f_("Produktliste vom "+e)])):pw(t.bI)?u(dK,u(mS,fB,mM(nl)),P([f_("Zum Warenkorb"),u(fw,S,go(u(xk,gl,fd(3))))])):u(dK,u(mS,fB,mM(se)),P([u(fw,S,go(u(mI,gl,fd(3)))),f_("Perimeter festlegen")])))},xA=function(t){return{$:16,a:t}},xL=function(t){var e=gt(t.g$.cM?200:100),i=_(io(xP(t)),io(t.g1.e5))?J(io(t.g1.e5)):J(io(xP(t)))+" / "+J(io(t.g1.e5)),n=P([f_("Produkte "),u(xy,P([fm(fd(2)),uj(fb.kc),dU(fb.aa),dV(e),dz(gt(32)),u(ft,6,5),_e(pk(!0)),_i(pk(!1))]),{hS:u(gc,P([fK]),u(fw,S,go(u(xx,ga.aa,fd(3))))),eU:xA,iD:ie,jw:t.e4}),u(fw,S,f_(i))]),r=t.bx;return u(fw,P([dV(dY),fW(10),dz(gt(50)),mm,dU(my(r).kb)]),u(dK,P([fK,mm,fm(fd(2)),fa(mp(2))]),n))},xO=n(function(t,e,i){return c(e0,n(function(e,i,n){return u(t,e,n)}),e,i)}),xF=i(function(t,e){return c(xO,i(function(t,i){return _(e,t.a)||i}),!1,t.j$)}),xD=function(t){return u(uF,mJ,u(gd,2,gy(t)))},xN={$:18},x$=function(t){return{$:22,a:t}},xG=u(f6,"0 0 48 48",P([u(f8,P([fZ("M22 18h4v-6h6V8h-6V2h-4v6h-6v4h6v6zm-8 18c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4zm20 0c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4zm-19.65-6.5c0-.09.02-.17.06-.24l1.8-3.26h14.9c1.5 0 2.81-.83 3.5-2.06l7.72-14.02L38.83 8h-.01l-2.21 4-5.51 10H17.07l-.26-.54L12.32 12l-1.9-4-1.89-4H2v4h4l7.2 15.17-2.71 4.9c-.31.58-.49 1.23-.49 1.93 0 2.21 1.79 4 4 4h24v-4H14.85c-.28 0-.5-.22-.5-.5z")]),S)])),xz=u(f6,"0 0 48 48",P([u(f8,P([fZ("M38 38H10V10h14V6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V24h-4v14zM28 6v4h7.17L15.51 29.66l2.83 2.83L38 12.83V20h4V6H28z")]),S)])),xj=i(function(t,e){return u(gE,P([mm]),{hS:u(dK,P([fa(10),uj(fb.aa),gx(P([fj(fb.kd),uj(fb.kd)]))]),P([u(fw,P([fj(fb.aa),fq,yH({dW:1,eB:0,fg:0,fE:0})]),f_(t)),u(fw,S,go(u(xz,ga.aa,20)))])),jX:e})}),xB=i(function(t,e){var i,n,r,s=(i=26458333e-11*t.fO.fj.fP,n=26458333e-11*t.fO.fj.fP,r=function(){var e=t.bI.g8;if(e.b&&e.b.b&&e.b.b.b&&e.b.b.b.b&&!e.b.b.b.b.b){var r=e.b,s=r.a,a=r.b,o=a.b.a;return"&scale="+J(2*u(iL,u$((a.a-e.a)/i),u$((o-s)/n)))}return""}(),C("&x="+J(t.bI.gz.a),C("&y="+J(t.bI.gz.b),r))),a=function(t){var e=u(i1,function(t){var e=t.b;return J(t.a)+"%20"+J(e)},nM(t));return"&redlining=GEOMETRYCOLLECTION(POLYGON(("+u(ii,"%2C",e)+")))"},o="&seltopic=SelectionZH&sellayer=gemeindegrenzen&selproperty=bfs&selvalues="+u(ii,"$",u(i1,J,t.bI.hj)),h="&locate=parz&locations="+u(ii,"$",u(i1,function(t){return J(t.gk)+","+t.id},t.bI.iw)),l=function(){switch(t.aO){case 0:return C(a(t.bI.gv),s);case 1:return C(a(t.bI.iG),s);case 2:return C(function(t){if(t.b&&t.b.b&&t.b.b.b&&t.b.b.b.b&&!t.b.b.b.b.b){var e=t.a,i=t.b,n=i.a,r=i.b,s=r.a,a=r.b.a;return"&redlining=GEOMETRYCOLLECTION(POLYGON(("+J(e)+"%20"+J(n)+"%2C"+J(e)+"%20"+J(a)+"%2C"+J(s)+"%20"+J(a)+"%2C"+J(s)+"%20"+J(n)+"%2C"+J(e)+"%20"+J(n)+")))"}return""}(t.bI.g8),s);case 3:return C(o,s);default:return h}}();if(e.$)return fE;var c=e.a;return c.dN>0?u(dH,P([dV(dY)]),u(i1,function(t){return u(K,"maps.zh.ch",t)?u(xj,"Im GIS-Browser anschauen",t):fE},e3(ny(u(i1,function(t){return C(t.hh,l)},c.cS))))):fE}),xW=i(function(t,e){return u(hW,t,e)}),xV=u(fh,mw,"tj"),xH={$:59},xq=uM("alt"),xU=i(function(t,e){var i=e.ft,n=e.gZ,r=u(nw,function(t){switch(t.$){case 7:case 8:return!0;default:return!1}},t);return d(dG,2,uJ,u(R,dB("ic"),t),uB(P([d(dG,2,d_("img"),C(P([dj(u(uM,"src",eo(i))),dj(xq(n))]),r),uB(S))])))}),xX=i(function(t,e){var n=i(function(t,e){return u(dK,P([mm,fF(xH),fa(10),uj(fb.aa),gx(P([fj(fb.kd),uj(fb.kd)])),f$]),P([u(fw,P([fj(fb.aa),fq,yH({dW:1,eB:0,fg:0,fE:0})]),f_(t)),u(fw,S,go(u(e,ga.aa,25)))]))}),r=e.eK;if(1===r.$)return fE;var s=r.a;return t?u(dH,P([dV(dY)]),P([u(n,"Weniger Informationen zum Thema anzeigen",m$),u(dH,P([dV(dY),dU(fb.h1),fS({dW:50,eB:20,fg:20,fE:50}),fa(25)]),C(P([iU(s.e6)>3?u(xU,P([mm]),{gZ:"Darstellung der Ebenen",ft:s.e6}):fE,u(dH,P([dV(dY),fa(10)]),u(i1,function(t){return u(fo,P([dV(dY),xV]),P([u(fw,S,f_(t))]))},u(ir,"\\n",s.gh)))]),C(s.dN>1?P([u(dH,P([fa(5)]),C(P([u(fw,S,f_("Geodatens\xe4tze:"))]),u(i1,function(t){return u(dH,P([dV(dY)]),P([u(dK,P([fa(10)]),P([u(fw,P([dV(gt(10)),mL]),f_("-")),u(fo,S,P([f_(t.gi)])),u(fw,S,f_("(ID: #"+t.hm+")"))])),u(dK,P([fa(10)]),P([u(fw,P([dV(gt(10))]),f_("")),u(fo,S,P([f_(t.hR)]))])),u(dK,P([fa(10)]),P([u(fw,P([dV(gt(10))]),f_("")),u(fo,S,P([f_("Datenstand: "+t.gU)]))]))]))},s.cS)))]):S,P([u(dH,P([fS({dW:20,eB:0,fg:0,fE:30}),fa(25)]),u(i1,function(t){return u(dH,S,P([u(fw,S,f_(t.G.f6)),u(fw,S,f_(t.G.g9)),u(fw,S,f_(t.G.j_+" "+t.G.ia)),u(fw,S,f_(t.G.jd+" "+t.G.je)),u(fw,S,f_(t.G.iE+" "+t.G.it)),u(fw,P([fS({dW:0,eB:0,fg:0,fE:10})]),f_("Tel: "+t.G.ju)),u(fw,S,f_("Tel. direkt: "+t.G.jv)),u(fw,S,f_("E-Mail: "+t.G.cP)),u(fw,P([u(ft,0,10)]),f_("www: "+t.G.j1))]))},uA(n_(u(i1,function(t){return b(t.G.cP,t)},s.cS)))))]))))])):u(dH,P([dV(dY),fa(30)]),P([u(n,"Mehr Informationen zum Thema anzeigen",mG)]))}),xY=i(function(t,e){var r=n(function(t,e,i){var n=oc(t);return 1===n.$?i:c(xl,n.a,e,i)}),s=e.bx,a=i(function(t,i){var n,r=b(t,i),a=P(u(xW,r,e.j$)?[fF(x$(r)),dU(my(s).kb),yH({dW:1,eB:0,fg:0,fE:0}),fj(my(s).ae)]:[fF({$:21,a:r})]),o=u(hF,function(t){return t.cl},u(n9,i,e.g1.el));return n=o.$?"Format nicht (mehr) verf\xfcgbar":o.a,u(dK,C(P([gx(P([dU(my(s).h1),uj(my(s).kd)])),f$,dV(dY),fW(1)]),a),P([u(fw,P([dV(gt(40)),u(ft,10,0)]),go(u(xW,r,e.j$)?u(mY,gl,24):u(xG,pD(s).kb,24))),u(fw,P([u(ft,10,0)]),f_(n))]))}),o=i(function(t,i){return u(dH,P([dV(dW),u(ft,20,0)]),u(i1,a(t),u(nw,function(t){return!u(hW,t,e.hw)},i)))}),h=nx(u(nw,function(e){return _(e.cc,t)},e.g1.e5));if(1===h.$)return f_("Fehler: Unbekanntes Produkt nicht mehr verf\xfcgbar!");var l=h.a;return u(dK,P([dV(dY),dz(dY),dU(my(s).ae)]),P([u(dH,P([dV(dY),dz(dY),fa(20),u(ft,10,10),mk,dV(dY),mm]),P([u(dK,P([dV(dY),uj(d(fy,120,120,120,1))]),P([u(dK,P([fa(20)]),P([f_("ID:"),u(fw,P([y5]),f_("#"+J(l.cc)))])),u(dK,P([fa(20),mL]),P([u(fw,S,f_("Typ:")),f_(l.dy)]))])),u(fo,P([pA,mE]),P([f_(l.cl)])),u(fo,P([xV]),P([f_(c(r,"\\/",function(){return", "},l.gZ))])),u(dH,P([u(pn,15,10),dV(dY)]),P([u(fw,P([mm]),f_("Format w\xe4hlen:")),u(dK,P([mm]),P([u(fw,P([dV(dY),fW(25),dU(my(s).fS)]),u(o,l.cc,l.el))]))])),u(xB,e,l.eK),u(xX,e.i1,l),u(xj,"Weitere Metadaten zum Produkt (Geolion)","//geolion.zh.ch/api/v1/getGeodatenmeta.html?giszhnr="+J(l.cc))]))]))}),xK=i(function(t,e){var i=e.bx,n=u(dK,P([fa(25),dV(dW),mm,dU(my(i).kb),dV(dY),dz(gt(70)),fW(10)]),P([u(dK,u(mS,fB,xN),P([u(fw,S,go(u(mI,gl,fd(3)))),f_("Produktliste")])),pp(e.j$)?f_(""):u(dK,u(mS,fB,mM(nl)),P([f_("Warenkorb"),u(fw,S,go(u(xk,gl,fd(3))))]))])),r=u(mx,i,"Produkt in den Warenkorb");return u(dH,P([dV(dY),dz(dY)]),P([r,u(dH,P([u(ft,30,20),dU(my(i).ae),dV(dY),dz(gt(mb(e))),fW(mp(2)),mk]),P([u(xY,t,e)])),n]))}),xZ={$:23},xJ=function(t){return{$:20,a:t}},xQ=yB({V:it("email"),_:!1,dy:y_("email")}),x0=dj(fk("autofocus")(!0)),x1=u(f6,"0 0 48 48",P([u(f8,P([fZ("M45.46 45.46L5.54 5.54 4 4 2.54 2.54 0 5.08l8.78 8.78 4.42 9.32-2.7 4.9c-.32.56-.5 1.22-.5 1.92 0 2.2 1.8 4 4 4h14.92l2.76 2.76c-1 .73-1.66 1.91-1.66 3.24 0 2.2 1.78 4 3.98 4 1.33 0 2.51-.67 3.24-1.68L42.92 48l2.54-2.54zM14.84 30c-.28 0-.5-.22-.5-.5l.06-.24L16.2 26h4.72l4 4H14.84zm16.26-4c1.5 0 2.82-.82 3.5-2.06l7.16-12.98c.16-.28.24-.62.24-.96 0-1.1-.9-2-2-2H13.08l18 18h.02zM14 36c-2.2 0-3.98 1.8-3.98 4s1.78 4 3.98 4 4-1.8 4-4-1.8-4-4-4z")]),S)])),x2=function(t){var e,n,r=i(function(t,e){var i=nx(u(nw,function(e){return _(e.cc,t)},e));if(1===i.$)return u(fo,S,P([f_("Fehler: Unbekanntes Produkt (nicht mehr verf\xfcgbar)!")]));var n=i.a;return u(fo,P([dV(dY)]),P([f_(n.cl)]))}),s=t.bx,a=function(e){var n,r=e.a;return u(i1,function(t){var e,i,n,a,o;return i=(e=b(r,t)).a,a=(n=e.b).a,o=n.b,u(dK,P([dV(dY),fa(mp(1)),u(ft,44,0),fF(x$(b(i,a))),gx(P([dU(my(s).ae),uj(fb.kd)])),xD(P([dU(my(s).h1),uj(fb.kc)])),f$,dj(pE("Aus Warenkorb entfernen"))]),P([go(u(x1,gl,24)),f_(o)]))},i_((n=e.b,c(ia,i(function(e,i){var n;return u(R,b(e,1===(n=u(n9,e,t.g1.el)).$?"Fehler: Unbekanntes Format (nicht mehr verf\xfcgbar)!":n.a.cl),i)}),S,n))))};return u(dH,P([dV(dY)]),u(i1,function(e){var i=e.a,n=e.b;return u(dH,P([dV(dY),u(ft,30,5),fa(mp(1))]),P([u(dK,P([dV(dY),fW(mp(1)),fa(mp(3)),gx(P([dU(my(s).cy),uj(fb.kc)])),xD(P([dU(my(s).ae),uj(fb.kd)])),fF({$:19,a:i}),dj(pE("Weitere Formate hinzuf\xfcgen")),f$,u(yV,0,1),fj(d(fy,66,66,66,.5))]),P([u(fw,P([dV(gt(20))]),go(u(xG,gh,24))),u(r,i,t.g1.e5),u(fw,P([mL,uj(d(fy,120,120,120,1))]),f_("#"+J(i)))])),u(dH,P([dV(dY)]),a(b(i,n)))]))},(n=u(nk,function(t){return t.a},e=t.j$),e3(c(nI,i(function(t,n){return u(nv,b(t,r4(c(nI,i(function(e,i){var n=e.b;return _(t,e.a)?u(R,n,i):i}),S,e))),n)}),nd,n)))))},x3=function(t){var e=t.bx;return u(dH,P([dV(dY),dz(dY),fa(mp(3)),dV(dY),mm]),P([u(dH,P([fa(mp(2)),dV(dY)]),P([u(dK,P([dV(dY)]),P([u(fw,P([dV(dY),dU(my(e).fS),fW(20)]),pp(t.j$)?u(fw,P([dz(gt(150)),mm]),f_("Der Warenkorb ist leer")):x2(t))]))])),u(dH,P([dV(dY),fa(15),u(ft,0,20)]),P([u(xQ,P([uj(fb.kc),dU(fb.aY),dz(gt(32)),dV(dY),u(ft,5,7),_e(pk(!0)),_i(pk(!1))]),{hS:u(gc,P([x0,fK]),u(fw,S,f_("E-Mail: "))),eU:xJ,iD:ie,jw:t.cP}),u(fo,P([dV(dY),uj(fb.cy)]),P([f_("Falls eine E-Mail Adresse vorhanden ist, wird eine Benachrichtigung gesendet sobald die Daten zum Download bereit sind.")]))]))]))},x4=function(t){var e=t.bx,r=t.dH,s=function(){var e,s,a,o,h,l,d,g,m,p,_;switch(r.$){case 0:return u(pc,t,r.a);case 1:return e=function(){switch(t.aO){case 3:return function(t){var e=u(xy,P([fm(fd(1)),dU(my(t.bx).fS),dV(dY),dz(gt(32)),u(ft,6,6),_e(pk(!0)),_i(pk(!1)),mm]),{hS:u(gc,P([mE]),u(fw,P([fK]),go(u(xx,ga.aa,fd(3))))),eU:xh,iD:it(u(xv,S,f_("Gemeinde-Filter"))),jw:t.d4}),r=t.g1,s=t.bx,a=py(t.bI)?u(fw,P([dz(gt(43)),dV(dY),u(ft,1,1)]),u(dK,P([fq,fH(3),fX(1),fj(fb.h1),dU(my(t.bx).fS),dV(dY),fm(fd(1)),fF(xo),gx(P([dU(my(s).ae),uj(fb.aY)])),f$,fa(10),u(ft,8,6)]),P([u(fw,S,go(u(pO,gl,fd(3)))),f_("Auswahl l\xf6schen")]))):fE,o=function(e){return u(fw,P([dV(dY),u(ft,20,10),mm,dU(my(t.bx).ae)]),f_(e))},h=i(function(e,i){return gt((mb(t)/e|0)-40-i)}),l=t.bI,d=n(function(e,i,n){return u(dH,P([dV(dY),dz(u(h,i,n))]),P([e?a:fE,f(xp,e,s,r.gK,t.d4,l.hj)]))}),g=t.aJ?2:1;if(!t.g$.ir){var m=t.g$.cM;return u(dH,P([dV(dY),dz(dY)]),P(0===m?[o("Ausgew\xe4hlte Gemeinden"),c(d,!0,2,0),u(fw,P([dz(gt(20))]),fE),t.aJ?x_:u(dH,P([dV(dY),dz(dY)]),P([o("Gemeinde-Liste"),c(d,!1,2,0)]))]:[u(dK,P([dV(dY)]),P([u(dH,P([dV(dY)]),P([o("Gemeinde-Liste"),c(d,!1,g,0)])),u(dH,P([dV(dY)]),P([o("Ausgew\xe4hlte Gemeinden"),c(d,!0,g,0)]))])),u(fw,P([dz(gt(20))]),fE),x_]))}switch(t.g$.cM){case 0:return u(dK,P([dV(dY)]),P(t.aJ?[u(dH,P([dV(dY)]),P([o("Ausgew\xe4hlte Gemeinden"),c(d,!0,1,0)])),x_]:[u(dH,P([dV(dY)]),P([o("Gemeinde-Liste"),c(d,!1,1,0)])),u(dH,P([dV(dY)]),P([o("Ausgew\xe4hlte Gemeinden"),c(d,!0,1,0)]))]));case 1:return u(dK,P([dV(dY)]),P(t.h5?[u(dH,P([dV(dY)]),P([o("Gemeinde-Liste"),c(d,!1,1,0)])),u(dH,P([dV(dY)]),P([o("Ausgew\xe4hlte Gemeinden"),c(d,!0,1,0)])),x_]:t.aJ?[u(dH,P([dV(dY)]),P([o("Ausgew\xe4hlte Gemeinden"),c(d,!0,1,0)])),x_]:[u(dH,P([dV(dY)]),P([o("Gemeinde-Liste"),c(d,!1,1,0)])),u(dH,P([dV(dY)]),P([o("Ausgew\xe4hlte Gemeinden"),c(d,!0,1,0)]))]));default:return u(dK,P([dV(dY)]),P([u(dH,P([dV(dY)]),P([o("Gemeinde-Liste"),u(fw,P([dV(dY),fS({dW:15,eB:15,fg:30,fE:10})]),e),c(d,!1,1,57)])),u(dH,P([dV(dY)]),P([o("Ausgew\xe4hlte Gemeinden"),u(fw,P([dz(gt(57))]),fE),c(d,!0,1,57)])),x_]))}}(t);case 4:return function(t){var e=function(e){return u(fw,P([dV(dY),u(ft,20,10),mm,dU(my(t.bx).ae)]),f_(e))},n=u(fw,P([dV(dY),u(ft,15,2),dU(my(t.bx).ae)]),u(fw,S,u(xy,P([fm(fd(1)),dU(my(t.bx).fS),dV(dY),dz(gt(32)),u(ft,6,6),_e(pk(!0)),_i(pk(!1)),mm]),{hS:u(gc,P([mE]),u(fw,P([fK]),go(u(xx,ga.aa,fd(3))))),eU:xM,iD:it(u(xv,S,f_("Parzellen-Suche"))),jw:t.aN}))),r=t.bx,s=pb(t.bI)?u(fw,P([dz(gt(43)),dV(dY),u(ft,1,1)]),u(dK,P([fq,fH(3),fX(1),fj(fb.h1),dU(my(t.bx).fS),dV(dY),fm(fd(1)),fF(xb),gx(P([dU(my(r).ae),uj(fb.aY)])),f$,fa(10),u(ft,8,6)]),P([u(fw,S,go(u(pO,gl,fd(3)))),f_("Auswahl l\xf6schen")]))):fE,a=i(function(e,i){return u(dH,P([dV(dY),dz(gt((mb(t)/i|0)-40))]),P([e?s:fE,u(xR,e,t)]))}),o=t.aJ?2:1;if(!t.g$.ir){var h=t.g$.cM;return u(dH,P([dV(dY),dz(dY)]),P(0===h?[e("Ausgew\xe4hlte Parzellen"),u(a,!0,2),u(fw,P([dz(gt(20))]),fE),t.aJ?xw:u(dH,P([dV(dY),dz(dY)]),P([n,u(a,!1,2)]))]:[u(dK,P([dV(dY)]),P([u(dH,P([dV(dY)]),P([n,u(a,!1,o)])),u(dH,P([dV(dY)]),P([e("Ausgew\xe4hlte Parzellen"),u(a,!0,o)]))])),u(fw,P([dz(gt(20))]),fE),xw]))}switch(t.g$.cM){case 0:return u(dK,P([dV(dY)]),P(t.aJ?[u(dH,P([dV(dY)]),P([e("Ausgew\xe4hlte Parzellen"),u(a,!0,1)])),xw]:[u(dH,P([dV(dY)]),P([n,u(a,!1,1)])),u(dH,P([dV(dY)]),P([e("Ausgew\xe4hlte Parzellen"),u(a,!0,1)]))]));case 1:return u(dK,P([dV(dY)]),P(t.h5?[u(dH,P([dV(dY)]),P([n,u(a,!1,1)])),u(dH,P([dV(dY)]),P([e("Ausgew\xe4hlte Parzellen"),u(a,!0,1)])),xw]:t.aJ?[u(dH,P([dV(dY)]),P([e("Ausgew\xe4hlte Parzellen"),u(a,!0,1)])),xw]:[u(dH,P([dV(dY)]),P([n,u(a,!1,1)])),u(dH,P([dV(dY)]),P([e("Ausgew\xe4hlte Parzellen"),u(a,!0,1)]))]));default:return u(dK,P([dV(dY)]),P([u(dH,P([dV(dY)]),P([n,u(a,!1,1)])),u(dH,P([dV(dY)]),P([e("Ausgew\xe4hlte Parzellen"),u(a,!0,1)])),xw]))}}(t);default:return xa}}(),u(dH,P([dV(dY),dz(dY)]),P([xs(t),u(fw,P([dz(gt(mb(t))),dV(dY),dU(my(t.bx).fS)]),e),y3(t)]));case 2:return 1===(s=t.i_).$?(a=t.bx,o=io(xP(t))>0?u(i1,function(e){return u(fw,P([dV(dY),f$,fF({$:17,a:e.cc}),gx(P([dU(my(a).ae),uj(fb.kd)])),xD(P([dU(my(a).h1),uj(fb.kc)])),pp(t.j$)?dU(my(a).fS):dU(u(xF,t,e.cc)?my(a).kb:my(a).fS)]),u(dK,P([dV(dY),fa(5),fW(mp(1)),yH({dW:1,eB:0,fg:0,fE:0}),fj(my(a).ae)]),P([u(fw,P([dV(gt(30))]),u(xF,t,e.cc)?go(u(mY,gl,24)):fE),u(fo,P([dV(dY)]),P([f_(e.cl)])),u(fw,P([dV(gt(10))]),fE)])))},u(L,xd(function(t){return t.cl}),xP(t))):P([u(fw,P([mm]),f_("Keine Produkte (Filter l\xf6schen)"))]),u(dH,P([dV(dY),dz(dY)]),P([xL(t),u(dH,P([u(ft,30,20),dU(my(a).ae),dV(dY),dz(gt(mb(t))),mk]),o),xT(t)]))):u(xK,s.a,t);case 3:return h=t.bx,l=u(fw,P([fa(25),dV(dW),mm,dU(my(h).kb),dV(dY),dz(gt(70)),fW(10)]),!pp(t.j$)&&pw(t.bI)?u(dK,u(mS,fB,xZ),P([f_("Bestellung abschicken"),u(fw,S,go(u(xk,gl,fd(3))))])):pw(t.bI)?u(dK,u(mS,fB,mM(si)),P([u(fw,S,go(u(mI,gl,fd(3)))),f_("Produkt ausw\xe4hlen")])):u(dK,u(mS,fB,mM(se)),P([u(fw,S,go(u(mI,gl,fd(3)))),f_("Perimeter festlegen")]))),d=u(mx,h,"Warenkorb"),u(dH,P([dV(dY),dz(dY)]),P([d,u(dH,P([u(ft,30,20),dU(my(h).ae),dV(dY),dz(gt(mb(t))),mk]),P([x3(t)])),l]));default:return m=t.bx,g=i(function(t,e){return u(dK,u(mS,fB,mM(na(3))),P([u(fw,S,u(t,gl,24)),f_(e)]))}),p=u(fw,P([fa(25),dV(dW),mm,dU(my(m).kb),dV(dY),dz(gt(70)),fW(10)]),iY(t.dr)?gu(t.$9)?u(g,mK(15),"Bestellungen importieren"):u(g,mK(12),"Importieren / Exportieren"):u(fo,P([dU(my(m).kb),dV(dY),dz(gt(70)),fW(10)]),P([f_(t.dr)]))),_=u(mx,m,"Bestellungen"),u(dH,P([dV(dY),dz(dY)]),P([_,u(dH,P([u(ft,30,20),dU(my(m).ae),dV(dY),dz(gt(mb(t))),mk]),P([yY(t)])),p]))}}(),a=u(dK,P([dV(dY),dz(dY)]),P([u(dH,P([dU(my(e).kc),dz(dY)]),P([pR(t)])),u(dH,P([dU(my(e).kb),dV(dY),dz(dY)]),P([s]))])),o=u(dH,P([dV(dY),dz(dY)]),P([pR(t),s]));return t.g$.ir?a:o},x5=i(function(t,e){return{$:1,a:t,b:e}}),x6=uD(5),x8=function(t){return P(t.trim().split(/\s+/g))},x9=i(function(t,e){return C(e,function(){switch(t.$){case 0:return"serif";case 1:return"sans-serif";case 2:return"monospace";case 3:case 4:return u(ii,"-",x8(sp(t.a)));default:return u(ii,"-",x8(sp(t.a.cl)))}}())}),x7=function(t){return{$:8,a:t}},bt=i(function(t,e){return'<svg\n   xmlns:osb="http://www.openswatchbook.org/uri/2009/osb"\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   version="1.0"\n   width="'+J(t)+'px"\n   height="'+J(t)+'px"\n   viewBox="0 0 3500 3500"\n   preserveAspectRatio="xMidYMid meet"\n   id="svg883"\n   sodipodi:docname="icoGeoTangleGray.svg"\n   inkscape:version="0.92.3 (2405546, 2018-03-11)">\n  <title\n     id="title4596">geoTangle</title>\n  <metadata\n     id="metadata889">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title>geoTangle</dc:title>\n        <dc:creator>\n          <cc:Agent>\n            <dc:title>stephan@zinggeler.net</dc:title>\n          </cc:Agent>\n        </dc:creator>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs887">\n    <linearGradient\n       id="linearGradient6113"\n       osb:paint="solid">\n      <stop\n         style="stop-color:#806600;stop-opacity:1;"\n         offset="0"\n         id="stop6111" />\n    </linearGradient>\n    <linearGradient\n       id="linearGradient6105"\n       osb:paint="solid">\n      <stop\n         style="stop-color:#806600;stop-opacity:1;"\n         offset="0"\n         id="stop6103" />\n    </linearGradient>\n    <inkscape:path-effect\n       effect="bspline"\n       id="path-effect47"\n       is_visible="true"\n       weight="33.333333"\n       steps="2"\n       helper_size="0"\n       apply_no_weight="true"\n       apply_with_weight="true"\n       only_selected="false" />\n    <clipPath\n       clipPathUnits="userSpaceOnUse"\n       id="clipPath27">\n      <g\n         id="use29"\n         inkscape:label="Clip">\n        <g\n           id="g35"\n           style="fill:#c2572e;stroke:none"\n           transform="matrix(1,0,0,-1,0,3340)">\n          <path\n             d="M 0,1670 V 0 H 1630 3260 V 1670 3340 H 1630 0 Z m 2312,1426 c 7,-8 21,-23 30,-35 38,-45 104,-39 151,15 36,40 44,41 129,14 71,-22 173,-83 231,-138 57,-55 61,-65 37,-109 -27,-51 -25,-77 8,-113 21,-24 37,-31 77,-34 60,-5 69,-16 89,-107 22,-95 20,-124 -14,-230 -38,-115 -42,-120 -90,-113 -32,5 -42,2 -70,-23 -27,-24 -33,-36 -33,-72 0,-28 8,-52 22,-71 11,-16 21,-38 21,-49 0,-11 -30,-47 -72,-86 -81,-75 -189,-133 -267,-142 -49,-6 -51,-5 -68,28 -10,18 -31,46 -46,62 -24,25 -33,29 -63,24 -46,-8 -63,-22 -84,-73 -11,-24 -27,-43 -38,-46 -28,-8 -137,30 -206,72 -81,49 -176,137 -176,163 0,11 12,33 26,48 66,69 5,175 -96,167 -29,-3 -36,1 -49,27 -23,48 -27,218 -6,310 20,92 39,115 96,115 77,0 127,87 84,144 -25,33 -17,60 28,103 58,56 146,110 226,139 77,27 104,29 123,10 z M 1274,2917 c -123,-91 -223,-223 -304,-400 l -45,-97 H 707 c -251,0 -237,-9 -140,102 170,195 403,344 648,414 117,33 125,30 59,-19 z m 266,-242 v -265 h -260 -260 l 24,54 c 117,265 308,450 489,475 4,1 7,-118 7,-264 z m 218,229 c 48,-21 53,-26 50,-51 -2,-22 -14,-34 -51,-54 -60,-32 -71,-49 -96,-140 l -20,-74 v 177 l -1,178 33,-6 c 17,-4 56,-17 85,-30 z M 885,2303 c -37,-98 -95,-441 -95,-570 v -83 H 504 217 l 7,78 c 15,168 62,333 138,490 l 51,102 h 239 c 225,0 240,-1 233,-17 z m 655,-318 V 1650 H 1209 877 l 7,113 c 8,120 37,309 61,395 8,28 22,77 31,107 l 15,55 h 275 274 z m 147,217 c 11,-15 37,-36 59,-48 l 39,-21 -3,-61 c -4,-73 9,-101 75,-168 100,-99 294,-197 391,-195 40,0 42,-1 42,-29 v -30 h -330 -330 v 289 c 0,158 3,310 7,336 l 6,48 12,-47 c 7,-26 21,-60 32,-74 z m 1251,-344 c 9,-12 37,-187 30,-193 -2,-1 -132,-6 -290,-10 l -288,-7 v 56 c 0,31 4,56 10,56 5,0 26,-11 46,-25 68,-46 174,-29 316,51 33,19 74,46 90,59 32,27 70,32 86,13 z M 776,1551 c 7,0 13,-46 17,-123 7,-149 47,-376 93,-531 5,-16 -9,-17 -233,-15 l -238,3 -47,90 c -75,144 -126,322 -143,502 -7,64 -6,71 11,75 17,4 514,3 540,-1 z m 764,-333 V 880 H 1267 994 l -17,53 c -38,123 -71,306 -87,481 -6,65 -9,123 -7,130 3,8 92,12 331,12 h 326 z m 752,236 c -5,-153 -55,-427 -101,-546 l -11,-28 h -270 -270 v 333 c 0,184 2,336 5,339 3,3 150,4 328,4 l 322,-2 z m 660,36 c -8,-153 -66,-358 -148,-522 l -44,-88 h -235 c -129,0 -235,2 -235,5 0,3 11,42 24,88 34,118 65,308 72,452 l 7,124 31,3 c 17,2 144,3 281,3 h 250 z M 945,743 c 62,-170 206,-368 335,-462 l 45,-33 -47,6 c -62,9 -192,54 -290,99 -99,45 -235,139 -318,219 -68,65 -180,196 -180,210 0,4 98,8 219,8 H 927 Z M 1540,524 V 258 l -32,7 c -62,14 -172,77 -230,133 -92,88 -184,222 -237,345 l -20,47 h 259 260 z m 600,254 c 0,-7 -20,-53 -44,-103 C 2043,566 1952,441 1884,382 1835,339 1718,277 1668,266 l -28,-6 v 265 265 h 250 c 188,0 250,-3 250,-12 z m 533,-19 C 2648,716 2487,554 2415,499 2257,379 2086,297 1905,255 l -60,-14 35,27 c 136,102 280,298 353,480 l 17,42 h 220 221 z"\n             id="path31"\n             inkscape:connector-curvature="0" />\n          <path\n             d="m 2350,2730 c -141,-25 -228,-119 -238,-260 -7,-96 17,-160 82,-225 141,-142 370,-100 454,83 20,45 23,65 20,130 -7,134 -74,224 -195,262 -36,11 -68,19 -72,19 -3,-1 -26,-5 -51,-9 z m 115,-109 c 187,-84 129,-361 -75,-361 -61,0 -96,17 -138,64 -131,150 34,379 213,297 z"\n             id="path33"\n             inkscape:connector-curvature="0" />\n        </g>\n      </g>\n    </clipPath>\n  </defs>\n  <sodipodi:namedview\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1"\n     objecttolerance="10"\n     gridtolerance="10"\n     guidetolerance="10"\n     inkscape:pageopacity="0"\n     inkscape:pageshadow="2"\n     inkscape:window-width="1600"\n     inkscape:window-height="846"\n     id="namedview885"\n     showgrid="false"\n     inkscape:zoom="0.9760479"\n     inkscape:cx="94.355831"\n     inkscape:cy="162.90184"\n     inkscape:window-x="0"\n     inkscape:window-y="28"\n     inkscape:window-maximized="1"\n     inkscape:current-layer="g4590"\n     inkscape:pagecheckerboard="false"\n     fit-margin-top="0"\n     fit-margin-left="0"\n     fit-margin-right="0"\n     fit-margin-bottom="0" />\n  <g\n     id="g4590"\n     transform="translate(0,160)">\n    <g\n       transform="matrix(1,0,0,-1,0,3340)"\n       style="fill:#000000;fill-opacity:0;stroke:none"\n       id="layer101">\n      <path\n         style="fill:#000000;fill-opacity:0"\n         inkscape:connector-curvature="0"\n         id="path825"\n         d="M 0,1670 C 0,1113.3333 0,556.66667 0,0 c 1086.6667,0 2173.3333,0 3260,0 0,1113.3333 0,2226.6667 0,3340 -1086.6667,0 -2173.3333,0 -3260,0 0,-556.6667 0,-1113.3333 0,-1670 z" />\n    </g>\n    <g\n       id="g4594"\n       transform="rotate(18.153879,2045.7899,1732.8921)"\n       style="fill:'+e+' ">\n      <path\n         style="fill:'+e+';fill-opacity:1;stroke:none;stroke-width:1"\n         d="m 1584.1465,255.19592 c 102.7936,2.35824 367.6694,76.55363 297.628,72.83509 119.6203,-102.66931 287.8516,-244.611583 453.1139,-180.49164 98.7203,163.02548 241.1557,-94.904207 374.4884,34.49316 127.0012,53.86453 316.0867,167.44861 266.8811,330.07899 7.2613,87.56603 212.6186,103.70472 170.648,249.38025 -0.4626,135.28894 23.4302,306.41563 -97.0378,399.66853 -162.1104,50.5441 41.7506,221.9917 -5.5594,336.9928 45.9207,368.9104 -13.298,761.7995 -235.1062,1068.3193 -183.1674,284.0271 -468.4463,505.0628 -802.1499,576.6099 -376.465,97.7033 -794.6389,87.8428 -1139.42363,-107.9357 C 655.75463,2927.0101 477.43504,2758.7236 360.84646,2551.153 213.17771,2351.1443 148.84583,2105.5922 140.78897,1859.9113 79.288304,1220.8331 486.63438,561.20362 1098.6371,352.94615 1254.4984,296.5743 1418.9526,265.78262 1584.1465,255.19592 Z M 2189,253.99996 c -131.1212,52.49072 -326.0649,150.39889 -241.3789,312.61133 -51.8181,98.10516 -225.6441,63.64643 -199.3359,226.1543 -6.8853,115.4137 -45.9685,330.07651 128.6054,312.25001 116.0997,100.9604 -77.8901,265.0658 132.7888,333.9744 96.9415,70.407 274.6771,171.4896 322.9456,4.385 138.4307,-99.9584 158.3496,200.943 308.5496,71.8086 93.1676,-53.4344 308.4469,-141.5524 228.4816,-270.3555 -65.5788,-123.1013 80.8849,-148.4969 147.8243,-175.6914 C 3076.139,943.53235 3134.4965,703.16848 2975,643.99996 2782.8195,633.47247 2978.3516,423.24639 2829.334,367.1816 2708.4766,266.65284 2539.6842,179.89067 2414.125,308.62496 2322.257,303.97171 2299.6523,174.35788 2189,253.99996 Z m -974,150 c -282.1773,82.21026 -538.48456,258.44551 -712.51172,495.05273 76.42903,44.3952 190.79044,12.08153 283.6843,20.94727 47.52241,-11.82603 126.85234,26.16767 149.93366,-23.94011 C 1018.6808,698.18904 1139.0242,512.83504 1315.1855,386.75387 1286.9311,376.44837 1246.331,398.41952 1215,403.99996 Z m 318,-3 c -259.7255,51.55599 -417.0378,301.81884 -513,529 173.3333,0 346.6667,0 520,0 -1.8714,-176.28263 5.128,-353.13953 -7,-529 z m 140,5 c -64.2948,-21.80547 -45.0746,165.47844 -32.2587,125.95222 0.5066,74.34808 0.1548,148.69857 0.2587,223.04778 17.8438,-106.9766 64.6827,-202.37323 163.3906,-253.09375 C 1829.3867,431.39656 1714.8083,427.64793 1673,405.99996 Z M 652,1020 c -79.66667,0 -159.33333,0 -239,0 -112.67474,206.2075 -185.57109,434.308 -196,670 191,0 382,0 573,0 -4.81031,-223.5854 42.65778,-449.1425 93.1875,-662.4062 C 807.10886,1014.6051 728.90225,1022.3839 652,1020 Z m 888,0 c -183,0 -366,0 -549,0 -70.14694,216.6133 -104.58416,442.8343 -114,670 221,0 442,0 663,0 0,-223.3333 0,-446.6667 0,-670 z m 115,44 c -25.8149,-113.49763 -26.5362,206.9951 -23.8398,168.1094 -1.9302,152.6224 -0.8958,305.2602 -1.1602,457.8906 220,0 440,0 660,0 -4.6258,-117.0532 -222.3359,-49.3456 -290.916,-148.2676 C 1885.7011,1476.122 1748.7255,1372.9588 1784.1606,1224.0683 1761.014,1171.9074 1653.4641,1151.0704 1655,1064 Z m 1197,431 c -125.7694,89.171 -306.7078,197.5623 -452,85 -27.6489,69.5758 -17.695,139.5691 69.1492,110.0762 166.2994,-4.3727 332.6859,-6.8526 498.8508,-15.0762 -12.4499,-65.4155 7.945,-277.7997 -116,-180 z M 236,1788 c -34.70965,162.874 43.91888,361.385 105.01953,521.4688 41.09496,43.2561 39.17815,161.4902 117.96174,146.0856 142.17218,-2.8059 289.36435,15.3363 427.63006,-7.2341 C 823.65645,2236.637 800.29456,2016.3178 781.04688,1797.3906 644.1821,1774.1113 487.7853,1790.5435 343.0928,1785.767 307.39378,1786.2187 271.65138,1785.7751 236,1788 Z m 1304,-4 c -218.8991,3.8577 -439.4891,-9.972 -657,12 7.73221,224.4557 41.43866,450.0016 111,664 182,0 364,0 546,0 0,-225.3333 0,-450.6667 0,-676 z m 755,2 c -216.653,-0.3606 -433.4713,-5.8603 -650,2 -8.7289,223.8294 -3.6581,448.0107 -5,672 180,0 360,0 540,0 78.2905,-214.6917 111.0036,-446.0879 115,-674 z m 660,-1 c -187.3107,1.8428 -374.9909,-4.9514 -562,6 -8.3832,224.4358 -36.0989,448.914 -103,664 156.4177,8.6633 313.3469,3.674 470,5 110.7902,-208.3479 192.0645,-436.6236 195,-675 z M 927,2550 c -145.63752,1.932 -291.91984,-5.478 -437,8 191.58565,279.1535 498.32715,484.0149 835,534 -187.6666,-129.1284 -322.8553,-328.8355 -398,-542 z m 613,0 c -173,0 -346,0 -519,0 96.2452,230.908 259.7413,474.264 519,532 0,-177.3333 0,-354.6667 0,-532 z m 350,0 c -83.3333,0 -166.6667,0 -250,0 0,176.6667 0,353.3333 0,530 254.0472,-54.0492 412.7059,-290.3399 500,-518 -79.6623,-20.7568 -167.9013,-7.2666 -250,-12 z m 801,0 c -147,0 -294,0 -441,0 -82.4063,214.3888 -218.1743,412.7999 -405,549 338.39,-65.6718 650.578,-264.8562 846,-549 z"\n         id="path828-3"\n         inkscape:connector-curvature="0" />\n      <path\n         style="fill:'+e+';fill-opacity:1;stroke:none;stroke-width:1"\n         d="m 2356.651,612.24059 c -213.0979,17.91038 -315.5049,304.18181 -178.4727,460.60741 114.526,158.7958 384.7806,137.8103 468.18,-41.8655 82.5838,-157.72689 -7.4749,-387.14852 -192.5823,-416.35128 -32.3513,-13.49173 -63.8195,-11.83034 -97.125,-2.39063 z m 115,109 c 197.5617,71.66868 109.9473,397.54381 -96.7207,360.17771 -177.4762,-12.428 -223.0828,-285.65727 -58.3843,-357.84128 47.6526,-25.7178 106.5816,-25.36681 155.105,-2.33643 z"\n         id="path830-6"\n         inkscape:connector-curvature="0" />\n    </g>\n  </g>\n</svg>\n'}),be=u(f6,"0 0 48 48",P([u(f8,P([fZ("M6 36h36v-4H6v4zm0-10h36v-4H6v4zm0-14v4h36v-4H6z")]),S)])),bi=n(function(t,e,i){var r,s=u(fw,P([dV(dX(1))]),u(fw,P([uj(fb.kd),mm]),f_("Open Geodata ZH"))),a=n(function(t,e,i){return u(dK,P([fa(15),fF(mM(na(t))),fS({dW:10,eB:25,fg:25,fE:10}),f$,gx(P([dU(fb.fS)])),dV(gt(300))]),P([u(fw,S,u(e,ga.cy,20)),u(fo,S,P([f_(i)]))]))}),o=function(t){var e;return u(fw,S,go(1===(e=mf(u(bt,t,"#666666"))).$?t6("GeoTangle"):e.a))},h=y6(e?u(dH,P([mL,dU(fb.kb),fH(5),fS({dW:10,eB:0,fg:0,fE:5})]),P([c(a,1,mK(10),"Einstellungen"),c(a,3,mK(12),"Bestellungen importieren / exportieren"),c(a,4,mK(7),"About")])):fE),l=u(fw,P([dV(dX(1)),y7(x7(it(!1)))]),u(fw,P([mL,fW(10),fH(fd(3)),fm(fd(1)),uj(fb.aY),h,gx(P([dU(fb.fS)])),fF(x7(ie))]),go(u(be,ga.cy,32)))),d=(r=function(){if(i)return 61;switch(t.cM){case 1:return 177;case 2:case 3:return 254;default:return 61}}(),P(t.ir?[u(fw,P([dV(gt(r))]),u(gE,S,{hS:u(dK,P([y5,fW(mp(1)),fa(mp(1)),fm(fd(2)),uj(fb.cy)]),P([o(50),f_("geoTangle")])),jX:"//szinggeler.github.io/"})),u(dK,P([dV(dY),fS({dW:mp(4),eB:0,fg:0,fE:mp(4)}),fa(mp(4)),fm(fd(4))]),P([u(fw,P([dV(dX(1))]),fE),s,l]))]:[u(fw,S,u(gE,S,{hS:u(dK,P([y5,fW(mp(1)),fa(mp(1))]),P([o(50)])),jX:"//szinggeler.github.io/"})),u(dK,P([dV(dY),fS({dW:mp(4),eB:0,fg:mp(4),fE:mp(4)}),fa(mp(4)),fm(fd(4))]),P([u(fw,P([dV(dX(1))]),u(gE,S,{hS:u(fw,P([fm(fd(2)),uj(fb.cy)]),f_("geoTangle")),jX:"//szinggeler.github.io/"})),s,l]))]));return t.cM?u(dK,P([dV(dY),dz(gt(66)),dU(fb.kb)]),d):u(dK,P([dV(dY),dz(gt(66)),fS({dW:mp(1),eB:mp(1),fg:mp(4),fE:mp(1)}),fa(mp(1)),dU(fb.kb)]),P([u(gE,S,{hS:o(50),jX:"//szinggeler.github.io/"}),u(dH,P([fm(fd(3))]),P([u(gE,S,{hS:u(fw,P([fm(fd(1)),uj(fb.cy)]),f_("geoTangle")),jX:"//szinggeler.github.io/"}),s])),l]))}),bn=i(function(t,e){return{$:2,a:t,b:e}}),br=i(function(t,e){return{$:1,a:t,b:e}}),bs={gc:ie,gp:ie,i0:it({a$:0,gJ:d(fy,155/255,203/255,1,1),b:b(0,0),i3:3})},ba=i(function(t,e){switch(e.$){case 0:return(0,e.a)(2);case 1:return u(e.a.hz,t(e.a.jk),2);case 2:return dn(e.a);default:return dn("")}}),bo=n(function(t,e,n){var r,s,a,o,h={hd:1===(o=(r=c(i0,i(function(t,e){switch(t.$){case 0:return 1===e.hx.$?w(e,{hx:it(t.a)}):e;case 1:return 1===e.hd.$?w(e,{hd:it(t.a)}):e;default:return 1===e.h8.$?w(e,{h8:it(t.a)}):e}}),{hd:ie,hx:ie,h8:ie},t)).hd).$?bs:o.a,hx:1===(a=r.hx).$?1:a.a,h8:1===(s=r.h8).$?0:s.a};return u(ba,1===h.h8?bn(h):br(h),d(dG,2,uJ,e,uB(P([n]))))}),bh={$:1},bl=function(t){return{$:3,a:t}},bu=(mh=P([bl("Open Sans"),bl("Helvetica"),bl("Verdana"),bh]),P([u(uF,dq,c(uO,"bg-"+uz(d(fy,1,1,1,0)),"background-color",d(fy,1,1,1,0))),u(uF,uN,c(uO,"fc-"+uz(d(fy,0,0,0,1)),"color",d(fy,0,0,0,1))),u(uF,fg,ff(20)),u(uF,x6,u(x5,c(ia,x9,"font-",mh),mh))])),bc=n(function(t,e,i){return c(bo,t.il,u(R,dB(u(ii," ",P(["ui","s","e"]))),C(bu,e)),i)}),bd={gc:ie,gp:it(fb.aY),i0:ie},bf=u(i1,function(t){return dj(u(en,t,"none"))},P(["-webkit-touch-callout","-webkit-user-select","-khtml-user-select","-moz-user-select","-ms-user-select","user-select"])),bg=t9("li"),bm=r(function(t,e,i,n){var r=i.a,s=i.c,a=i.b?t.dw:t.dv;return b(J(r),u(bg,C(t.cZ,C(a,P([fO(e(av(r)))]))),P([n(s)])))}),bp=c5("ol"),b_=r(function(t,e,i,n){var r=n.a;return ut(r)?t6(""):u(bp,t.cN,u(i1,function(n){return d(bm,t,i,n,e)},r))}),bv=t9("h1"),by=n(function(t,e,i){return u(ct,P([uw("toasty-container"),uw(t)]),P([u(bv,P([uw("toasty-title")]),P([t6(e)])),iY(i)?t6(""):u(c6,P([uw("toasty-message")]),P([t6(i)]))]))}),bx=function(t){switch(t.$){case 0:return c(by,"toasty-success",t.a,t.b);case 1:return c(by,"toasty-warning",t.a,t.b);default:return c(by,"toasty-error",t.a,t.b)}};ml={Main:{init:eS({hG:function(t){var e,i,n=u(tp,s_,t),r=function(){if(n.$){var t=n.a;return ni("UPWMS")(2692276)(1254152)("2485071.58,1075346.31,2828515.82,1299941.79")("origin")(600)(600)(na(2))(ie)(ix(t))}return n.a}(),s=function(){var t=r.im;if(t.$)return nd;var e=t.a,i=w(e,{io:"+++ Bestellung \xfcber URL-Parameter +++"});return u(sR,e.ip,i)}(),a={ht:r.ht,fP:r.fP},o={dH:r.cq,gb:na(0),gd:M(0,0,255),d4:"",gN:S,bx:{gd:{f4:1,hA:225,hY:0,iR:.4},jj:ne({f4:1,hA:180,hY:0,iR:.4})},gQ:iH(1548017146522),by:sb,g$:rZ(a),g1:d(nn,"",nd,S,S),cP:"",g6:r.g6,hf:!0,hw:ny(P([2])),cY:!1,bI:{gv:S,gz:b(r.gA,r.gB),g8:S,hj:S,hN:S,ie:"",iw:S,cs:"box",iG:S,j5:S,kk:4},aJ:!0,h5:!1,ij:!1,$9:s,iw:nd,aN:"",eY:!1,aO:0,e4:"",iZ:nd,i_:ie,cA:!1,i1:!1,dr:"",fB:sP,fD:sC,jY:"v1.0.6",fO:{fj:{ht:r.ht,fP:r.fP},fO:{ht:r.ht,fP:r.fP,j7:0,ke:0}},j$:ny(S)},h=(i=r.im).$?o:u(nF,o,i.a),l=(e=r.im).$?P([sS]):u(rK,e.a.im.e5,h.bI);return b(h,tH(C(P([u(nt,no,sv),u(nt,ns,sx),u(nt,nr,sI),rH({bC:u(rp,nh,r8),jX:r7})]),l)))},jm:function(t){var e=c(nS,n(function(t,e,i){return i&&200===e.jb}),!0,t.$9);return tH(P([c(ar,1,"resize",u(ts,"target",c(iB,sD,u(ts,"innerWidth",tt),u(ts,"innerHeight",tt)))),as(sL),sZ(function(t){return{$:13,a:t}}),sK(function(t){return{$:29,a:t}}),sJ(sF),aa(sA),sQ(sT),s0(sO),u(ao,0,t.$9)>0&&!e?u(sY,5e3,sN(sk)):s1]))},jV:uL,jZ:function(t){var e;return{gn:P([c(bc,{il:P([{$:1,a:bd}])},C(P([uj(fb.kd),fm(fd(1)),u(uF,x6,u(x5,c(ia,x9,"ff-",e=P([bl("Montserrat"),bh])),e))]),bf),u(dH,P([dV(dY),dz(dY)]),P([c(bi,t.g$,t.cA,t.h5),x4(t),go(d(b_,uR,bx,am,t.fD))])))]),jN:"Open Geodata ZH (geoTangle)"}}})(tn)(0)}},t.Elm?function t(e,i){for(var n in i)n in e?"init"==n?D(6):t(e[n],i[n]):e[n]=i[n]}(t.Elm,ml):t.Elm=ml}(a);var o=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},h={PROPERTYCHANGE:"propertychange"},l=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function u(t,e){return t>e?1:t<e?-1:0}function c(t,e,i){let n;let r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(i>0){for(n=1;n<r;++n)if(t[n]<e)return n-1}else if(i<0){for(n=1;n<r;++n)if(t[n]<=e)return n}else for(n=1;n<r;++n){if(t[n]==e)return n;if(t[n]<e){if("function"==typeof i){if(i(e,t[n-1],t[n])>0)return n-1}else if(t[n-1]-e<e-t[n])return n-1;return n}}return r-1}function d(t,e){let i=Array.isArray(e)?e:[e],n=i.length;for(let e=0;e<n;e++)t[t.length]=i[e]}function f(t,e){let i=t.length;if(i!==e.length)return!1;for(let n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function g(){return!0}function m(){return!1}function p(){}function _(t){for(let e in t)delete t[e]}function v(t){let e;for(e in t)return!1;return!e}var y=class extends l{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;let i=this.listeners_||(this.listeners_={}),n=i[t]||(i[t]=[]);n.includes(e)||n.push(e)}dispatchEvent(t){let e;let i="string"==typeof t,n=i?t:t.type,r=this.listeners_&&this.listeners_[n];if(!r)return;let s=i?new o(t):t;s.target||(s.target=this.eventTarget_||this);let a=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,h[n]=0),++a[n];for(let t=0,i=r.length;t<i;++t)if(!1===(e="handleEvent"in r[t]?r[t].handleEvent(s):r[t].call(this,s))||s.propagationStopped){e=!1;break}if(0==--a[n]){let t=h[n];for(delete h[n];t--;)this.removeEventListener(n,p);delete a[n]}return e}disposeInternal(){this.listeners_&&_(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){let i=this.listeners_&&this.listeners_[t];if(i){let n=i.indexOf(e);-1!==n&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[n]=p,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t]))}}},x={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function b(t,e,i,n,r){if(n&&n!==t&&(i=i.bind(n)),r){let n=i;i=function(){t.removeEventListener(e,i),n.apply(this,arguments)}}let s={target:t,type:e,listener:i};return t.addEventListener(e,i),s}function M(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),_(t))}class w extends y{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(x.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){let i=t.length,n=Array(i);for(let r=0;r<i;++r)n[r]=b(this,t[r],e);return n}return b(this,t,e)}onceInternal(t,e){let i;if(Array.isArray(t)){let n=t.length;i=Array(n);for(let r=0;r<n;++r)i[r]=b(this,t[r],e,void 0,!0)}else i=b(this,t,e,void 0,!0);return e.ol_key=i,i}unInternal(t,e){let i=e.ol_key;if(i)!function(t){if(Array.isArray(t))for(let e=0,i=t.length;e<i;++e)M(t[e]);else M(t)}(i);else if(Array.isArray(t))for(let i=0,n=t.length;i<n;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}w.prototype.on,w.prototype.once,w.prototype.un;var E=w;function C(){throw Error("Unimplemented abstract method.")}let S=0;function I(t){return t.ol_uid||(t.ol_uid=String(++S))}class R extends o{constructor(t,e,i){super(t),this.key=e,this.oldValue=i}}var P=class extends E{constructor(t){super(),this.on,this.once,this.un,I(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(t,e){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new R(i,t,e)),i=h.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new R(i,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,i){let n=this.values_||(this.values_={});if(i)n[t]=e;else{let i=n[t];n[t]=e,i!==e&&this.notify(t,i)}}setProperties(t,e){for(let i in t)this.set(i,t[i],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){let i=this.values_[t];delete this.values_[t],v(this.values_)&&(this.values_=null),e||this.notify(t,i)}}};const k={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};var T=class extends Error{constructor(t){let e=k[t];super(e),this.code=t,this.name="AssertionError",this.message=e}};function A(t,e){if(!t)throw new T(e)}class L extends P{constructor(t){super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t&&("function"==typeof t.getSimplifiedGeometry?this.setGeometry(t):this.setProperties(t))}clone(){let t=new L(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());let e=this.getGeometry();e&&t.setGeometry(e.clone());let i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(M(this.geometryChangeKey_),this.geometryChangeKey_=null);let t=this.getGeometry();t&&(this.geometryChangeKey_=b(t,x.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){let e;this.style_=t,this.styleFunction_=t?"function"==typeof t?t:(Array.isArray(t)?e=t:(A("function"==typeof t.getZIndex,41),e=[t]),function(){return e}):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}var O={ADD:"add",REMOVE:"remove"};const F={LENGTH:"length"};class D extends o{constructor(t,e,i){super(t),this.element=e,this.index=i}}var N=class extends P{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let t=0,e=this.array_.length;t<e;++t)this.assertUnique_(this.array_[t],t);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,i=t.length;e<i;++e)this.push(t[e]);return this}forEach(t){let e=this.array_;for(let i=0,n=e.length;i<n;++i)t(e[i],i,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(F.LENGTH)}insertAt(t,e){if(t<0||t>this.getLength())throw Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new D(O.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);let e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){let e=this.array_;for(let i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;let e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new D(O.REMOVE,e,t)),e}setAt(t,e){let i=this.getLength();if(t>=i){this.insertAt(t,e);return}if(t<0)throw Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);let n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new D(O.REMOVE,n,t)),this.dispatchEvent(new D(O.ADD,e,t))}updateLength_(){this.set(F.LENGTH,this.array_.length)}assertUnique_(t,e){for(let i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new T(58)}};const $="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",G=$.includes("firefox"),z=$.includes("safari")&&!$.includes("chrom");z&&($.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test($));const j=$.includes("webkit")&&!$.includes("edge"),B=$.includes("macintosh"),W="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,V="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,H="undefined"!=typeof Image&&Image.prototype.decode,q=function(){let t=!1;try{let e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}();function U(){return[1,0,0,1,0,0]}function X(t,e){let i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function Y(t,e,i,n,r,s,a,o){let h=Math.sin(s),l=Math.cos(s);return t[0]=n*l,t[1]=r*h,t[2]=-n*h,t[3]=r*l,t[4]=a*n*l-o*n*h+e,t[5]=a*r*h+o*r*l+i,t}function K(t,e){let i=e[0]*e[3]-e[1]*e[2];A(0!==i,32);let n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],h=e[5];return t[0]=a/i,t[1]=-r/i,t[2]=-s/i,t[3]=n/i,t[4]=(s*h-a*o)/i,t[5]=-(n*h-r*o)/i,t}function Z(e){let i="matrix("+e.join(", ")+")";if(V)return i;let n=t||(t=document.createElement("div"));return n.style.transform=i,n.style.transform}var J={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Q(t){let e=to();for(let i=0,n=t.length;i<n;++i)tg(e,t[i]);return e}function tt(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function te(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function ti(t,e,i){let n,r;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(r=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0)*r}function tn(t,e){return ts(t,e[0],e[1])}function tr(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function ts(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function ta(t,e){let i=t[0],n=t[1],r=t[2],s=t[3],a=e[0],o=e[1],h=J.UNKNOWN;return a<i?h|=J.LEFT:a>r&&(h|=J.RIGHT),o<n?h|=J.BELOW:o>s&&(h|=J.ABOVE),h===J.UNKNOWN&&(h=J.INTERSECTING),h}function to(){return[1/0,1/0,-1/0,-1/0]}function th(t,e,i,n,r){return r?(r[0]=t,r[1]=e,r[2]=i,r[3]=n,r):[t,e,i,n]}function tl(t){return th(1/0,1/0,-1/0,-1/0,t)}function tu(t,e){let i=t[0],n=t[1];return th(i,n,i,n,e)}function tc(t,e,i,n,r){let s=tl(r);return tm(s,t,e,i,n)}function td(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function tf(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function tg(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function tm(t,e,i,n,r){for(;i<n;i+=r){var s,a;s=e[i],a=e[i+1],t[0]=Math.min(t[0],s),t[1]=Math.min(t[1],a),t[2]=Math.max(t[2],s),t[3]=Math.max(t[3],a)}return t}function tp(t,e){let i;return!!((i=e(t_(t)))||(i=e(tv(t)))||(i=e(tE(t)))||(i=e(tw(t))))&&i}function t_(t){return[t[0],t[1]]}function tv(t){return[t[2],t[1]]}function ty(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function tx(t,e,i,n,r){let[s,a,o,h,l,u,c,d]=function(t,e,i,n){let r=e*n[0]/2,s=e*n[1]/2,a=Math.cos(i),o=Math.sin(i),h=r*a,l=r*o,u=s*a,c=s*o,d=t[0],f=t[1];return[d-h+c,f-l-u,d-h-c,f-l+u,d+h-c,f+l+u,d+h+c,f+l-u,d-h+c,f-l-u]}(t,e,i,n);return th(Math.min(s,o,l,c),Math.min(a,h,u,d),Math.max(s,o,l,c),Math.max(a,h,u,d),r)}function tb(t){return t[3]-t[1]}function tM(t,e,i){let n=i||to();return tS(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):tl(n),n}function tw(t){return[t[0],t[3]]}function tE(t){return[t[2],t[3]]}function tC(t){return t[2]-t[0]}function tS(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function tI(t){return t[2]<t[0]||t[3]<t[1]}function tR(t,e){let i=e.getExtent(),n=ty(t);if(e.canWrapX()&&(n[0]<i[0]||n[0]>=i[2])){let e=tC(i),r=Math.floor((n[0]-i[0])/e),s=r*e;t[0]-=s,t[2]-=s}return t}function tP(t,e,i){return Math.min(Math.max(t,e),i)}function tk(t,e,i,n){let r=i-t,s=n-e;return r*r+s*s}function tT(t){return t*Math.PI/180}function tA(t,e){let i=t%e;return i*e<0?i+e:i}function tL(t,e){let i=Math.pow(10,e);return Math.round(t*i)/i}function tO(t,e){return Math.round(tL(t,e))}function tF(t,e){return Math.floor(tL(t,e))}function tD(t,e){return Math.ceil(tL(t,e))}const tN=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,t$=/^([a-z]*)$|^hsla?\(.*\)$/i;function tG(t){return"string"==typeof t?t:tW(t)}const tz=function(){let t={},e=0;return function(i){let n;if(t.hasOwnProperty(i))n=t[i];else{if(e>=1024){let i=0;for(let n in t)(3&i++)==0&&(delete t[n],--e)}n=function(t){let e,i,n,r,s;if(t$.exec(t)&&(t=function(t){let e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);let t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}(t)),tN.exec(t)){let a;let o=t.length-1;a=o<=4?1:2;let h=4===o||8===o;e=parseInt(t.substr(1+0*a,a),16),i=parseInt(t.substr(1+1*a,a),16),n=parseInt(t.substr(1+2*a,a),16),r=h?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,i=(i<<4)+i,n=(n<<4)+n,h&&(r=(r<<4)+r)),s=[e,i,n,r/255]}else t.startsWith("rgba(")?tB(s=t.slice(5,-1).split(",").map(Number)):t.startsWith("rgb(")?((s=t.slice(4,-1).split(",").map(Number)).push(1),tB(s)):A(!1,14);return s}(i),t[i]=n,++e}return n}}();function tj(t){return Array.isArray(t)?t:tz(t)}function tB(t){return t[0]=tP(t[0]+.5|0,0,255),t[1]=tP(t[1]+.5|0,0,255),t[2]=tP(t[2]+.5|0,0,255),t[3]=tP(t[3],0,1),t}function tW(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let i=t[1];i!=(0|i)&&(i=i+.5|0);let n=t[2];n!=(0|n)&&(n=n+.5|0);let r=void 0===t[3]?1:Math.round(100*t[3])/100;return"rgba("+e+","+i+","+n+","+r+")"}function tV(t,e,i){let n=i?tG(i):"null";return e+":"+t+":"+n}const tH=new class{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(let e in this.cache_){let i=this.cache_[e];(3&t++)==0&&!i.hasListener()&&(delete this.cache_[e],--this.cacheSize_)}}}get(t,e,i){let n=tV(t,e,i);return n in this.cache_?this.cache_[n]:null}set(t,e,i,n){let r=tV(t,e,i);this.cache_[r]=n,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}};var tq={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},tU=class extends P{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;let e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[tq.OPACITY]=void 0!==t.opacity?t.opacity:1,A("number"==typeof e[tq.OPACITY],64),e[tq.VISIBLE]=void 0===t.visible||t.visible,e[tq.Z_INDEX]=t.zIndex,e[tq.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[tq.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[tq.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[tq.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){let e=this.state_||{layer:this,managed:void 0===t||t},i=this.getZIndex();return e.opacity=tP(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==i||e.managed?i:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return C()}getLayerStatesArray(t){return C()}getExtent(){return this.get(tq.EXTENT)}getMaxResolution(){return this.get(tq.MAX_RESOLUTION)}getMinResolution(){return this.get(tq.MIN_RESOLUTION)}getMinZoom(){return this.get(tq.MIN_ZOOM)}getMaxZoom(){return this.get(tq.MAX_ZOOM)}getOpacity(){return this.get(tq.OPACITY)}getSourceState(){return C()}getVisible(){return this.get(tq.VISIBLE)}getZIndex(){return this.get(tq.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(tq.EXTENT,t)}setMaxResolution(t){this.set(tq.MAX_RESOLUTION,t)}setMinResolution(t){this.set(tq.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(tq.MAX_ZOOM,t)}setMinZoom(t){this.set(tq.MIN_ZOOM,t)}setOpacity(t){A("number"==typeof t,64),this.set(tq.OPACITY,t)}setVisible(t){this.set(tq.VISIBLE,t)}setZIndex(t){this.set(tq.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},tX={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},tY={ANIMATING:0,INTERACTING:1},tK={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};const tZ={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var tJ=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||tZ[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}};const tQ=6378137*Math.PI,t0=[-tQ,-tQ,tQ,tQ],t1=[-180,-85,180,85],t2=6378137*Math.log(Math.tan(Math.PI/2));class t3 extends tJ{constructor(t){super({code:t,units:"m",extent:t0,global:!0,worldExtent:t1,getPointResolution:function(t,e){return t/Math.cosh(e[1]/6378137)}})}}const t4=[new t3("EPSG:3857"),new t3("EPSG:102100"),new t3("EPSG:102113"),new t3("EPSG:900913"),new t3("http://www.opengis.net/def/crs/EPSG/0/3857"),new t3("http://www.opengis.net/gml/srs/epsg.xml#3857")],t5=[-180,-90,180,90],t6=6378137*Math.PI/180;class t8 extends tJ{constructor(t,e){super({code:t,units:"degrees",extent:t5,axisOrientation:e,global:!0,metersPerUnit:t6,worldExtent:t5})}}const t9=[new t8("CRS:84"),new t8("EPSG:4326","neu"),new t8("urn:ogc:def:crs:OGC:1.3:CRS84"),new t8("urn:ogc:def:crs:OGC:2:84"),new t8("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new t8("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new t8("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let t7={},et={};function ee(t,e,i){let n=t.getCode(),r=e.getCode();n in et||(et[n]={}),et[n][r]=i}function ei(t,e){let i;return t in et&&e in et[t]&&(i=et[t][e]),i}function en(t,e){let i,n;let r=t[0],s=t[1],a=e[0],o=e[1],h=a[0],l=a[1],u=o[0],c=o[1],d=u-h,f=c-l,g=0===d&&0===f?0:(d*(r-h)+f*(s-l))/(d*d+f*f||0);return g<=0?(i=h,n=l):g>=1?(i=u,n=c):(i=h+g*d,n=l+g*f),[i,n]}function er(t,e){let i=!0;for(let n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function es(t,e){let i=Math.cos(e),n=Math.sin(e),r=t[0]*i-t[1]*n,s=t[1]*i+t[0]*n;return t[0]=r,t[1]=s,t}function ea(t,e){let i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function eo(t,e){return Math.sqrt(ea(t,e))}function eh(t,e){if(e.canWrapX()){let i=tC(e.getExtent()),n=el(t,e,i);n&&(t[0]-=n*i)}return t}function el(t,e,i){let n=e.getExtent(),r=0;return e.canWrapX()&&(t[0]<n[0]||t[0]>n[2])&&(i=i||tC(n),r=Math.floor((t[0]-n[0])/i)),r}function eu(t,e,i){i=i||6371008.8;let n=tT(t[1]),r=tT(e[1]),s=(r-n)/2,a=tT(e[0]-t[0])/2,o=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(n)*Math.cos(r);return 2*i*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}const ec={info:1,warn:2,error:3,none:4};let ed=ec.info;function ef(...t){ed>ec.warn||console.warn(...t)}let eg=!0;function em(t,e){if(void 0!==e)for(let i=0,n=t.length;i<n;++i)e[i]=t[i];else e=t.slice();return e}function ep(t,e){if(void 0!==e&&t!==e){for(let i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function e_(t){t7[t.getCode()]=t,ee(t,t,em)}function ev(t){return"string"==typeof t?t7[t]||t7[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null}function ey(t,e,i,n){let r;t=ev(t);let s=t.getPointResolutionFunc();if(s){if(r=s(e,i),n&&n!==t.getUnits()){let e=t.getMetersPerUnit();e&&(r=r*e/tZ[n])}}else{let s=t.getUnits();if(("degrees"!=s||n)&&"degrees"!=n){let a=eE(t,ev("EPSG:4326"));if(a===ep&&"degrees"!==s)r=e*t.getMetersPerUnit();else{let t=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];t=a(t,t,2);let n=eu(t.slice(0,2),t.slice(2,4)),s=eu(t.slice(4,6),t.slice(6,8));r=(n+s)/2}let o=n?tZ[n]:t.getMetersPerUnit();void 0!==o&&(r/=o)}else r=e}return r}function ex(t){!function(t){t.forEach(e_)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&ee(e,t,em)})})}function eb(t,e){return t?"string"==typeof t?ev(t):t:ev(e)}function eM(t){return function(e,i,n){let r=e.length;n=void 0!==n?n:2,i=void 0!==i?i:Array(r);for(let s=0;s<r;s+=n){let r=t(e.slice(s,s+n)),a=r.length;for(let t=0,o=n;t<o;++t)i[s+t]=t>=a?e[s+t]:r[t]}return i}}function ew(t,e){if(t===e)return!0;let i=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return i;let n=eE(t,e);return n===em&&i}function eE(t,e){let i=t.getCode(),n=e.getCode(),r=ei(i,n);return r||(r=ep),r}function eC(t,e){let i=ev(t),n=ev(e);return eE(i,n)}function eS(t,e,i){let n=eC(e,i);return n(t,void 0,t.length)}function eI(){return null}function eR(t,e){return eg&&!er(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(eg=!1,ef("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function eP(t,e,i){return function(n){let r,s;if(t.canWrapX()){let e=t.getExtent(),a=tC(e);(s=el(n=n.slice(0),t,a))&&(n[0]=n[0]-s*a),n[0]=tP(n[0],e[0],e[2]),n[1]=tP(n[1],e[1],e[3]),r=i(n)}else r=i(n);return s&&e.canWrapX()&&(r[0]+=s*tC(e.getExtent())),r}}function ek(t,e,i){return function(n,r,s,a,o){if(!n)return;if(!r&&!e)return n;let h=e?0:s[0]*r,l=e?0:s[1]*r,u=o?o[0]:0,c=o?o[1]:0,d=t[0]+h/2+u,f=t[2]-h/2+u,g=t[1]+l/2+c,m=t[3]-l/2+c;d>f&&(f=d=(f+d)/2),g>m&&(m=g=(m+g)/2);let p=tP(n[0],d,f),_=tP(n[1],g,m);if(a&&i&&r){let t=30*r;p+=-t*Math.log(1+Math.max(0,d-n[0])/t)+t*Math.log(1+Math.max(0,n[0]-f)/t),_+=-t*Math.log(1+Math.max(0,g-n[1])/t)+t*Math.log(1+Math.max(0,n[1]-m)/t)}return[p,_]}}function eT(t){return t}function eA(t,e,i,n){let r=tC(e)/i[0],s=tb(e)/i[1];return n?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function eL(t,e,i){let n=Math.min(t,e);return n*=Math.log(1+50*Math.max(0,t/e-1))/50+1,i&&(n=Math.max(n,i)/(Math.log(1+50*Math.max(0,i/t-1))/50+1)),tP(n,i/2,2*e)}function eO(t,e,i,n,r){return i=void 0===i||i,function(s,a,o,h){if(void 0!==s){let a=n?eA(t,n,o,r):t;return i&&h?eL(s,a,e):tP(s,e,a)}}}function eF(t){if(void 0!==t)return 0}function eD(t){if(void 0!==t)return t}function eN(t){return 1-Math.pow(1-t,3)}function e$(t){return 3*t*t-2*t*t*t}function eG(t){return t}function ez(t,e,i,n,r,s){s=s||[];let a=0;for(let o=e;o<i;o+=n){let e=t[o],i=t[o+1];s[a++]=r[0]*e+r[2]*i+r[4],s[a++]=r[1]*e+r[3]*i+r[5]}return s&&s.length!=a&&(s.length=a),s}function ej(t,e,i,n,r,s,a){a=a||[];let o=Math.cos(r),h=Math.sin(r),l=s[0],u=s[1],c=0;for(let r=e;r<i;r+=n){let e=t[r]-l,i=t[r+1]-u;a[c++]=l+e*o-i*h,a[c++]=u+e*h+i*o;for(let e=r+2;e<r+n;++e)a[c++]=t[e]}return a&&a.length!=c&&(a.length=c),a}function eB(t,e,i,n,r,s,a){a=a||[];let o=0;for(let h=e;h<i;h+=n){a[o++]=t[h]+r,a[o++]=t[h+1]+s;for(let e=h+2;e<h+n;++e)a[o++]=t[e]}return a&&a.length!=o&&(a.length=o),a}ex(t4),ex(t9),function(t,e,i,n){t.forEach(function(t){e.forEach(function(e){ee(t,e,i),ee(e,t,n)})})}(t9,t4,function(t,e,i){let n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n));for(let r=0;r<n;r+=i){e[r]=tQ*t[r]/180;let i=6378137*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));i>t2?i=t2:i<-t2&&(i=-t2),e[r+1]=i}return e},function(t,e,i){let n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n));for(let r=0;r<n;r+=i)e[r]=180*t[r]/tQ,e[r+1]=360*Math.atan(Math.exp(t[r+1]/6378137))/Math.PI-90;return e});const eW=U();var eV=class extends P{constructor(){super(),this.extent_=to(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=function(t){let e,i,n,r=!1;return function(){let s=Array.prototype.slice.call(arguments);return r&&this===n&&f(s,i)||(r=!0,n=this,i=s,e=t.apply(this,arguments)),e}}(function(t,e,i){if(!i)return this.getSimplifiedGeometry(e);let n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return C()}closestPointXY(t,e,i,n){return C()}containsXY(t,e){let i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return C()}getExtent(t){var e;if(this.extentRevision_!=this.getRevision()){let t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&tl(t),this.extentRevision_=this.getRevision()}return e=this.extent_,t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}rotate(t,e){C()}scale(t,e,i){C()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return C()}getType(){return C()}applyTransform(t){C()}intersectsExtent(t){return C()}translate(t,e){C()}transform(t,e){let i=ev(t),n="tile-pixels"==i.getUnits()?function(t,n,r){let s=i.getExtent(),a=i.getWorldExtent(),o=tb(a)/tb(s);return Y(eW,a[0],a[3],o,-o,0,0,0),ez(t,0,t.length,r,eW,n),eC(i,e)(t,n,r)}:eC(i,e);return this.applyTransform(n),this}};function eH(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}var eq=class extends eV{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return tc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return C()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let e=this.getSimplifiedGeometryInternal(t),i=e.getFlatCoordinates();return i.length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=eH(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){C()}setLayout(t,e,i){let n;if(t)n=eH(t);else{var r;let s;for(let t=0;t<i;++t){if(0===e.length){this.layout="XY",this.stride=2;return}e=e[0]}2==(r=n=e.length)?s="XY":3==r?s="XYZ":4==r&&(s="XYZM"),t=s}this.layout=t,this.stride=n}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){let i=this.getFlatCoordinates();if(i){let n=this.getStride();ej(i,0,i.length,n,t,e,i),this.changed()}}scale(t,e,i){void 0===e&&(e=t),i||(i=ty(this.getExtent()));let n=this.getFlatCoordinates();if(n){let r=this.getStride();(function(t,e,i,n,r,s,a,o){o=o||[];let h=a[0],l=a[1],u=0;for(let e=0;e<i;e+=n){let i=t[e]-h,a=t[e+1]-l;o[u++]=h+r*i,o[u++]=l+s*a;for(let i=e+2;i<e+n;++i)o[u++]=t[i]}o&&o.length!=u&&(o.length=u)})(n,0,n.length,r,t,e,i,n),this.changed()}}translate(t,e){let i=this.getFlatCoordinates();if(i){let n=this.getStride();eB(i,0,i.length,n,t,e,i),this.changed()}}};function eU(t,e,i,n,r,s,a){let o;let h=t[e],l=t[e+1],u=t[i]-h,c=t[i+1]-l;if(0===u&&0===c)o=e;else{let f=((r-h)*u+(s-l)*c)/(u*u+c*c);if(f>1)o=i;else if(f>0){for(let r=0;r<n;++r){var d;a[r]=(d=t[e+r],d+f*(t[i+r]-d))}a.length=n;return}else o=e}for(let e=0;e<n;++e)a[e]=t[o+e];a.length=n}function eX(t,e,i,n,r){let s=t[e],a=t[e+1];for(e+=n;e<i;e+=n){let i=t[e],n=t[e+1],o=tk(s,a,i,n);o>r&&(r=o),s=i,a=n}return r}function eY(t,e,i,n,r){for(let s=0,a=i.length;s<a;++s){let a=i[s];r=eX(t,e,a,n,r),e=a}return r}function eK(t,e,i,n,r,s,a,o,h,l,u){let c,d;if(e==i)return l;if(0===r){if((d=tk(a,o,t[e],t[e+1]))<l){for(c=0;c<n;++c)h[c]=t[e+c];return h.length=n,d}return l}u=u||[NaN,NaN];let f=e+n;for(;f<i;)if(eU(t,f-n,f,n,a,o,u),(d=tk(a,o,u[0],u[1]))<l){for(c=0,l=d;c<n;++c)h[c]=u[c];h.length=n,f+=n}else f+=n*Math.max((Math.sqrt(d)-Math.sqrt(l))/r|0,1);if(s&&(eU(t,i-n,e,n,a,o,u),(d=tk(a,o,u[0],u[1]))<l)){for(c=0,l=d;c<n;++c)h[c]=u[c];h.length=n}return l}function eZ(t,e,i,n,r,s,a,o,h,l,u){u=u||[NaN,NaN];for(let c=0,d=i.length;c<d;++c){let d=i[c];l=eK(t,e,d,n,r,s,a,o,h,l,u),e=d}return l}function eJ(t,e,i,n){for(let n=0,r=i.length;n<r;++n)t[e++]=i[n];return e}function eQ(t,e,i,n){for(let r=0,s=i.length;r<s;++r){let s=i[r];for(let i=0;i<n;++i)t[e++]=s[i]}return e}function e0(t,e,i,n,r){r=r||[];let s=0;for(let a=0,o=i.length;a<o;++a){let o=eQ(t,e,i[a],n);r[s++]=o,e=o}return r.length=s,r}function e1(t,e,i,n,r,s,a){let o=(i-e)/n;if(o<3){for(;e<i;e+=n)s[a++]=t[e],s[a++]=t[e+1];return a}let h=Array(o);h[0]=1,h[o-1]=1;let l=[e,i-n],u=0;for(;l.length>0;){let i=l.pop(),s=l.pop(),a=0,o=t[s],c=t[s+1],d=t[i],f=t[i+1];for(let e=s+n;e<i;e+=n){let i=t[e],n=t[e+1],r=function(t,e,i,n,r,s){let a=r-i,o=s-n;if(0!==a||0!==o){let h=((t-i)*a+(e-n)*o)/(a*a+o*o);h>1?(i=r,n=s):h>0&&(i+=a*h,n+=o*h)}return tk(t,e,i,n)}(i,n,o,c,d,f);r>a&&(u=e,a=r)}a>r&&(h[(u-e)/n]=1,s+n<u&&l.push(s,u),u+n<i&&l.push(u,i))}for(let i=0;i<o;++i)h[i]&&(s[a++]=t[e+i*n],s[a++]=t[e+i*n+1]);return a}function e2(t,e){return e*Math.round(t/e)}function e3(t,e,i,n,r,s,a,o){for(let h=0,l=i.length;h<l;++h){let l=i[h];a=function(t,e,i,n,r,s,a){let o,h;if(e==i)return a;let l=e2(t[e],r),u=e2(t[e+1],r);e+=n,s[a++]=l,s[a++]=u;do if(o=e2(t[e],r),h=e2(t[e+1],r),(e+=n)==i)return s[a++]=o,s[a++]=h,a;while(o==l&&h==u)for(;e<i;){let i=e2(t[e],r),c=e2(t[e+1],r);if(e+=n,i==o&&c==h)continue;let d=o-l,f=h-u,g=i-l,m=c-u;if(d*m==f*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(f<0&&m<f||f==m||f>0&&m>f)){o=i,h=c;continue}s[a++]=o,s[a++]=h,l=o,u=h,o=i,h=c}return s[a++]=o,s[a++]=h,a}(t,e,l,n,r,s,a),o.push(a),e=l}return a}function e4(t,e,i,n,r){r=void 0!==r?r:[];let s=0;for(let a=e;a<i;a+=n)r[s++]=t.slice(a,a+n);return r.length=s,r}function e5(t,e,i,n,r){r=void 0!==r?r:[];let s=0;for(let a=0,o=i.length;a<o;++a){let o=i[a];r[s++]=e4(t,e,o,n,r[s]),e=o}return r.length=s,r}function e6(t,e,i,n,r){r=void 0!==r?r:[];let s=0;for(let a=0,o=i.length;a<o;++a){let o=i[a];r[s++]=1===o.length&&o[0]===e?[]:e5(t,e,o,n,r[s]),e=o[o.length-1]}return r.length=s,r}function e8(t,e,i,n){let r=0,s=t[i-n],a=t[i-n+1];for(;e<i;e+=n){let i=t[e],n=t[e+1];r+=a*i-s*n,s=i,a=n}return r/2}function e9(t,e,i,n){let r=0;for(let s=0,a=i.length;s<a;++s){let a=i[s];r+=e8(t,e,a,n),e=a}return r}class e7 extends eq{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new e7(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,i,n){return n<ti(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eX(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),eK(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))}getArea(){return e8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return e4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){let e=[];return e.length=e1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new e7(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=eQ(this.flatCoordinates,0,t,this.stride),this.changed()}}class it extends eq{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){let t=new it(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,n){let r=this.flatCoordinates,s=tk(t,e,r[0],r[1]);if(s<n){let t=this.stride;for(let e=0;e<t;++e)i[e]=r[e];return i.length=t,s}return n}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return tu(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return ts(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=eJ(this.flatCoordinates,0,t,this.stride),this.changed()}}function ie(t,e,i,n,r,s){let a=0,o=t[i-n],h=t[i-n+1];for(;e<i;e+=n){let i=t[e],n=t[e+1];h<=s?n>s&&(i-o)*(s-h)-(r-o)*(n-h)>0&&a++:n<=s&&(i-o)*(s-h)-(r-o)*(n-h)<0&&a--,o=i,h=n}return 0!==a}function ii(t,e,i,n,r,s){if(0===i.length||!ie(t,e,i[0],n,r,s))return!1;for(let e=1,a=i.length;e<a;++e)if(ie(t,i[e-1],i[e],n,r,s))return!1;return!0}function ir(t,e,i,n,r,s,a){let o,h,l,c,d,f,g;let m=r[s+1],p=[];for(let r=0,s=i.length;r<s;++r){let s=i[r];for(c=t[s-n],f=t[s-n+1],o=e;o<s;o+=n)d=t[o],g=t[o+1],(m<=f&&g<=m||f<=m&&m<=g)&&(l=(m-f)/(g-f)*(d-c)+c,p.push(l)),c=d,f=g}let _=NaN,v=-1/0;for(p.sort(u),c=p[0],o=1,h=p.length;o<h;++o){d=p[o];let r=Math.abs(d-c);r>v&&ii(t,e,i,n,l=(c+d)/2,m)&&(_=l,v=r),c=d}return(isNaN(_)&&(_=r[s]),a)?(a.push(_,m,v),a):[_,m,v]}function is(t,e,i,n,r){let s;for(e+=n;e<i;e+=n)if(s=r(t.slice(e-n,e),t.slice(e,e+n)))return s;return!1}function ia(t,e,i,n,r){let s=tm(to(),t,e,i,n);return!!tS(r,s)&&(!!tr(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]||is(t,e,i,n,function(t,e){return function(t,e,i){let n=!1,r=ta(t,e),s=ta(t,i);if(r===J.INTERSECTING||s===J.INTERSECTING)n=!0;else{let a,o;let h=t[0],l=t[1],u=t[2],c=t[3],d=e[0],f=e[1],g=i[0],m=i[1],p=(m-f)/(g-d);s&J.ABOVE&&!(r&J.ABOVE)&&(n=(a=g-(m-c)/p)>=h&&a<=u),n||!(s&J.RIGHT)||r&J.RIGHT||(n=(o=m-(g-u)*p)>=l&&o<=c),n||!(s&J.BELOW)||r&J.BELOW||(n=(a=g-(m-l)/p)>=h&&a<=u),n||!(s&J.LEFT)||r&J.LEFT||(n=(o=m-(g-h)*p)>=l&&o<=c)}return n}(r,t,e)}))}function io(t,e,i,n,r){var s;if(!(ia(t,e,s=i[0],n,r)||ie(t,e,s,n,r[0],r[1])||ie(t,e,s,n,r[0],r[3])||ie(t,e,s,n,r[2],r[1])||ie(t,e,s,n,r[2],r[3])))return!1;if(1===i.length)return!0;for(let e=1,s=i.length;e<s;++e)if(function(t,e,i,n,r){let s=tp(r,function(r){return!ie(t,e,i,n,r[0],r[1])});return!s}(t,i[e-1],i[e],n,r)&&!ia(t,i[e-1],i[e],n,r))return!1;return!0}function ih(t,e,i,n){let r=0,s=t[i-n],a=t[i-n+1];for(;e<i;e+=n){let i=t[e],n=t[e+1];r+=(i-s)*(n+a),s=i,a=n}return 0===r?void 0:r>0}function il(t,e,i,n,r){r=void 0!==r&&r;for(let s=0,a=i.length;s<a;++s){let a=i[s],o=ih(t,e,a,n);if(0===s){if(r&&o||!r&&!o)return!1}else if(r&&!o||!r&&o)return!1;e=a}return!0}function iu(t,e,i,n,r){r=void 0!==r&&r;for(let s=0,a=i.length;s<a;++s){let a=i[s],o=ih(t,e,a,n),h=0===s?r&&o||!r&&!o:r&&!o||!r&&o;h&&function(t,e,i,n){for(;e<i-n;){for(let r=0;r<n;++r){let s=t[e+r];t[e+r]=t[i-n+r],t[i-n+r]=s}e+=n,i-=n}}(t,e,a,n),e=a}return e}function ic(t,e,i,n,r){for(let s=0,a=i.length;s<a;++s)e=iu(t,e,i[s],n,r);return e}class id extends eq{constructor(t,e,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?d(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let t=new id(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,n){return n<ti(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eY(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),eZ(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))}containsXY(t,e){return ii(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return e9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?iu(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,e5(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let t=ty(this.getExtent());this.flatInteriorPoint_=ir(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new it(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new e7(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){let t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[],r=0;for(let s=0,a=i.length;s<a;++s){let a=i[s],o=new e7(e.slice(r,a),t);n.push(o),r=a}return n}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let t=this.flatCoordinates;il(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=iu(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){let e=[],i=[];return e.length=e3(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new id(e,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return io(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=e0(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}function ig(t){let e=t[0],i=t[1],n=t[2],r=t[3],s=[e,i,e,r,n,r,n,i,e,i];return new id(s,"XY",[s.length])}function im(t,e,i){e=e||32;let n=t.getStride(),r=t.getLayout(),s=t.getCenter(),a=n*(e+1),o=Array(a);for(let t=0;t<a;t+=n){o[t]=0,o[t+1]=0;for(let e=2;e<n;e++)o[t+e]=s[e]}let h=[o.length],l=new id(o,r,h);return function(t,e,i,n){let r=t.getFlatCoordinates(),s=t.getStride(),a=r.length/s-1,o=n||0;for(let t=0;t<=a;++t){let n=t*s,h=o+2*tA(t,a)*Math.PI/a;r[n]=e[0]+i*Math.cos(h),r[n+1]=e[1]+i*Math.sin(h)}t.changed()}(l,s,t.getRadius(),i),l}function ip(t,e){setTimeout(function(){t(e)},0)}function i_(t,e,i,n,r){let s=Math.cos(-r),a=Math.sin(-r),o=t[0]*s-t[1]*a,h=t[1]*s+t[0]*a;o+=(e[0]/2-i[0])*n,h+=(i[1]-e[1]/2)*n,a=-a;let l=o*s-h*a,u=h*s+o*a;return[l,u]}var iv=class extends P{constructor(t){var e,i;super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=eb(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&function(t){eg=!(void 0===t||t)}(),t.center&&(t.center=eR(t.center,this.projection_)),t.extent&&(t.extent=(e=t.extent,this.projection_,e)),this.applyOptions_(t)}applyOptions_(t){let e=Object.assign({},t);for(let t in tK)delete e[t];this.setProperties(e,!0);let i=function(t){var e,i,n,r,s,a;let o,h,l;let u=void 0!==t.minZoom?t.minZoom:0,d=void 0!==t.maxZoom?t.maxZoom:28,f=void 0!==t.zoomFactor?t.zoomFactor:2,g=void 0!==t.multiWorld&&t.multiWorld,m=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,p=void 0!==t.showFullExtent&&t.showFullExtent,_=eb(t.projection,"EPSG:3857"),v=_.getExtent(),y=t.constrainOnlyCenter,x=t.extent;if(!g&&!x&&_.isGlobal()&&(y=!1,x=v),void 0!==t.resolutions){let n=t.resolutions;h=n[u],l=void 0!==n[d]?n[d]:n[n.length-1],o=t.constrainResolution?(e=m,i=!y&&x,e=void 0===e||e,function(t,r,s,a){if(void 0!==t){let o=n[0],h=n[n.length-1],l=i?eA(o,i,s,p):o;if(a)return e?eL(t,l,h):tP(t,h,l);let u=Math.min(l,t),d=Math.floor(c(n,u,r));return n[d]>l&&d<n.length-1?n[d+1]:n[d]}}):eO(h,l,m,!y&&x,p)}else{let e=v?Math.max(tC(v),tb(v)):360*tZ.degrees/_.getMetersPerUnit(),i=e/256/1;void 0!==(h=t.maxResolution)?u=0:h=i/Math.pow(f,u),void 0===(l=t.minResolution)&&(l=void 0!==t.maxZoom?void 0!==t.maxResolution?h/Math.pow(f,d):i/Math.pow(f,d):i/268435456),d=u+Math.floor(Math.log(h/l)/Math.log(f)),l=h/Math.pow(f,d-u),o=t.constrainResolution?(n=h,r=l,s=m,a=!y&&x,s=void 0===s||s,r=void 0!==r?r:0,function(t,e,i,o){if(void 0!==t){let h=a?eA(n,a,i,p):n;if(o)return s?eL(t,h,r):tP(t,r,h);let l=Math.ceil(Math.log(n/h)/Math.log(f)-1e-9),u=Math.min(h,t),c=Math.floor(Math.log(n/u)/Math.log(f)+(-(.499999999*e)+.5)),d=n/Math.pow(f,Math.max(l,c));return tP(d,r,h)}}):eO(h,l,m,!y&&x,p)}return{constraint:o,maxResolution:h,minResolution:l,minZoom:u,zoomFactor:f}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;let n=function(t){if(void 0!==t.extent){let e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return ek(t.extent,t.constrainOnlyCenter,e)}let e=eb(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){let t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,ek(t,!1,!1)}return eT}(t),r=i.constraint,s=function(t){let e=void 0===t.enableRotation||t.enableRotation;if(e){let e=t.constrainRotation;if(void 0===e||!0===e){var i;return i=i||tT(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=i?0:t:void 0}}if(!1===e);else if("number"==typeof e)return function(t){let e=2*Math.PI/t;return function(t,i){return i?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}(e);return eD}return eF}(t);this.constraints_={center:n,resolution:r,rotation:s},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;let i=this.getCenterInternal();if(i){let n=t||[0,0,0,0];e=e||[0,0,0,0];let r=this.getResolution(),s=r/2*(n[3]-e[3]+e[1]-n[1]),a=r/2*(n[0]-e[0]+e[2]-n[2]);this.setCenterInternal([i[0]+s,i[1]-a])}}getUpdatedOptions_(t){let e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let e=Array(arguments.length);for(let t=0;t<e.length;++t){let i=arguments[t];i.center&&((i=Object.assign({},i)).center=eR(i.center,this.getProjection())),i.anchor&&((i=Object.assign({},i)).anchor=eR(i.anchor,this.getProjection())),e[t]=i}this.animateInternal.apply(this,e)}animateInternal(t){let e,i=arguments.length;i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i);let n=0;for(;n<i&&!this.isDef();++n){let t=arguments[n];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(n===i){e&&ip(e,!0);return}let r=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,o=this.targetRotation_,h=[];for(;n<i;++n){let t=arguments[n],i={start:r,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||e$,callback:e};if(t.center&&(i.sourceCenter=s,i.targetCenter=t.center.slice(),s=i.targetCenter),void 0!==t.zoom?(i.sourceResolution=a,i.targetResolution=this.getResolutionForZoom(t.zoom),a=i.targetResolution):t.resolution&&(i.sourceResolution=a,i.targetResolution=t.resolution,a=i.targetResolution),void 0!==t.rotation){i.sourceRotation=o;let e=tA(t.rotation-o+Math.PI,2*Math.PI)-Math.PI;i.targetRotation=o+e,o=i.targetRotation}(!i.sourceCenter||!i.targetCenter||er(i.sourceCenter,i.targetCenter))&&i.sourceResolution===i.targetResolution&&i.sourceRotation===i.targetRotation?i.complete=!0:r+=i.duration,h.push(i)}this.animations_.push(h),this.setHint(tY.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[tY.ANIMATING]>0}getInteracting(){return this.hints_[tY.INTERACTING]>0}cancelAnimations(){let t;this.setHint(tY.ANIMATING,-this.hints_[tY.ANIMATING]);for(let e=0,i=this.animations_.length;e<i;++e){let i=this.animations_[e];if(i[0].callback&&ip(i[0].callback,!1),!t)for(let e=0,n=i.length;e<n;++e){let n=i[e];if(!n.complete){t=n.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let t=Date.now(),e=!1;for(let i=this.animations_.length-1;i>=0;--i){let n=this.animations_[i],r=!0;for(let i=0,s=n.length;i<s;++i){let s=n[i];if(s.complete)continue;let a=t-s.start,o=s.duration>0?a/s.duration:1;o>=1?(s.complete=!0,o=1):r=!1;let h=s.easing(o);if(s.sourceCenter){let t=s.sourceCenter[0],e=s.sourceCenter[1],i=s.targetCenter[0],n=s.targetCenter[1];this.nextCenter_=s.targetCenter;let r=t+h*(i-t),a=e+h*(n-e);this.targetCenter_=[r,a]}if(s.sourceResolution&&s.targetResolution){let t=1===h?s.targetResolution:s.sourceResolution+h*(s.targetResolution-s.sourceResolution);if(s.anchor){let e=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(i,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){let t=1===h?tA(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+h*(s.targetRotation-s.sourceRotation);if(s.anchor){let e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!s.complete)break}if(r){this.animations_[i]=null,this.setHint(tY.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let t=n[0].callback;t&&ip(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){var i;let n;let r=this.getCenterInternal();return void 0!==r&&(es(n=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),i=n,i[0]+=+e[0],i[1]+=+e[1]),n}calculateCenterZoom(t,e){let i;let n=this.getCenterInternal(),r=this.getResolution();if(void 0!==n&&void 0!==r){let s=e[0]-t*(e[0]-n[0])/r,a=e[1]-t*(e[1]-n[1])/r;i=[s,a]}return i}getViewportSize_(t){let e=this.viewportSize_;if(t){let i=e[0],n=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(n*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(n*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){var t;let e=this.getCenterInternal();return e&&this.getProjection(),e}getCenterInternal(){return this.get(tK.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){var e;let i=this.calculateExtentInternal(t);return this.getProjection(),i}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();let e=this.getCenterInternal();A(e,1);let i=this.getResolution();A(void 0!==i,2);let n=this.getRotation();return A(void 0!==n,3),tx(e,i,n,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(tK.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){var i;return this.getResolutionForExtentInternal((this.getProjection(),t),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();let i=tC(t)/e[0],n=tb(t)/e[1];return Math.max(i,n)}getResolutionForValueFunction(t){t=t||2;let e=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(e/i)/Math.log(t);return function(i){let r=e/Math.pow(t,i*n);return r}}getRotation(){return this.get(tK.ROTATION)}getValueForResolutionFunction(t){let e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(i/n)/e;return function(t){return Math.log(i/t)/e/r}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t),i=this.padding_;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e}getState(){let t=this.getProjection(),e=this.getResolution(),i=this.getRotation(),n=this.getCenterInternal(),r=this.padding_;if(r){let t=this.getViewportSizeMinusPadding_();n=i_(n,this.getViewportSize_(),[t[0]/2+r[3],t[1]/2+r[0]],e,i)}return{center:n.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;let e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,i,n=this.minZoom_||0;if(this.resolutions_){let r=c(this.resolutions_,t,1);n=r,e=this.resolutions_[r],i=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;let e=tP(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,tP(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){var i,n,r;let s;if(A(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){A(!tI(t),25);let e=(this.getProjection(),t);s=ig(e)}else if("Circle"===t.getType()){let e=(n=t.getExtent(),this.getProjection(),n);(s=ig(e)).rotate(this.getRotation(),ty(e))}else{let e=eI();s=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(s,e)}rotatedExtentForGeometry(t){let e=this.getRotation(),i=Math.cos(e),n=Math.sin(-e),r=t.getFlatCoordinates(),s=t.getStride(),a=1/0,o=1/0,h=-1/0,l=-1/0;for(let t=0,e=r.length;t<e;t+=s){let e=r[t]*i-r[t+1]*n,s=r[t]*n+r[t+1]*i;a=Math.min(a,e),o=Math.min(o,s),h=Math.max(h,e),l=Math.max(l,s)}return[a,o,h,l]}fitInternal(t,e){let i;let n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());let r=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0!==e.nearest&&e.nearest;i=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;let a=this.rotatedExtentForGeometry(t),o=this.getResolutionForExtentInternal(a,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);o=isNaN(o)?i:Math.max(o,i),o=this.getConstrainedResolution(o,s?0:1);let h=this.getRotation(),l=Math.sin(h),u=Math.cos(h),c=ty(a);c[0]+=(r[1]-r[3])/2*o,c[1]+=(r[0]-r[2])/2*o;let d=c[0]*u-c[1]*l,f=c[1]*u+c[0]*l,g=this.getConstrainedCenter([d,f],o),m=e.callback?e.callback:p;void 0!==e.duration?this.animateInternal({resolution:o,center:g,duration:e.duration,easing:e.easing},m):(this.targetResolution_=o,this.targetCenter_=g,this.applyTargetState_(!1,!0),ip(m,!0))}centerOn(t,e,i){this.centerOnInternal(eR(t,this.getProjection()),e,i)}centerOnInternal(t,e,i){this.setCenterInternal(i_(t,e,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,i,n){let r;let s=this.padding_;if(s&&t){let a=this.getViewportSizeMinusPadding_(-i),o=i_(t,n,[a[0]/2+s[3],a[1]/2+s[0]],e,i);r=[t[0]-o[0],t[1]-o[1]]}return r}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){var e,i;let n=(e=this.targetCenter_,this.getProjection(),e);this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){let e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&eR(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){let i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,n,i);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=eR(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){let i=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(n,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?eR(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){let i=this.getAnimating()||this.getInteracting()||e,n=this.constraints_.rotation(this.targetRotation_,i),r=this.getViewportSize_(n),s=this.constraints_.resolution(this.targetResolution_,0,r,i),a=this.constraints_.center(this.targetCenter_,s,r,i,this.calculateCenterShift(this.targetCenter_,s,n,r));this.get(tK.ROTATION)!==n&&this.set(tK.ROTATION,n),this.get(tK.RESOLUTION)!==s&&(this.set(tK.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),a&&this.get(tK.CENTER)&&er(this.get(tK.CENTER),a)||this.set(tK.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,i){t=void 0!==t?t:200;let n=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(n),s=this.constraints_.resolution(this.targetResolution_,e||0,r),a=this.constraints_.center(this.targetCenter_,s,r,!1,this.calculateCenterShift(this.targetCenter_,s,n,r));if(0===t&&!this.cancelAnchor_){this.targetResolution_=s,this.targetRotation_=n,this.targetCenter_=a,this.applyTargetState_();return}i=i||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===n&&this.getCenterInternal()&&er(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:n,center:a,resolution:s,duration:t,easing:eN,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(tY.INTERACTING,1)}endInteraction(t,e,i){i=i&&eR(i,this.getProjection()),this.endInteractionInternal(t,e,i)}endInteractionInternal(t,e,i){this.getInteracting()&&(this.setHint(tY.INTERACTING,-1),this.resolveConstraints(t,e,i))}getConstrainedCenter(t,e){let i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)}getConstrainedZoom(t,e){let i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))}getConstrainedResolution(t,e){e=e||0;let i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,i)}};function iy(t,e){if(!t.visible)return!1;let i=e.resolution;if(i<t.minResolution||i>=t.maxResolution)return!1;let n=e.zoom;return n>t.minZoom&&n<=t.maxZoom}var ix=class extends tU{constructor(t){let e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(tq.SOURCE,this.handleSourcePropertyChange_);let i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(tq.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(M(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let t=this.getSource();t&&(this.sourceChangeKey_=b(t,x.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;e=t instanceof iv?{viewState:t.getState(),extent:t.calculateExtent()}:t;let i=this.getExtent();return this.getVisible()&&iy(this.getLayerState(),e.viewState)&&(!i||tS(i,e.extent))}getAttributions(t){let e;if(!this.isVisible(t))return[];let i=this.getSource();if(i&&(e=i.getAttributions()),!e)return[];let n=t instanceof iv?t.getViewStateAndExtent():t,r=e(n);return Array.isArray(r)||(r=[r]),r}render(t,e){let i=this.getRenderer();if(i.prepareFrame(t))return this.rendered=!0,i.renderFrame(t,e)}unrender(){this.rendered=!1}setMapInternal(t){t||this.unrender(),this.set(tq.MAP,t)}getMapInternal(){return this.get(tq.MAP)}setMap(t){this.mapPrecomposeKey_&&(M(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(M(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=b(t,tX.PRECOMPOSE,function(t){let e=t.frameState.layerStatesArray,i=this.getLayerState(!1);A(!e.some(function(t){return t.layer===i.layer}),67),e.push(i)},this),this.mapRenderKey_=b(this,x.CHANGE,t.render,t),this.changed())}setSource(t){this.set(tq.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function ib(t,e){tH.expire()}var iM=class extends l{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){C()}calculateMatrices2D(t){let e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;Y(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),K(n,i)}forEachFeatureAtCoordinate(t,e,i,n,r,s,a,o){let h;let l=e.viewState;function u(t,e,i,n){return r.call(s,e,t?i:null,n)}let c=l.projection,d=eh(t.slice(),c),f=[[0,0]];if(c.canWrapX()&&n){let t=c.getExtent(),e=tC(t);f.push([-e,0],[e,0])}let g=e.layerStatesArray,m=g.length,p=[],_=[];for(let n=0;n<f.length;n++)for(let r=m-1;r>=0;--r){let s=g[r],c=s.layer;if(c.hasRenderer()&&iy(s,l)&&a.call(o,c)){let r=c.getRenderer(),a=c.getSource();if(r&&a){let o=a.getWrapX()?d:t,l=u.bind(null,s.managed);_[0]=o[0]+f[n][0],_[1]=o[1]+f[n][1],h=r.forEachFeatureAtCoordinate(_,e,i,l,p)}if(h)return h}}if(0===p.length)return;let v=1/p.length;return p.forEach((t,e)=>t.distanceSq+=e*v),p.sort((t,e)=>t.distanceSq-e.distanceSq),p.some(t=>h=t.callback(t.feature,t.layer,t.geometry)),h}hasFeatureAtCoordinate(t,e,i,n,r,s){let a=this.forEachFeatureAtCoordinate(t,e,i,n,g,this,r,s);return void 0!==a}getMap(){return this.map_}renderFrame(t){C()}scheduleExpireIconCache(t){tH.canExpireCache()&&t.postRenderFunctions.push(ib)}},iw=class extends o{constructor(t,e,i,n){super(t),this.inversePixelTransform=e,this.frameState=i,this.context=n}};const iE="ol-hidden",iC="ol-unselectable",iS="ol-control",iI="ol-collapsed",iR=RegExp("^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$","i"),iP=["style","variant","weight","size","lineHeight","family"],ik=function(t){let e=t.match(iR);if(!e)return null;let i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let t=0,n=iP.length;t<n;++t){let n=e[t+1];void 0!==n&&(i[iP[t]]=n)}return i.families=i.family.split(/,\s?/),i};function iT(t,e,i,n){let r;return r=i&&i.length?i.shift():V?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",n)}function iA(t){let e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function iL(t,e){let i=e.parentNode;i&&i.replaceChild(t,e)}function iO(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function iF(t){for(;t.lastChild;)t.removeChild(t.lastChild)}const iD="10px sans-serif",iN="#000",i$="round",iG=[],iz="round",ij="#000",iB="center",iW="middle",iV=[0,0,0,0],iH=new P;let iq=null;const iU={},iX=function(){let t,i;let n="32px ",r=["monospace","serif"],s=r.length,a="wmytzilWMYTZIL@#/&?$%10";function o(t,e,o){let h=!0;for(let l=0;l<s;++l){let s=r[l];if(i=iZ(t+" "+e+" "+n+s,a),o!=s){let r=iZ(t+" "+e+" "+n+o+","+s,a);h=h&&r!=i}}return!!h}function h(){let i=!0,n=iH.getKeys();for(let t=0,r=n.length;t<r;++t){let r=n[t];100>iH.get(r)&&(o.apply(this,r.split("\n"))?(_(iU),iq=null,e=void 0,iH.set(r,100)):(iH.set(r,iH.get(r)+1,!0),i=!1))}i&&(clearInterval(t),t=void 0)}return function(e){let i=ik(e);if(!i)return;let n=i.families;for(let e=0,r=n.length;e<r;++e){let r=n[e],s=i.style+"\n"+i.weight+"\n"+r;void 0!==iH.get(s)||(iH.set(s,100,!0),o(i.style,i.weight,r)||(iH.set(s,0,!0),void 0===t&&(t=setInterval(h,32))))}}}(),iY=function(){let t;return function(e){let i=iU[e];if(void 0==i){if(V){let t=ik(e),n=iK(e,"Žg"),r=isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight);i=r*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else t||((t=document.createElement("div")).innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),i=t.offsetHeight,document.body.removeChild(t);iU[e]=i}return i}}();function iK(t,i){return iq||(iq=iT(1,1)),t!=e&&(iq.font=t,e=iq.font),iq.measureText(i)}function iZ(t,e){return iK(t,e).width}function iJ(t,e,i){if(e in i)return i[e];let n=e.split("\n").reduce((e,i)=>Math.max(e,iZ(t,i)),0);return i[e]=n,n}var iQ=class extends iM{constructor(t){super(t),this.fontChangeListenerKey_=b(iH,h.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");let e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=iC+" ol-layers";let i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){let i=this.getMap();if(i.hasListener(t)){let n=new iw(t,void 0,e);i.dispatchEvent(n)}}disposeInternal(){M(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(tX.PRECOMPOSE,t);let e=t.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),i=t.viewState;this.children_.length=0;let n=[],r=null;for(let s=0,a=e.length;s<a;++s){let a=e[s];t.layerIndex=s;let o=a.layer,h=o.getSourceState();if(!iy(a,i)||"ready"!=h&&"undefined"!=h){o.unrender();continue}let l=o.render(t,r);l&&(l!==r&&(this.children_.push(l),r=l),"getDeclutter"in o&&n.push(o))}for(let e=n.length-1;e>=0;--e)n[e].renderDeclutter(t);(function(t,e){let i=t.childNodes;for(let n=0;;++n){let r=i[n],s=e[n];if(!r&&!s)break;if(r!==s){if(!r){t.appendChild(s);continue}if(!s){t.removeChild(r),--n;continue}t.insertBefore(s,r)}}})(this.element_,this.children_),this.dispatchRenderEvent(tX.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}};class i0 extends o{constructor(t,e){super(t),this.layer=e}}const i1={LAYERS:"layers"};class i2 extends tU{constructor(t){t=t||{};let e=Object.assign({},t);delete e.layers;let i=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(i1.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new N(i.slice(),{unique:!0}):A("function"==typeof i.getArray,43):i=new N(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(M),this.layersListenerKeys_.length=0;let t=this.getLayers();for(let e in this.layersListenerKeys_.push(b(t,O.ADD,this.handleLayersAdd_,this),b(t,O.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(M);_(this.listenerKeys_);let e=t.getArray();for(let t=0,i=e.length;t<i;t++){let i=e[t];this.registerLayerListeners_(i),this.dispatchEvent(new i0("addlayer",i))}this.changed()}registerLayerListeners_(t){let e=[b(t,h.PROPERTYCHANGE,this.handleLayerChange_,this),b(t,x.CHANGE,this.handleLayerChange_,this)];t instanceof i2&&e.push(b(t,"addlayer",this.handleLayerGroupAdd_,this),b(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[I(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new i0("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new i0("removelayer",t.layer))}handleLayersAdd_(t){let e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new i0("addlayer",e)),this.changed()}handleLayersRemove_(t){let e=t.element,i=I(e);this.listenerKeys_[i].forEach(M),delete this.listenerKeys_[i],this.dispatchEvent(new i0("removelayer",e)),this.changed()}getLayers(){return this.get(i1.LAYERS)}setLayers(t){let e=this.getLayers();if(e){let t=e.getArray();for(let e=0,i=t.length;e<i;++e)this.dispatchEvent(new i0("removelayer",t[e]))}this.set(i1.LAYERS,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach(function(e){e.getLayersArray(t)}),t}getLayerStatesArray(t){let e=void 0!==t?t:[],i=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});let n=this.getLayerState(),r=n.zIndex;t||void 0!==n.zIndex||(r=0);for(let t=i,s=e.length;t<s;t++){let i=e[t];i.opacity*=n.opacity,i.visible=i.visible&&n.visible,i.maxResolution=Math.min(i.maxResolution,n.maxResolution),i.minResolution=Math.max(i.minResolution,n.minResolution),i.minZoom=Math.max(i.minZoom,n.minZoom),i.maxZoom=Math.min(i.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==i.extent?i.extent=tM(i.extent,n.extent):i.extent=n.extent),void 0===i.zIndex&&(i.zIndex=r)}return e}getSourceState(){return"ready"}}var i3=class extends o{constructor(t,e,i){super(t),this.map=e,this.frameState=void 0!==i?i:null}},i4=class extends i3{constructor(t,e,i,n,r,s){super(t,e,r),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==n&&n,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},i5={SINGLECLICK:"singleclick",CLICK:x.CLICK,DBLCLICK:x.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},i6={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},i8=class extends y{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;let i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=b(i,i6.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=b(i,i6.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(x.TOUCHMOVE,this.boundHandleTouchMove_,!!q&&{passive:!1})}emulateClick_(t){let e=new i4(i5.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new i4(i5.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let e=new i4(i5.SINGLECLICK,this.map_,t);this.dispatchEvent(e)},250)}updateActivePointers_(t){let e=t.pointerId;if(t.type==i5.POINTERUP||t.type==i5.POINTERCANCEL){for(let i in delete this.trackedTouches_[e],this.trackedTouches_)if(this.trackedTouches_[i].target!==t.target){delete this.trackedTouches_[i];break}}else(t.type==i5.POINTERDOWN||t.type==i5.POINTERMOVE)&&(this.trackedTouches_[e]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);let e=new i4(i5.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(M),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);let e=new i4(i5.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){let t=this.map_.getOwnerDocument();this.dragListenerKeys_.push(b(t,i5.POINTERMOVE,this.handlePointerMove_,this),b(t,i5.POINTERUP,this.handlePointerUp_,this),b(this.element_,i5.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push(b(this.element_.getRootNode(),i5.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;let e=new i4(i5.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;let e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new i4(i5.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){let e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&("boolean"!=typeof t.cancelable||!0===t.cancelable)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(M(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(x.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(M(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(M),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},i9={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},i7={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};const nt=1/0;var ne=class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,_(this.queuedElements_)}dequeue(){let t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));let n=this.keyFunction_(i);return delete this.queuedElements_[n],i}enqueue(t){A(!(this.keyFunction_(t) in this.queuedElements_),31);let e=this.priorityFunction_(t);return e!=nt&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){let e=this.elements_,i=this.priorities_,n=e.length,r=e[t],s=i[t],a=t;for(;t<n>>1;){let r=this.getLeftChildIndex_(t),s=this.getRightChildIndex_(t),a=s<n&&i[s]<i[r]?s:r;e[t]=e[a],i[t]=i[a],t=a}e[t]=r,i[t]=s,this.siftDown_(a,t)}siftDown_(t,e){let i=this.elements_,n=this.priorities_,r=i[e],s=n[e];for(;e>t;){let t=this.getParentIndex_(e);if(n[t]>s)i[e]=i[t],n[e]=n[t],e=t;else break}i[e]=r,n[e]=s}reprioritize(){let t,e,i;let n=this.priorityFunction_,r=this.elements_,s=this.priorities_,a=0,o=r.length;for(e=0;e<o;++e)(i=n(t=r[e]))==nt?delete this.queuedElements_[this.keyFunction_(t)]:(s[a]=i,r[a++]=t);r.length=a,s.length=a,this.heapify_()}},ni={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},nn=class extends ne{constructor(t,e){super(function(e){return t.apply(null,e)},function(t){return t[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){let e=super.enqueue(t);if(e){let e=t[0];e.addEventListener(x.CHANGE,this.boundHandleTileChange_)}return e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){let e=t.target,i=e.getState();if(i===ni.LOADED||i===ni.ERROR||i===ni.EMPTY){i!==ni.ERROR&&e.removeEventListener(x.CHANGE,this.boundHandleTileChange_);let t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let i,n,r=0;for(;this.tilesLoading_<t&&r<e&&this.getCount()>0;)n=(i=this.dequeue()[0]).getKey(),i.getState()!==ni.IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++r,i.load())}},nr=class extends P{constructor(t){super();let e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){iO(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&iO(this.element);for(let t=0,e=this.listenerKeys.length;t<e;++t)M(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=t,t){let e=this.target_?this.target_:t.getOverlayContainerStopEvent();e.appendChild(this.element),this.render!==p&&this.listenerKeys.push(b(t,i9.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_="string"==typeof t?document.getElementById(t):t}},ns=class extends nr{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);let e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.expandClassName?t.expandClassName:e+"-expand",r=void 0!==t.collapseLabel?t.collapseLabel:"›",s=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=s):this.collapseLabel_=r;let a=void 0!==t.label?t.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=n):this.label_=a;let o=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(o),this.toggleButton_.addEventListener(x.CLICK,this.handleClick_.bind(this),!1);let h=e+" "+iC+" "+iS+(this.collapsed_&&this.collapsible_?" "+iI:"")+(this.collapsible_?"":" ol-uncollapsible"),l=this.element;l.className=h,l.appendChild(this.toggleButton_),l.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){let e=Array.from(new Set(this.getMap().getAllLayers().flatMap(e=>e.getAttributions(t)))),i=!this.getMap().getAllLayers().some(t=>t.getSource()&&!1===t.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(i),e}updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!f(e,this.renderedAttributions_)){iF(this.ulElement_);for(let t=0,i=e.length;t<i;++t){let i=document.createElement("li");i.innerHTML=e[t],this.ulElement_.appendChild(i)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(iI),this.collapsed_?iL(this.collapseLabel_,this.label_):iL(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}},na=class extends nr{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});let e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"⇧",n=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=n,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(n));let r=t.tipLabel?t.tipLabel:"Reset rotation",s=document.createElement("button");s.className=e+"-reset",s.setAttribute("type","button"),s.title=r,s.appendChild(this.label_),s.addEventListener(x.CLICK,this.handleClick_.bind(this),!1);let a=this.element;a.className=e+" "+iC+" "+iS,a.appendChild(s),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(iE)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let t=this.getMap(),e=t.getView();if(!e)return;let i=e.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:eN}):e.setRotation(0))}render(t){let e=t.frameState;if(!e)return;let i=e.viewState.rotation;if(i!=this.rotation_){if(this.autoHide_){let t=this.element.classList.contains(iE);t||0!==i?t&&0!==i&&this.element.classList.remove(iE):this.element.classList.add(iE)}this.label_.style.transform="rotate("+i+"rad)"}this.rotation_=i}},no=class extends nr{constructor(t){super({element:document.createElement("div"),target:(t=t||{}).target});let e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",r=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",s=void 0!==t.zoomInLabel?t.zoomInLabel:"+",a=void 0!==t.zoomOutLabel?t.zoomOutLabel:"–",o=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",h=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=n,l.setAttribute("type","button"),l.title=o,l.appendChild("string"==typeof s?document.createTextNode(s):s),l.addEventListener(x.CLICK,this.handleClick_.bind(this,i),!1);let u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=h,u.appendChild("string"==typeof a?document.createTextNode(a):a),u.addEventListener(x.CLICK,this.handleClick_.bind(this,-i),!1);let c=this.element;c.className=e+" "+iC+" "+iS,c.appendChild(l),c.appendChild(u),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){let e=this.getMap(),i=e.getView();if(!i)return;let n=i.getZoom();if(void 0!==n){let e=i.getConstrainedZoom(n+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:e,duration:this.duration_,easing:eN})):i.setZoom(e)}}};function nh(t){t=t||{};let e=new N,i=void 0===t.zoom||t.zoom;i&&e.push(new no(t.zoomOptions));let n=void 0===t.rotate||t.rotate;n&&e.push(new na(t.rotateOptions));let r=void 0===t.attribution||t.attribution;return r&&e.push(new ns(t.attributionOptions)),e}var nl={ACTIVE:"active"};function nu(t,e,i,n){let r=t.getZoom();if(void 0===r)return;let s=t.getConstrainedZoom(r+e),a=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:i,duration:void 0!==n?n:250,easing:eN})}var nc=class extends P{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(nl.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(nl.ACTIVE,t)}setMap(t){this.map_=t}},nd=class extends nc{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==i5.DBLCLICK){let i=t.originalEvent,n=t.map,r=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,a=n.getView();nu(a,s,r,this.duration_),i.preventDefault(),e=!0}return!e}};function nf(t){let e=t.length,i=0,n=0;for(let r=0;r<e;r++)i+=t[r].clientX,n+=t[r].clientY;return{clientX:i/e,clientY:n/e}}var ng=class extends nc{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==i5.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==i5.POINTERUP){let e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==i5.POINTERDOWN){let i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==i5.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function nm(t){let e=arguments;return function(t){let i=!0;for(let n=0,r=e.length;n<r&&(i=i&&e[n](t));++n);return i}}const np=function(t){let e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},n_=function(t){let e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},nv=function(t){let e=t.map.getTargetElement(),i=t.map.getOwnerDocument().activeElement;return e.contains(i)},ny=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||nv(t)},nx=function(t){let e=t.originalEvent;return 0==e.button&&!(j&&B&&e.ctrlKey)},nb=function(t){return t.type==i5.SINGLECLICK},nM=function(t){let e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},nw=function(t){let e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},nE=function(t){let e=t.originalEvent,i=e.target.tagName;return"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i&&!e.target.isContentEditable},nC=function(t){let e=t.originalEvent;return A(void 0!==e,56),"mouse"==e.pointerType},nS=function(t){let e=t.originalEvent;return A(void 0!==e,56),e.isPrimary&&0===e.button};var nI=class extends ng{constructor(t){super({stopDown:m}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let e=t.condition?t.condition:nm(nM,nS);this.condition_=t.onFocusOnly?nm(ny,e):e,this.noKinetic_=!1}handleDragEvent(t){let e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());let i=this.targetPointers,n=e.getEventPixel(nf(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r;let e=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=t.map,s=i.getView();r=s.getResolution(),e[0]*=r,e[1]*=r,es(e,s.getRotation()),s.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){let e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let t=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),r=i.getCenterInternal(),s=e.getPixelFromCoordinateInternal(r),a=e.getCoordinateFromPixelInternal([s[0]-t*Math.cos(n),s[1]-t*Math.sin(n)]);i.animateInternal({center:i.getConstrainedCenter(a),duration:500,easing:eN})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){let e=t.map,i=e.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},nR=class extends ng{constructor(t){t=t||{},super({stopDown:m}),this.condition_=t.condition?t.condition:n_,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!nC(t))return;let e=t.map,i=e.getView();if(i.getConstraints().rotation===eF)return;let n=e.getSize(),r=t.pixel,s=Math.atan2(n[1]/2-r[1],r[0]-n[0]/2);if(void 0!==this.lastAngle_){let t=s-this.lastAngle_;i.adjustRotationInternal(-t)}this.lastAngle_=s}handleUpEvent(t){if(!nC(t))return!0;let e=t.map,i=e.getView();return i.endInteraction(this.duration_),!1}handleDownEvent(t){if(!nC(t))return!1;if(nx(t)&&this.condition_(t)){let e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}},nP=class extends l{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){let t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]],n=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new id([n])}getGeometry(){return this.geometry_}};const nk={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class nT extends o{constructor(t,e,i){super(t),this.coordinate=e,this.mapBrowserEvent=i}}var nA=class extends ng{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new nP(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:nx,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,i){let n=i[0]-e[0],r=i[1]-e[1];return n*n+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new nT(nk.BOXDRAG,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);let e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new nT(e?nk.BOXEND:nk.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new nT(nk.BOXSTART,t.coordinate,t)),!0)}onBoxEnd(t){}},nL=class extends nA{constructor(t){t=t||{};let e=t.condition?t.condition:nw;super({condition:e,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){let e=this.getMap(),i=e.getView(),n=this.getGeometry();if(this.out_){let t=i.rotatedExtentForGeometry(n),e=i.getResolutionForExtentInternal(t),r=i.getResolution()/e;(n=n.clone()).scale(r*r)}i.fitInternal(n,{duration:this.duration_,easing:eN})}},nO={LEFT:37,UP:38,RIGHT:39,DOWN:40},nF=class extends nc{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return nM(t)&&nE(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==x.KEYDOWN){let i=t.originalEvent,n=i.keyCode;if(this.condition_(t)&&(n==nO.DOWN||n==nO.LEFT||n==nO.RIGHT||n==nO.UP)){let r=t.map,s=r.getView(),a=s.getResolution()*this.pixelDelta_,o=0,h=0;n==nO.DOWN?h=-a:n==nO.LEFT?o=-a:n==nO.RIGHT?o=a:h=a;let l=[o,h];es(l,s.getRotation()),function(t,e,i){let n=t.getCenterInternal();if(n){let r=[n[0]+e[0],n[1]+e[1]];t.animateInternal({duration:void 0!==i?i:250,easing:eG,center:t.getConstrainedCenter(r)})}}(s,l,this.duration_),i.preventDefault(),e=!0}}return!e}},nD=class extends nc{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:nE,this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==x.KEYDOWN||t.type==x.KEYPRESS){let i=t.originalEvent,n=i.key;if(this.condition_(t)&&("+"===n||"-"===n)){let r=t.map,s="+"===n?this.delta_:-this.delta_,a=r.getView();nu(a,s,void 0,this.duration_),i.preventDefault(),e=!0}}return!e}},nN=class{constructor(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;let t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let i=e-3;for(;i>0&&this.points_[i+2]>t;)i-=3;let n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;let r=this.points_[e]-this.points_[i],s=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(s,r),this.initialVelocity_=Math.sqrt(r*r+s*s)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},n$=class extends nc{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;let e=t.condition?t.condition:g;this.condition_=t.onFocusOnly?nm(ny,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let t=this.getMap();if(!t)return;let e=t.getView();e.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){let e;if(!this.condition_(t))return!0;let i=t.type;if(i!==x.WHEEL)return!0;let n=t.map,r=t.originalEvent;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==x.WHEEL&&(e=r.deltaY,G&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=W),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;let s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=4>Math.abs(e)?"trackpad":"wheel");let a=n.getView();if("trackpad"===this.mode_&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=e;let o=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),o),!1}handleWheelZoom_(t){let e=t.getView();e.getAnimating()&&e.cancelAnimations();let i=-tP(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),nu(e,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},nG=class extends ng{constructor(t){t=t||{};let e=t;e.stopDown||(e.stopDown=m),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0,i=this.targetPointers[0],n=this.targetPointers[1],r=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){let t=r-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=r;let s=t.map,a=s.getView();a.getConstraints().rotation!==eF&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(nf(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){if(this.targetPointers.length<2){let e=t.map,i=e.getView();return i.endInteraction(this.duration_),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){let e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}},nz=class extends ng{constructor(t){t=t||{};let e=t;e.stopDown||(e.stopDown=m),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1,i=this.targetPointers[0],n=this.targetPointers[1],r=i.clientX-n.clientX,s=i.clientY-n.clientY,a=Math.sqrt(r*r+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;let o=t.map,h=o.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(nf(this.targetPointers))),o.render(),h.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){let e=t.map,i=e.getView(),n=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){let e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};function nj(t){return t[0]>0&&t[1]>0}function nB(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var nW=class extends P{constructor(t){super(),t=t||{},this.on,this.once,this.un;let e=function(t){let e,i,n,r=null;void 0!==t.keyboardEventTarget&&(r="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);let s={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new i2({layers:t.layers});return s[i7.LAYERGROUP]=a,s[i7.TARGET]=t.target,s[i7.VIEW]=t.view instanceof iv?t.view:new iv,void 0!==t.controls&&(Array.isArray(t.controls)?e=new N(t.controls.slice()):(A("function"==typeof t.controls.getArray,47),e=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new N(t.interactions.slice()):(A("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?n=new N(t.overlays.slice()):(A("function"==typeof t.overlays.getArray,49),n=t.overlays):n=new N,{controls:e,interactions:i,keyboardEventTarget:r,overlays:n,values:s}}(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:W,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=U(),this.pixelToCoordinateTransform_=U(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=e.controls||nh(),this.interactions=e.interactions||function(t){t=t||{};let e=new N,i=new nN(-.005,.05,100),n=void 0===t.altShiftDragRotate||t.altShiftDragRotate;n&&e.push(new nR);let r=void 0===t.doubleClickZoom||t.doubleClickZoom;r&&e.push(new nd({delta:t.zoomDelta,duration:t.zoomDuration}));let s=void 0===t.dragPan||t.dragPan;s&&e.push(new nI({onFocusOnly:t.onFocusOnly,kinetic:i}));let a=void 0===t.pinchRotate||t.pinchRotate;a&&e.push(new nG);let o=void 0===t.pinchZoom||t.pinchZoom;o&&e.push(new nz({duration:t.zoomDuration}));let h=void 0===t.keyboard||t.keyboard;h&&(e.push(new nF),e.push(new nD({delta:t.zoomDelta,duration:t.zoomDuration})));let l=void 0===t.mouseWheelZoom||t.mouseWheelZoom;l&&e.push(new n$({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));let u=void 0===t.shiftDragZoom||t.shiftDragZoom;return u&&e.push(new nL({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new nn(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(i7.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(i7.VIEW,this.handleViewChanged_),this.addChangeListener(i7.SIZE,this.handleSizeChanged_),this.addChangeListener(i7.TARGET,this.handleTargetChanged_),this.setProperties(e.values);let i=this;!t.view||t.view instanceof iv||t.view.then(function(t){i.setView(new iv(t))}),this.controls.addEventListener(O.ADD,t=>{t.element.setMap(this)}),this.controls.addEventListener(O.REMOVE,t=>{t.element.setMap(null)}),this.interactions.addEventListener(O.ADD,t=>{t.element.setMap(this)}),this.interactions.addEventListener(O.REMOVE,t=>{t.element.setMap(null)}),this.overlays_.addEventListener(O.ADD,t=>{this.addOverlayInternal_(t.element)}),this.overlays_.addEventListener(O.REMOVE,t=>{let e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}),this.controls.forEach(t=>{t.setMap(this)}),this.interactions.forEach(t=>{t.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){let e=this.getLayerGroup().getLayers();e.push(t)}handleLayerAdd_(t){!function t(e,i){if(e instanceof ix){e.setMapInternal(i);return}if(e instanceof i2){let n=e.getLayers().getArray();for(let e=0,r=n.length;e<r;++e)t(n[e],i)}}(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){let e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,i){if(!this.frameState_||!this.renderer_)return;let n=this.getCoordinateFromPixelInternal(t);i=void 0!==i?i:{};let r=void 0!==i.hitTolerance?i.hitTolerance:0,s=void 0!==i.layerFilter?i.layerFilter:g,a=!1!==i.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,r,a,e,null,s,null)}getFeaturesAtPixel(t,e){let i=[];return this.forEachFeatureAtPixel(t,function(t){i.push(t)},e),i}getAllLayers(){let t=[];return!function e(i){i.forEach(function(i){i instanceof i2?e(i.getLayers()):t.push(i)})}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;let i=this.getCoordinateFromPixelInternal(t);e=void 0!==e?e:{};let n=void 0!==e.layerFilter?e.layerFilter:g,r=void 0!==e.hitTolerance?e.hitTolerance:0,s=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,s,n,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){let e=this.viewport_,i=e.getBoundingClientRect(),n=this.getSize(),r=i.width/n[0],s=i.height/n[1],a="changedTouches"in t?t.changedTouches[0]:t;return[(a.clientX-i.left)/r,(a.clientY-i.top)/s]}getTarget(){return this.get(i7.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){var e,i;return e=this.getCoordinateFromPixelInternal(t),this.getView().getProjection(),e}getCoordinateFromPixelInternal(t){let e=this.frameState_;return e?X(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){let e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(i7.LAYERGROUP)}setLayers(t){let e=this.getLayerGroup();if(t instanceof N){e.setLayers(t);return}let i=e.getLayers();i.clear(),i.extend(t)}getLayers(){let t=this.getLayerGroup().getLayers();return t}getLoadingOrNotReady(){let t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){let i=t[e];if(!i.visible)continue;let n=i.layer.getRenderer();if(n&&!n.ready)return!0;let r=i.layer.getSource();if(r&&r.loading)return!0}return!1}getPixelFromCoordinate(t){let e=eR(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){let e=this.frameState_;return e?X(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(i7.SIZE)}getView(){return this.get(i7.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,i,n){return function(t,e,i,n,r){if(!t||!(i in t.wantedTiles)||!t.wantedTiles[i][e.getKey()])return nt;let s=t.viewState.center,a=n[0]-s[0],o=n[1]-s[1];return 65536*Math.log(r)+Math.sqrt(a*a+o*o)/r}(this.frameState_,t,e,i,n)}handleBrowserEvent(t,e){e=e||t.type;let i=new i4(e,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;let e=t.originalEvent,i=e.type;if(i===i6.POINTERDOWN||i===x.WHEEL||i===x.KEYDOWN){let t=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():t,n=e.target;if(this.overlayContainerStopEvent_.contains(n)||!(i===t?t.documentElement:i).contains(n))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){let e=this.getInteractions().getArray().slice();for(let i=e.length-1;i>=0;i--){let n=e[i];if(n.getMap()!==this||!n.getActive()||!this.getTargetElement())continue;let r=n.handleEvent(t);if(!r||t.propagationStopped)break}}}handlePostRender(){let t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let i=this.maxTilesLoading_,n=i;if(t){let e=t.viewHints;if(e[tY.ANIMATING]||e[tY.INTERACTING]){let e=Date.now()-t.time>8;i=e?0:8,n=e?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(tX.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(tX.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new i3(i9.LOADEND,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new i3(i9.LOADSTART,this,t))));let i=this.postRenderFunctions_;for(let e=0,n=i.length;e<n;++e)i[e](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)M(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(x.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(x.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,iO(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host)}let t=this.getTarget(),e="string"==typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){for(let t in e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new iQ(this)),this.mapBrowserEventHandler_=new i8(this,this.moveTolerance_),i5)this.mapBrowserEventHandler_.addEventListener(i5[t],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(x.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(x.WHEEL,this.boundHandleBrowserEvent_,!!q&&{passive:!1});let t=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[b(t,x.KEYDOWN,this.handleBrowserEvent,this),b(t,x.KEYPRESS,this.handleBrowserEvent,this)];let i=e.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(M(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(M(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=b(t,h.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=b(t,x.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(M),this.layerGroupPropertyListenerKeys_=null);let t=this.getLayerGroup();t&&(this.handleLayerAdd_(new i0("addlayer",t)),this.layerGroupPropertyListenerKeys_=[b(t,h.PROPERTYCHANGE,this.render,this),b(t,x.CHANGE,this.render,this),b(t,"addlayer",this.handleLayerAdd_,this),b(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){let i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){let e=this.getLayerGroup().getLayers();return e.remove(t)}handleLayerRemove_(t){!function t(e){if(e instanceof ix){e.setMapInternal(null);return}e instanceof i2&&e.getLayers().forEach(t)}(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){let e=this.getSize(),i=this.getView(),n=this.frameState_,r=null;if(void 0!==e&&nj(e)&&i&&i.isDef()){let n=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=i.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:tx(s.center,s.resolution,s.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:n,wantedTiles:{},mapId:I(this),renderTargets:{}},s.nextCenter&&s.nextResolution){let t=isNaN(s.nextRotation)?s.rotation:s.nextRotation;r.nextExtent=tx(s.nextCenter,s.nextResolution,t,e)}}if(this.frameState_=r,this.renderer_.renderFrame(r),r){if(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),n){let t=!this.previousExtent_||!tI(this.previousExtent_)&&!td(r.extent,this.previousExtent_);t&&(this.dispatchEvent(new i3(i9.MOVESTART,this,n)),this.previousExtent_=tl(this.previousExtent_))}let t=this.previousExtent_&&!r.viewHints[tY.ANIMATING]&&!r.viewHints[tY.INTERACTING]&&!td(r.extent,this.previousExtent_);t&&(this.dispatchEvent(new i3(i9.MOVEEND,this,r)),te(r.extent,this.previousExtent_))}this.dispatchEvent(new i3(i9.POSTRENDER,this,r)),this.renderComplete_=this.hasListener(i9.LOADSTART)||this.hasListener(i9.LOADEND)||this.hasListener(tX.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){let e=this.getLayerGroup();e&&this.handleLayerRemove_(new i0("removelayer",e)),this.set(i7.LAYERGROUP,t)}setSize(t){this.set(i7.SIZE,t)}setTarget(t){this.set(i7.TARGET,t)}setView(t){if(!t||t instanceof iv){this.set(i7.VIEW,t);return}this.set(i7.VIEW,new iv);let e=this;t.then(function(t){e.setView(new iv(t))})}updateSize(){let t;let e=this.getTargetElement();if(e){let i=getComputedStyle(e),n=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),r=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(n)&&!isNaN(r)&&!nj(t=[n,r])&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&ef("No map visible because the map container's width or height are 0.")}let i=this.getSize();!t||i&&f(t,i)||(this.setSize(t),this.updateViewportSize_())}updateViewportSize_(){let t=this.getView();if(t){let e;let i=getComputedStyle(this.viewport_);i.width&&i.height&&(e=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(e)}}},nV=class extends ix{constructor(t){super(t=t||{})}},nH={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},nq=class extends E{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return C()}getData(t){return null}prepareFrame(t){return C()}renderFrame(t,e){return C()}loadedTileCallback(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i}createLoadedTileFinder(t,e,i){return(n,r)=>{let s=this.loadedTileCallback.bind(this,i,n);return t.forEachLoadedTile(e,n,r,s)}}forEachFeatureAtCoordinate(t,e,i,n,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){let e=t.target;e.getState()===nH.LOADED&&this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=nH.LOADED&&e!=nH.ERROR&&t.addEventListener(x.CHANGE,this.boundHandleImageChange_),e==nH.IDLE&&(t.load(),e=t.getState()),e==nH.LOADED}renderIfReadyAndVisible(){let t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}};const nU=[];let nX=null;var nY=class extends nq{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=U(),this.pixelTransform=U(),this.inversePixelTransform=U(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,e,i){let n;nX||(nX=iT(1,1,void 0,{willReadFrequently:!0})),nX.clearRect(0,0,1,1);try{nX.drawImage(t,e,i,1,1,0,0,1,1),n=nX.getImageData(0,0,1,1).data}catch(t){return nX=null,null}return n}getBackground(t){let e=this.getLayer(),i=e.getBackground();return"function"==typeof i&&(i=i(t.viewState.resolution)),i||void 0}useContainer(t,e,i){let n,r;let s=this.getLayer().getClassName();if(t&&t.className===s&&(!i||t&&t.style.backgroundColor&&f(tj(t.style.backgroundColor),tj(i)))){let e=t.firstElementChild;e instanceof HTMLCanvasElement&&(r=e.getContext("2d"))}if(r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(n=document.createElement("div")).className=s;let t=n.style;t.position="absolute",t.width="100%",t.height="100%",r=iT();let e=r.canvas;n.appendChild(e),(t=e.style).position="absolute",t.left="0",t.transformOrigin="top left",this.container=n,this.context=r}this.containerReused||!i||this.container.style.backgroundColor||(this.container.style.backgroundColor=i)}clipUnrotated(t,e,i){let n=tw(i),r=tE(i),s=tv(i),a=t_(i);X(e.coordinateToPixelTransform,n),X(e.coordinateToPixelTransform,r),X(e.coordinateToPixelTransform,s),X(e.coordinateToPixelTransform,a);let o=this.inversePixelTransform;X(o,n),X(o,r),X(o,s),X(o,a),t.save(),t.beginPath(),t.moveTo(Math.round(n[0]),Math.round(n[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()}dispatchRenderEvent_(t,e,i){let n=this.getLayer();if(n.hasListener(t)){let r=new iw(t,this.inversePixelTransform,i,e);n.dispatchEvent(r)}}preRender(t,e){this.frameState=e,this.dispatchRenderEvent_(tX.PRERENDER,t,e)}postRender(t,e){this.dispatchRenderEvent_(tX.POSTRENDER,t,e)}getRenderTransform(t,e,i,n,r,s,a){let o=n/e,h=-o,l=-t[0]+a,u=-t[1];return Y(this.tempTransform,r/2,s/2,o,h,-i,l,u)}disposeInternal(){delete this.frameState,super.disposeInternal()}},nK=class extends nY{constructor(t){super(t),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(t){var e,i;let n=t.layerStatesArray[t.layerIndex],r=t.pixelRatio,s=t.viewState,a=s.resolution,o=this.getLayer().getSource(),h=t.viewHints,l=t.extent;if(void 0!==n.extent&&(l=tM(l,(e=n.extent,s.projection,e))),!h[tY.ANIMATING]&&!h[tY.INTERACTING]&&!tI(l)){if(o){let t=s.projection,e=o.getImage(l,a,r,t);e&&(this.loadImage(e)?this.image_=e:e.getState()===nH.EMPTY&&(this.image_=null))}else this.image_=null}return!!this.image_}getData(t){let e=this.frameState;if(!e)return null;let i=this.getLayer(),n=X(e.pixelToCoordinateTransform,t.slice()),r=i.getExtent();if(r&&!tn(r,n))return null;let s=this.image_.getExtent(),a=this.getImage(),o=tC(s),h=Math.floor(a.width*((n[0]-s[0])/o));if(h<0||h>=a.width)return null;let l=tb(s),u=Math.floor(a.height*((s[3]-n[1])/l));return u<0||u>=a.height?null:this.getImageData(a,h,u)}renderFrame(t,e){let i=this.image_,n=i.getExtent(),r=i.getResolution(),s=i.getPixelRatio(),a=t.layerStatesArray[t.layerIndex],o=t.pixelRatio,h=t.viewState,l=h.center,u=h.resolution,c=o*r/(u*s),d=t.extent,f=h.resolution,g=h.rotation,m=Math.round(tC(d)/f*o),p=Math.round(tb(d)/f*o);Y(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/o,1/o,g,-m/2,-p/2),K(this.inversePixelTransform,this.pixelTransform);let _=Z(this.pixelTransform);this.useContainer(e,_,this.getBackground(t));let v=this.context,y=v.canvas;y.width!=m||y.height!=p?(y.width=m,y.height=p):this.containerReused||v.clearRect(0,0,m,p);let x=!1,b=!0;if(a.extent){var M,w;let e=(M=a.extent,h.projection,M);(x=(b=tS(e,t.extent))&&!tr(e,t.extent))&&this.clipUnrotated(v,t,e)}let E=this.getImage(),C=Y(this.tempTransform,m/2,p/2,c,c,0,s*(n[0]-l[0])/r,s*(l[1]-n[3])/r);this.renderedResolution=r*o/s;let S=E.width*C[0],I=E.height*C[3];if(this.getLayer().getSource().getInterpolate()||(v.imageSmoothingEnabled=!1),this.preRender(v,t),b&&S>=.5&&I>=.5){let t;let e=C[4],i=C[5],n=a.opacity;1!==n&&(t=v.globalAlpha,v.globalAlpha=n),v.drawImage(E,0,0,+E.width,+E.height,e,i,S,I),1!==n&&(v.globalAlpha=t)}return this.postRender(v,t),x&&v.restore(),v.imageSmoothingEnabled=!0,_!==y.style.transform&&(y.style.transform=_),this.container}},nZ=class extends nV{constructor(t){super(t)}createRenderer(){return new nK(this)}getData(t){return super.getData(t)}},nJ={};nJ=function(){"use strict";function t(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function e(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function n(t,e){r(t,0,t.children.length,e,t)}function r(t,e,i,n,r){r||(r=d(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a=e;a<i;a++){var o=t.children[a];s(r,t.leaf?n(o):o)}return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function a(t,e){return t.minX-e.minX}function o(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function u(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function c(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(i,n,r,s,a){for(var o=[n,r];o.length;)if(!((r=o.pop())-(n=o.pop())<=s)){var h=n+Math.ceil((r-n)/s/2)*s;(function e(i,n,r,s,a){for(;s>r;){if(s-r>600){var o=s-r+1,h=n-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(h-o/2<0?-1:1),d=Math.max(r,Math.floor(n-h*u/o+c)),f=Math.min(s,Math.floor(n+(o-h)*u/o+c));e(i,n,d,f,a)}var g=i[n],m=r,p=s;for(t(i,r,n),a(i[s],g)>0&&t(i,r,s);m<p;){for(t(i,m,p),m++,p--;0>a(i[m],g);)m++;for(;a(i[p],g)>0;)p--}0===a(i[r],g)?t(i,r,p):t(i,++p,s),p<=n&&(r=p+1),n<=p&&(s=p-1)}})(i,h,n||0,r||i.length-1,a||e),o.push(n,h,h,r)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,i=[];if(!c(t,e))return i;for(var n=this.toBBox,r=[];e;){for(var s=0;s<e.children.length;s++){var a=e.children[s],o=e.leaf?n(a):a;c(t,o)&&(e.leaf?i.push(a):u(t,o)?this._all(a,i):r.push(a))}e=r.pop()}return i},i.prototype.collides=function(t){var e=this.data;if(!c(t,e))return!1;for(var i=[];e;){for(var n=0;n<e.children.length;n++){var r=e.children[n],s=e.leaf?this.toBBox(r):r;if(c(t,s)){if(e.leaf||u(t,s))return!0;i.push(r)}}e=i.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length){if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}}else this.data=i;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=d([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var i,n,r,s=this.data,a=this.toBBox(t),o=[],h=[];s||o.length;){if(s||(s=o.pop(),n=o[o.length-1],i=h.pop(),r=!0),s.leaf){var l=function(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return -1}(t,s.children,e);if(-1!==l)return s.children.splice(l,1),o.push(s),this._condense(o),this}r||s.leaf||!u(s,a)?n?(i++,s=n.children[i],r=!1):s=null:(o.push(s),h.push(i),i=0,n=s,s=s.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},i.prototype._build=function(t,e,i,r){var s,a=i-e+1,o=this._maxEntries;if(a<=o)return n(s=d(t.slice(e,i+1)),this.toBBox),s;r||(r=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,r-1))),(s=d([])).leaf=!1,s.height=r;var h=Math.ceil(a/o),l=h*Math.ceil(Math.sqrt(o));f(t,e,i,l,this.compareMinX);for(var u=e;u<=i;u+=l){var c=Math.min(u+l-1,i);f(t,u,c,h,this.compareMinY);for(var g=u;g<=c;g+=h){var m=Math.min(g+h-1,c);s.children.push(this._build(t,g,m,r-1))}}return n(s,this.toBBox),s},i.prototype._chooseSubtree=function(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){for(var r=1/0,s=1/0,a=void 0,o=0;o<e.children.length;o++){var l=e.children[o],u=h(l),c=(Math.max(l.maxX,t.maxX)-Math.min(l.minX,t.minX))*(Math.max(l.maxY,t.maxY)-Math.min(l.minY,t.minY))-u;c<s?(s=c,r=u<r?u:r,a=l):c===s&&u<r&&(r=u,a=l)}e=a||e.children[0]}return e},i.prototype._insert=function(t,e,i){var n=i?t:this.toBBox(t),r=[],a=this._chooseSubtree(n,this.data,e,r);for(a.children.push(t),s(a,n);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(n,r,e)},i.prototype._split=function(t,e){var i=t[e],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);var a=this._chooseSplitIndex(i,s,r),o=d(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,n(i,this.toBBox),n(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(i,o)},i.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,i){for(var n,s,a,o,l=1/0,u=1/0,c=e;c<=i-e;c++){var d=r(t,0,c,this.toBBox),f=r(t,c,i,this.toBBox),g=(s=void 0,a=void 0,s=Math.max(d.minX,f.minX),a=Math.max(d.minY,f.minY),Math.max(0,Math.min(d.maxX,f.maxX)-s)*Math.max(0,Math.min(d.maxY,f.maxY)-a)),m=h(d)+h(f);g<l?(l=g,n=c,u=m<u?m:u):g===l&&m<u&&(u=m,n=c)}return n||i-e},i.prototype._chooseSplitAxis=function(t,e,i){var n=t.leaf?this.compareMinX:a,r=t.leaf?this.compareMinY:o;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},i.prototype._allDistMargin=function(t,e,i,n){t.children.sort(n);for(var a=this.toBBox,o=r(t,0,e,a),h=r(t,i-e,i,a),u=l(o)+l(h),c=e;c<i-e;c++){var d=t.children[c];s(o,t.leaf?a(d):d),u+=l(o)}for(var f=i-e-1;f>=e;f--){var g=t.children[f];s(h,t.leaf?a(g):g),u+=l(h)}return u},i.prototype._adjustParentBBoxes=function(t,e,i){for(var n=i;n>=0;n--)s(e[n],t)},i.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():n(t[e],this.toBBox)},i}();class nQ{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=nB(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){let t=this.getScale();return new nQ({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return C()}getImage(t){return C()}getHitDetectionImage(){return C()}getPixelRatio(t){return 1}getImageState(){return C()}getImageSize(){return C()}getOrigin(){return C()}getSize(){return C()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=nB(t)}listenImageChange(t){C()}load(){C()}unlistenImageChange(t){C()}}var n0=nQ;function n1(t){return Array.isArray(t)?tW(t):t}class n2 extends n0{constructor(t){let e=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:1,rotateWithView:e,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){let t=this.getScale(),e=new n2({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){let t=this.size_;if(!t)return null;let e=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-e[0]/i[0],t[1]/2+e[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(t){let e=this.canvas_[t];if(!e){let i=this.renderOptions_,n=iT(i.size*t,i.size*t);this.draw_(i,n,t),e=n.canvas,this.canvas_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return nH.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,i){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let n=this.radius_,r=void 0===this.radius2_?n:this.radius2_;if(n<r){let t=n;n=r,r=t}let s=void 0===this.radius2_?this.points_:2*this.points_,a=2*Math.PI/s,o=r*Math.sin(a),h=Math.sqrt(r*r-o*o),l=n-h,u=Math.sqrt(o*o+l*l),c=u/o;if("miter"===t&&c<=i)return c*e;let d=e/2/c,f=e/2*(l/u),g=Math.sqrt((n+d)*(n+d)+f*f),m=g-n;if(void 0===this.radius2_||"bevel"===t)return 2*m;let p=n*Math.sin(a),_=Math.sqrt(n*n-p*p),v=r-_,y=Math.sqrt(p*p+v*v)/p;if(y<=i){let t=y*e/2-r-n;return 2*Math.max(m,t)}return 2*m}createRenderOptions(){let t,e=iz,i=0,n=null,r=0,s=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=ij),t=n1(t),void 0===(s=this.stroke_.getWidth())&&(s=1),n=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=iz),void 0===(i=this.stroke_.getMiterLimit())&&(i=10));let a=this.calculateLineJoinSize_(e,s,i),o=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:s,size:Math.ceil(2*o+a),lineDash:n,lineDashOffset:r,lineJoin:e,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();let t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]}draw_(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=iN),e.fillStyle=n1(t),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){if(this.fill_){let e=this.fill_.getColor(),i=0;if("string"==typeof e&&(e=tj(e)),null===e?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i){let e=iT(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(t){let e=this.points_,i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{let n=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(e*=2);let r=this.angle_-Math.PI/2,s=2*Math.PI/e;for(let a=0;a<e;a++){let e=r+a*s,o=a%2==0?i:n;t.lineTo(o*Math.cos(e),o*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=iN,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}}var n3=n2;class n4 extends n3{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){let t=this.getScale(),e=new n4({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}class n5{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null}clone(){let t=this.getColor();return new n5({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){this.color_=t}}class n6{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){let t=this.getColor();return new n6({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class n8{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=re,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new n8({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=re,this.geometry_=t}setZIndex(t){this.zIndex_=t}}let n9=null;function n7(t,e){if(!n9){let t=new n5({color:"rgba(255,255,255,0.4)"}),e=new n6({color:"#3399CC",width:1.25});n9=[new n8({image:new n4({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return n9}function rt(){let t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new n8({fill:new n5({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new n8({stroke:new n6({color:e,width:5})}),new n8({stroke:new n6({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new n8({image:new n4({radius:6,fill:new n5({color:i}),stroke:new n6({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function re(t){return t.getGeometry()}var ri=class extends y{constructor(t,e,i,n){super(),this.extent=t,this.pixelRatio_=i,this.resolution=e,this.state=n}changed(){this.dispatchEvent(x.CHANGE)}getExtent(){return this.extent}getImage(){return C()}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){C()}};function rn(t,e,i){let n=!0,r=!1,s=!1,a=[b(t,x.LOAD,function(){s=!0,r||e()},void 0,!0)];return t.src&&H?(r=!0,t.decode().then(function(){n&&e()}).catch(function(t){n&&(s?e():i())})):a.push(b(t,x.ERROR,i,void 0,!0)),function(){n=!1,a.forEach(M)}}var rr=class extends ri{constructor(t,e,i,n,r,s,a){super(t,e,i,nH.IDLE),this.src_=n,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.context_=a,this.unlisten_=null,this.state=nH.IDLE,this.imageLoadFunction_=s}getImage(){if(this.state==nH.LOADED&&this.context_&&!(this.image_ instanceof HTMLCanvasElement)){let t=this.context_.canvas;t.width=this.image_.width,t.height=this.image_.height,this.context_.drawImage(this.image_,0,0),this.image_=this.context_.canvas}return this.image_}handleImageError_(){this.state=nH.ERROR,this.unlistenImage_(),this.changed()}handleImageLoad_(){void 0===this.resolution&&(this.resolution=tb(this.extent)/this.image_.height),this.state=nH.LOADED,this.unlistenImage_(),this.changed()}load(){(this.state==nH.IDLE||this.state==nH.ERROR)&&(this.state=nH.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=rn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}setImage(t){this.image_=t,this.resolution=tb(this.extent)/this.image_.height}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};let rs=null;class ra extends y{constructor(t,e,i,n,r,s){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=s,this.unlisten_=null,this.imageState_=r,this.size_=i,this.src_=e,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===nH.LOADED){rs||(rs=iT(1,1,void 0,{willReadFrequently:!0})),rs.drawImage(this.image_,0,0);try{rs.getImageData(0,0,1,1),this.tainted_=!1}catch(t){rs=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(x.CHANGE)}handleImageError_(){this.imageState_=nH.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=nH.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_){if(this.isTainted_()){let t=this.size_[0],e=this.size_[1],i=iT(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_}return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===nH.IDLE){this.image_||this.initializeImage_(),this.imageState_=nH.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=rn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==nH.LOADED)return;let e=this.image_,i=document.createElement("canvas");i.width=Math.ceil(e.width*t),i.height=Math.ceil(e.height*t);let n=i.getContext("2d");n.scale(t,t),n.drawImage(e,0,0),n.globalCompositeOperation="multiply",n.fillStyle=tG(this.color_),n.fillRect(0,0,i.width/t,i.height/t),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),this.canvas_[t]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}class ro extends n0{constructor(t){t=t||{};let e=void 0!==t.opacity?t.opacity:1,i=void 0!==t.rotation?t.rotation:0,n=void 0!==t.scale?t.scale:1,r=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:i,scale:n,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:r,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;let s=void 0!==t.img?t.img:null;this.imgSize_=t.imgSize;let a=t.src;A(!(void 0!==a&&s),4),A(!s||s&&this.imgSize_,5),(void 0===a||0===a.length)&&s&&(a=s.src||I(s)),A(void 0!==a&&a.length>0,6),A(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),69);let o=void 0!==t.src?nH.IDLE:nH.LOADED;if(this.color_=void 0!==t.color?tj(t.color):null,this.iconImage_=function(t,e,i,n,r,s){let a=tH.get(e,n,s);return a||(a=new ra(t,e,i,n,r,s),tH.set(e,n,s,a)),a}(s,a,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,o,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.width_=t.width,this.height_=t.height,void 0!==this.width_||void 0!==this.height_){let t=this.getImage(1);t.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):t.addEventListener("load",()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)})}}clone(){let t=this.getScale();return t=Array.isArray(t)?t.slice():t,(void 0!==this.width_||void 0!==this.height_)&&(t=void 0),new ro({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(t,e){let i=this.getImage(1);void 0!==t&&void 0!==e?super.setScale([t/i.width,e/i.height]):void 0!==t?super.setScale([t/i.width,t/i.width]):void 0!==e?super.setScale([e/i.height,e/i.height]):super.setScale([1,1])}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;let e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(t[0]=-t[0]+e[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}let e=this.getDisplacement(),i=this.getScaleArray();return[t[0]-e[0]/i[0],t[1]+e[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){let e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(t[0]=i[0]-e[0]-t[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(t){this.width_=t,this.updateScaleFromWidthAndHeight(t,this.height_)}setHeight(t){this.height_=t,this.updateScaleFromWidthAndHeight(this.width_,t)}setScale(t){super.setScale(t);let e=this.getImage(1);if(e){let i=Array.isArray(t)?t[0]:t;void 0!==i&&(this.width_=i*e.width);let n=Array.isArray(t)?t[1]:t;void 0!==n&&(this.height_=n*e.height)}}listenImageChange(t){this.iconImage_.addEventListener(x.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(x.CHANGE,t)}}class rh{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=nB(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new n5({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}clone(){let t=this.getScale();return new rh({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=nB(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}function rl(t){let e=new n8({fill:ru(t,""),stroke:rc(t,""),text:function(t){let e=t["text-value"];if(!e)return;let i=new rh({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],repeat:t["text-repeat"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:ru(t,"text-"),backgroundFill:ru(t,"text-background-"),stroke:rc(t,"text-"),backgroundStroke:rc(t,"text-background-")});return i}(t),image:function(t){let e=t["icon-src"],i=t["icon-img"];if(e||i){let n=new ro({src:e,img:i,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});return n}let n=t["shape-points"];if(n){let e="shape-",i=new n3({points:n,fill:ru(t,e),stroke:rc(t,e),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]});return i}let r=t["circle-radius"];if(r){let e="circle-",i=new n4({radius:r,fill:ru(t,e),stroke:rc(t,e),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]});return i}}(t)});return e}function ru(t,e){let i=t[e+"fill-color"];if(i)return new n5({color:i})}function rc(t,e){let i=t[e+"stroke-width"],n=t[e+"stroke-color"];if(i||n)return new n6({width:i,color:n,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}const rd={RENDER_ORDER:"renderOrder"};var rf=class extends ix{constructor(t){t=t||{};let e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=void 0!==t.declutter&&t.declutter,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(rd.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new(r(nJ))(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(t){this.set(rd.RENDER_ORDER,t)}setStyle(t){let e;if(void 0===t)e=n7;else if(null===t)e=null;else if("function"==typeof t)e=t;else if(t instanceof n8)e=t;else if(Array.isArray(t)){let i=t.length,n=Array(i);for(let e=0;e<i;++e){let i=t[e];i instanceof n8?n[e]=i:n[e]=rl(i)}e=n}else e=rl(t);this.style_=e,this.styleFunction_=null===t?void 0:function(t){let e;if("function"==typeof t)e=t;else{let i;Array.isArray(t)?i=t:(A("function"==typeof t.getZIndex,41),i=[t]),e=function(){return i}}return e}(this.style_),this.changed()}};const rg={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},rm=[rg.FILL],rp=[rg.STROKE],r_=[rg.BEGIN_PATH],rv=[rg.CLOSE_PATH];var ry=class{drawCustom(t,e,i,n){}drawGeometry(t){}setStyle(t){}drawCircle(t,e){}drawFeature(t,e){}drawGeometryCollection(t,e){}drawLineString(t,e){}drawMultiLineString(t,e){}drawMultiPoint(t,e){}drawMultiPolygon(t,e){}drawPoint(t,e){}drawPolygon(t,e){}drawText(t,e){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}},rx=class extends ry{constructor(t,e,i,n){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){let e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})}appendFlatPointCoordinates(t,e){let i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,r=this.coordinates,s=r.length;for(let a=0,o=t.length;a<o;a+=e)n[0]=t[a],n[1]=t[a+1],tn(i,n)&&(r[s++]=n[0],r[s++]=n[1]);return s}appendFlatLineCoordinates(t,e,i,n,r,s){let a,o,h;let l=this.coordinates,u=l.length,c=this.getBufferedMaxExtent();s&&(e+=n);let d=t[e],f=t[e+1],g=this.tmpCoordinate_,m=!0;for(a=e+n;a<i;a+=n)g[0]=t[a],g[1]=t[a+1],(h=ta(c,g))!==o?(m&&(l[u++]=d,l[u++]=f,m=!1),l[u++]=g[0],l[u++]=g[1]):h===J.INTERSECTING?(l[u++]=g[0],l[u++]=g[1],m=!1):m=!0,d=g[0],f=g[1],o=h;return(r&&m||a===e+n)&&(l[u++]=d,l[u++]=f),u}drawCustomCoordinates_(t,e,i,n,r){for(let s=0,a=i.length;s<a;++s){let a=i[s],o=this.appendFlatLineCoordinates(t,e,a,n,!1,!1);r.push(o),e=a}return e}drawCustom(t,e,i,n){let r,s,a,o,h;this.beginGeometry(t,e);let l=t.getType(),u=t.getStride(),c=this.coordinates.length;switch(l){case"MultiPolygon":r=t.getOrientedFlatCoordinates(),o=[];let d=t.getEndss();h=0;for(let t=0,e=d.length;t<e;++t){let e=[];h=this.drawCustomCoordinates_(r,h,d[t],u,e),o.push(e)}this.instructions.push([rg.CUSTOM,c,o,t,i,e6]),this.hitDetectionInstructions.push([rg.CUSTOM,c,o,t,n||i,e6]);break;case"Polygon":case"MultiLineString":a=[],r="Polygon"==l?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(r,0,t.getEnds(),u,a),this.instructions.push([rg.CUSTOM,c,a,t,i,e5]),this.hitDetectionInstructions.push([rg.CUSTOM,c,a,t,n||i,e5]);break;case"LineString":case"Circle":r=t.getFlatCoordinates(),s=this.appendFlatLineCoordinates(r,0,r.length,u,!1,!1),this.instructions.push([rg.CUSTOM,c,s,t,i,e4]),this.hitDetectionInstructions.push([rg.CUSTOM,c,s,t,n||i,e4]);break;case"MultiPoint":r=t.getFlatCoordinates(),(s=this.appendFlatPointCoordinates(r,u))>c&&(this.instructions.push([rg.CUSTOM,c,s,t,i,e4]),this.hitDetectionInstructions.push([rg.CUSTOM,c,s,t,n||i,e4]));break;case"Point":r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),s=this.coordinates.length,this.instructions.push([rg.CUSTOM,c,s,t,i]),this.hitDetectionInstructions.push([rg.CUSTOM,c,s,t,n||i])}this.endGeometry(e)}beginGeometry(t,e){this.beginGeometryInstruction1_=[rg.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[rg.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let t,e,i;let n=this.hitDetectionInstructions;n.reverse();let r=n.length,s=-1;for(t=0;t<r;++t)(i=(e=n[t])[0])==rg.END_GEOMETRY?s=t:i==rg.BEGIN_GEOMETRY&&(e[2]=t,function(t,e,i){for(;e<i;){let n=t[e];t[e]=t[i],t[i]=n,++e,--i}}(this.hitDetectionInstructions,s,t),s=-1)}setFillStrokeStyle(t,e){let i=this.state;if(t){let e=t.getColor();i.fillStyle=n1(e||iN)}else i.fillStyle=void 0;if(e){let t=e.getColor();i.strokeStyle=n1(t||ij);let n=e.getLineCap();i.lineCap=void 0!==n?n:i$;let r=e.getLineDash();i.lineDash=r?r.slice():iG;let s=e.getLineDashOffset();i.lineDashOffset=s||0;let a=e.getLineJoin();i.lineJoin=void 0!==a?a:iz;let o=e.getWidth();i.lineWidth=void 0!==o?o:1;let h=e.getMiterLimit();i.miterLimit=void 0!==h?h:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(t){let e=t.fillStyle,i=[rg.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[rg.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){let i=t.fillStyle;("string"!=typeof i||t.currentFillStyle!=i)&&(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,e){let i=t.strokeStyle,n=t.lineCap,r=t.lineDash,s=t.lineDashOffset,a=t.lineJoin,o=t.lineWidth,h=t.miterLimit;t.currentStrokeStyle==i&&t.currentLineCap==n&&(r==t.currentLineDash||f(t.currentLineDash,r))&&t.currentLineDashOffset==s&&t.currentLineJoin==a&&t.currentLineWidth==o&&t.currentMiterLimit==h||(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=r,t.currentLineDashOffset=s,t.currentLineJoin=a,t.currentLineWidth=o,t.currentMiterLimit=h)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let e=[rg.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=te(this.maxExtent),this.maxLineWidth>0)){let t=this.resolution*(this.maxLineWidth+1)/2;tt(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},rb=class extends rx{constructor(t,e,i,n){super(t,e,i,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);let i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,s=this.appendFlatPointCoordinates(i,n);this.instructions.push([rg.DRAW_IMAGE,r,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([rg.DRAW_IMAGE,r,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);let i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,s=this.appendFlatPointCoordinates(i,n);this.instructions.push([rg.DRAW_IMAGE,r,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([rg.DRAW_IMAGE,r,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){let i=t.getAnchor(),n=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},rM=class extends rx{constructor(t,e,i,n){super(t,e,i,n)}drawFlatCoordinates_(t,e,i,n){let r=this.coordinates.length,s=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),a=[rg.MOVE_TO_LINE_TO,r,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(t,e){let i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0===n||void 0===r)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([rg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,iG,0],r_);let s=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(rp),this.endGeometry(e)}drawMultiLineString(t,e){let i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0===n||void 0===r)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([rg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],r_);let s=t.getEnds(),a=t.getFlatCoordinates(),o=t.getStride(),h=0;for(let t=0,e=s.length;t<e;++t)h=this.drawFlatCoordinates_(a,h,s[t],o);this.hitDetectionInstructions.push(rp),this.endGeometry(e)}finish(){let t=this.state;return void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(rp),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(rp),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(r_)}},rw=class extends rx{constructor(t,e,i,n){super(t,e,i,n)}drawFlatCoordinatess_(t,e,i,n){let r=this.state,s=void 0!==r.fillStyle,a=void 0!==r.strokeStyle,o=i.length;this.instructions.push(r_),this.hitDetectionInstructions.push(r_);for(let r=0;r<o;++r){let s=i[r],o=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,s,n,!0,!a),l=[rg.MOVE_TO_LINE_TO,o,h];this.instructions.push(l),this.hitDetectionInstructions.push(l),a&&(this.instructions.push(rv),this.hitDetectionInstructions.push(rv)),e=s}return s&&(this.instructions.push(rm),this.hitDetectionInstructions.push(rm)),a&&(this.instructions.push(rp),this.hitDetectionInstructions.push(rp)),e}drawCircle(t,e){let i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0===n&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([rg.SET_FILL_STYLE,iN]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([rg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);let s=t.getFlatCoordinates(),a=t.getStride(),o=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);let h=[rg.CIRCLE,o];this.instructions.push(r_,h),this.hitDetectionInstructions.push(r_,h),void 0!==i.fillStyle&&(this.instructions.push(rm),this.hitDetectionInstructions.push(rm)),void 0!==i.strokeStyle&&(this.instructions.push(rp),this.hitDetectionInstructions.push(rp)),this.endGeometry(e)}drawPolygon(t,e){let i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0===n&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([rg.SET_FILL_STYLE,iN]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([rg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);let s=t.getEnds(),a=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(a,0,s,o),this.endGeometry(e)}drawMultiPolygon(t,e){let i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0===n&&void 0===r)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([rg.SET_FILL_STYLE,iN]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([rg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);let s=t.getEndss(),a=t.getOrientedFlatCoordinates(),o=t.getStride(),h=0;for(let t=0,e=s.length;t<e;++t)h=this.drawFlatCoordinatess_(a,h,s[t],o);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let t=this.tolerance;if(0!==t){let e=this.coordinates;for(let i=0,n=e.length;i<n;++i)e[i]=e2(e[i],t)}return super.finish()}setFillStrokeStyles_(){let t=this.state,e=t.fillStyle;void 0!==e&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}};const rE={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};var rC=class extends rx{constructor(t,e,i,n){super(t,e,i,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){let t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e){let i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""===this.text_||!r||!i&&!n)return;let s=this.coordinates,a=s.length,o=t.getType(),h=null,l=t.getStride();if("line"===r.placement&&("LineString"==o||"MultiLineString"==o||"Polygon"==o||"MultiPolygon"==o)){let i;if(!tS(this.getBufferedMaxExtent(),t.getExtent()))return;if(h=t.getFlatCoordinates(),"LineString"==o)i=[h.length];else if("MultiLineString"==o)i=t.getEnds();else if("Polygon"==o)i=t.getEnds().slice(0,1);else if("MultiPolygon"==o){let e=t.getEndss();i=[];for(let t=0,n=e.length;t<n;++t)i.push(e[t][0])}this.beginGeometry(t,e);let n=r.repeat,u=n?void 0:r.textAlign,c=0;for(let t=0,e=i.length;t<e;++t){let e;e=n?function(t,e,i,n,r){let s=[],a=i,o=0,h=e.slice(i,2);for(;o<t&&a+r<n;){let[i,n]=h.slice(-2),l=e[a+r],u=e[a+r+1],c=Math.sqrt((l-i)*(l-i)+(u-n)*(u-n));if((o+=c)>=t){let e=(t-o+c)/c,d=i+e*(l-i),f=n+e*(u-n);h.push(d,f),s.push(h),h=[d,f],o==t&&(a+=r),o=0}else if(o<t)h.push(e[a+r],e[a+r+1]),a+=r;else{let t=c-o,e=i+t/c*(l-i),d=n+t/c*(u-n);h.push(e,d),s.push(h),h=[e,d],o=0,a+=r}}return o>0&&s.push(h),s}(n*this.resolution,h,c,i[t],l):[h.slice(c,i[t])];for(let n=0,o=e.length;n<o;++n){let o=e[n],h=0,d=o.length;if(void 0==u){let t=function(t,e,i,n,r){let s,a,o,h,l,u,c,d,f,g=i,m=i,p=0,_=0,v=i;for(s=i;s<n;s+=r){let i=e[s],n=e[s+1];void 0!==h&&(o=Math.sqrt((d=i-h)*d+(f=n-l)*f),void 0!==u&&(_+=a,Math.acos((u*d+c*f)/(a*o))>t&&(_>p&&(p=_,g=v,m=s),_=0,v=s-r)),a=o,u=d,c=f),h=i,l=n}return(_+=o)>p?[v,s]:[g,m]}(r.maxAngle,o,0,o.length,2);h=t[0],d=t[1]}for(let t=h;t<d;t+=l)s.push(o[t],o[t+1]);let f=s.length;c=i[t],this.drawChars_(a,f),a=f}}this.endGeometry(e)}else{let i=r.overflow?null:[];switch(o){case"Point":case"MultiPoint":h=t.getFlatCoordinates();break;case"LineString":h=t.getFlatMidpoint();break;case"Circle":h=t.getCenter();break;case"MultiLineString":h=t.getFlatMidpoints(),l=2;break;case"Polygon":h=t.getFlatInteriorPoint(),r.overflow||i.push(h[2]/this.resolution),l=3;break;case"MultiPolygon":let n=t.getFlatInteriorPoints();h=[];for(let t=0,e=n.length;t<e;t+=3)r.overflow||i.push(n[t+2]/this.resolution),h.push(n[t],n[t+1]);if(0===h.length)return;l=2}let u=this.appendFlatPointCoordinates(h,l);if(u===a)return;if(i&&(u-a)/2!=h.length/l){let t=a/2;i=i.filter((e,i)=>{let n=s[(t+i)*2]===h[i*l]&&s[(t+i)*2+1]===h[i*l+1];return!n&&--t,n})}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);let c=r.padding;if(c!=iV&&(r.scale[0]<0||r.scale[1]<0)){let t=r.padding[0],e=r.padding[1],i=r.padding[2],n=r.padding[3];r.scale[0]<0&&(e=-e,n=-n),r.scale[1]<0&&(t=-t,i=-i),c=[t,e,i,n]}let d=this.pixelRatio;this.instructions.push([rg.DRAW_IMAGE,a,u,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,c==iV?iV:c.map(function(t){return t*d}),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);let f=1/d;this.hitDetectionInstructions.push([rg.DRAW_IMAGE,a,u,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[f,f],NaN,void 0,this.declutterImageWithText_,c,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),this.endGeometry(e)}}saveTextStates_(){let t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;!t||n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash});let r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||iB,justify:e.justify,textBaseline:e.textBaseline||iW,scale:e.scale});let s=this.fillKey_;!i||s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle})}drawChars_(t,e){let i=this.textStrokeState_,n=this.textState_,r=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();let o=this.pixelRatio,h=rE[n.textBaseline],l=this.textOffsetY_*o,u=this.text_,c=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([rg.DRAW_CHARS,t,e,h,n.overflow,a,n.maxAngle,o,l,r,c*o,u,s,1]),this.hitDetectionInstructions.push([rg.DRAW_CHARS,t,e,h,n.overflow,a,n.maxAngle,1,l,r,c,u,s,1/o])}setTextStyle(t,e){let i,n,r;if(t){let e=t.getFill();e?((n=this.textFillState_)||(n={},this.textFillState_=n),n.fillStyle=n1(e.getColor()||iN)):(n=null,this.textFillState_=n);let s=t.getStroke();if(s){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);let t=s.getLineDash(),e=s.getLineDashOffset(),i=s.getWidth(),n=s.getMiterLimit();r.lineCap=s.getLineCap()||i$,r.lineDash=t?t.slice():iG,r.lineDashOffset=void 0===e?0:e,r.lineJoin=s.getLineJoin()||iz,r.lineWidth=void 0===i?1:i,r.miterLimit=void 0===n?10:n,r.strokeStyle=n1(s.getColor()||ij)}else r=null,this.textStrokeState_=r;i=this.textState_;let a=t.getFont()||iD;iX(a);let o=t.getScaleArray();i.overflow=t.getOverflow(),i.font=a,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.repeat=t.getRepeat(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||iW,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||iV,i.scale=void 0===o?[1,1]:o;let h=t.getOffsetX(),l=t.getOffsetY(),u=t.getRotateWithView(),c=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===h?0:h,this.textOffsetY_=void 0===l?0:l,this.textRotateWithView_=void 0!==u&&u,this.textRotation_=void 0===c?0:c,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:I(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+I(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=e}};const rS={Circle:rw,Default:rx,Image:rb,LineString:rM,Polygon:rw,Text:rC};var rI=class{constructor(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}finish(){let t={};for(let e in this.buildersByZIndex_){t[e]=t[e]||{};let i=this.buildersByZIndex_[e];for(let n in i){let r=i[n].finish();t[e][n]=r}}return t}getBuilder(t,e){let i=void 0!==t?t.toString():"0",n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);let r=n[e];if(void 0===r){let t=rS[e];r=new t(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=r}return r}};function rR(t,e,i,n){let r=t[e],s=t[e+1],a=0;for(let o=e+n;o<i;o+=n){let e=t[o],i=t[o+1];a+=Math.sqrt((e-r)*(e-r)+(i-s)*(i-s)),r=e,s=i}return a}const rP=to(),rk=[],rT=[],rA=[],rL=[];function rO(t){return t[3].declutterBox}const rF=RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function rD(t,e){return"start"!==e&&"end"!==e||rF.test(t)||(e="start"===e?"left":"right"),rE[e]}function rN(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}var r$=class{constructor(t,e,i,n){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=U(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}createLabel(t,e,i,n){let r;let s=t+e+i+n;if(this.labels_[s])return this.labels_[s];let a=n?this.strokeStates[n]:null,o=i?this.fillStates[i]:null,h=this.textStates[e],l=this.pixelRatio,u=[h.scale[0]*l,h.scale[1]*l],c=Array.isArray(t),d=h.justify?rE[h.justify]:rD(Array.isArray(t)?t[0]:t,h.textAlign||iB),f=n&&a.lineWidth?a.lineWidth:0,g=c?t:t.split("\n").reduce(rN,[]),{width:m,height:p,widths:_,heights:v,lineWidths:y}=function(t,e){let i=[],n=[],r=[],s=0,a=0,o=0,h=0;for(let l=0,u=e.length;l<=u;l+=2){let c=e[l];if("\n"===c||l===u){s=Math.max(s,a),r.push(a),a=0,o+=h;continue}let d=e[l+1]||t.font,f=iZ(d,c);i.push(f),a+=f;let g=iY(d);n.push(g),h=Math.max(h,g)}return{width:s,height:o,widths:i,heights:n,lineWidths:r}}(h,g),x=m+f,b=[],M=(x+2)*u[0],w=(p+f)*u[1],E={width:M<0?Math.floor(M):Math.ceil(M),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:b};(1!=u[0]||1!=u[1])&&b.push("scale",u),n&&(b.push("strokeStyle",a.strokeStyle),b.push("lineWidth",f),b.push("lineCap",a.lineCap),b.push("lineJoin",a.lineJoin),b.push("miterLimit",a.miterLimit),b.push("setLineDash",[a.lineDash]),b.push("lineDashOffset",a.lineDashOffset)),i&&b.push("fillStyle",o.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");let C=.5-d,S=d*x+C*f,I=[],R=[],P=0,k=0,T=0,A=0;for(let t=0,e=g.length;t<e;t+=2){let e=g[t];if("\n"===e){k+=P,P=0,S=d*x+C*f,++A;continue}let s=g[t+1]||h.font;s!==r&&(n&&I.push("font",s),i&&R.push("font",s),r=s),P=Math.max(P,v[T]);let a=[e,S+C*_[T]+d*(_[T]-y[A]),.5*(f+P)+k];S+=_[T],n&&I.push("strokeText",a),i&&R.push("fillText",a),++T}return Array.prototype.push.apply(b,I),Array.prototype.push.apply(b,R),this.labels_[s]=E,E}replayTextBackground_(t,e,i,n,r,s,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,e),s&&(this.alignFill_=s[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())}calculateImageOrLabelDimensions_(t,e,i,n,r,s,a,o,h,l,u,c,d,f,g,m){let p;a*=c[0],o*=c[1];let _=i-a,v=n-o,y=r+h>t?t-h:r,x=s+l>e?e-l:s,b=f[3]+y*c[0]+f[1],M=f[0]+x*c[1]+f[2],w=_-f[3],E=v-f[0];return(g||0!==u)&&(rk[0]=w,rL[0]=w,rk[1]=E,rT[1]=E,rT[0]=w+b,rA[0]=rT[0],rA[1]=E+M,rL[1]=rA[1]),0!==u?(X(p=Y(U(),i,n,1,1,u,-i,-n),rk),X(p,rT),X(p,rA),X(p,rL),th(Math.min(rk[0],rT[0],rA[0],rL[0]),Math.min(rk[1],rT[1],rA[1],rL[1]),Math.max(rk[0],rT[0],rA[0],rL[0]),Math.max(rk[1],rT[1],rA[1],rL[1]),rP)):th(Math.min(w,w+b),Math.min(E,E+M),Math.max(w,w+b),Math.max(E,E+M),rP),d&&(_=Math.round(_),v=Math.round(v)),{drawImageX:_,drawImageY:v,drawImageW:y,drawImageH:x,originX:h,originY:l,declutterBox:{minX:rP[0],minY:rP[1],maxX:rP[2],maxY:rP[3],value:m},canvasTransform:p,scale:c}}replayImageOrLabel_(t,e,i,n,r,s,a){var o,h,l,u,c,d,f,g;let m=!!(s||a),p=n.declutterBox,_=t.canvas,v=a?a[2]*n.scale[0]/2:0,y=p.minX-v<=_.width/e&&p.maxX+v>=0&&p.minY-v<=_.height/e&&p.maxY+v>=0;return y&&(m&&this.replayTextBackground_(t,rk,rT,rA,rL,s,a),o=n.canvasTransform,h=n.originX,l=n.originY,u=n.drawImageW,c=n.drawImageH,d=n.drawImageX,f=n.drawImageY,g=n.scale,t.save(),1!==r&&(t.globalAlpha*=r),o&&t.setTransform.apply(t,o),i.contextInstructions?(t.translate(d,f),t.scale(g[0],g[1]),function(t,e){let i=t.contextInstructions;for(let t=0,n=i.length;t<n;t+=2)Array.isArray(i[t+1])?e[i[t]].apply(e,i[t+1]):e[i[t]]=i[t+1]}(i,t)):g[0]<0||g[1]<0?(t.translate(d,f),t.scale(g[0],g[1]),t.drawImage(i,h,l,u,c,0,0,u,c)):t.drawImage(i,h,l,u,c,d,f,u*g[0],c*g[1]),t.restore()),!0}fill_(t){if(this.alignFill_){let e=X(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,i,n){let r=this.textStates[e],s=this.createLabel(t,e,n,i),a=this.strokeStates[i],o=this.pixelRatio,h=rD(Array.isArray(t)?t[0]:t,r.textAlign||iB),l=rE[r.textBaseline||iW],u=a&&a.lineWidth?a.lineWidth:0,c=s.width/o-2*r.scale[0],d=l*s.height/o+2*(.5-l)*u;return{label:s,anchorX:h*c+2*(.5-h)*u,anchorY:d}}execute_(t,e,i,n,r,s,a,o){var h;let l,u,c,d,g,m,p,_,v,y,x,b,M,w,E,C,S;this.pixelCoordinates_&&f(i,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=ez(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),(h=this.renderedTransform_)[0]=i[0],h[1]=i[1],h[2]=i[2],h[3]=i[3],h[4]=i[4],h[5]=i[5]);let I=0,R=n.length,P=0,k=0,T=0,A=null,L=null,O=this.coordinateCache_,F=this.viewRotation_,D=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,N={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:F},$=this.instructions!=n||this.overlaps?0:200;for(;I<R;){let i=n[I],h=i[0];switch(h){case rg.BEGIN_GEOMETRY:w=i[1],S=i[3],w.getGeometry()?void 0===a||tS(a,S.getExtent())?++I:I=i[2]+1:I=i[2];break;case rg.BEGIN_PATH:k>$&&(this.fill_(t),k=0),T>$&&(t.stroke(),T=0),k||T||(t.beginPath(),g=NaN,m=NaN),++I;break;case rg.CIRCLE:P=i[1];let f=l[P],R=l[P+1],G=l[P+2],z=l[P+3],j=G-f,B=z-R,W=Math.sqrt(j*j+B*B);t.moveTo(f+W,R),t.arc(f,R,W,0,2*Math.PI,!0),++I;break;case rg.CLOSE_PATH:t.closePath(),++I;break;case rg.CUSTOM:P=i[1],u=i[2];let V=i[3],H=i[4],q=6==i.length?i[5]:void 0;N.geometry=V,N.feature=w,I in O||(O[I]=[]);let U=O[I];q?q(l,P,u,2,U):(U[0]=l[P],U[1]=l[P+1],U.length=2),H(U,N),++I;break;case rg.DRAW_IMAGE:let X,Y,K,Z;P=i[1],u=i[2],v=i[3],c=i[4],d=i[5];let J=i[6],Q=i[7],tt=i[8],te=i[9],ti=i[10],tn=i[11],tr=i[12],ts=i[13],ta=i[14],to=i[15];if(!v&&i.length>=20){y=i[19],x=i[20],b=i[21],M=i[22];let t=this.drawLabelWithPointPlacement_(y,x,b,M);v=t.label,i[3]=v;let e=i[23];c=(t.anchorX-e)*this.pixelRatio,i[4]=c;let n=i[24];d=(t.anchorY-n)*this.pixelRatio,i[5]=d,J=v.height,i[6]=J,ts=v.width,i[13]=ts}i.length>25&&(X=i[25]),i.length>17?(Y=i[16],K=i[17],Z=i[18]):(Y=iV,K=!1,Z=!1),ti&&D?tn+=F:ti||D||(tn-=F);let th=0;for(;P<u;P+=2){if(X&&X[th++]<ts/this.pixelRatio)continue;let i=this.calculateImageOrLabelDimensions_(v.width,v.height,l[P],l[P+1],ts,J,c,d,tt,te,tn,tr,r,Y,K||Z,w),n=[t,e,v,i,Q,K?A:null,Z?L:null];if(o){if("none"===ta)continue;if("obstacle"===ta){o.insert(i.declutterBox);continue}{let t,e;if(to){let i=u-P;if(!to[i]){to[i]=n;continue}if(t=to[i],delete to[i],e=rO(t),o.collides(e))continue}if(o.collides(i.declutterBox))continue;t&&(o.insert(e),this.replayImageOrLabel_.apply(this,t)),o.insert(i.declutterBox)}}this.replayImageOrLabel_.apply(this,n)}++I;break;case rg.DRAW_CHARS:let tl;let tu=i[1],tc=i[2],td=i[3],tf=i[4];M=i[5];let tg=i[6],tm=i[7],tp=i[8];b=i[9];let t_=i[10];y=i[11],x=i[12];let tv=[i[13],i[13]],ty=this.textStates[x],tx=ty.font,tb=[ty.scale[0]*tm,ty.scale[1]*tm];tx in this.widths_?tl=this.widths_[tx]:(tl={},this.widths_[tx]=tl);let tM=rR(l,tu,tc,2),tw=Math.abs(tb[0])*iJ(tx,y,tl);if(tf||tw<=tM){let i=this.textStates[x].textAlign,n=(tM-tw)*rE[i],r=function(t,e,i,n,r,s,a,o,h,l,u,c){var d,f,g,m,p,_;let v,y,x=t[e],b=t[e+1],M=0,w=0,E=0,C=0;function S(){M=x,w=b,e+=n,x=t[e],b=t[e+1],C+=E,E=Math.sqrt((x-M)*(x-M)+(b-w)*(b-w))}do S();while(e<i-n&&C+E<s)let I=0===E?0:(s-C)/E,R=(d=M)+I*(x-d),P=(f=w)+I*(b-f),k=e-n,T=C,A=s+o*h(l,r,u);for(;e<i-n&&C+E<A;)S();I=0===E?0:(A-C)/E;let L=(g=M)+I*(x-g),O=(m=w)+I*(b-m);if(c){let t=[R,P,L,O];ej(t,0,4,2,c,t,t),v=t[0]>t[2]}else v=R>L;let F=Math.PI,D=[],N=k+n===e;if(e=k,E=0,C=T,x=t[e],b=t[e+1],N){S(),y=Math.atan2(b-w,x-M),v&&(y+=y>0?-F:F);let t=(L+R)/2,e=(O+P)/2;return D[0]=[t,e,(A-s)/2,y,r],D}r=r.replace(/\n/g," ");for(let t=0,c=r.length;t<c;){S();let d=Math.atan2(b-w,x-M);if(v&&(d+=d>0?-F:F),void 0!==y){let t=d-y;if(Math.abs(t+=t>F?-2*F:t<-F?2*F:0)>a)return null}y=d;let f=t,g=0;for(;t<c;++t){let a=v?c-t-1:t,d=o*h(l,r[a],u);if(e+n<i&&C+E<s+g+d/2)break;g+=d}if(t===f)continue;let m=v?r.substring(c-f,c-t):r.substring(f,t);I=0===E?0:(s+g/2-C)/E;let R=(p=M)+I*(x-p),P=(_=w)+I*(b-_);D.push([R,P,g/2,d,m]),s+=g}return D}(l,tu,tc,2,y,n,tg,Math.abs(tb[0]),iJ,tx,tl,D?0:this.viewRotation_);i:if(r){let i,n,s,a,h;let l=[];if(b)for(i=0,n=r.length;i<n;++i){s=(h=r[i])[4],a=this.createLabel(s,x,"",b),c=h[2]+(tb[0]<0?-t_:t_),d=td*a.height+(.5-td)*2*t_*tb[1]/tb[0]-tp;let n=this.calculateImageOrLabelDimensions_(a.width,a.height,h[0],h[1],a.width,a.height,c,d,0,0,h[3],tv,!1,iV,!1,w);if(o&&o.collides(n.declutterBox))break i;l.push([t,e,a,n,1,null,null])}if(M)for(i=0,n=r.length;i<n;++i){s=(h=r[i])[4],a=this.createLabel(s,x,M,""),c=h[2],d=td*a.height-tp;let n=this.calculateImageOrLabelDimensions_(a.width,a.height,h[0],h[1],a.width,a.height,c,d,0,0,h[3],tv,!1,iV,!1,w);if(o&&o.collides(n.declutterBox))break i;l.push([t,e,a,n,1,null,null])}o&&o.load(l.map(rO));for(let t=0,e=l.length;t<e;++t)this.replayImageOrLabel_.apply(this,l[t])}}++I;break;case rg.END_GEOMETRY:if(void 0!==s){w=i[1];let t=s(w,S);if(t)return t}++I;break;case rg.FILL:$?k++:this.fill_(t),++I;break;case rg.MOVE_TO_LINE_TO:for(P=i[1],u=i[2],E=l[P],C=l[P+1],p=E+.5|0,_=C+.5|0,(p!==g||_!==m)&&(t.moveTo(E,C),g=p,m=_),P+=2;P<u;P+=2)E=l[P],C=l[P+1],p=E+.5|0,_=C+.5|0,(P==u-2||p!==g||_!==m)&&(t.lineTo(E,C),g=p,m=_);++I;break;case rg.SET_FILL_STYLE:A=i,this.alignFill_=i[2],k&&(this.fill_(t),k=0,T&&(t.stroke(),T=0)),t.fillStyle=i[1],++I;break;case rg.SET_STROKE_STYLE:L=i,T&&(t.stroke(),T=0),this.setStrokeStyle_(t,i),++I;break;case rg.STROKE:$?T++:t.stroke(),++I;break;default:++I}}k&&this.fill_(t),T&&t.stroke()}execute(t,e,i,n,r,s){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,r,void 0,void 0,s)}executeHitDetection(t,e,i,n,r){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,r)}};const rG=["Polygon","Circle","LineString","Image","Text","Default"],rz={};var rj=class{constructor(t,e,i,n,r,s){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=U(),this.createExecutors_(r)}clip(t,e){let i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t){for(let e in t){let i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);let n=t[e];for(let t in n){let e=n[t];i[t]=new r$(this.resolution_,this.pixelRatio_,this.overlaps_,e)}}}hasExecutors(t){for(let e in this.executorsByZIndex_){let i=this.executorsByZIndex_[e];for(let e=0,n=t.length;e<n;++e)if(t[e]in i)return!0}return!1}forEachFeatureAtCoordinate(t,e,i,n,r,s){let a,o,h,l,c,d,f;n=Math.round(n);let g=2*n+1,m=Y(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),p=!this.hitDetectionContext_;p&&(this.hitDetectionContext_=iT(g,g,void 0,{willReadFrequently:!0}));let _=this.hitDetectionContext_;_.canvas.width!==g||_.canvas.height!==g?(_.canvas.width=g,_.canvas.height=g):p||_.clearRect(0,0,g,g),void 0!==this.renderBuffer_&&(tg(a=to(),t),tt(a,e*(this.renderBuffer_+n),a));let v=function(t){if(void 0!==rz[t])return rz[t];let e=2*t+1,i=t*t,n=Array(i+1);for(let r=0;r<=t;++r)for(let s=0;s<=t;++s){let a=r*r+s*s;if(a>i)break;let o=n[a];o||(o=[],n[a]=o),o.push(((t+r)*e+(t+s))*4+3),r>0&&o.push(((t-r)*e+(t+s))*4+3),s>0&&(o.push(((t+r)*e+(t-s))*4+3),r>0&&o.push(((t-r)*e+(t-s))*4+3))}let r=[];for(let t=0,e=n.length;t<e;++t)n[t]&&r.push(...n[t]);return rz[t]=r,r}(n);function y(t,e){let i=_.getImageData(0,0,g,g).data;for(let a=0,h=v.length;a<h;a++)if(i[v[a]]>0){if(!s||"Image"!==o&&"Text"!==o||s.includes(t)){let i=(v[a]-3)/4,s=n-i%g,o=n-(i/g|0),h=r(t,e,s*s+o*o);if(h)return h}_.clearRect(0,0,g,g);break}}let x=Object.keys(this.executorsByZIndex_).map(Number);for(x.sort(u),h=x.length-1;h>=0;--h){let t=x[h].toString();for(c=this.executorsByZIndex_[t],l=rG.length-1;l>=0;--l)if(void 0!==(d=c[o=rG[l]])&&(f=d.executeHitDetection(_,m,i,y,a)))return f}}getClipCoords(t){let e=this.maxExtent_;if(!e)return null;let i=e[0],n=e[1],r=e[2],s=e[3],a=[i,n,i,s,r,s,r,n];return ez(a,0,8,2,t,a),a}isEmpty(){return v(this.executorsByZIndex_)}execute(t,e,i,n,r,s,a){let o,h,l,c,d,f;let g=Object.keys(this.executorsByZIndex_).map(Number);for(g.sort(u),this.maxExtent_&&(t.save(),this.clip(t,i)),s=s||rG,a&&g.reverse(),o=0,h=g.length;o<h;++o){let h=g[o].toString();for(l=0,d=this.executorsByZIndex_[h],c=s.length;l<c;++l){let o=s[l];void 0!==(f=d[o])&&f.execute(t,e,i,n,r,a)}}this.maxExtent_&&t.restore()}},rB=class extends ry{constructor(t,e,i,n,r,s,a){super(),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=n,this.transformRotation_=n?tL(Math.atan2(n[1],n[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=U()}drawImages_(t,e,i,n){if(!this.image_)return;let r=ez(t,e,i,n,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,o=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=o*this.imageOpacity_);let h=this.imageRotation_;0===this.transformRotation_&&(h-=this.viewRotation_),this.imageRotateWithView_&&(h+=this.viewRotation_);for(let t=0,e=r.length;t<e;t+=2){let e=r[t]-this.imageAnchorX_,i=r[t+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){let t=e+this.imageAnchorX_,n=i+this.imageAnchorY_;Y(a,t,n,1,1,h,-t,-n),s.setTransform.apply(s,a),s.translate(t,n),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,i,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=o)}drawText_(t,e,i,n){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let r=ez(t,e,i,n,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(0===this.transformRotation_&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);e<i;e+=n){let t=r[e]+this.textOffsetX_,i=r[e+1]+this.textOffsetY_;0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]?(s.translate(t-this.textOffsetX_,i-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&s.strokeText(this.text_,t,i),this.textFillState_&&s.fillText(this.text_,t,i))}}moveToLineTo_(t,e,i,n,r){let s=this.context_,a=ez(t,e,i,n,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let o=a.length;r&&(o-=2);for(let t=2;t<o;t+=2)s.lineTo(a[t],a[t+1]);return r&&s.closePath(),i}drawRings_(t,e,i,n){for(let r=0,s=i.length;r<s;++r)e=this.moveToLineTo_(t,e,i[r],n,!0);return e}drawCircle(t){if(tS(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let e=function(t,e,i){let n=t.getFlatCoordinates();if(!n)return null;let r=t.getStride();return ez(n,0,n.length,r,e,i)}(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=this.context_;r.beginPath(),r.arc(e[0],e[1],Math.sqrt(i*i+n*n),0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){let e=t.getType();switch(e){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){let i=e.getGeometryFunction()(t);i&&tS(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))}drawGeometryCollection(t){let e=t.getGeometriesArray();for(let t=0,i=e.length;t<i;++t)this.drawGeometry(e[t])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),tS(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){let e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let e=t.getExtent();if(tS(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let e=this.context_,i=t.getFlatCoordinates(),n=0,r=t.getEnds(),s=t.getStride();e.beginPath();for(let t=0,e=r.length;t<e;++t)n=this.moveToLineTo_(i,n,r[t],s,!1);e.stroke()}if(""!==this.text_){let e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),tS(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){let e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),tS(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),s=t.getStride();e.beginPath();for(let t=0,e=r.length;t<e;++t){let e=r[t];n=this.drawRings_(i,n,e,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){let e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){let e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){let e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),f(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){let e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:iB;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){let e=t.getColor();this.fillState_={fillStyle:n1(e||iN)}}else this.fillState_=null;if(e){let t=e.getColor(),i=e.getLineCap(),n=e.getLineDash(),r=e.getLineDashOffset(),s=e.getLineJoin(),a=e.getWidth(),o=e.getMiterLimit(),h=n||iG;this.strokeState_={lineCap:void 0!==i?i:i$,lineDash:1===this.pixelRatio_?h:h.map(t=>t*this.pixelRatio_),lineDashOffset:(r||0)*this.pixelRatio_,lineJoin:void 0!==s?s:iz,lineWidth:(void 0!==a?a:1)*this.pixelRatio_,miterLimit:void 0!==o?o:10,strokeStyle:n1(t||ij)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize())){this.image_=null;return}let i=t.getPixelRatio(this.pixelRatio_),n=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*i,this.imageAnchorY_=n[1]*i,this.imageHeight_=e[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();let s=t.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=e[0]*i}setTextStyle(t){if(t){let e=t.getFill();if(e){let t=e.getColor();this.textFillState_={fillStyle:n1(t||iN)}}else this.textFillState_=null;let i=t.getStroke();if(i){let t=i.getColor(),e=i.getLineCap(),n=i.getLineDash(),r=i.getLineDashOffset(),s=i.getLineJoin(),a=i.getWidth(),o=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:i$,lineDash:n||iG,lineDashOffset:r||0,lineJoin:void 0!==s?s:iz,lineWidth:void 0!==a?a:1,miterLimit:void 0!==o?o:10,strokeStyle:n1(t||ij)}}else this.textStrokeState_=null;let n=t.getFont(),r=t.getOffsetX(),s=t.getOffsetY(),a=t.getRotateWithView(),o=t.getRotation(),h=t.getScaleArray(),l=t.getText(),u=t.getTextAlign(),c=t.getTextBaseline();this.textState_={font:void 0!==n?n:iD,textAlign:void 0!==u?u:iB,textBaseline:void 0!==c?c:iW},this.text_=void 0!==l?Array.isArray(l)?l.reduce((t,e,i)=>t+=i%2?" ":e,""):l:"",this.textOffsetX_=void 0!==r?this.pixelRatio_*r:0,this.textOffsetY_=void 0!==s?this.pixelRatio_*s:0,this.textRotateWithView_=void 0!==a&&a,this.textRotation_=void 0!==o?o:0,this.textScale_=[this.pixelRatio_*h[0],this.pixelRatio_*h[1]]}else this.text_=""}};const rW={Point:function(t,e,i,n,r){let s;let a=i.getImage(),o=i.getText();if(a){if(a.getImageState()!=nH.LOADED)return;let h=t;if(r){let l=a.getDeclutterMode();if("none"!==l){if(h=r,"obstacle"===l){let r=t.getBuilder(i.getZIndex(),"Image");r.setImageStyle(a,s),r.drawPoint(e,n)}else o&&o.getText()&&(s={})}}let l=h.getBuilder(i.getZIndex(),"Image");l.setImageStyle(a,s),l.drawPoint(e,n)}if(o&&o.getText()){let a=t;r&&(a=r);let h=a.getBuilder(i.getZIndex(),"Text");h.setTextStyle(o,s),h.drawText(e,n)}},LineString:function(t,e,i,n,r){let s=i.getStroke();if(s){let r=t.getBuilder(i.getZIndex(),"LineString");r.setFillStrokeStyle(null,s),r.drawLineString(e,n)}let a=i.getText();if(a&&a.getText()){let s=(r||t).getBuilder(i.getZIndex(),"Text");s.setTextStyle(a),s.drawText(e,n)}},Polygon:function(t,e,i,n,r){let s=i.getFill(),a=i.getStroke();if(s||a){let r=t.getBuilder(i.getZIndex(),"Polygon");r.setFillStrokeStyle(s,a),r.drawPolygon(e,n)}let o=i.getText();if(o&&o.getText()){let s=(r||t).getBuilder(i.getZIndex(),"Text");s.setTextStyle(o),s.drawText(e,n)}},MultiPoint:function(t,e,i,n,r){let s;let a=i.getImage(),o=i.getText();if(a){if(a.getImageState()!=nH.LOADED)return;let h=t;if(r){let l=a.getDeclutterMode();if("none"!==l){if(h=r,"obstacle"===l){let r=t.getBuilder(i.getZIndex(),"Image");r.setImageStyle(a,s),r.drawMultiPoint(e,n)}else o&&o.getText()&&(s={})}}let l=h.getBuilder(i.getZIndex(),"Image");l.setImageStyle(a,s),l.drawMultiPoint(e,n)}if(o&&o.getText()){let a=t;r&&(a=r);let h=a.getBuilder(i.getZIndex(),"Text");h.setTextStyle(o,s),h.drawText(e,n)}},MultiLineString:function(t,e,i,n,r){let s=i.getStroke();if(s){let r=t.getBuilder(i.getZIndex(),"LineString");r.setFillStrokeStyle(null,s),r.drawMultiLineString(e,n)}let a=i.getText();if(a&&a.getText()){let s=(r||t).getBuilder(i.getZIndex(),"Text");s.setTextStyle(a),s.drawText(e,n)}},MultiPolygon:function(t,e,i,n,r){let s=i.getFill(),a=i.getStroke();if(a||s){let r=t.getBuilder(i.getZIndex(),"Polygon");r.setFillStrokeStyle(s,a),r.drawMultiPolygon(e,n)}let o=i.getText();if(o&&o.getText()){let s=(r||t).getBuilder(i.getZIndex(),"Text");s.setTextStyle(o),s.drawText(e,n)}},GeometryCollection:function(t,e,i,n,r){let s,a;let o=e.getGeometriesArray();for(s=0,a=o.length;s<a;++s){let e=rW[o[s].getType()];e(t,o[s],i,n,r)}},Circle:function(t,e,i,n,r){let s=i.getFill(),a=i.getStroke();if(s||a){let r=t.getBuilder(i.getZIndex(),"Circle");r.setFillStrokeStyle(s,a),r.drawCircle(e,n)}let o=i.getText();if(o&&o.getText()){let s=(r||t).getBuilder(i.getZIndex(),"Text");s.setTextStyle(o),s.drawText(e,n)}}};function rV(t,e){return parseInt(I(t),10)-parseInt(I(e),10)}function rH(t,e,i,n,r,s,a){let o=!1,h=i.getImage();if(h){let t=h.getImageState();t==nH.LOADED||t==nH.ERROR?h.unlistenImageChange(r):(t==nH.IDLE&&h.load(),h.listenImageChange(r),o=!0)}return function(t,e,i,n,r,s){let a=i.getGeometryFunction()(e);if(!a)return;let o=a.simplifyTransformed(n,r),h=i.getRenderer();if(h)(function t(e,i,n,r){if("GeometryCollection"==i.getType()){let s=i.getGeometries();for(let i=0,a=s.length;i<a;++i)t(e,s[i],n,r);return}let s=e.getBuilder(n.getZIndex(),"Default");s.drawCustom(i,r,n.getRenderer(),n.getHitDetectionRenderer())})(t,o,i,e);else{let n=rW[o.getType()];n(t,o,i,e,s)}}(t,e,i,n,s,a),o}var rq=class extends nY{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=to(),this.wrappedRenderedExtent_=to(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(t,e,i){let n=e.extent,r=e.viewState,s=r.center,a=r.resolution,o=r.projection,h=r.rotation,l=o.getExtent(),u=this.getLayer().getSource(),c=e.pixelRatio,d=e.viewHints,f=!(d[tY.ANIMATING]||d[tY.INTERACTING]),g=this.compositionContext_,m=Math.round(e.size[0]*c),p=Math.round(e.size[1]*c),_=u.getWrapX()&&o.canWrapX(),v=_?tC(l):null,y=_?Math.ceil((n[2]-l[2])/v)+1:1,x=_?Math.floor((n[0]-l[0])/v):0;do{let e=this.getRenderTransform(s,a,h,c,m,p,x*v);t.execute(g,1,e,h,f,void 0,i)}while(++x<y)}setupCompositionContext_(){if(1!==this.opacity_){let t=iT(this.context.canvas.width,this.context.canvas.height,nU);this.compositionContext_=t}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){let t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,iA(this.compositionContext_),nU.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())}renderFrame(t,e){var i,n,r,s;let a=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];i=this.pixelTransform,n=1/a,r=1/a,i[0]=n,i[1]=0,i[2]=0,i[3]=r,i[4]=0,i[5]=0,K(this.inversePixelTransform,this.pixelTransform);let h=Z(this.pixelTransform);this.useContainer(e,h,this.getBackground(t));let l=this.context,u=l.canvas,c=this.replayGroup_,d=this.declutterExecutorGroup;if((!c||c.isEmpty())&&(!d||d.isEmpty()))return null;let f=Math.round(t.size[0]*a),g=Math.round(t.size[1]*a);u.width!=f||u.height!=g?(u.width=f,u.height=g,u.style.transform!==h&&(u.style.transform=h)):this.containerReused||l.clearRect(0,0,f,g),this.preRender(l,t);let m=t.viewState;m.projection,this.opacity_=o.opacity,this.setupCompositionContext_();let p=!1,_=!0;if(o.extent&&this.clipping){let e=s=o.extent;(p=(_=tS(e,t.extent))&&!tr(e,t.extent))&&this.clipUnrotated(this.compositionContext_,t,e)}return _&&this.renderWorlds(c,t),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(l,t),this.renderedRotation_!==m.rotation&&(this.renderedRotation_=m.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(t){return new Promise(e=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let t=[this.context.canvas.width,this.context.canvas.height];X(this.pixelTransform,t);let e=this.renderedCenter_,i=this.renderedResolution_,n=this.renderedRotation_,r=this.renderedProjection_,s=this.wrappedRenderedExtent_,a=this.getLayer(),o=[],h=.5*t[0],l=.5*t[1];o.push(this.getRenderTransform(e,i,n,.5,h,l,0).slice());let c=a.getSource(),d=r.getExtent();if(c.getWrapX()&&r.canWrapX()&&!tr(d,s)){let t,r=s[0],a=tC(d),u=0;for(;r<d[0];)t=a*--u,o.push(this.getRenderTransform(e,i,n,.5,h,l,t).slice()),r+=a;for(u=0,r=s[2];r>d[2];)t=a*++u,o.push(this.getRenderTransform(e,i,n,.5,h,l,t).slice()),r-=a}this.hitDetectionImageData_=function(t,e,i,n,r,s,a){let o=.5*t[0],h=.5*t[1],l=iT(o,h);l.imageSmoothingEnabled=!1;let c=l.canvas,d=new rB(l,.5,r,null,a),f=i.length,g=Math.floor(16777215/f),m={};for(let t=1;t<=f;++t){let e=i[t-1],a=e.getStyleFunction()||n;if(!n)continue;let o=a(e,s);if(!o)continue;Array.isArray(o)||(o=[o]);let h=t*g,l=h.toString(16).padStart(7,"#00000");for(let t=0,i=o.length;t<i;++t){let i=o[t],n=i.getGeometryFunction()(e);if(!n||!tS(r,n.getExtent()))continue;let s=i.clone(),a=s.getFill();a&&a.setColor(l);let h=s.getStroke();h&&(h.setColor(l),h.setLineDash(null)),s.setText(void 0);let u=i.getImage();if(u&&0!==u.getOpacity()){let t=u.getImageSize();if(!t)continue;let e=iT(t[0],t[1],void 0,{alpha:!1}),i=e.canvas;e.fillStyle=l,e.fillRect(0,0,i.width,i.height),s.setImage(new ro({img:i,imgSize:t,anchor:u.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:u.getOrigin(),opacity:1,size:u.getSize(),scale:u.getScale(),rotation:u.getRotation(),rotateWithView:u.getRotateWithView()}))}let c=s.getZIndex()||0,d=m[c];d||(d={},m[c]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);let f=n.getType();if("GeometryCollection"===f){let t=n.getGeometriesArrayRecursive();for(let e=0,i=t.length;e<i;++e){let i=t[e];d[i.getType().replace("Multi","")].push(i,s)}}else d[f.replace("Multi","")].push(n,s)}}let p=Object.keys(m).map(Number).sort(u);for(let t=0,i=p.length;t<i;++t){let i=m[p[t]];for(let t in i){let n=i[t];for(let t=0,i=n.length;t<i;t+=2){d.setStyle(n[t+1]);for(let i=0,r=e.length;i<r;++i)d.setTransform(e[i]),d.drawGeometry(n[t])}}}return l.getImageData(0,0,c.width,c.height)}(t,o,this.renderedFeatures_,a.getStyleFunction(),s,i,n)}e(function(t,e,i){let n=[];if(i){let r=Math.floor(.5*Math.round(t[0])),s=Math.floor(.5*Math.round(t[1])),a=(tP(r,0,i.width-1)+tP(s,0,i.height-1)*i.width)*4,o=i.data[a],h=i.data[a+1],l=i.data[a+2],u=l+256*(h+256*o),c=Math.floor(16777215/e.length);u&&u%c==0&&n.push(e[u/c-1])}return n}(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,e,i,n,r){let s;if(!this.replayGroup_)return;let a=e.viewState.resolution,o=e.viewState.rotation,h=this.getLayer(),l={},u=function(t,e,i){let s=I(t),a=l[s];if(a){if(!0!==a&&i<a.distanceSq){if(0===i)return l[s]=!0,r.splice(r.lastIndexOf(a),1),n(t,h,e);a.geometry=e,a.distanceSq=i}}else{if(0===i)return l[s]=!0,n(t,h,e);r.push(l[s]={feature:t,layer:h,geometry:e,distanceSq:i,callback:n})}},c=[this.replayGroup_];return this.declutterExecutorGroup&&c.push(this.declutterExecutorGroup),c.some(n=>s=n.forEachFeatureAtCoordinate(t,a,o,i,u,n===this.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map(t=>t.value):null)),s}handleFontsChanged(){let t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){let e,i;let n=this.getLayer(),r=n.getSource();if(!r)return!1;let s=t.viewHints[tY.ANIMATING],a=t.viewHints[tY.INTERACTING],o=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!o&&s||!h&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=t.extent,u=t.viewState,c=u.projection,d=u.resolution,g=t.pixelRatio,m=n.getRevision(),p=n.getRenderBuffer(),_=n.getRenderOrder();void 0===_&&(_=rV);let v=u.center.slice(),y=tt(l,p*d),x=y.slice(),b=[y.slice()],M=c.getExtent();if(r.getWrapX()&&c.canWrapX()&&!tr(M,t.extent)){let t=tC(M),e=Math.max(tC(y)/2,t);y[0]=M[0]-e,y[2]=M[2]+e,eh(v,c);let i=tR(b[0],c);i[0]<M[0]&&i[2]<M[2]?b.push([i[0]+t,i[1],i[2]+t,i[3]]):i[0]>M[0]&&i[2]>M[2]&&b.push([i[0]-t,i[1],i[2]-t,i[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==m&&this.renderedRenderOrder_==_&&tr(this.wrappedRenderedExtent_,y))return f(this.renderedExtent_,x)||(this.hitDetectionImageData_=null,this.renderedExtent_=x),this.renderedCenter_=v,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let w=new rI(.5*d/g,y,d,g);this.getLayer().getDeclutter()&&(e=new rI(.5*d/g,y,d,g));let E=eI();if(E){for(let t=0,e=b.length;t<e;++t){let e=b[t];r.loadFeatures(e,d,E)}i=eE(E,c)}else for(let t=0,e=b.length;t<e;++t)r.loadFeatures(b[t],d,c);let C=function(t,e){var i,n;let r=.5*(i=t)/(n=e);return r*r}(d,g),S=!0,I=t=>{let r;let s=t.getStyleFunction()||n.getStyleFunction();if(s&&(r=s(t,d)),r){let n=this.renderFeature(t,C,r,w,i,e);S=S&&!n}},R=r.getFeaturesInExtent(y);_&&R.sort(_);for(let t=0,e=R.length;t<e;++t)I(R[t]);this.renderedFeatures_=R,this.ready=S;let P=w.finish(),k=new rj(y,d,g,r.getOverlaps(),P,n.getRenderBuffer());return e&&(this.declutterExecutorGroup=new rj(y,d,g,r.getOverlaps(),e.finish(),n.getRenderBuffer())),this.renderedResolution_=d,this.renderedRevision_=m,this.renderedRenderOrder_=_,this.renderedExtent_=x,this.wrappedRenderedExtent_=y,this.renderedCenter_=v,this.renderedProjection_=c,this.replayGroup_=k,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,i,n,r,s){if(!i)return!1;let a=!1;if(Array.isArray(i))for(let o=0,h=i.length;o<h;++o)a=rH(n,t,i[o],e,this.boundHandleStyleImageChange_,r,s)||a;else a=rH(n,t,i,e,this.boundHandleStyleImageChange_,r,s);return a}},rU=class extends rf{constructor(t){super(t)}createRenderer(){return new rq(this)}},rX=class{constructor(t){this.rbush_=new(r(nJ))(t),this.items_={}}insert(t,e){let i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[I(e)]=i}load(t,e){let i=Array(e.length);for(let n=0,r=e.length;n<r;n++){let r=t[n],s=e[n],a={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:s};i[n]=a,this.items_[I(s)]=a}this.rbush_.load(i)}remove(t){let e=I(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)}update(t,e){let i=this.items_[I(e)],n=[i.minX,i.minY,i.maxX,i.maxY];td(n,t)||(this.remove(e),this.insert(t,e))}getAll(){let t=this.rbush_.all();return t.map(function(t){return t.value})}getInExtent(t){let e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},i=this.rbush_.search(e);return i.map(function(t){return t.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let i;for(let n=0,r=t.length;n<r&&!(i=e(t[n]));n++);return i}isEmpty(){return v(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){let e=this.rbush_.toJSON();return th(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){for(let e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]}};function rY(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var rK=class extends P{constructor(t){super(),this.projection=ev(t.projection),this.attributions_=rY(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;let e=this;this.viewPromise_=new Promise(function(t,i){e.viewResolver=t,e.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=rY(t),this.changed()}setState(t){this.state_=t,this.changed()}},rZ={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function rJ(t,e){return[[-1/0,-1/0,1/0,1/0]]}function rQ(t,e){return function(i,n,r,s,a){let o=this;!function(t,e,i,n,r,s,a){let o=new XMLHttpRequest;o.open("GET","function"==typeof t?t(i,n,r):t,!0),"arraybuffer"==e.getType()&&(o.responseType="arraybuffer"),o.withCredentials=!1,o.onload=function(t){if(!o.status||o.status>=200&&o.status<300){let t;let n=e.getType();"json"==n||"text"==n?t=o.responseText:"xml"==n?(t=o.responseXML)||(t=new DOMParser().parseFromString(o.responseText,"application/xml")):"arraybuffer"==n&&(t=o.response),t?s(e.readFeatures(t,{extent:i,featureProjection:r}),e.readProjection(t)):a()}else a()},o.onerror=a,o.send()}(t,e,i,n,r,function(t,e){o.addFeatures(t),void 0!==s&&s(t)},a||p)}}class r0 extends o{constructor(t,e,i){super(t),this.feature=e,this.features=i}}var r1=class extends rK{constructor(t){let e,i;t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=p,this.format_=t.format,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&(A(this.format_,7),this.loader_=rQ(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:rJ;let n=void 0===t.useSpatialIndex||t.useSpatialIndex;this.featuresRtree_=n?new rX:null,this.loadedExtentsRtree_=new rX,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?i=t.features:t.features&&(i=(e=t.features).getArray()),n||void 0!==e||(e=new N(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==e&&this.bindFeaturesCollection_(e)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){let e=I(t);if(!this.addToIndex_(e,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(e,t);let i=t.getGeometry();if(i){let e=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new r0(rZ.ADDFEATURE,t))}setupChangeEvents_(t,e){this.featureChangeKeys_[t]=[b(e,x.CHANGE,this.handleFeatureChange_,this),b(e,h.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(t,e){let i=!0,n=e.getId();return void 0!==n&&(n.toString() in this.idIndex_?i=!1:this.idIndex_[n.toString()]=e),i&&(A(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){let e=[],i=[],n=[];for(let e=0,n=t.length;e<n;e++){let n=t[e],r=I(n);this.addToIndex_(r,n)&&i.push(n)}for(let t=0,r=i.length;t<r;t++){let r=i[t],s=I(r);this.setupChangeEvents_(s,r);let a=r.getGeometry();if(a){let t=a.getExtent();e.push(t),n.push(r)}else this.nullGeometryFeatures_[s]=r}if(this.featuresRtree_&&this.featuresRtree_.load(e,n),this.hasListener(rZ.ADDFEATURE))for(let t=0,e=i.length;t<e;t++)this.dispatchEvent(new r0(rZ.ADDFEATURE,i[t]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(rZ.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),this.addEventListener(rZ.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),t.addEventListener(O.ADD,t=>{e||(e=!0,this.addFeature(t.element),e=!1)}),t.addEventListener(O.REMOVE,t=>{e||(e=!0,this.removeFeature(t.element),e=!1)}),this.featuresCollection_=t}clear(t){if(t){for(let t in this.featureChangeKeys_){let e=this.featureChangeKeys_[t];e.forEach(M)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(let t in this.featuresRtree_.forEach(t=>{this.removeFeatureInternal(t)}),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let e=new r0(rZ.CLEAR);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){let i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(i){let n=i.getGeometry();if(n.intersectsCoordinate(t))return e(i)})}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,function(i){let n=i.getGeometry();if(n.intersectsExtent(t)){let t=e(i);if(t)return t}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),v(this.nullGeometryFeatures_)||d(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){let e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){let i=e&&e.canWrapX()&&this.getWrapX();if(!i)return this.featuresRtree_.getInExtent(t);let n=function(t,e){if(e.canWrapX()){let i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];tR(t,e);let n=tC(i);if(tC(t)>n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+n,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-n,t[3]]]}return[t]}(t,e);return[].concat(...n.map(t=>this.featuresRtree_.getInExtent(t)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){let i=t[0],n=t[1],r=null,s=[NaN,NaN],a=1/0,o=[-1/0,-1/0,1/0,1/0];return e=e||g,this.featuresRtree_.forEachInExtent(o,function(t){if(e(t)){let e=t.getGeometry(),h=a;if((a=e.closestPointXY(i,n,s,a))<h){r=t;let e=Math.sqrt(a);o[0]=i-e,o[1]=n-e,o[2]=i+e,o[3]=n+e}}}),r}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){let e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){let e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){let e=t.target,i=I(e),n=e.getGeometry();if(n){let t=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);let r=e.getId();if(void 0!==r){let t=r.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new r0(rZ.CHANGEFEATURE,e))}hasFeature(t){let e=t.getId();return void 0!==e?e in this.idIndex_:I(t) in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&v(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,i){let n=this.loadedExtentsRtree_,r=this.strategy_(t,e,i);for(let t=0,s=r.length;t<s;++t){let s=r[t],a=n.forEachInExtent(s,function(t){return tr(t.extent,s)});a||(++this.loadingExtentsCount_,this.dispatchEvent(new r0(rZ.FEATURESLOADSTART)),this.loader_.call(this,s,e,i,t=>{--this.loadingExtentsCount_,this.dispatchEvent(new r0(rZ.FEATURESLOADEND,void 0,t))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new r0(rZ.FEATURESLOADERROR))}),n.insert(s,{extent:s.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){let e;let i=this.loadedExtentsRtree_;i.forEachInExtent(t,function(i){if(td(i.extent,t))return e=i,!0}),e&&i.remove(e)}removeFeature(t){if(!t)return;let e=I(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);let i=this.removeFeatureInternal(t);i&&this.changed()}removeFeatureInternal(t){let e=I(t),i=this.featureChangeKeys_[e];if(!i)return;i.forEach(M),delete this.featureChangeKeys_[e];let n=t.getId();return void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new r0(rZ.REMOVEFEATURE,t)),t}removeFromIdIndex_(t){let e=!1;for(let i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e}setLoader(t){this.loader_=t}setUrl(t){A(this.format_,7),this.url_=t,this.setLoader(rQ(t,this.format_))}};class r2 extends eV{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(M),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(b(this.geometries_[t],x.CHANGE,this.changed,this))}clone(){let t=new r2(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,e,i,n){if(n<ti(this.getExtent(),t,e))return n;let r=this.geometries_;for(let s=0,a=r.length;s<a;++s)n=r[s].closestPointXY(t,e,i,n);return n}containsXY(t,e){let i=this.geometries_;for(let n=0,r=i.length;n<r;++n)if(i[n].containsXY(t,e))return!0;return!1}computeExtent(t){tl(t);let e=this.geometries_;for(let i=0,n=e.length;i<n;++i)tf(t,e[i].getExtent());return t}getGeometries(){return r3(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[],e=this.geometries_;for(let i=0,n=e.length;i<n;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;let e=[],i=this.geometries_,n=!1;for(let r=0,s=i.length;r<s;++r){let s=i[r],a=s.getSimplifiedGeometry(t);e.push(a),a!==s&&(n=!0)}if(n){let t=new r2(null);return t.setGeometriesArray(e),t}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){let e=this.geometries_;for(let i=0,n=e.length;i<n;++i)if(e[i].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){let i=this.geometries_;for(let n=0,r=i.length;n<r;++n)i[n].rotate(t,e);this.changed()}scale(t,e,i){i||(i=ty(this.getExtent()));let n=this.geometries_;for(let r=0,s=n.length;r<s;++r)n[r].scale(t,e,i);this.changed()}setGeometries(t){this.setGeometriesArray(r3(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){let e=this.geometries_;for(let i=0,n=e.length;i<n;++i)e[i].applyTransform(t);this.changed()}translate(t,e){let i=this.geometries_;for(let n=0,r=i.length;n<r;++n)i[n].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function r3(t){let e=[];for(let i=0,n=t.length;i<n;++i)e.push(t[i].clone());return e}var r4=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let i=e.dataProjection?ev(e.dataProjection):this.readProjection(t);e.extent&&i&&"tile-pixels"===i.getUnits()&&(i=ev(i)).setWorldExtent(e.extent),e={dataProjection:i,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return C()}readFeature(t,e){return C()}readFeatures(t,e){return C()}readGeometry(t,e){return C()}readProjection(t){return C()}writeFeature(t,e){return C()}writeFeatures(t,e){return C()}writeGeometry(t,e){return C()}};function r5(t,e,i){let n;let r=i?ev(i.featureProjection):null,s=i?ev(i.dataProjection):null;if(n=r&&s&&!ew(r,s)?(e?t.clone():t).transform(e?r:s,e?s:r):t,e&&i&&void 0!==i.decimals){let e=Math.pow(10,i.decimals);n===t&&(n=t.clone()),n.applyTransform(function(t){for(let i=0,n=t.length;i<n;++i)t[i]=Math.round(t[i]*e)/e;return t})}return n}function r6(t){if("string"==typeof t){let e=JSON.parse(t);return e||null}return null!==t?t:null}var r8=class extends r4{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(r6(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(r6(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return C()}readFeaturesFromObject(t,e){return C()}readGeometry(t,e){return this.readGeometryFromObject(r6(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return C()}readProjection(t){return this.readProjectionFromObject(r6(t))}readProjectionFromObject(t){return C()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return C()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return C()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return C()}};function r9(t,e,i,n,r,s,a){let o,h;let l=(i-e)/n;if(1===l)o=e;else if(2===l)o=e,h=r;else if(0!==l){let s=t[e],a=t[e+1],l=0,c=[0];for(let r=e+n;r<i;r+=n){let e=t[r],i=t[r+1];l+=Math.sqrt((e-s)*(e-s)+(i-a)*(i-a)),c.push(l),s=e,a=i}let d=r*l,f=function(t,e,i){let n,r;i=i||u;let s=0,a=t.length,o=!1;for(;s<a;)(r=+i(t[n=s+(a-s>>1)],e))<0?s=n+1:(a=n,o=!r);return o?s:~s}(c,d);f<0?(h=(d-c[-f-2])/(c[-f-1]-c[-f-2]),o=e+(-f-2)*n):o=e+f*n}a=a>1?a:2,s=s||Array(a);for(let e=0;e<a;++e){var c;s[e]=void 0===o?NaN:void 0===h?t[o+e]:(c=t[o+e],c+h*(t[o+n+e]-c))}return s}function r7(t,e,i,n,r,s){let a;if(i==e)return null;if(r<t[e+n-1])return s?((a=t.slice(e,e+n))[n-1]=r,a):null;if(t[i-1]<r)return s?((a=t.slice(i-n,i))[n-1]=r,a):null;if(r==t[e+n-1])return t.slice(e,e+n);let o=e/n,h=i/n;for(;o<h;){let e=o+h>>1;r<t[(e+1)*n-1]?h=e:o=e+1}let l=t[o*n-1];if(r==l)return t.slice((o-1)*n,(o-1)*n+n);let u=t[(o+1)*n-1],c=(r-l)/(u-l);a=[];for(let e=0;e<n-1;++e){var d;a.push((d=t[(o-1)*n+e],d+c*(t[o*n+e]-d)))}return a.push(r),a}class st extends eq{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){this.flatCoordinates?d(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()}clone(){let t=new st(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,n){return n<ti(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eX(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),eK(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,n))}forEachSegment(t){return is(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(e=void 0!==e&&e,r7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return e4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return r9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return rR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){let e=[];return e.length=e1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new st(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return ia(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=eQ(this.flatCoordinates,0,t,this.stride),this.changed()}}class se extends eq{constructor(t,e,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&i)this.setFlatCoordinates(e,t),this.ends_=i;else{let e=this.getLayout(),i=[],n=[];for(let r=0,s=t.length;r<s;++r){let s=t[r];0===r&&(e=s.getLayout()),d(i,s.getFlatCoordinates()),n.push(i.length)}this.setFlatCoordinates(e,i),this.ends_=n}}appendLineString(t){this.flatCoordinates?d(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let t=new se(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,n){return n<ti(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eY(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),eZ(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,n))}getCoordinateAtM(t,e,i){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(e=void 0!==e&&e,i=void 0!==i&&i,function(t,e,i,n,r,s,a){let o;if(a)return r7(t,e,i[i.length-1],n,r,s);if(r<t[n-1])return s?((o=t.slice(0,n))[n-1]=r,o):null;if(t[t.length-1]<r)return s?((o=t.slice(t.length-n))[n-1]=r,o):null;for(let s=0,a=i.length;s<a;++s){let a=i[s];if(e!=a){if(r<t[e+n-1])return null;if(r<=t[a-1])return r7(t,e,a,n,r,!1);e=a}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,e,i))}getCoordinates(){return e5(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new st(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){let t=this.flatCoordinates,e=this.ends_,i=this.layout,n=[],r=0;for(let s=0,a=e.length;s<a;++s){let a=e[s],o=new st(t.slice(r,a),i);n.push(o),r=a}return n}getFlatMidpoints(){let t=[],e=this.flatCoordinates,i=0,n=this.ends_,r=this.stride;for(let s=0,a=n.length;s<a;++s){let a=n[s],o=r9(e,i,a,r,.5);d(t,o),i=a}return t}getSimplifiedGeometryInternal(t){let e=[],i=[];return e.length=function(t,e,i,n,r,s,a,o){for(let h=0,l=i.length;h<l;++h){let l=i[h];a=e1(t,e,l,n,r,s,a),o.push(a),e=l}return a}(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i),new se(e,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(t){return function(t,e,i,n,r){for(let s=0,a=i.length;s<a;++s){if(ia(t,e,i[s],n,r))return!0;e=i[s]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=e0(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}class si extends eq{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){this.flatCoordinates?d(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()}clone(){let t=new si(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,n){if(n<ti(this.getExtent(),t,e))return n;let r=this.flatCoordinates,s=this.stride;for(let a=0,o=r.length;a<o;a+=s){let o=tk(t,e,r[a],r[a+1]);if(o<n){n=o;for(let t=0;t<s;++t)i[t]=r[a+t];i.length=s}}return n}getCoordinates(){return e4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){let e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new it(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){let t=this.flatCoordinates,e=this.layout,i=this.stride,n=[];for(let r=0,s=t.length;r<s;r+=i){let s=new it(t.slice(r,r+i),e);n.push(s)}return n}getType(){return"MultiPoint"}intersectsExtent(t){let e=this.flatCoordinates,i=this.stride;for(let n=0,r=e.length;n<r;n+=i){let i=e[n],r=e[n+1];if(ts(t,i,r))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=eQ(this.flatCoordinates,0,t,this.stride),this.changed()}}class sn extends eq{constructor(t,e,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){let n=this.getLayout(),r=t,s=[],a=[];for(let t=0,e=r.length;t<e;++t){let e=r[t];0===t&&(n=e.getLayout());let i=s.length,o=e.getEnds();for(let t=0,e=o.length;t<e;++t)o[t]+=i;d(s,e.getFlatCoordinates()),a.push(o)}e=n,t=s,i=a}void 0!==e&&i?(this.setFlatCoordinates(e,t),this.endss_=i):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){let i=this.flatCoordinates.length;d(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,n=e.length;t<n;++t)e[t]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){let t=this.endss_.length,e=Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();let i=new sn(this.flatCoordinates.slice(),this.layout,e);return i.applyProperties(this),i}closestPointXY(t,e,i,n){return n<ti(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,i,n,r){for(let s=0,a=i.length;s<a;++s){let a=i[s];r=eY(t,e,a,n,r),e=a[a.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,i,n,r,s,a,o,h,l,u){u=u||[NaN,NaN];for(let c=0,d=i.length;c<d;++c){let d=i[c];l=eZ(t,e,d,n,r,s,a,o,h,l,u),e=d[d.length-1]}return l}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,n))}containsXY(t,e){return function(t,e,i,n,r,s){if(0===i.length)return!1;for(let a=0,o=i.length;a<o;++a){let o=i[a];if(ii(t,e,o,n,r,s))return!0;e=o[o.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return function(t,e,i,n){let r=0;for(let s=0,a=i.length;s<a;++s){let a=i[s];r+=e9(t,e,a,n),e=a[a.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?ic(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,e6(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){let t=function(t,e,i,n){let r=[],s=to();for(let a=0,o=i.length;a<o;++a){let o=i[a];s=tc(t,e,o[0],n),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=o[o.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,i,n,r){let s=[];for(let a=0,o=i.length;a<o;++a){let o=i[a];s=ir(t,e,o,n,r,2*a,s),e=o[o.length-1]}return s}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new si(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let t=this.flatCoordinates;!function(t,e,i,n,r){for(let r=0,s=i.length;r<s;++r){let s=i[r];if(!il(t,e,s,n,void 0))return!1;s.length&&(e=s[s.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ic(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){let e=[],i=[];return e.length=function(t,e,i,n,r,s,a,o){for(let h=0,l=i.length;h<l;++h){let l=i[h],u=[];a=e3(t,e,l,n,r,s,a,u),o.push(u),e=l[l.length-1]}return a}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new sn(e,"XY",i)}getPolygon(t){let e;if(t<0||this.endss_.length<=t)return null;if(0===t)e=0;else{let i=this.endss_[t-1];e=i[i.length-1]}let i=this.endss_[t].slice(),n=i[i.length-1];if(0!==e)for(let t=0,n=i.length;t<n;++t)i[t]-=e;return new id(this.flatCoordinates.slice(e,n),this.layout,i)}getPolygons(){let t=this.layout,e=this.flatCoordinates,i=this.endss_,n=[],r=0;for(let s=0,a=i.length;s<a;++s){let a=i[s].slice(),o=a[a.length-1];if(0!==r)for(let t=0,e=a.length;t<e;++t)a[t]-=r;let h=new id(e.slice(r,o),t,a);n.push(h),r=o}return n}getType(){return"MultiPolygon"}intersectsExtent(t){return function(t,e,i,n,r){for(let s=0,a=i.length;s<a;++s){let a=i[s];if(io(t,e,a,n,r))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);let i=function(t,e,i,n,r){r=r||[];let s=0;for(let a=0,o=i.length;a<o;++a){let o=e0(t,e,i[a],n,r[s]);0===o.length&&(o[0]=e),r[s++]=o,e=o[o.length-1]}return r.length=s,r}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{let t=i[i.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}function sr(t,e){let i;if(!t)return null;switch(t.type){case"Point":i=new it(t.coordinates);break;case"LineString":i=new st(t.coordinates);break;case"Polygon":i=new id(t.coordinates);break;case"MultiPoint":i=new si(t.coordinates);break;case"MultiLineString":i=new se(t.coordinates);break;case"MultiPolygon":i=new sn(t.coordinates);break;case"GeometryCollection":i=function(t,e){let i=t.geometries.map(function(t){return sr(t,void 0)});return new r2(i)}(t);break;default:throw Error("Unsupported GeoJSON type: "+t.type)}return r5(i,!1,e)}function ss(t,e){var i,n;let r,s,a;t=r5(t,!0,e);let o=t.getType();switch(o){case"Point":r={type:"Point",coordinates:t.getCoordinates()};break;case"LineString":r={type:"LineString",coordinates:t.getCoordinates()};break;case"Polygon":i=t,e&&(s=e.rightHanded),r={type:"Polygon",coordinates:i.getCoordinates(s)};break;case"MultiPoint":r={type:"MultiPoint",coordinates:t.getCoordinates()};break;case"MultiLineString":r={type:"MultiLineString",coordinates:t.getCoordinates()};break;case"MultiPolygon":n=t,e&&(a=e.rightHanded),r={type:"MultiPolygon",coordinates:n.getCoordinates(a)};break;case"GeometryCollection":r=function(t,e){e=Object.assign({},e),delete e.featureProjection;let i=t.getGeometriesArray().map(function(t){return ss(t,e)});return{type:"GeometryCollection",geometries:i}}(t,e);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+o)}return r}var sa=class extends r8{constructor(t){t=t||{},super(),this.dataProjection=ev(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=ev(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let i=null;i="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null};let n=sr(i.geometry,e),r=new L;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&r.setGeometryName(i.geometry_name),r.setGeometry(n),"id"in i&&r.setId(i.id),i.properties&&r.setProperties(i.properties,!0),r}readFeaturesFromObject(t,e){let i=null;if("FeatureCollection"===t.type){i=[];let n=t.features;for(let t=0,r=n.length;t<r;++t)i.push(this.readFeatureFromObject(n[t],e))}else i=[this.readFeatureFromObject(t,e)];return i}readGeometryFromObject(t,e){return sr(t,e)}readProjectionFromObject(t){let e;let i=t.crs;return i?"name"==i.type?e=ev(i.properties.name):"EPSG"===i.type?e=ev("EPSG:"+i.properties.code):A(!1,36):e=this.dataProjection,e}writeFeatureObject(t,e){e=this.adaptOptions(e);let i={type:"Feature",geometry:null,properties:null},n=t.getId();if(void 0!==n&&(i.id=n),!t.hasProperties())return i;let r=t.getProperties(),s=t.getGeometry();return s&&(i.geometry=ss(s,e),delete r[t.getGeometryName()]),v(r)||(i.properties=r),i}writeFeaturesObject(t,e){e=this.adaptOptions(e);let i=[];for(let n=0,r=t.length;n<r;++n)i.push(this.writeFeatureObject(t[n],e));return{type:"FeatureCollection",features:i}}writeGeometryObject(t,e){return ss(t,this.adaptOptions(e))}},so=Math.PI/2,sh=Math.PI/4,sl=2*Math.PI,su={};su.greenwich=0,su.lisbon=-9.131906111111,su.paris=2.337229166667,su.bogota=-74.080916666667,su.madrid=-3.687938888889,su.rome=12.452333333333,su.bern=7.439583333333,su.jakarta=106.807719444444,su.ferro=-17.666666666667,su.brussels=4.367975,su.stockholm=18.058277777778,su.athens=23.7163375,su.oslo=10.722916666667;var sc={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},sd=/[\s_\-\/\(\)]/g;function sf(t,e){if(t[e])return t[e];for(var i,n=Object.keys(t),r=e.toLowerCase().replace(sd,""),s=-1;++s<n.length;)if((i=n[s]).toLowerCase().replace(sd,"")===r)return t[i]}function sg(t){var e,i,n,r={},s=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t},{}),a={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=.017453292519943295*t},lat_1:function(t){r.lat1=.017453292519943295*t},lat_2:function(t){r.lat2=.017453292519943295*t},lat_ts:function(t){r.lat_ts=.017453292519943295*t},lon_0:function(t){r.long0=.017453292519943295*t},lon_1:function(t){r.long1=.017453292519943295*t},lon_2:function(t){r.long2=.017453292519943295*t},alpha:function(t){r.alpha=.017453292519943295*parseFloat(t)},gamma:function(t){r.rectified_grid_angle=parseFloat(t)},lonc:function(t){r.longc=.017453292519943295*t},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=sf(sc,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=.017453292519943295*t},pm:function(t){var e=sf(su,t);r.from_greenwich=.017453292519943295*(e||parseFloat(t))},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(r.axis=t)},approx:function(){r.approx=!0}};for(e in s)i=s[e],e in a?"function"==typeof(n=a[e])?n(i):r[n]=i:r[e]=i;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r}var sm=/\s/,sp=/[A-Za-z]/,s_=/[A-Za-z84_]/,sv=/[,\]]/,sy=/[\d\.E\-\+]/;function sx(t){if("string"!=typeof t)throw Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function sb(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var n=e?{}:t,r=i.reduce(function(t,e){return sM(e,t),t},n);e&&(t[e]=r)}function sM(t,e){if(!Array.isArray(t)){e[t]=!0;return}var i,n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length){if(Array.isArray(t[0])){e[n]={},sM(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if("TOWGS84"===n){e[n]=t;return}if("AXIS"===n){n in e||(e[n]=[]),e[n].push(t);return}switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&sM(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},4===t.length&&sM(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],sb(e,n,t);return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return sM(t,e[n]);return sb(e,n,t)}}function sw(t){return .017453292519943295*t}function sE(t){var e=new sx(t).output(),i=e.shift(),n=e.shift();e.unshift(["name",n]),e.unshift(["type",i]);var r={};return sM(e,r),!function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",i=0,n=t.AXIS.length;i<n;++i){var r=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];-1!==r[0].indexOf("north")||("y"===r[0]||"lat"===r[0])&&"north"===r[1]?e+="n":-1!==r[0].indexOf("south")||("y"===r[0]||"lat"===r[0])&&"south"===r[1]?e+="s":-1!==r[0].indexOf("east")||("x"===r[0]||"lon"===r[0])&&"east"===r[1]?e+="e":(-1!==r[0].indexOf("west")||("x"===r[0]||"lon"===r[0])&&"west"===r[1])&&(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;function a(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===t.datumCode||"new_zealand_1949"===t.datumCode)&&(t.datumCode="nzgd49"),("wgs_1984"===t.datumCode||"world_geodetic_system_1984"===t.datumCode)&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",sw],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",sw],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",sw],["lat0","latitude_of_origin",sw],["lat0","standard_parallel_1",sw],["lat1","standard_parallel_1",sw],["lat2","standard_parallel_2",sw],["azimuth","Azimuth"],["alpha","azimuth",sw],["srsCode","name"]].forEach(function(e){var i,n;return i=e[0],n=e[1],void(!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i]))))}),!t.long0&&t.longc&&("Albers_Conic_Equal_Area"===t.projName||"Lambert_Azimuthal_Equal_Area"===t.projName)&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&("Stereographic_South_Pole"===t.projName||"Polar Stereographic (variant B)"===t.projName)?(t.lat0=sw(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&"Polar_Stereographic"===t.projName&&(t.lat_ts=t.lat0,t.lat0=sw(t.lat0>0?90:-90))}(r),r}function sC(t){var e=this;if(2==arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?sC[t]=sg(arguments[1]):sC[t]=sE(arguments[1]):sC[t]=i}else if(1==arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?sC.apply(e,t):sC(t)});if("string"==typeof t){if(t in sC)return sC[t]}else"EPSG"in t?sC["EPSG:"+t.EPSG]=t:"ESRI"in t?sC["ESRI:"+t.ESRI]=t:"IAU2000"in t?sC["IAU2000:"+t.IAU2000]=t:console.log(t);return}}sx.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;sm.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case -1:return}},sx.prototype.afterquote=function(t){if('"'===t){this.word+='"',this.state=4;return}if(sv.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},sx.prototype.afterItem=function(t){if(","===t){null!==this.word&&this.currentObject.push(this.word),this.word=null,this.state=1;return}if("]"===t){this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),this.currentObject||(this.state=-1);return}},sx.prototype.number=function(t){if(sy.test(t)){this.word+=t;return}if(sv.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw Error("havn't handled \""+t+'" in number yet, index '+this.place)},sx.prototype.quoted=function(t){if('"'===t){this.state=5;return}this.word+=t},sx.prototype.keyword=function(t){if(s_.test(t)){this.word+=t;return}if("["===t){var e=[];e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=1;return}if(sv.test(t)){this.afterItem(t);return}throw Error("havn't handled \""+t+'" in keyword yet, index '+this.place)},sx.prototype.neutral=function(t){if(sp.test(t)){this.word=t,this.state=2;return}if('"'===t){this.word="",this.state=4;return}if(sy.test(t)){this.word=t,this.state=3;return}if(sv.test(t)){this.afterItem(t);return}throw Error("havn't handled \""+t+'" in neutral yet, index '+this.place)},sx.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw Error('unable to parse string "'+this.text+'". State is '+this.state)},function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(sC);var sS=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],sI=["3857","900913","3785","102113"],sR=function(t){if("string"!=typeof t)return t;if(t in sC)return sC[t];if(sS.some(function(e){return t.indexOf(e)>-1})){var e=sE(t);if(function(t){var e=sf(t,"authority");if(e){var i=sf(e,"epsg");return i&&sI.indexOf(i)>-1}}(e))return sC["EPSG:3857"];var i=function(t){var e=sf(t,"extension");if(e)return sf(e,"proj4")}(e);return i?sg(i):e}if("+"===t[0])return sg(t)};function sP(t,e){var i,n;if(t=t||{},!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t}function sk(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}function sT(t){return t<0?-1:1}function sA(t){return 3.14159265359>=Math.abs(t)?t:t-sT(t)*sl}function sL(t,e,i){var n=t*i;return Math.tan(.5*(so-e))/(n=Math.pow((1-n)/(1+n),.5*t))}function sO(t,e){for(var i,n,r=.5*t,s=so-2*Math.atan(e),a=0;a<=15;a++)if(i=t*Math.sin(s),n=so-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-s,s+=n,1e-10>=Math.abs(n))return s;return -9999}function sF(t){return t}var sD=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=sk(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,i,n=t.x,r=t.y;if(57.29577951308232*r>90&&57.29577951308232*r<-90&&57.29577951308232*n>180&&57.29577951308232*n<-180||1e-10>=Math.abs(Math.abs(r)-so))return null;if(this.sphere)e=this.x0+this.a*this.k0*sA(n-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(sh+.5*r));else{var s=Math.sin(r),a=sL(this.e,r,s);e=this.x0+this.a*this.k0*sA(n-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n=t.x-this.x0,r=t.y-this.y0;if(this.sphere)i=so-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var s=Math.exp(-r/(this.a*this.k0));if(-9999===(i=sO(this.e,s)))return null}return e=sA(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:sF,inverse:sF,names:["longlat","identity"]}],sN={},s$=[];function sG(t,e){var i=s$.length;return t.names?(s$[i]=t,t.names.forEach(function(t){sN[t.toLowerCase()]=i}),this):(console.log(e),!0)}var sz={};sz.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},sz.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},sz.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},sz.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},sz.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},sz.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},sz.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},sz.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},sz.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},sz.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},sz.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},sz.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},sz.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},sz.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},sz.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},sz.clrk80ign={a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},sz.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},sz.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},sz.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},sz.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},sz.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},sz.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},sz.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},sz.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},sz.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},sz.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},sz.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},sz.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},sz.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},sz.hough={a:6378270,rf:297,ellipseName:"Hough"},sz.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},sz.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},sz.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},sz.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},sz.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},sz.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},sz.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},sz.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},sz.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},sz.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},sz.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},sz.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var sj=sz.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};sz.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var sB={};sB.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},sB.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},sB.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},sB.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},sB.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},sB.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},sB.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},sB.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},sB.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},sB.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},sB.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},sB.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},sB.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},sB.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},sB.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},sB.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},sB.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var sW=function(t,e,i,n,r,s,a){var o={};return void 0===t||"none"===t?o.datum_type=5:o.datum_type=4,e&&(o.datum_params=e.map(parseFloat),(0!==o.datum_params[0]||0!==o.datum_params[1]||0!==o.datum_params[2])&&(o.datum_type=1),o.datum_params.length>3&&(0!==o.datum_params[3]||0!==o.datum_params[4]||0!==o.datum_params[5]||0!==o.datum_params[6])&&(o.datum_type=2,o.datum_params[3]*=484813681109536e-20,o.datum_params[4]*=484813681109536e-20,o.datum_params[5]*=484813681109536e-20,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=3,o.grids=a),o.a=i,o.b=n,o.es=r,o.ep2=s,o},sV={};function sH(t){if(0===t.length)return null;var e="@"===t[0];return(e&&(t=t.slice(1)),"null"===t)?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:sV[t]||null,isNull:!1}}function sq(t){return t/3600*Math.PI/180}function sU(t,e,i){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,i)))}function sX(t,e){if(!(this instanceof sX))return new sX(t);e=e||function(t){if(t)throw t};var i,n,r,s,a,o,h,l,u,c=sR(t);if("object"!=typeof c){e(t);return}var d=sX.projections.get(c.projName);if(!d){e(t);return}if(c.datumCode&&"none"!==c.datumCode){var f=sf(sB,c.datumCode);f&&(c.datum_params=c.datum_params||(f.towgs84?f.towgs84.split(","):null),c.ellps=f.ellipse,c.datumName=f.datumName?f.datumName:c.datumCode)}c.k0=c.k0||1,c.axis=c.axis||"enu",c.ellps=c.ellps||"wgs84",c.lat1=c.lat1||c.lat0;var g=function(t,e,i,n,r){if(!t){var s=sf(sz,n);s||(s=sj),t=s.a,e=s.b,i=s.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||1e-10>Math.abs(t-e))&&(r=!0,e=t),{a:t,b:e,rf:i,sphere:r}}(c.a,c.b,c.rf,c.ellps,c.sphere),m=(i=g.a,n=g.b,g.rf,s=c.R_A,h=((a=i*i)-(o=n*n))/a,l=0,s?(i*=1-h*(.16666666666666666+h*(.04722222222222222+.022156084656084655*h)),a=i*i,h=0):l=Math.sqrt(h),{es:h,e:l,ep2:(a-o)/o}),p=void 0===(u=c.nadgrids)?null:u.split(",").map(sH),_=c.datum||sW(c.datumCode,c.datum_params,g.a,g.b,m.es,m.ep2,p);sP(this,c),sP(this,d),this.a=g.a,this.b=g.b,this.rf=g.rf,this.sphere=g.sphere,this.es=m.es,this.e=m.e,this.ep2=m.ep2,this.datum=_,this.init(),e(null,this)}"use strict";function sY(t,e,i){var n,r,s,a=t.x,o=t.y,h=t.z?t.z:0;if(o<-so&&o>-1.001*so)o=-so;else if(o>so&&o<1.001*so)o=so;else if(o<-so)return{x:-1/0,y:-1/0,z:t.z};else if(o>so)return{x:1/0,y:1/0,z:t.z};return a>Math.PI&&(a-=2*Math.PI),r=Math.sin(o),s=Math.cos(o),{x:((n=i/Math.sqrt(1-e*(r*r)))+h)*s*Math.cos(a),y:(n+h)*s*Math.sin(a),z:(n*(1-e)+h)*r}}function sK(t,e,i,n){var r,s,a,o,h,l,u,c,d,f,g,m,p,_,v,y=1e-12*1e-12,x=t.x,b=t.y,M=t.z?t.z:0;if(r=Math.sqrt(x*x+b*b),s=Math.sqrt(x*x+b*b+M*M),r/i<1e-12){if(_=0,s/i<1e-12)return v=-n,{x:t.x,y:t.y,z:t.z}}else _=Math.atan2(b,x);a=M/s,h=1/Math.sqrt(1-e*(2-e)*(o=r/s)*o),c=o*(1-e)*h,d=a*h,p=0;do p++,u=i/Math.sqrt(1-e*d*d),v=r*c+M*d-u*(1-e*d*d),h=1/Math.sqrt(1-(l=e*u/(u+v))*(2-l)*o*o),f=o*(1-l)*h,m=(g=a*h)*c-f*d,c=f,d=g;while(m*m>y&&p<30)return{x:_,y:Math.atan(g/Math.abs(f)),z:v}}function sZ(t){return 1===t||2===t}function sJ(t,e,i){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var n={x:-i.x,y:i.y},r={x:Number.NaN,y:Number.NaN},s=[],a=0;a<t.grids.length;a++){var o=t.grids[a];if(s.push(o.name),o.isNull){r=n;break}if(o.mandatory,null===o.grid){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}var h=o.grid.subgrids[0],l=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,u=h.ll[0]-l,c=h.ll[1]-l,d=h.ll[0]+(h.lim[0]-1)*h.del[0]+l,f=h.ll[1]+(h.lim[1]-1)*h.del[1]+l;if(!(c>n.y)&&!(u>n.x)&&!(f<n.y)&&!(d<n.x)&&!isNaN((r=function(t,e,i){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var r={x:t.x,y:t.y};r.x-=i.ll[0],r.y-=i.ll[1],r.x=sA(r.x-Math.PI)+Math.PI;var s=sQ(r,i);if(e){if(isNaN(s.x))return n;s.x=r.x-s.x,s.y=r.y-s.y;var a,o,h=9;do{if(isNaN((o=sQ(s,i)).x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a={x:r.x-(o.x+s.x),y:r.y-(o.y+s.y)},s.x+=a.x,s.y+=a.y}while(h--&&Math.abs(a.x)>1e-12&&Math.abs(a.y)>1e-12)if(h<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=sA(s.x+i.ll[0]),n.y=s.y+i.ll[1]}else isNaN(s.x)||(n.x=t.x+s.x,n.y=t.y+s.y);return n}(n,e,h)).x))break}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-(57.29577951308232*n.x)+" "+57.29577951308232*n.y+" tried: '"+s+"'"),-1):(i.x=-r.x,i.y=r.y,0)}function sQ(t,e){var i,n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},s={x:n.x-1*r.x,y:n.y-1*r.y},a={x:Number.NaN,y:Number.NaN};if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return a;i=r.y*e.lim[0]+r.x;var o={x:e.cvs[i][0],y:e.cvs[i][1]};i++;var h={x:e.cvs[i][0],y:e.cvs[i][1]};i+=e.lim[0];var l={x:e.cvs[i][0],y:e.cvs[i][1]};i--;var u={x:e.cvs[i][0],y:e.cvs[i][1]},c=s.x*s.y,d=s.x*(1-s.y),f=(1-s.x)*(1-s.y),g=(1-s.x)*s.y;return a.x=f*o.x+d*h.x+g*u.x+c*l.x,a.y=f*o.y+d*h.y+g*u.y+c*l.y,a}function s0(t,e,i){var n,r,s,a=i.x,o=i.y,h=i.z||0,l={};for(s=0;s<3;s++)if(!e||2!==s||void 0!==i.z)switch(0===s?(n=a,r=-1!=="ew".indexOf(t.axis[s])?"x":"y"):1===s?(n=o,r=-1!=="ns".indexOf(t.axis[s])?"y":"x"):(n=h,r="z"),t.axis[s]){case"e":case"n":l[r]=n;break;case"w":case"s":l[r]=-n;break;case"u":void 0!==i[r]&&(l.z=n);break;case"d":void 0!==i[r]&&(l.z=-n);break;default:return null}return l}function s1(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function s2(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw TypeError("coordinates must be finite numbers")}function s3(t,e,i,n){var r,s,a,o=void 0!==(i=Array.isArray(i)?s1(i):{x:i.x,y:i.y,z:i.z,m:i.m}).z;if(s2((r=i).x),s2(r.y),t.datum&&e.datum&&((1===(s=t).datum.datum_type||2===s.datum.datum_type||3===s.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type||3===e.datum.datum_type)&&"WGS84"!==s.datumCode)&&(i=s3(t,a=new sX("WGS84"),i,n),t=a),n&&"enu"!==t.axis&&(i=s0(t,!1,i)),"longlat"===t.projName)i={x:.017453292519943295*i.x,y:.017453292519943295*i.y,z:i.z||0};else if(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),!(i=t.inverse(i)))return;if(t.from_greenwich&&(i.x+=t.from_greenwich),i=function(t,e,i){if(!(t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])||5===t.datum_type||5===e.datum_type)return i;var n=t.a,r=t.es;if(3===t.datum_type){if(0!==sJ(t,!1,i))return;n=6378137,r=.0066943799901413165}var s=e.a,a=e.b,o=e.es;if(3===e.datum_type&&(s=6378137,a=6356752.314,o=.0066943799901413165),r===o&&n===s&&!sZ(t.datum_type)&&!sZ(e.datum_type)||(i=sY(i,r,n),sZ(t.datum_type)&&(i=function(t,e,i){if(1===e)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(2===e){var n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],h=i[5],l=i[6];return{x:l*(t.x-h*t.y+o*t.z)+n,y:l*(h*t.x+t.y-a*t.z)+r,z:l*(-o*t.x+a*t.y+t.z)+s}}}(i,t.datum_type,t.datum_params)),sZ(e.datum_type)&&(i=function(t,e,i){if(1===e)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(2===e){var n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],h=i[5],l=i[6],u=(t.x-n)/l,c=(t.y-r)/l,d=(t.z-s)/l;return{x:u+h*c-o*d,y:-h*u+c+a*d,z:o*u-a*c+d}}}(i,e.datum_type,e.datum_params)),i=sK(i,o,s,a),3!==e.datum_type||0===sJ(e,!0,i)))return i}(t.datum,e.datum,i))return(e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y,z:i.z||0}),"longlat"===e.projName?i={x:57.29577951308232*i.x,y:57.29577951308232*i.y,z:i.z||0}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter,z:i.z||0})),n&&"enu"!==e.axis)?s0(e,!0,i):(o||delete i.z,i)}sX.projections={start:function(){sD.forEach(sG)},add:sG,get:function(t){if(!t)return!1;var e=t.toLowerCase();if(void 0!==sN[e]&&s$[sN[e]])return s$[sN[e]]}},sX.projections.start();var s4=sX("WGS84");function s5(t,e,i,n){var r,s,a;return Array.isArray(i)?(r=s3(t,e,i,n)||{x:NaN,y:NaN},i.length>2)?(void 0===t.name||"geocent"!==t.name)&&(void 0===e.name||"geocent"!==e.name)?[r.x,r.y].concat(i.splice(2)):"number"==typeof r.z?[r.x,r.y,r.z].concat(i.splice(3)):[r.x,r.y,i[2]].concat(i.splice(3)):[r.x,r.y]:(s=s3(t,e,i,n),2===(a=Object.keys(i)).length||a.forEach(function(n){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===n||"y"===n||"z"===n)return}else if("x"===n||"y"===n)return;s[n]=i[n]}),s)}function s6(t){return t instanceof sX?t:t.oProj?t.oProj:sX(t)}var s8=function(t,e,i){t=s6(t);var n,r=!1;return(void 0===e?(e=t,t=s4,r=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=s4,r=!0),e=s6(e),i)?s5(t,e,i):(n={forward:function(i,n){return s5(t,e,i,n)},inverse:function(i,n){return s5(e,t,i,n)}},r&&(n.oProj=e),n)},s9="AJSAJS",s7="AFAFAF";function at(t,e){var i,n,r,s,a,o,h,l,u,c,d,f;return e=e||5,i=function(t){var e,i,n,r,s,a,o,h=t.lat,l=t.lon,u=ai(h),c=ai(l);o=Math.floor((l+180)/6)+1,180===l&&(o=60),h>=56&&h<64&&l>=3&&l<12&&(o=32),h>=72&&h<84&&(l>=0&&l<9?o=31:l>=9&&l<21?o=33:l>=21&&l<33?o=35:l>=33&&l<42&&(o=37)),a=ai((o-1)*6-180+3),i=6378137/Math.sqrt(1-.00669438*Math.sin(u)*Math.sin(u)),n=Math.tan(u)*Math.tan(u),r=.006739496752268451*Math.cos(u)*Math.cos(u),s=Math.cos(u)*(c-a);var d=.9996*(6378137*(.9983242984503243*u-.002514607064228144*Math.sin(2*u)+2639046602129982e-21*Math.sin(4*u)-3418046101696858e-24*Math.sin(6*u))+i*Math.tan(u)*(s*s/2+(5-n+9*r+4*r*r)*s*s*s*s/24+(61-58*n+n*n+600*r-2.2240339282485886)*s*s*s*s*s*s/720));return h<0&&(d+=1e7),{northing:Math.round(d),easting:Math.round(.9996*i*(s+(1-n+r)*s*s*s/6+(5-18*n+n*n+72*r-.39089081163157013)*s*s*s*s*s/120)+5e5),zoneNumber:o,zoneLetter:(e="Z",84>=h&&h>=72?e="X":72>h&&h>=64?e="W":64>h&&h>=56?e="V":56>h&&h>=48?e="U":48>h&&h>=40?e="T":40>h&&h>=32?e="S":32>h&&h>=24?e="R":24>h&&h>=16?e="Q":16>h&&h>=8?e="P":8>h&&h>=0?e="N":0>h&&h>=-8?e="M":-8>h&&h>=-16?e="L":-16>h&&h>=-24?e="K":-24>h&&h>=-32?e="J":-32>h&&h>=-40?e="H":-40>h&&h>=-48?e="G":-48>h&&h>=-56?e="F":-56>h&&h>=-64?e="E":-64>h&&h>=-72?e="D":-72>h&&h>=-80&&(e="C"),e)}}({lat:t[1],lon:t[0]}),n=e,r="00000"+i.easting,s="00000"+i.northing,i.zoneNumber+i.zoneLetter+(a=i.easting,o=i.northing,h=as(i.zoneNumber)-1,l=s9.charCodeAt(h),u=s7.charCodeAt(h),c=l+Math.floor(a/1e5)-1,d=u+Math.floor(o/1e5)%20,f=!1,c>90&&(c=c-90+65-1,f=!0),(73===c||l<73&&c>73||(c>73||l<73)&&f)&&c++,(79===c||l<79&&c>79||(c>79||l<79)&&f)&&73==++c&&c++,c>90&&(c=c-90+65-1),d>86?(d=d-86+65-1,f=!0):f=!1,(73===d||u<73&&d>73||(d>73||u<73)&&f)&&d++,(79===d||u<79&&d>79||(d>79||u<79)&&f)&&73==++d&&d++,d>86&&(d=d-86+65-1),String.fromCharCode(c)+String.fromCharCode(d))+r.substr(r.length-5,n)+s.substr(s.length-5,n)}function ae(t){var e=ar(aa(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function ai(t){return t*(Math.PI/180)}function an(t){return 180*(t/Math.PI)}function ar(t){var e,i,n,r,s,a,o,h,l=t.northing,u=t.easting,c=t.zoneLetter,d=t.zoneNumber;if(d<0||d>60)return null;var f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=l;c<"N"&&(g-=1e7),e=6378137/Math.sqrt(1-.00669438*Math.sin(o=(a=g/.9996/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*a)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*a)+151*f*f*f/96*Math.sin(6*a))*Math.sin(o)),i=Math.tan(o)*Math.tan(o),n=.006739496752268451*Math.cos(o)*Math.cos(o),r=6335439.32722994/Math.pow(1-.00669438*Math.sin(o)*Math.sin(o),1.5),s=(u-5e5)/(.9996*e);var m=o-e*Math.tan(o)/r*(s*s/2-(5+3*i+10*n-4*n*n-.06065547077041606)*s*s*s*s/24+(61+90*i+298*n+45*i*i-1.6983531815716497-3*n*n)*s*s*s*s*s*s/720);m=an(m);var p=(s-(1+2*i+n)*s*s*s/6+(5-2*n+28*i-3*n*n+.05391597401814761+24*i*i)*s*s*s*s*s/120)/Math.cos(o);if(p=(d-1)*6-180+3+an(p),t.accuracy){var _=ar({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});h={top:_.lat,right:_.lon,bottom:m,left:p}}else h={lat:m,lon:p};return h}function as(t){var e=t%6;return 0===e&&(e=6),e}function aa(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i,n=t.length,r=null,s="",a=0;!/[A-Z]/.test(e=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;s+=e,a++}var o=parseInt(s,10);if(0===a||a+3>n)throw"MGRSPoint bad conversion from: "+t;var h=t.charAt(a++);if(h<="A"||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+t;r=t.substring(a,a+=2);for(var l=as(o),u=function(t,e){for(var i=s9.charCodeAt(e-1),n=1e5,r=!1;i!==t.charCodeAt(0);){if(73==++i&&i++,79===i&&i++,i>90){if(r)throw"Bad character: "+t;i=65,r=!0}n+=1e5}return n}(r.charAt(0),l),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=s7.charCodeAt(e-1),n=0,r=!1;i!==t.charCodeAt(0);){if(73==++i&&i++,79===i&&i++,i>86){if(r)throw"Bad character: "+t;i=65,r=!0}n+=1e5}return n}(r.charAt(1),l);c<function(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}(h);)c+=2e6;var d=n-a;if(d%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f=d/2,g=0,m=0;return f>0&&(i=1e5/Math.pow(10,f),g=parseFloat(t.substring(a,a+f))*i,m=parseFloat(t.substring(a+f))*i),{easting:g+u,northing:m+c,zoneLetter:h,zoneNumber:o,accuracy:i}}function ao(t,e,i){if(!(this instanceof ao))return new ao(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function ah(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+.01068115234375*t))),e[1]=t*(.75-t*(.046875+t*(.01953125+.01068115234375*t)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,e[3]=i*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e}function al(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}function au(t,e,i){for(var n=1/(1-e),r=t,s=20;s;--s){var a=Math.sin(r),o=1-e*a*a;if(o=(al(r,a,Math.cos(r),i)-t)*(o*Math.sqrt(o))*n,r-=o,1e-10>Math.abs(o))break}return r}ao.fromMGRS=function(t){return new ao(ae(t))},ao.prototype.toMGRS=function(t){return at([this.x,this.y],t)};var ac={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=ah(this.es),this.ml0=al(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,i,n=t.x,r=t.y,s=sA(n-this.long0),a=Math.sin(r),o=Math.cos(r);if(this.es){var h=o*s,l=Math.pow(h,2),u=this.ep2*Math.pow(o,2),c=Math.pow(Math.abs(o)>1e-10?Math.tan(r):0,2),d=Math.pow(c,2);h/=Math.sqrt(1-this.es*Math.pow(a,2));var f=al(r,a,o,this.en);e=this.a*(this.k0*h*(1+l/6*(1-c+u+l/20*(5-18*c+d+14*u-58*c*u+l/42*(61+179*d-d*c-479*c)))))+this.x0,i=this.a*(this.k0*(f-this.ml0+a*s*h/2*(1+l/12*(5-c+9*u+4*Math.pow(u,2)+l/30*(61+d-58*c+270*u-330*c*u+l/56*(1385+543*d-d*c-3111*c))))))+this.y0}else{var g=o*Math.sin(s);if(1e-10>Math.abs(Math.abs(g)-1))return 93;if(e=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,(g=Math.abs(i=o*Math.cos(s)/Math.sqrt(1-Math.pow(g,2))))>=1){if(g-1>1e-10)return 93;i=0}else i=Math.acos(i);r<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n,r,s=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es){if(Math.abs(i=au(e=this.ml0+a/this.k0,this.es,this.en))<so){var o=Math.sin(i),h=Math.cos(i),l=Math.abs(h)>1e-10?Math.tan(i):0,u=this.ep2*Math.pow(h,2),c=Math.pow(u,2),d=Math.pow(l,2),f=Math.pow(d,2),g=s*Math.sqrt(e=1-this.es*Math.pow(o,2))/this.k0,m=Math.pow(g,2);e*=l,n=i-e*m/(1-this.es)*.5*(1-m/12*(5+3*d-9*u*d+u-4*c-m/30*(61+90*d-252*u*d+45*f+46*u-m/56*(1385+3633*d+4095*f+1574*f*d)))),r=sA(this.long0+g*(1-m/6*(1+2*d+u-m/20*(5+28*d+24*f+8*u*d+6*u-m/42*(61+662*d+1320*f+720*f*d))))/h)}else n=so*sT(a),r=0}else{var p=Math.exp(s/this.k0),_=.5*(p-1/p),v=Math.cos(this.lat0+a/this.k0);n=Math.asin(e=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(_,2)))),a<0&&(n=-n),r=0===_&&0===v?0:sA(Math.atan2(_,v)+this.long0)}return t.x=r,t.y=n,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function ad(t){var e=Math.exp(t);return(e-1/e)/2}function af(t,e){var i=Math.max(t=Math.abs(t),e=Math.abs(e)),n=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(n,2))}function ag(t,e){for(var i,n=2*Math.cos(2*e),r=t.length-1,s=t[r],a=0;--r>=0;)i=-a+n*s+t[r],a=s,s=i;return e+i*Math.sin(2*e)}function am(t,e,i){for(var n,r,s,a=Math.sin(e),o=Math.cos(e),h=ad(i),l=((n=Math.exp(i))+1/n)/2,u=2*o*l,c=-2*a*h,d=t.length-1,f=t[d],g=0,m=0,p=0;--d>=0;)r=m,s=g,f=-r+u*(m=f)-c*(g=p)+t[d],p=-s+c*m+u*g;return[(u=a*l)*f-(c=o*h)*p,u*p+c*f]}var ap={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(ac.init.apply(this),this.forward=ac.forward,this.inverse=ac.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),i*=e,this.cgb[1]=i*(7/3+e*(-1.6+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(-2.4+e*(-24832/14175))),i*=e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i*=e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(-.6+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i*=e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i*=e,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=.6650675310896665*i;var n=ag(this.cbg,this.lat0);this.Zb=-this.Qn*(n+function(t,e){for(var i,n=2*Math.cos(e),r=t.length-1,s=t[r],a=0;--r>=0;)i=-a+n*s+t[r],a=s,s=i;return Math.sin(e)*i}(this.gtu,2*n))},forward:function(t){var e,i,n,r,s,a,o,h=sA(t.x-this.long0),l=t.y,u=Math.sin(l=ag(this.cbg,l)),c=Math.cos(l),d=Math.sin(h),f=Math.cos(h);l=Math.atan2(u,f*c),i=0==(s=(r=1+(n=(i=Math.abs(e=Math.tan(h=Math.atan2(d*c,af(u,c*f)))))*(1+i/(af(1,i)+1))))-1)?n:n*Math.log(r)/s,h=e<0?-i:i;var g=am(this.gtu,2*l,2*h);return l+=g[0],2.623395162778>=Math.abs(h+=g[1])?(a=this.a*(this.Qn*h)+this.x0,o=this.a*(this.Qn*l+this.Zb)+this.y0):(a=1/0,o=1/0),t.x=a,t.y=o,t},inverse:function(t){var e,i,n=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,2.623395162778>=Math.abs(n/=this.Qn)){var s=am(this.utg,2*r,2*n);r+=s[0],n+=s[1],n=Math.atan(ad(n));var a=Math.sin(r),o=Math.cos(r),h=Math.sin(n),l=Math.cos(n);r=Math.atan2(a*l,af(h,l*o)),e=sA((n=Math.atan2(h,l*o))+this.long0),i=ag(this.cgb,r)}else e=1/0,i=1/0;return t.x=e,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},a_={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor((sA(e)+Math.PI)*30/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*.017453292519943295,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ap.init.apply(this),this.forward=ap.forward,this.inverse=ap.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function av(t,e){return Math.pow((1-t)/(1+t),e)}var ay={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+sh)/(Math.pow(Math.tan(.5*this.lat0+sh),this.C)*av(this.e*t,this.ratexp))},forward:function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+sh),this.C)*av(this.e*Math.sin(i),this.ratexp))-so,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,i=t.y,n=Math.pow(Math.tan(.5*i+sh)/this.K,1/this.C),r=20;r>0&&!(1e-14>Math.abs((i=2*Math.atan(n*av(this.e*Math.sin(t.y),-.5*this.e))-so)-t.y));--r)t.y=i;return r?(t.x=e,t.y=i,t):null},names:["gauss"]},ax={init:function(){ay.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,i,n,r;return t.x=sA(t.x-this.long0),ay.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),n=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n),t.x=r*i*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*i*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,i,n,r,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(s,this.R2);e=Math.sin(a),r=Math.asin((i=Math.cos(a))*this.sinc0+t.y*e*this.cosc0/s),n=Math.atan2(t.x*e,s*this.cosc0*i-t.y*this.sinc0*e)}else r=this.phic0,n=0;return t.x=n,t.y=r,ay.inverse.apply(this,[t]),t.x=sA(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},ab={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&1e-10>=Math.abs(this.coslat0)&&(this.k0=.5*(1+sT(this.lat0)*Math.sin(this.lat_ts))):(1e-10>=Math.abs(this.coslat0)&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&1e-10>=Math.abs(this.coslat0)&&(this.k0=.5*this.cons*sk(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/sL(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=sk(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-so,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,i,n,r,s,a,o=t.x,h=t.y,l=Math.sin(h),u=Math.cos(h),c=sA(o-this.long0);if(1e-10>=Math.abs(Math.abs(o-this.long0)-Math.PI)&&1e-10>=Math.abs(h+this.lat0))return t.x=NaN,t.y=NaN,t;if(this.sphere)e=2*this.k0/(1+this.sinlat0*l+this.coslat0*u*Math.cos(c)),t.x=this.a*e*u*Math.sin(c)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*u*Math.cos(c))+this.y0;else{if(r=Math.cos(i=2*Math.atan(this.ssfn_(h,l,this.e))-so),n=Math.sin(i),1e-10>=Math.abs(this.coslat0))return s=sL(this.e,h*this.con,this.con*l),a=2*this.a*this.k0*s/this.cons,t.x=this.x0+a*Math.sin(o-this.long0),t.y=this.y0-this.con*a*Math.cos(o-this.long0),t;1e-10>Math.abs(this.sinlat0)?(e=2*this.a*this.k0/(1+r*Math.cos(c)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*r*Math.cos(c))),t.y=e*(this.cosX0*n-this.sinX0*r*Math.cos(c))+this.y0),t.x=e*r*Math.sin(c)+this.x0}return t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,s,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return(e=this.long0,i=this.lat0,a<=1e-10)?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),e=1e-10>Math.abs(this.coslat0)?this.lat0>0?sA(this.long0+Math.atan2(t.x,-1*t.y)):sA(this.long0+Math.atan2(t.x,t.y)):sA(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=i,t)}if(1e-10>=Math.abs(this.coslat0)){if(a<=1e-10)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,n=a*this.cons/(2*this.a*this.k0),i=this.con*sO(this.e,n),e=this.con*sA(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=1e-10?s=this.X0:(s=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/a),e=sA(this.long0+Math.atan2(t.x*Math.sin(r),a*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),i=-1*sO(this.e,Math.tan(.5*(so+s)));return t.x=e,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,i){return Math.tan(.5*(so+t))*Math.pow((1-(e*=i))/(1+e),.5*i)}},aM={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=1/this.rf,r=2*n-Math.pow(n,2),s=this.e=Math.sqrt(r);this.R=this.k0*i*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2));this.K=a-this.alpha*Math.log(Math.tan(Math.PI/4+t/2))+this.alpha*s/2*Math.log((1+s*e)/(1-s*e))},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=2*(Math.atan(Math.exp(-this.alpha*(e+i)+this.K))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(r))),a=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),o=this.lambda0+a/this.alpha,h=0,l=s,u=-1e3,c=0;Math.abs(l-u)>1e-7;){if(++c>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),u=l,l=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=o,t.y=l,t},names:["somerc"]},aw={init:function(){var t,e,i,n,r,s,a,o,h,l,u,c=0,d=0,f=0,g=0,m=0,p=0,_=0;this.no_off=(t="object"==typeof this.PROJECTION?Object.keys(this.PROJECTION)[0]:this.PROJECTION,"no_uoff"in this||"no_off"in this||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(t)),this.no_rot="no_rot"in this;var v=!1;"alpha"in this&&(v=!0);var y=!1;if("rectified_grid_angle"in this&&(y=!0),v&&(_=this.alpha),y&&(c=.017453292519943295*this.rectified_grid_angle),v||y)d=this.longc;else if(f=this.long1,m=this.lat1,g=this.long2,1e-7>=Math.abs(m-(p=this.lat2))||(e=Math.abs(m))<=1e-7||1e-7>=Math.abs(e-so)||1e-7>=Math.abs(Math.abs(this.lat0)-so)||1e-7>=Math.abs(Math.abs(p)-so))throw Error();var x=1-this.es;(i=Math.sqrt(x),Math.abs(this.lat0)>1e-10?(h=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*h*h,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/x),this.A=this.B*this.k0*i/e,(s=(r=this.B*i/(n*Math.sqrt(e)))*r-1)<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=r,this.E*=Math.pow(sL(this.e,this.lat0,h),this.B)):(this.B=1/i,this.A=this.k0,this.E=r=s=1),v||y)?(v?(u=Math.asin(Math.sin(_)/r),y||(c=_)):_=Math.asin(r*Math.sin(u=c)),this.lam0=d-Math.asin(.5*(s-1/s)*Math.tan(u))/this.B):(a=Math.pow(sL(this.e,m,Math.sin(m)),this.B),o=Math.pow(sL(this.e,p,Math.sin(p)),this.B),s=this.E/a,l=((l=this.E*this.E)-o*a)/(l+o*a),(e=f-g)<-Math.pi?g-=sl:e>Math.pi&&(g+=sl),this.lam0=sA(.5*(f+g)-Math.atan(l*Math.tan(.5*this.B*(f-g))/((o-a)/(o+a)))/this.B),c=_=Math.asin(r*Math.sin(u=Math.atan(2*Math.sin(this.B*sA(f-this.lam0))/(s-1/s))))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(c),this.cosrot=Math.cos(c),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(sh-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(sh+s))},forward:function(t){var e,i,n,r,s,a,o,h,l={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-so)>1e-10){if(a=1/(s=this.E/Math.pow(sL(this.e,t.y,Math.sin(t.y)),this.B)),e=.5*(s-a),i=.5*(s+a),r=Math.sin(this.B*t.x),1e-10>Math.abs(Math.abs(n=(e*this.singam-r*this.cosgam)/i)-1))throw Error();h=.5*this.ArB*Math.log((1-n)/(1+n)),o=1e-7>Math.abs(a=Math.cos(this.B*t.x))?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+r*this.singam,a)}else h=t.y>0?this.v_pole_n:this.v_pole_s,o=this.ArB*t.y;return this.no_rot?(l.x=o,l.y=h):(o-=this.u_0,l.x=h*this.cosrot+o*this.sinrot,l.y=o*this.cosrot-h*this.sinrot),l.x=this.a*l.x+this.x0,l.y=this.a*l.y+this.y0,l},inverse:function(t){var e,i,n,r,s,a,o={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(i=t.y,e=t.x):(i=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=.5*((n=Math.exp(-this.BrA*i))-1/n),1e-10>Math.abs(Math.abs(a=((s=Math.sin(this.BrA*e))*this.cosgam+r*this.singam)/(.5*(n+1/n)))-1))o.x=0,o.y=a<0?-so:so;else{if(o.y=this.E/Math.sqrt((1+a)/(1-a)),o.y=sO(this.e,Math.pow(o.y,1/this.B)),o.y===1/0)throw Error();o.x=-this.rB*Math.atan2(r*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return o.x+=this.lam0,o},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},aE={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(1e-10>Math.abs(this.lat1+this.lat2))){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),n=sk(this.e,e,i),r=sL(this.e,this.lat1,e),s=Math.sin(this.lat2),a=Math.cos(this.lat2),o=sk(this.e,s,a),h=sL(this.e,this.lat2,s),l=sL(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(n/o)/Math.log(r/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e,i,n=t.x,r=t.y;1e-10>=Math.abs(2*Math.abs(r)-Math.PI)&&(r=sT(r)*(so-2e-10));var s=Math.abs(Math.abs(r)-so);if(s>1e-10)e=sL(this.e,r,Math.sin(r)),i=this.a*this.f0*Math.pow(e,this.ns);else{if((s=r*this.ns)<=0)return null;i=0}var a=this.ns*sA(n-this.long0);return t.x=this.k0*(i*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(a))+this.y0,t},inverse:function(t){var e,i,n,r,s,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),i=1):(e=-Math.sqrt(a*a+o*o),i=-1);var h=0;if(0!==e&&(h=Math.atan2(i*a,i*o)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(r=sO(this.e,n)))return null}else r=-so;return s=sA(h/this.ns+this.long0),t.x=s,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},aC={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,i,n,r,s,a,o=t.x,h=t.y,l=sA(o-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),n=-l*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),s=this.n*Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(r)),a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,i,n,r,s,a,o=t.x;t.x=t.y,t.y=o,this.czech||(t.y*=-1,t.x*=-1),r=Math.sqrt(t.x*t.x+t.y*t.y),n=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),t.x=this.long0-Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(e))/this.alfa,s=e,a=0;var h=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),1e-10>Math.abs(s-t.y)&&(a=1),s=t.y,h+=1;while(0===a&&h<15)return h>=15?null:t},names:["Krovak","krovak"]};function aS(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)}function aI(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function aR(t){return .375*t*(1+.25*t*(1+.46875*t))}function aP(t){return .05859375*t*t*(1+.75*t)}function ak(t){return t*t*t*(35/3072)}function aT(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}function aA(t){return Math.abs(t)<so?t:t-sT(t)*Math.PI}function aL(t,e,i,n,r){s=t/e;for(var s,a,o=0;o<15;o++)if(a=(t-(e*s-i*Math.sin(2*s)+n*Math.sin(4*s)-r*Math.sin(6*s)))/(e-2*i*Math.cos(2*s)+4*n*Math.cos(4*s)-6*r*Math.cos(6*s)),s+=a,1e-10>=Math.abs(a))return s;return NaN}var aO={init:function(){this.sphere||(this.e0=aI(this.es),this.e1=aR(this.es),this.e2=aP(this.es),this.e3=ak(this.es),this.ml0=this.a*aS(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,i,n=t.x,r=t.y;if(n=sA(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(n)),i=this.a*(Math.atan2(Math.tan(r),Math.cos(n))-this.lat0);else{var s=Math.sin(r),a=Math.cos(r),o=aT(this.a,this.e,s),h=Math.tan(r)*Math.tan(r),l=n*Math.cos(r),u=l*l,c=this.es*a*a/(1-this.es),d=this.a*aS(this.e0,this.e1,this.e2,this.e3,r);e=o*l*(1-u*h*(1/6-(8-h+8*c)*u/120)),i=d-this.ml0+o*s/a*u*(.5+(5-h+6*c)*u/24)}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var s=r+this.lat0;e=Math.asin(Math.sin(s)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(s))}else{var a=aL(this.ml0/this.a+r,this.e0,this.e1,this.e2,this.e3);if(1e-10>=Math.abs(Math.abs(a)-so))return t.x=this.long0,t.y=so,r<0&&(t.y*=-1),t;var o=aT(this.a,this.e,Math.sin(a)),h=o*o*o/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(a),2),u=n*this.a/o,c=u*u;e=a-o*Math.tan(a)/h*u*u*(.5-(1+3*l)*u*u/24),i=u*(1-c*(l/3+(1+3*l)*l*c/15))/Math.cos(a)}return t.x=sA(i+this.long0),t.y=aA(e),t},names:["Cassini","Cassini_Soldner","cass"]};function aF(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}var aD={init:function(){var t,e,i,n,r=Math.abs(this.lat0);if(1e-10>Math.abs(r-so)?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:1e-10>Math.abs(r)?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=aF(this.e,1),this.mmf=.5/(1-this.es),this.apa=(t=this.es,(i=[])[0]=.3333333333333333*t,e=t*t,i[0]+=.17222222222222222*e,i[1]=.06388888888888888*e,e*=t,i[0]+=.10257936507936508*e,i[1]+=.0664021164021164*e,i[2]=.016415012942191543*e,i),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),n=Math.sin(this.lat0),this.sinb1=aF(this.e,n)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*n*n)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,i,n,r,s,a,o,h,l,u,c=t.x,d=t.y;if(c=sA(c-this.long0),this.sphere){if(s=Math.sin(d),u=Math.cos(d),n=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+u*n:1+this.sinph0*s+this.cosph0*u*n)<=1e-10)return null;e=(i=Math.sqrt(2/i))*u*Math.sin(c),i*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*u*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),1e-10>Math.abs(d+this.lat0))return null;i=sh-.5*d,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(c),i*=n}}else{switch(o=0,h=0,l=0,n=Math.cos(c),r=Math.sin(c),s=Math.sin(d),a=aF(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sqrt(1-(o=a/this.qp)*o)),this.mode){case this.OBLIQ:l=1+this.sinb1*o+this.cosb1*h*n;break;case this.EQUIT:l=1+h*n;break;case this.N_POLE:l=so+d,a=this.qp-a;break;case this.S_POLE:l=d-so,a=this.qp+a}if(1e-10>Math.abs(l))return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),i=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*o-this.sinb1*h*n):(l=Math.sqrt(2/(1+h*n)))*o*this.ymf,e=this.xmf*l*h*r;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(l=Math.sqrt(a))*r,i=n*(this.mode===this.S_POLE?l:-l)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r=t.x/this.a,s=t.y/this.a;if(this.sphere){var a,o,h,l,u,c,d,f,g=0,m=0;if((o=.5*(f=Math.sqrt(r*r+s*s)))>1)return null;switch(o=2*Math.asin(o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=Math.sin(o),g=Math.cos(o)),this.mode){case this.EQUIT:o=1e-10>=Math.abs(f)?0:Math.asin(s*m/f),r*=m,s=g*f;break;case this.OBLIQ:o=1e-10>=Math.abs(f)?this.lat0:Math.asin(g*this.sinph0+s*m*this.cosph0/f),r*=m*this.cosph0,s=(g-Math.sin(o)*this.sinph0)*f;break;case this.N_POLE:s=-s,o=so-o;break;case this.S_POLE:o-=so}a=0===s&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(r,s)}else{if(d=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r/=this.dd,s*=this.dd,(c=Math.sqrt(r*r+s*s))<1e-10)return t.x=this.long0,t.y=this.lat0,t;h=Math.cos(l=2*Math.asin(.5*c/this.rq)),r*=l=Math.sin(l),this.mode===this.OBLIQ?(d=h*this.sinb1+s*l*this.cosb1/c,u=this.qp*d,s=c*this.cosb1*h-s*this.sinb1*l):(d=s*l/c,u=this.qp*d,s=c*h)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(s=-s),!(u=r*r+s*s))return t.x=this.long0,t.y=this.lat0,t;d=1-u/this.qp,this.mode===this.S_POLE&&(d=-d)}a=Math.atan2(r,s),e=Math.asin(d),i=this.apa,n=e+e,o=e+i[0]*Math.sin(n)+i[1]*Math.sin(n+n)+i[2]*Math.sin(n+n+n)}return t.x=sA(this.long0+a),t.y=o,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function aN(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}var a$={init:function(){1e-10>Math.abs(this.lat1+this.lat2)||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=sk(this.e3,this.sin_po,this.cos_po),this.qs1=aF(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=sk(this.e3,this.sin_po,this.cos_po),this.qs2=aF(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=aF(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=aF(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,s=this.ns0*sA(e-this.long0),a=r*Math.sin(s)+this.x0,o=this.rh-r*Math.cos(s)+this.y0;return t.x=a,t.y=o,t},inverse:function(t){var e,i,n,r,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,i)),s=sA(r/this.ns0+this.long0),t.x=s,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var i,n,r,s,a,o=aN(.5*e);if(t<1e-10)return o;for(var h=t*t,l=1;l<=25;l++)if(i=Math.sin(o),n=Math.cos(o),o+=a=.5*(s=1-(r=t*i)*r)*s/n*(e/(1-h)-i/s+.5/t*Math.log((1-r)/(1+r))),1e-7>=Math.abs(a))return o;return null}},aG={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,i,n,r,s,a,o,h=t.x,l=t.y;return n=sA(h-this.long0),e=Math.sin(l),i=Math.cos(l),r=Math.cos(n),(s=this.sin_p14*e+this.cos_p14*i*r)>0||1e-10>=Math.abs(s)?(a=this.x0+1*this.a*i*Math.sin(n)/s,o=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)/s):(a=this.x0+this.infinity_dist*i*Math.sin(n),o=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)),t.x=a,t.y=o,t},inverse:function(t){var e,i,n,r,s,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.sin(r=Math.atan2(e,this.rc)),a=aN((n=Math.cos(r))*this.sin_p14+t.y*i*this.cos_p14/e),s=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),s=sA(this.long0+s)):(a=this.phic0,s=0),t.x=s,t.y=a,t},names:["gnom"]},az={init:function(){this.sphere||(this.k0=sk(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,i,n=t.x,r=t.y,s=sA(n-this.long0);if(this.sphere)e=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=aF(this.e,Math.sin(r));e=this.x0+this.a*this.k0*s,i=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=i,t},inverse:function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=sA(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=function(t,e){if(1e-6>Math.abs(Math.abs(e)-(1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t)))))return e<0?-1*so:so;for(var i,n,r,s,a=Math.asin(.5*e),o=0;o<30;o++)if(n=Math.sin(a),r=Math.cos(a),a+=i=Math.pow(1-(s=t*n)*s,2)/(2*r)*(e/(1-t*t)-n/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),1e-10>=Math.abs(i))return a;return NaN}(this.e,2*t.y*this.k0/this.a),e=sA(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},names:["cea"]},aj={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,i=t.y,n=sA(e-this.long0),r=aA(i-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,i=t.y;return t.x=sA(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=aA(this.lat0+(i-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},aB={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=aI(this.es),this.e1=aR(this.es),this.e2=aP(this.es),this.e3=ak(this.es),this.ml0=this.a*aS(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,i,n,r=t.x,s=t.y,a=sA(r-this.long0);if(n=a*Math.sin(s),this.sphere)1e-10>=Math.abs(s)?(e=this.a*a,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(s),i=this.a*(aA(s-this.lat0)+(1-Math.cos(n))/Math.tan(s)));else if(1e-10>=Math.abs(s))e=this.a*a,i=-1*this.ml0;else{var o=aT(this.a,this.e,Math.sin(s))/Math.tan(s);e=o*Math.sin(n),i=this.a*aS(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+o*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){var e,i,n,r,s,a,o,h,l,u,c,d,f,g,m;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere){if(1e-10>=Math.abs(r+this.a*this.lat0))e=sA(n/this.a+this.long0),i=0;else{for(s=20,a=this.lat0+r/this.a,o=n*n/this.a/this.a+a*a,h=a;s;--s)if(u=Math.tan(h),l=-1*(a*(h*u+1)-h-.5*(h*h+o)*u)/((h-a)/u-1),h+=l,1e-10>=Math.abs(l)){i=h;break}e=sA(this.long0+Math.asin(n*Math.tan(h)/this.a)/Math.sin(i))}}else if(1e-10>=Math.abs(r+this.ml0))i=0,e=sA(this.long0+n/this.a);else{for(s=20,a=(this.ml0+r)/this.a,o=n*n/this.a/this.a+a*a,h=a;s;--s)if(c=Math.sqrt(1-(m=this.e*Math.sin(h))*m)*Math.tan(h),d=this.a*aS(this.e0,this.e1,this.e2,this.e3,h),f=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),l=(a*(c*(g=d/this.a)+1)-g-.5*c*(g*g+o))/(this.es*Math.sin(2*h)*(g*g+o-2*a*g)/(4*c)+(a-g)*(c*f-2/Math.sin(2*h))-f),h-=l,1e-10>=Math.abs(l)){i=h;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=sA(this.long0+Math.asin(n*c/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},names:["Polyconic","poly"]},aW={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-.00034,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,i,n,r=t.x,s=t.y-this.lat0,a=r-this.long0,o=s/484813681109536e-20*1e-5,h=1,l=0;for(e=1;e<=10;e++)h*=o,l+=this.A[e]*h;var u=l,c=1,d=0,f=0,g=0;for(e=1;e<=6;e++)i=c*u-d*a,n=d*u+c*a,c=i,d=n,f=f+this.B_re[e]*c-this.B_im[e]*d,g=g+this.B_im[e]*c+this.B_re[e]*d;return t.x=g*this.a+this.x0,t.y=f*this.a+this.y0,t},inverse:function(t){var e=t.x,i=t.y,n=e-this.x0,r=(i-this.y0)/this.a,s=n/this.a,a=1,o=0,h=0,l=0;for(c=1;c<=6;c++)d=a*r-o*s,f=o*r+a*s,a=d,o=f,h=h+this.C_re[c]*a-this.C_im[c]*o,l=l+this.C_im[c]*a+this.C_re[c]*o;for(var u=0;u<this.iterations;u++){var c,d,f,g,m,p=h,_=l,v=r,y=s;for(c=2;c<=6;c++)g=p*h-_*l,m=_*h+p*l,p=g,_=m,v+=(c-1)*(this.B_re[c]*p-this.B_im[c]*_),y+=(c-1)*(this.B_im[c]*p+this.B_re[c]*_);p=1,_=0;var x=this.B_re[1],b=this.B_im[1];for(c=2;c<=6;c++)g=p*h-_*l,m=_*h+p*l,p=g,_=m,x+=c*(this.B_re[c]*p-this.B_im[c]*_),b+=c*(this.B_im[c]*p+this.B_re[c]*_);var M=x*x+b*b;h=(v*x+y*b)/M,l=(y*x-v*b)/M}var w=h,E=l,C=1,S=0;for(c=1;c<=9;c++)C*=w,S+=this.D[c]*C;var I=this.lat0+.484813681109536*S,R=this.long0+E;return t.x=R,t.y=I,t},names:["New_Zealand_Map_Grid","nzmg"]},aV={init:function(){},forward:function(t){var e=t.x,i=t.y,n=sA(e-this.long0),r=this.x0+this.a*n,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=r,t.y=s,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=sA(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},names:["Miller_Cylindrical","mill"]},aH={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=ah(this.es)},forward:function(t){var e,i,n=t.x,r=t.y;if(n=sA(n-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(r),a=20;a;--a){var o=(this.m*r+Math.sin(r)-s)/(this.m+Math.cos(r));if(r-=o,1e-10>Math.abs(o))break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*n*(this.m+Math.cos(r)),i=this.a*this.C_y*r}else{var h=Math.sin(r),l=Math.cos(r);i=this.a*al(r,h,l,this.en),e=this.a*n*l/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=aN((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=aN(Math.sin(e)/this.n)),i=sA(i+this.long0),e=aA(e)):(n=Math.abs(e=au(t.y/this.a,this.es,this.en)))<so?(n=Math.sin(e),i=sA(this.long0+t.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(e)))):n-1e-10<so&&(i=this.long0),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]},aq={init:function(){},forward:function(t){for(var e=t.x,i=t.y,n=sA(e-this.long0),r=i,s=Math.PI*Math.sin(i);;){var a=-(r+Math.sin(r)-s)/(1+Math.cos(r));if(r+=a,1e-10>Math.abs(a))break}r/=2,Math.PI/2-Math.abs(i)<1e-10&&(n=0);var o=.900316316158*this.a*n*Math.cos(r)+this.x0,h=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=o,t.y=h,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0,Math.abs(i=t.y/(1.4142135623731*this.a))>.999999999999&&(i=.999999999999),e=Math.asin(i);var e,i,n=sA(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),Math.abs(i=(2*e+Math.sin(2*e))/Math.PI)>1&&(i=1);var r=Math.asin(i);return t.x=n,t.y=r,t},names:["Mollweide","moll"]},aU={init:function(){1e-10>Math.abs(this.lat1+this.lat2)||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=aI(this.es),this.e1=aR(this.es),this.e2=aP(this.es),this.e3=ak(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=sk(this.e,this.sinphi,this.cosphi),this.ml1=aS(this.e0,this.e1,this.e2,this.e3,this.lat1),1e-10>Math.abs(this.lat1-this.lat2)?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=sk(this.e,this.sinphi,this.cosphi),this.ml2=aS(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=aS(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=aS(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var s=this.ns*sA(i-this.long0),a=this.x0+e*Math.sin(s),o=this.y0+this.rh-e*Math.cos(s);return t.x=a,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var e,i,n,r,s=0;return(0!==i&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)?(r=sA(this.long0+s/this.ns),n=aA(this.g-i/this.a),t.x=r,t.y=n,t):(n=aL(this.g-i/this.a,this.e0,this.e1,this.e2,this.e3),r=sA(this.long0+s/this.ns),t.x=r,t.y=n,t)},names:["Equidistant_Conic","eqdc"]},aX={init:function(){this.R=this.a},forward:function(t){var e,i,n=t.x,r=t.y,s=sA(n-this.long0);1e-10>=Math.abs(r)&&(e=this.x0+this.R*s,i=this.y0);var a=aN(2*Math.abs(r/Math.PI));(1e-10>=Math.abs(s)||1e-10>=Math.abs(Math.abs(r)-so))&&(e=this.x0,i=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+-(Math.PI*this.R*Math.tan(.5*a)));var o=.5*Math.abs(Math.PI/s-s/Math.PI),h=o*o,l=Math.sin(a),u=Math.cos(a),c=u/(l+u-1),d=c*(2/l-1),f=d*d,g=Math.PI*this.R*(o*(c-f)+Math.sqrt(h*(c-f)*(c-f)-(f+h)*(c*c-f)))/(f+h);s<0&&(g=-g),e=this.x0+g;var m=h+c;return g=Math.PI*this.R*(d*m-o*Math.sqrt((f+h)*(h+1)-m*m))/(f+h),i=r>=0?this.y0+g:this.y0-g,t.x=e,t.y=i,t},inverse:function(t){var e,i,n,r,s,a,o,h,l,u,c,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,s=(n=t.x/c)*n+(r=t.y/c)*r,o=(a=-Math.abs(r)*(1+s))-2*r*r+n*n,h=-2*a+1+2*r*r+s*s,u=2*Math.sqrt(-(l=(a-o*o/3/h)/h)/3),Math.abs(c=3*(r*r/h+(2*o*o*o/h/h/h-9*a*o/h/h)/27)/l/u)>1&&(c=c>=0?1:-1),d=Math.acos(c)/3,i=t.y>=0?(-u*Math.cos(d+Math.PI/3)-o/3/h)*Math.PI:-(-u*Math.cos(d+Math.PI/3)-o/3/h)*Math.PI,e=1e-10>Math.abs(n)?this.long0:sA(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(n*n-r*r)+s*s))/2/n),t.x=e,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},aY={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,i,n,r,s,a,o,h,l,u,c,d,f,g,m,p,_,v,y,x,b,M,w=t.x,E=t.y,C=Math.sin(t.y),S=Math.cos(t.y),I=sA(w-this.long0);return this.sphere?1e-10>=Math.abs(this.sin_p12-1)?(t.x=this.x0+this.a*(so-E)*Math.sin(I),t.y=this.y0-this.a*(so-E)*Math.cos(I),t):1e-10>=Math.abs(this.sin_p12+1)?(t.x=this.x0+this.a*(so+E)*Math.sin(I),t.y=this.y0+this.a*(so+E)*Math.cos(I),t):(_=(p=Math.acos(this.sin_p12*C+this.cos_p12*S*Math.cos(I)))?p/Math.sin(p):1,t.x=this.x0+this.a*_*S*Math.sin(I),t.y=this.y0+this.a*_*(this.cos_p12*C-this.sin_p12*S*Math.cos(I)),t):(e=aI(this.es),i=aR(this.es),n=aP(this.es),r=ak(this.es),1e-10>=Math.abs(this.sin_p12-1))?(s=this.a*aS(e,i,n,r,so),a=this.a*aS(e,i,n,r,E),t.x=this.x0+(s-a)*Math.sin(I),t.y=this.y0-(s-a)*Math.cos(I),t):1e-10>=Math.abs(this.sin_p12+1)?(s=this.a*aS(e,i,n,r,so),a=this.a*aS(e,i,n,r,E),t.x=this.x0+(s+a)*Math.sin(I),t.y=this.y0+(s+a)*Math.cos(I),t):(o=C/S,h=aT(this.a,this.e,this.sin_p12),l=aT(this.a,this.e,C),u=Math.atan((1-this.es)*o+this.es*h*this.sin_p12/(l*S)),v=0===(c=Math.atan2(Math.sin(I),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(I)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):1e-10>=Math.abs(Math.abs(c)-Math.PI)?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(I)*Math.cos(u)/Math.sin(c)),g=(d=this.e*this.sin_p12/Math.sqrt(1-this.es))*(f=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es)),m=f*f,M=(b=(x=(y=v*v)*v)*v)*v,p=h*v*(1-y*m*(1-m)/6+x/8*g*(1-2*m)+b/120*(m*(4-7*m)-3*d*d*(1-7*m))-M/48*g),t.x=this.x0+p*Math.sin(c),t.y=this.y0+p*Math.cos(c),t)},inverse:function(t){var e,i,n,r,s,a,o,h,l,u,c,d,f,g,m,p,_,v,y,x,b;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*so*this.a)return;return n=Math.sin(i=e/this.a),r=Math.cos(i),s=this.long0,1e-10>=Math.abs(e)?a=this.lat0:(a=aN(r*this.sin_p12+t.y*n*this.cos_p12/e),s=1e-10>=Math.abs(Math.abs(this.lat0)-so)?this.lat0>=0?sA(this.long0+Math.atan2(t.x,-t.y)):sA(this.long0-Math.atan2(-t.x,t.y)):sA(this.long0+Math.atan2(t.x*n,e*this.cos_p12*r-t.y*this.sin_p12*n))),t.x=s,t.y=a,t}return(o=aI(this.es),h=aR(this.es),l=aP(this.es),u=ak(this.es),1e-10>=Math.abs(this.sin_p12-1))?(a=aL(((c=this.a*aS(o,h,l,u,so))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,o,h,l,u),s=sA(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=a,t):1e-10>=Math.abs(this.sin_p12+1)?(c=this.a*aS(o,h,l,u,so),a=aL(((e=Math.sqrt(t.x*t.x+t.y*t.y))-c)/this.a,o,h,l,u),s=sA(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),d=aT(this.a,this.e,this.sin_p12),m=Math.cos(g),_=-(p=this.e*this.cos_p12*m)*p/(1-this.es),v=3*this.es*(1-_)*this.sin_p12*this.cos_p12*m/(1-this.es),x=(y=e/d)-_*(1+_)*Math.pow(y,3)/6-v*(1+3*_)*Math.pow(y,4)/24,f=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*m),s=sA(this.long0+Math.asin(Math.sin(g)*Math.sin(x)/Math.cos(f))),a=Math.atan2(((b=Math.sin(f))-this.es*(1-_*x*x/2-y*x*x*x/6)*this.sin_p12)*Math.tan(f),b*(1-this.es)),t.x=s,t.y=a,t)},names:["Azimuthal_Equidistant","aeqd"]},aK={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,i,n,r,s,a,o,h=t.x,l=t.y;return n=sA(h-this.long0),e=Math.sin(l),i=Math.cos(l),r=Math.cos(n),((s=this.sin_p14*e+this.cos_p14*i*r)>0||1e-10>=Math.abs(s))&&(a=1*this.a*i*Math.sin(n),o=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)),t.x=a,t.y=o,t},inverse:function(t){var e,i,n,r,s,a;return(t.x-=this.x0,t.y-=this.y0,n=Math.sin(i=aN((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a)),r=Math.cos(i),s=this.long0,1e-10>=Math.abs(e))?(a=this.lat0,t.x=s,t.y=a,t):(a=aN(r*this.sin_p14+t.y*n*this.cos_p14/e),1e-10>=Math.abs(Math.abs(this.lat0)-so))?(s=this.lat0>=0?sA(this.long0+Math.atan2(t.x,-t.y)):sA(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=sA(this.long0+Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n)),t.x=s,t.y=a,t)},names:["ortho"]},aZ={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},aJ={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function aQ(t,e,i,n){var r;return t<1e-10?(n.value=aJ.AREA_0,r=0):Math.abs(r=Math.atan2(e,i))<=sh?n.value=aJ.AREA_0:r>sh&&r<=so+sh?(n.value=aJ.AREA_1,r-=so):r>so+sh||r<=-(so+sh)?(n.value=aJ.AREA_2,r=r>=0?r-3.14159265359:r+3.14159265359):(n.value=aJ.AREA_3,r+=so),r}function a0(t,e){var i=t+e;return i<-3.14159265359?i+=sl:i>3.14159265359&&(i-=sl),i}var a1={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=so-sh/2?this.face=aZ.TOP:this.lat0<=-(so-sh/2)?this.face=aZ.BOTTOM:Math.abs(this.long0)<=sh?this.face=aZ.FRONT:Math.abs(this.long0)<=so+sh?this.face=this.long0>0?aZ.RIGHT:aZ.LEFT:this.face=aZ.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,i,n,r,s,a,o,h,l,u,c,d={x:0,y:0},f={value:0};return(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===aZ.TOP)?(r=so-e,i>=sh&&i<=so+sh?(f.value=aJ.AREA_0,n=i-so):i>so+sh||i<=-(so+sh)?(f.value=aJ.AREA_1,n=i>0?i-3.14159265359:i+3.14159265359):i>-(so+sh)&&i<=-sh?(f.value=aJ.AREA_2,n=i+so):(f.value=aJ.AREA_3,n=i)):this.face===aZ.BOTTOM?(r=so+e,i>=sh&&i<=so+sh?(f.value=aJ.AREA_0,n=-i+so):i<sh&&i>=-sh?(f.value=aJ.AREA_1,n=-i):i<-sh&&i>=-(so+sh)?(f.value=aJ.AREA_2,n=-i-so):(f.value=aJ.AREA_3,n=i>0?-i+3.14159265359:-i-3.14159265359)):(this.face===aZ.RIGHT?i=a0(i,+so):this.face===aZ.BACK?i=a0(i,3.14159265359):this.face===aZ.LEFT&&(i=a0(i,-so)),l=Math.sin(e),u=Math.cos(e),c=Math.sin(i),o=u*Math.cos(i),h=u*c,this.face===aZ.FRONT?n=aQ(r=Math.acos(o),l,h,f):this.face===aZ.RIGHT?n=aQ(r=Math.acos(h),l,-o,f):this.face===aZ.BACK?n=aQ(r=Math.acos(-o),l,-h,f):this.face===aZ.LEFT?n=aQ(r=Math.acos(-h),l,o,f):(r=n=0,f.value=aJ.AREA_0)),a=Math.atan(3.8197186342052367*(n+Math.acos(Math.sin(n)*Math.cos(sh))-so)),s=Math.sqrt((1-Math.cos(r))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(n))))),f.value===aJ.AREA_1?a+=so:f.value===aJ.AREA_2?a+=3.14159265359:f.value===aJ.AREA_3&&(a+=4.7123889803850005),d.x=s*Math.cos(a),d.y=s*Math.sin(a),d.x=d.x*this.a+this.x0,d.y=d.y*this.a+this.y0,t.x=d.x,t.y=d.y,t},inverse:function(t){var e,i,n,r,s,a,o,h,l,u,c,d,f,g,m={lam:0,phi:0},p={value:0};return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=aJ.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=aJ.AREA_1,e-=so):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=aJ.AREA_2,e=e<0?e+3.14159265359:e-3.14159265359):(p.value=aJ.AREA_3,e+=so),s=Math.atan(Math.sin(h=3.14159265359/12*Math.tan(e))/(Math.cos(h)-1/Math.sqrt(2))),(a=1-(n=Math.cos(e))*n*(r=Math.tan(i))*r*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===aZ.TOP?(o=Math.acos(a),m.phi=so-o,p.value===aJ.AREA_0?m.lam=s+so:p.value===aJ.AREA_1?m.lam=s<0?s+3.14159265359:s-3.14159265359:p.value===aJ.AREA_2?m.lam=s-so:m.lam=s):this.face===aZ.BOTTOM?(o=Math.acos(a),m.phi=o-so,p.value===aJ.AREA_0?m.lam=-s+so:p.value===aJ.AREA_1?m.lam=-s:p.value===aJ.AREA_2?m.lam=-s-so:m.lam=s<0?-s-3.14159265359:-s+3.14159265359):(c=(h=(l=a)*l)>=1?0:Math.sqrt(1-h)*Math.sin(s),h+=c*c,u=h>=1?0:Math.sqrt(1-h),p.value===aJ.AREA_1?(h=u,u=-c,c=h):p.value===aJ.AREA_2?(u=-u,c=-c):p.value===aJ.AREA_3&&(h=u,u=c,c=-h),this.face===aZ.RIGHT?(h=l,l=-u,u=h):this.face===aZ.BACK?(l=-l,u=-u):this.face===aZ.LEFT&&(h=l,l=u,u=-h),m.phi=Math.acos(-c)-so,m.lam=Math.atan2(u,l),this.face===aZ.RIGHT?m.lam=a0(m.lam,-so):this.face===aZ.BACK?m.lam=a0(m.lam,-3.14159265359):this.face===aZ.LEFT&&(m.lam=a0(m.lam,+so))),0!==this.es&&(d=m.phi<0?1:0,f=Math.tan(m.phi),g=this.b/Math.sqrt(f*f+this.one_minus_f_squared),m.phi=Math.atan(Math.sqrt(this.a*this.a-g*g)/(this.one_minus_f*g)),d&&(m.phi=-m.phi)),m.lam+=this.long0,t.x=m.lam,t.y=m.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},a2=[[1,22199e-21,-.0000715515,31103e-10],[.9986,-.000482243,-.000024897,-.0000013309],[.9954,-.00083103,-.0000448605,-.000000986701],[.99,-.00135364,-.000059661,36777e-10],[.9822,-.00167442,-.00000449547,-.00000572411],[.973,-.00214868,-.0000903571,18736e-12],[.96,-.00305085,-.0000900761,164917e-11],[.9427,-.00382792,-.0000653386,-.0000026154],[.9216,-.00467746,-.00010457,481243e-11],[.8962,-.00536223,-.0000323831,-.00000543432],[.8679,-.00609363,-.000113898,332484e-11],[.835,-.00698325,-.0000640253,934959e-12],[.7986,-.00755338,-.0000500009,935324e-12],[.7597,-.00798324,-.000035971,-.00000227626],[.7186,-.00851367,-.0000701149,-.0000086303],[.6732,-.00986209,-.000199569,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],a3=[[-.00000000000000000520417,.0124,121431e-23,-.0000000000845284],[.062,.0124,-.00000000126793,422642e-15],[.124,.0124,507171e-14,-.00000000160604],[.186,.0123999,-.0000000190189,600152e-14],[.248,.0124002,710039e-13,-.0000000224],[.31,.0123992,-.000000264997,835986e-13],[.372,.0124029,988983e-12,-.000000311994],[.434,.0123893,-.00000369093,-.000000435621],[.4958,.0123198,-.0000102252,-.000000345523],[.5571,.0121916,-.0000154081,-.000000582288],[.6176,.0119938,-.0000241424,-.000000525327],[.6769,.011713,-.0000320223,-.000000516405],[.7346,.0113541,-.0000397684,-.000000609052],[.7903,.0109107,-.0000489042,-.00000104739],[.8435,.0103431,-.000064615,-.00000000140374],[.8936,.00969686,-.000064636,-.000008547],[.9394,.00840947,-.000192841,-.0000042106],[.9761,.00616527,-.000256,-.0000042106],[1,.00328947,-.000319159,-.0000042106]],a4=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},a5={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=sA(t.x-this.long0),i=Math.abs(t.y),n=Math.floor(11.459155902616464*i);n<0?n=0:n>=18&&(n=17),i=57.29577951308232*(i-.08726646259971647*n);var r={x:a4(a2[n],i)*e,y:a4(a3[n],i)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=a2[18][0],e.y=t.y<0?-so:so;else{var i=Math.floor(18*e.y);for(i<0?i=0:i>=18&&(i=17);;)if(a3[i][0]>e.y)--i;else if(a3[i+1][0]<=e.y)++i;else break;var n=a3[i],r=5*(e.y-n[0])/(a3[i+1][0]-n[0]);r=function(t,e,i,n){for(var r=e;n;--n){var s=t(r);if(r-=s,1e-10>Math.abs(s))break}return r}(function(t){return(a4(n,t)-e.y)/(n[1]+t*(2*n[2]+3*t*n[3]))},r,0,100),e.x/=a4(a2[i],r),e.y=(5*i+r)*.017453292519943295,t.y<0&&(e.y=-e.y)}return e.x=sA(e.x+this.long0),e},names:["Robinson","robin"]},a6={init:function(){this.name="geocent"},forward:function(t){return sY(t,this.es,this.a)},inverse:function(t){return sK(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},a8={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},a9={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}},a7={init:function(){if(Object.keys(a9).forEach((function(t){if(void 0===this[t])this[t]=a9[t].def;else if(a9[t].num&&isNaN(this[t]))throw Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);else a9[t].num&&(this[t]=parseFloat(this[t]));a9[t].degrees&&(this[t]=.017453292519943295*this[t])}).bind(this)),1e-10>Math.abs(Math.abs(this.lat0)-so)?this.mode=this.lat0<0?a8.S_POLE:a8.N_POLE:1e-10>Math.abs(this.lat0)?this.mode=a8.EQUIT:(this.mode=a8.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,i,n,r,s=Math.sin(t.y),a=Math.cos(t.y),o=Math.cos(t.x);switch(this.mode){case a8.OBLIQ:i=this.sinph0*s+this.cosph0*a*o;break;case a8.EQUIT:i=a*o;break;case a8.S_POLE:i=-s;break;case a8.N_POLE:i=s}switch(e=(i=this.pn1/(this.p-i))*a*Math.sin(t.x),this.mode){case a8.OBLIQ:i*=this.cosph0*s-this.sinph0*a*o;break;case a8.EQUIT:i*=s;break;case a8.N_POLE:i*=-(a*o);break;case a8.S_POLE:i*=a*o}return r=1/((n=i*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-i*this.sg)*this.cw*r,i=n*r,t.x=e*this.a,t.y=i*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,i,n,r,s,a={x:t.x,y:t.y};n=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*n,i=this.pn1*t.y*this.cw*n,t.x=e*this.cg+i*this.sg,t.y=i*this.cg-e*this.sg;var o=af(t.x,t.y);if(1e-10>Math.abs(o))a.x=0,a.y=t.y;else{switch(s=1-o*o*this.pfact,r=Math.sqrt(1-(s=(this.p-Math.sqrt(s))/(this.pn1/o+o/this.pn1))*s),this.mode){case a8.OBLIQ:a.y=Math.asin(r*this.sinph0+t.y*s*this.cosph0/o),t.y=(r-this.sinph0*Math.sin(a.y))*o,t.x*=s*this.cosph0;break;case a8.EQUIT:a.y=Math.asin(t.y*s/o),t.y=r*o,t.x*=s;break;case a8.N_POLE:a.y=Math.asin(r),t.y=-t.y;break;case a8.S_POLE:a.y=-Math.asin(r)}a.x=Math.atan2(t.x,t.y)}return t.x=a.x+this.long0,t.y=a.y,t},names:["Tilted_Perspective","tpers"]},ot={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw Error();if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=1/t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var e,i,n,r,s=t.x,a=t.y;if(s-=this.long0,"ellipse"===this.shape){a=Math.atan(this.radius_p2*Math.tan(a));var o=this.radius_p/af(this.radius_p*Math.cos(a),Math.sin(a));if(i=o*Math.cos(s)*Math.cos(a),n=o*Math.sin(s)*Math.cos(a),r=o*Math.sin(a),(this.radius_g-i)*i-n*n-r*r*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;e=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/af(r,e)),t.y=this.radius_g_1*Math.atan(r/e)):(t.x=this.radius_g_1*Math.atan(n/e),t.y=this.radius_g_1*Math.atan(r/af(n,e)))}else"sphere"===this.shape&&(i=Math.cos(s)*(e=Math.cos(a)),n=Math.sin(s)*e,r=Math.sin(a),e=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/af(r,e)),t.y=this.radius_g_1*Math.atan(r/e)):(t.x=this.radius_g_1*Math.atan(n/e),t.y=this.radius_g_1*Math.atan(r/af(n,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var e,i,n,r,s=-1,a=0,o=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(o=Math.tan(t.y/this.radius_g_1),a=Math.tan(t.x/this.radius_g_1)*af(1,o)):(a=Math.tan(t.x/this.radius_g_1),o=Math.tan(t.y/this.radius_g_1)*af(1,a));var h=o/this.radius_p;if(e=a*a+h*h+s*s,(n=(i=2*this.radius_g*s)*i-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=(-i-Math.sqrt(n))/(2*e),s=this.radius_g+r*s,a*=r,o*=r,t.x=Math.atan2(a,s),t.y=Math.atan(o*Math.cos(t.x)/s),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(o=Math.tan(t.y/this.radius_g_1),a=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+o*o)):(a=Math.tan(t.x/this.radius_g_1),o=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+a*a)),e=a*a+o*o+s*s,(n=(i=2*this.radius_g*s)*i-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=(-i-Math.sqrt(n))/(2*e),s=this.radius_g+r*s,a*=r,o*=r,t.x=Math.atan2(a,s),t.y=Math.atan(o*Math.cos(t.x)/s)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};s8.defaultDatum="WGS84",s8.Proj=sX,s8.WGS84=new s8.Proj("WGS84"),s8.Point=ao,s8.toPoint=s1,s8.defs=sC,s8.nadgrid=function(t,e){var i,n=new DataView(e),r=11!==(i=n.getInt32(8,!1))&&(11!==(i=n.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0),s={nFields:n.getInt32(8,r),nSubgridFields:n.getInt32(24,r),nSubgrids:n.getInt32(40,r),shiftType:sU(n,56,64).trim(),fromSemiMajorAxis:n.getFloat64(120,r),fromSemiMinorAxis:n.getFloat64(136,r),toSemiMajorAxis:n.getFloat64(152,r),toSemiMinorAxis:n.getFloat64(168,r)};s.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var a=function(t,e,i){for(var n=[],r=0;r<e.nSubgrids;r++){var s={name:sU(t,184,192).trim(),parent:sU(t,200,208).trim(),lowerLatitude:t.getFloat64(248,i),upperLatitude:t.getFloat64(264,i),lowerLongitude:t.getFloat64(280,i),upperLongitude:t.getFloat64(296,i),latitudeInterval:t.getFloat64(312,i),longitudeInterval:t.getFloat64(328,i),gridNodeCount:t.getInt32(344,i)},a=function(t,e,i,n){for(var r=[],s=0;s<i.gridNodeCount;s++){var a={latitudeShift:t.getFloat32(352+16*s,n),longitudeShift:t.getFloat32(352+16*s+4,n),latitudeAccuracy:t.getFloat32(352+16*s+8,n),longitudeAccuracy:t.getFloat32(352+16*s+12,n)};r.push(a)}return r}(t,0,s,i),o=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),h=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);n.push({ll:[sq(s.lowerLongitude),sq(s.lowerLatitude)],del:[sq(s.longitudeInterval),sq(s.latitudeInterval)],lim:[o,h],count:s.gridNodeCount,cvs:a.map(function(t){return[sq(t.longitudeShift),sq(t.latitudeShift)]})})}return n}(n,s,r),o={header:s,subgrids:a};return sV[t]=o,o},s8.transform=s3,s8.mgrs={forward:at,inverse:function(t){var e=ar(aa(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:ae},s8.version="__VERSION__",function(t){t.Proj.projections.add(ac),t.Proj.projections.add(ap),t.Proj.projections.add(a_),t.Proj.projections.add(ax),t.Proj.projections.add(ab),t.Proj.projections.add(aM),t.Proj.projections.add(aw),t.Proj.projections.add(aE),t.Proj.projections.add(aC),t.Proj.projections.add(aO),t.Proj.projections.add(aD),t.Proj.projections.add(a$),t.Proj.projections.add(aG),t.Proj.projections.add(az),t.Proj.projections.add(aj),t.Proj.projections.add(aB),t.Proj.projections.add(aW),t.Proj.projections.add(aV),t.Proj.projections.add(aH),t.Proj.projections.add(aq),t.Proj.projections.add(aU),t.Proj.projections.add(aX),t.Proj.projections.add(aY),t.Proj.projections.add(aK),t.Proj.projections.add(a1),t.Proj.projections.add(a5),t.Proj.projections.add(a6),t.Proj.projections.add(a7),t.Proj.projections.add(ot)}(s8);var oe=class{constructor(t,e,i,n,r,s){this.sourceProj_=t,this.targetProj_=e;let a={},o=eC(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){let e=t[0]+"/"+t[1];return a[e]||(a[e]=o(t)),a[e]},this.maxSourceExtent_=n,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&tC(n)==tC(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?tC(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?tC(this.targetProj_.getExtent()):null;let h=tw(i),l=tE(i),u=tv(i),c=t_(i),d=this.transformInv_(h),f=this.transformInv_(l),g=this.transformInv_(u),m=this.transformInv_(c),p=10+(s?Math.max(0,Math.ceil(Math.log2(function(t){let e=0;return tI(t)||(e=tC(t)*tb(t)),e}(i)/(s*s*65536)))):0);if(this.addQuad_(h,l,u,c,d,f,g,m,p),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach(function(e,i,n){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])}),this.triangles_.forEach(e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){let i=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];i[0][0]-t>this.sourceWorldWidth_/2&&(i[0][0]-=this.sourceWorldWidth_),i[1][0]-t>this.sourceWorldWidth_/2&&(i[1][0]-=this.sourceWorldWidth_),i[2][0]-t>this.sourceWorldWidth_/2&&(i[2][0]-=this.sourceWorldWidth_);let n=Math.min(i[0][0],i[1][0],i[2][0]),r=Math.max(i[0][0],i[1][0],i[2][0]);r-n<this.sourceWorldWidth_/2&&(e.source=i)}})}a={}}addTriangle_(t,e,i,n,r,s){this.triangles_.push({source:[n,r,s],target:[t,e,i]})}addQuad_(t,e,i,n,r,s,a,o,h){let l=Q([r,s,a,o]),u=this.sourceWorldWidth_?tC(l)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&u>.5&&u<1,f=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let r=Q([t,e,i,n]),s=tC(r)/this.targetWorldWidth_;f=s>.25||f}!d&&this.sourceProj_.isGlobal()&&u&&(f=u>.25||f)}if(!f&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3])&&!tS(l,this.maxSourceExtent_))return;let g=0;if(!f&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1]))){if(h>0)f=!0;else if(1!=(g=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(o[0])&&isFinite(o[1])?0:1))&&2!=g&&4!=g&&8!=g)return}if(h>0){if(!f){let e;let n=[(t[0]+i[0])/2,(t[1]+i[1])/2],s=this.transformInv_(n);if(d){let t=(tA(r[0],c)+tA(a[0],c))/2;e=t-tA(s[0],c)}else e=(r[0]+a[0])/2-s[0];let o=(r[1]+a[1])/2-s[1],h=e*e+o*o;f=h>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){let l=[(e[0]+i[0])/2,(e[1]+i[1])/2],u=this.transformInv_(l),c=[(n[0]+t[0])/2,(n[1]+t[1])/2],d=this.transformInv_(c);this.addQuad_(t,e,l,c,r,s,u,d,h-1),this.addQuad_(c,l,i,n,d,u,a,o,h-1)}else{let l=[(t[0]+e[0])/2,(t[1]+e[1])/2],u=this.transformInv_(l),c=[(i[0]+n[0])/2,(i[1]+n[1])/2],d=this.transformInv_(c);this.addQuad_(t,l,c,n,r,u,d,o,h-1),this.addQuad_(l,e,i,c,u,s,a,d,h-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(11&g)==0&&this.addTriangle_(t,i,n,r,a,o),(14&g)==0&&this.addTriangle_(t,i,e,r,a,s),g&&((13&g)==0&&this.addTriangle_(e,n,t,s,o,r),(7&g)==0&&this.addTriangle_(e,n,i,s,o,a))}calculateSourceExtent(){let t=to();return this.triangles_.forEach(function(e,i,n){let r=e.source;tg(t,r[0]),tg(t,r[1]),tg(t,r[2])}),t}getTriangles(){return this.triangles_}};const oi=[];function on(t,e,i,n,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,i),t.lineTo(n,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,n)+1,Math.max(i,r)),t.restore()}function or(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function os(t,e,i,n){let r=eS(i,e,t),s=ey(e,n,i),a=e.getMetersPerUnit();void 0!==a&&(s*=a);let o=t.getMetersPerUnit();void 0!==o&&(s/=o);let h=t.getExtent();if(!h||tn(h,r)){let e=ey(t,s,r)/s;isFinite(e)&&e>0&&(s/=e)}return s}var oa=class extends ri{constructor(t,e,i,n,r,s,a){let o=t.getExtent(),h=e.getExtent(),l=h?tM(i,h):i,u=ty(l),c=os(t,e,u,n),d=new oe(t,e,l,o,.5*c,n),f=d.calculateSourceExtent(),g=s(f,c,r),m=g?nH.IDLE:nH.EMPTY,p=g?g.getPixelRatio():1;super(i,n,p,m),this.targetProj_=e,this.maxSourceExtent_=o,this.triangulation_=d,this.targetResolution_=n,this.targetExtent_=i,this.sourceImage_=g,this.sourcePixelRatio_=p,this.interpolate_=a,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==nH.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){let t=this.sourceImage_.getState();if(t==nH.LOADED){let t=tC(this.targetExtent_)/this.targetResolution_,e=tb(this.targetExtent_)/this.targetResolution_;this.canvas_=function(t,e,n,r,s,a,o,h,l,u,c,d){let f=iT(Math.round(n*t),Math.round(n*e),oi);if(d||(f.imageSmoothingEnabled=!1),0===l.length)return f.canvas;function g(t){return Math.round(t*n)/n}f.scale(n,n),f.globalCompositeOperation="lighter";let m=to();l.forEach(function(t,e,i){tf(m,t.extent)});let p=tC(m),_=tb(m),v=iT(Math.round(n*p/r),Math.round(n*_/r),oi);d||(v.imageSmoothingEnabled=!1);let y=n/r;l.forEach(function(t,e,i){let n=t.extent[0]-m[0],r=-(t.extent[3]-m[3]),s=tC(t.extent),a=tb(t.extent);t.image.width>0&&t.image.height>0&&v.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,n*y,r*y,s*y,a*y)});let x=tw(o);return h.getTriangles().forEach(function(t,e,s){let o=t.source,h=t.target,l=o[0][0],u=o[0][1],c=o[1][0],p=o[1][1],_=o[2][0],y=o[2][1],b=g((h[0][0]-x[0])/a),M=g(-(h[0][1]-x[1])/a),w=g((h[1][0]-x[0])/a),E=g(-(h[1][1]-x[1])/a),C=g((h[2][0]-x[0])/a),S=g(-(h[2][1]-x[1])/a),I=l,R=u;l=0,u=0,c-=I,p-=R,_-=I,y-=R;let P=[[c,p,0,0,w-b],[_,y,0,0,C-b],[0,0,c,p,E-M],[0,0,_,y,S-M]],k=function(t){let e=t.length;for(let i=0;i<e;i++){let n=i,r=Math.abs(t[i][i]);for(let s=i+1;s<e;s++){let e=Math.abs(t[s][i]);e>r&&(r=e,n=s)}if(0===r)return null;let s=t[n];t[n]=t[i],t[i]=s;for(let n=i+1;n<e;n++){let r=-t[n][i]/t[i][i];for(let s=i;s<e+1;s++)i==s?t[n][s]=0:t[n][s]+=r*t[i][s]}}let i=Array(e);for(let n=e-1;n>=0;n--){i[n]=t[n][e]/t[n][n];for(let r=n-1;r>=0;r--)t[r][e]-=t[r][n]*i[n]}return i}(P);if(k){if(f.save(),f.beginPath(),function(){if(void 0===i){let t=iT(6,6,oi);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",on(t,4,5,4,0),on(t,4,5,0,5);let e=t.getImageData(0,0,3,3).data;i=or(e,0)||or(e,4)||or(e,8),iA(t),oi.push(t.canvas)}return i}()||!d){f.moveTo(w,E);let t=b-w,e=M-E;for(let i=0;i<4;i++)f.lineTo(w+g((i+1)*t/4),E+g(i*e/3)),3!=i&&f.lineTo(w+g((i+1)*t/4),E+g((i+1)*e/3));f.lineTo(C,S)}else f.moveTo(w,E),f.lineTo(b,M),f.lineTo(C,S);f.clip(),f.transform(k[0],k[2],k[1],k[3],b,M),f.translate(m[0]-I,m[3]-R),f.scale(r/n,-r/n),f.drawImage(v.canvas,0,0),f.restore()}}),iA(v),oi.push(v.canvas),c&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,h.getTriangles().forEach(function(t,e,i){let n=t.target,r=(n[0][0]-x[0])/a,s=-(n[0][1]-x[1])/a,o=(n[1][0]-x[0])/a,h=-(n[1][1]-x[1])/a,l=(n[2][0]-x[0])/a,u=-(n[2][1]-x[1])/a;f.beginPath(),f.moveTo(o,h),f.lineTo(r,s),f.lineTo(l,u),f.closePath(),f.stroke()}),f.restore()),f.canvas}(t,e,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()}load(){if(this.state==nH.IDLE){this.state=nH.LOADING,this.changed();let t=this.sourceImage_.getState();t==nH.LOADED||t==nH.ERROR?this.reproject_():(this.sourceListenerKey_=b(this.sourceImage_,x.CHANGE,function(t){let e=this.sourceImage_.getState();(e==nH.LOADED||e==nH.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}unlistenSource_(){M(this.sourceListenerKey_),this.sourceListenerKey_=null}};const oo={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class oh extends o{constructor(t,e){super(t),this.image=e}}function ol(t,e){t.getImage().src=e}var ou=class extends rK{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state,interpolate:void 0===t.interpolate||t.interpolate}),this.on,this.once,this.un,this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}getResolutions(){return this.resolutions_}setResolutions(t){this.resolutions_=t}findNearestResolution(t){let e=this.getResolutions();if(e){let i=c(e,t,0);t=e[i]}return t}getImage(t,e,i,n){let r=this.getProjection();if(!r||!n||ew(r,n))return r&&(n=r),this.getImageInternal(t,e,i,n);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ew(this.reprojectedImage_.getProjection(),n)&&this.reprojectedImage_.getResolution()==e&&td(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new oa(r,n,t,e,i,(t,e,i)=>this.getImageInternal(t,e,i,r),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(t,e,i,n){return C()}handleImageChange(t){let e;let i=t.target;switch(i.getState()){case nH.LOADING:this.loading=!0,e=oo.IMAGELOADSTART;break;case nH.LOADED:this.loading=!1,e=oo.IMAGELOADEND;break;case nH.ERROR:this.loading=!1,e=oo.IMAGELOADERROR;break;default:return}this.hasListener(e)&&this.dispatchEvent(new oh(e,i))}};const oc="1.3.0";function od(t,e){let i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});let n=i.join("&");return t=t.replace(/[?&]$/,""),(t+=t.includes("?")?"&":"?")+n}const of=[101,101];var og=class extends ou{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions}),this.context_=iT(1,1),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:ol,this.params_=Object.assign({},t.params),this.v13_=!0,this.updateV13_(),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5}getFeatureInfoUrl(t,e,i,n){if(void 0===this.url_)return;let r=ev(i),s=this.getProjection();s&&s!==r&&(e=os(s,r,t,e),t=eS(t,r,s));let a=tx(t,e,0,of),o={SERVICE:"WMS",VERSION:oc,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(o,this.params_,n);let h=tF((t[0]-a[0])/e,4),l=tF((a[3]-t[1])/e,4);return o[this.v13_?"I":"X"]=h,o[this.v13_?"J":"Y"]=l,this.getRequestUrl_(a,of,1,s||r,o)}getLegendUrl(t,e){if(void 0===this.url_)return;let i={SERVICE:"WMS",VERSION:oc,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){let t=this.params_.LAYERS,e=!Array.isArray(t)||1===t.length;if(!e)return;i.LAYER=t}if(void 0!==t){let e=this.getProjection()?this.getProjection().getMetersPerUnit():1;i.SCALE=t*e/28e-5}return Object.assign(i,e),od(this.url_,i)}getParams(){return this.params_}getImageInternal(t,e,i,n){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==i||this.hidpi_&&void 0!==this.serverType_||(i=1);let r=e/i,s=ty(t),a=tD(tC(t)/r,4),o=tD(tb(t)/r,4),h=tx(s,r,0,[a,o]),l=tD(this.ratio_*tC(t)/r,4),u=tD(this.ratio_*tb(t)/r,4),c=tx(s,r,0,[l,u]),d=this.image_;if(d&&this.renderedRevision_==this.getRevision()&&d.getResolution()==e&&d.getPixelRatio()==i&&tr(d.getExtent(),h))return d;let f={SERVICE:"WMS",VERSION:oc,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object.assign(f,this.params_),this.imageSize_[0]=tO(tC(c)/r,4),this.imageSize_[1]=tO(tb(c)/r,4);let g=this.getRequestUrl_(c,this.imageSize_,i,n,f);return this.image_=new rr(c,e,i,g,this.crossOrigin_,this.imageLoadFunction_,this.context_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(x.CHANGE,this.handleImageChange.bind(this)),this.image_}getImageLoadFunction(){return this.imageLoadFunction_}getRequestUrl_(t,e,i,n,r){let s;if(A(void 0!==this.url_,9),r[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(r.STYLES=""),1!=i)switch(this.serverType_){case"geoserver":let a=90*i+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+a:r.FORMAT_OPTIONS="dpi:"+a;break;case"mapserver":r.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":r.DPI=90*i;break;default:A(!1,8)}r.WIDTH=e[0],r.HEIGHT=e[1];let o=n.getAxisOrientation();return s=this.v13_&&"ne"==o.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,r.BBOX=s.join(","),od(this.url_,r)}getUrl(){return this.url_}setImageLoadFunction(t){this.image_=null,this.imageLoadFunction_=t,this.changed()}setUrl(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())}updateParams(t){Object.assign(this.params_,t),this.updateV13_(),this.image_=null,this.changed()}updateV13_(){let t=this.params_.VERSION||oc;this.v13_=function(t,e){let i=(""+t).split("."),n="1.3".split(".");for(let t=0;t<Math.max(i.length,n.length);t++){let e=parseInt(i[t]||"0",10),r=parseInt(n[t]||"0",10);if(e>r)return 1;if(r>e)return -1}return 0}(t,0)>=0}};class om extends eq{constructor(t,e,i){super(),void 0!==i&&void 0===e?this.setFlatCoordinates(i,t):(e=e||0,this.setCenterAndRadius(t,e,i))}clone(){let t=new om(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,n){let r=this.flatCoordinates,s=t-r[0],a=e-r[1],o=s*s+a*a;if(o<n){if(0===o)for(let t=0;t<this.stride;++t)i[t]=r[t];else{let t=this.getRadius()/Math.sqrt(o);i[0]=r[0]+t*s,i[1]=r[1]+t*a;for(let t=2;t<this.stride;++t)i[t]=r[t]}return i.length=this.stride,o}return n}containsXY(t,e){let i=this.flatCoordinates,n=t-i[0],r=e-i[1];return n*n+r*r<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){let e=this.flatCoordinates,i=e[this.stride]-e[0];return th(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){let t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){let e=this.getExtent();if(tS(t,e)){let e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||tp(t,this.intersectsCoordinate.bind(this))}return!1}setCenter(t){let e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],n=t.slice();n[e]=n[0]+i;for(let i=1;i<e;++i)n[e+i]=t[i];this.setFlatCoordinates(this.layout,n),this.changed()}setCenterAndRadius(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);let n=this.flatCoordinates,r=eJ(n,0,t,this.stride);n[r++]=n[0]+e;for(let t=1,e=this.stride;t<e;++t)n[r++]=n[t];n.length=r,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){let i=this.getCenter(),n=this.getStride();this.setCenter(ej(i,0,i.length,n,t,e,i)),this.changed()}translate(t,e){let i=this.getCenter(),n=this.getStride();this.setCenter(eB(i,0,i.length,n,t,e,i)),this.changed()}}om.prototype.transform;const op={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class o_ extends o{constructor(t,e){super(t),this.feature=e}}function ov(t,e){return tk(t[0],t[1],e[0],e[1])}function oy(t,e){let i=t.length;return e<0?t[e+i]:e>=i?t[e-i]:t[e]}function ox(t,e,i){let n,r;e<i?(n=e,r=i):(n=i,r=e);let s=Math.ceil(n),a=Math.floor(r);if(s>a){let e=oC(t,n),i=oC(t,r);return ov(e,i)}let o=0;if(n<s){let e=oC(t,n),i=oy(t,s);o+=ov(e,i)}if(a<r){let e=oy(t,a),i=oC(t,r);o+=ov(e,i)}for(let e=s;e<a-1;++e){let i=oy(t,e),n=oy(t,e+1);o+=ov(i,n)}return o}const ob={index:-1,endIndex:NaN};function oM(t,e,i,n){let r=t[0],s=t[1];for(let t=0,a=e.length-1;t<a;++t){let a=e[t],o=e[t+1],h=oE(r,s,a,o);if(0===h.squaredDistance){let r=t+h.along;n.push({coordinates:e,ring:i,startIndex:r,endIndex:r});return}}}const ow={along:0,squaredDistance:0};function oE(t,e,i,n){let r=i[0],s=i[1],a=n[0],o=n[1],h=a-r,l=o-s,u=0,c=r,d=s;return(0!==h||0!==l)&&(u=tP(((t-r)*h+(e-s)*l)/(h*h+l*l),0,1),c+=h*u,d+=l*u),ow.along=u,ow.squaredDistance=tL(tk(t,e,c,d),10),ow}function oC(t,e){let i=t.length,n=Math.floor(e),r=e-n;n>=i?n-=i:n<0&&(n+=i);let s=n+1;s>=i&&(s-=i);let a=t[n],o=a[0],h=a[1],l=t[s],u=l[0]-o,c=l[1]-h;return[o+u*r,h+c*r]}var oS=class extends ng{constructor(t){t.stopDown||(t.stopDown=m),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=function(t){switch(t){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw Error("Invalid type: "+t)}}(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:g,this.geometryLayout_=t.geometryLayout?t.geometryLayout:"XY";let e=t.geometryFunction;if(!e){let t=this.mode_;if("Circle"===t)e=function(t,e,i){let n=e||new om([NaN,NaN]),r=eR(t[0],i),s=ea(r,eR(t[t.length-1],i));n.setCenterAndRadius(r,Math.sqrt(s),this.geometryLayout_);let a=eI();return a&&n.transform(i,a),n};else{let i;"Point"===t?i=it:"LineString"===t?i=st:"Polygon"===t&&(i=id),e=function(e,n,r){return n?"Polygon"===t?e[0].length?n.setCoordinates([e[0].concat([e[0][0]])],this.geometryLayout_):n.setCoordinates([],this.geometryLayout_):n.setCoordinates(e,this.geometryLayout_):n=new i(e,this.geometryLayout_),n}}}this.geometryFunction_=e,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new rU({source:new r1({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:function(){let t=rt();return function(e,i){return t[e.getGeometry().getType()]}}(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:nM,this.freehandCondition_,t.freehand?this.freehandCondition_=g:this.freehandCondition_=t.freehandCondition?t.freehandCondition:nw,this.traceCondition_,this.setTrace(t.trace||!1),this.traceState_={active:!1},this.traceSource_=t.traceSource||t.source||null,this.addChangeListener(nl.ACTIVE,this.updateState_)}setTrace(t){let e;e=t?!0===t?g:t:m,this.traceCondition_=e}setMap(t){super.setMap(t),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(t){t.originalEvent.type===x.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(t);let e=t.type===i5.POINTERMOVE,i=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===i5.POINTERDRAG){let i=Date.now();i-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===i5.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),i=!1):this.freehand_&&t.type===i5.POINTERDOWN?i=!1:e&&2>this.getPointerCount()?(i=t.type===i5.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===i5.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):t.type===i5.DBLCLICK&&(i=!1),super.handleEvent(t)&&i}handleDownEvent(t){return(this.shouldHandle_=!this.freehand_,this.freehand_)?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new i4(i5.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))},this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(t){if(!this.traceSource_||!this.traceCondition_(t))return;if(this.traceState_.active){this.deactivateTrace_();return}let e=this.getMap(),i=e.getCoordinateFromPixel([t.pixel[0]-this.snapTolerance_,t.pixel[1]+this.snapTolerance_]),n=e.getCoordinateFromPixel([t.pixel[0]+this.snapTolerance_,t.pixel[1]-this.snapTolerance_]),r=Q([i,n]),s=this.traceSource_.getFeaturesInExtent(r);if(0===s.length)return;let a=function(t,e){let i=[];for(let n=0;n<e.length;++n){let r=e[n],s=r.getGeometry();!function t(e,i,n){if(i instanceof st){oM(e,i.getCoordinates(),!1,n);return}if(i instanceof se){let t=i.getCoordinates();for(let i=0,r=t.length;i<r;++i)oM(e,t[i],!1,n);return}if(i instanceof id){let t=i.getCoordinates();for(let i=0,r=t.length;i<r;++i)oM(e,t[i],!0,n);return}if(i instanceof sn){let t=i.getCoordinates();for(let i=0,r=t.length;i<r;++i){let r=t[i];for(let t=0,i=r.length;t<i;++t)oM(e,r[t],!0,n)}return}if(i instanceof r2){let r=i.getGeometries();for(let i=0;i<r.length;++i)t(e,r[i],n);return}}(t,s,i)}return i}(t.coordinate,s);a.length&&(this.traceState_={active:!0,startPx:t.pixel.slice(),targets:a,targetIndex:-1})}addOrRemoveTracedCoordinates_(t,e){let i=t.startIndex<=t.endIndex,n=t.startIndex<=e;i===n?i&&e>t.endIndex||!i&&e<t.endIndex?this.addTracedCoordinates_(t,t.endIndex,e):(i&&e<t.endIndex||!i&&e>t.endIndex)&&this.removeTracedCoordinates_(e,t.endIndex):(this.removeTracedCoordinates_(t.startIndex,t.endIndex),this.addTracedCoordinates_(t,t.startIndex,e))}removeTracedCoordinates_(t,e){if(t===e)return;let i=0;if(t<e){let n=Math.floor(e);n===e&&(n-=1),i=n-Math.ceil(t)+1}else{let n=Math.ceil(e);n===e&&(n+=1),i=Math.floor(t)-n+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(t,e,i){if(e===i)return;let n=[];if(e<i){let r=Math.ceil(e),s=Math.floor(i);s===i&&(s-=1);for(let e=r;e<=s;++e)n.push(oy(t.coordinates,e))}else{let r=Math.floor(e),s=Math.ceil(i);s===i&&(s+=1);for(let e=r;e>=s;--e)n.push(oy(t.coordinates,e))}n.length&&this.appendCoordinates(n)}updateTrace_(t){let e=this.traceState_;if(!e.active||-1===e.targetIndex&&eo(e.startPx,t.pixel)<this.snapTolerance_)return;let i=function(t,e,i,n){let r=t[0],s=t[1],a=1/0,o=-1,h=NaN;for(let t=0;t<e.targets.length;++t){let i;let n=e.targets[t],l=n.coordinates,u=1/0;for(let t=0;t<l.length-1;++t){let e=l[t],n=l[t+1],a=oE(r,s,e,n);a.squaredDistance<u&&(u=a.squaredDistance,i=t+a.along)}u<a&&(a=u,n.ring&&e.targetIndex===t&&(n.endIndex>n.startIndex?i<n.startIndex&&(i+=l.length):n.endIndex<n.startIndex&&i>n.startIndex&&(i-=l.length)),h=i,o=t)}let l=e.targets[o],u=l.ring;if(e.targetIndex===o&&u){let t=oC(l.coordinates,h),r=i.getPixelFromCoordinate(t);eo(r,e.startPx)>n&&(u=!1)}if(u){let t=l.coordinates,e=t.length,i=l.startIndex,n=h;if(i<n){let r=ox(t,i,n),s=ox(t,i,n-e);s<r&&(h-=e)}else{let r=ox(t,i,n),s=ox(t,i,n+e);s<r&&(h+=e)}}return ob.index=o,ob.endIndex=h,ob}(t.coordinate,e,this.getMap(),this.snapTolerance_);if(e.targetIndex!==i.index){if(-1!==e.targetIndex){let t=e.targets[e.targetIndex];this.removeTracedCoordinates_(t.startIndex,t.endIndex)}let t=e.targets[i.index];this.addTracedCoordinates_(t,t.startIndex,i.endIndex)}else{let t=e.targets[e.targetIndex];this.addOrRemoveTracedCoordinates_(t,i.endIndex)}e.targetIndex=i.index;let n=e.targets[e.targetIndex];n.endIndex=i.endIndex;let r=oC(n.coordinates,n.endIndex),s=this.getMap().getPixelFromCoordinate(r);t.coordinate=r,t.pixel=[Math.round(s[0]),Math.round(s[1])]}handleUpEvent(t){let e=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);let i=this.traceState_.active;if(this.toggleTraceState_(t),this.shouldHandle_){let n=!this.finishCoordinate_;n&&this.startDrawing_(t.coordinate),!n&&this.freehand_?this.finishDrawing():this.freehand_||n&&"Point"!==this.mode_||(this.atFinish_(t.pixel,i)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing()}return!e&&this.stopClick_&&t.preventDefault(),e}handlePointerMove_(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){let e=this.downPx_,i=t.pixel,n=e[0]-i[0],r=e[1]-i[1],s=n*n+r*r;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(t.coordinate.slice());return}this.updateTrace_(t),this.modifyDrawing_(t.coordinate)}atFinish_(t,e){let i=!1;if(this.sketchFeature_){let n=!1,r=[this.finishCoordinate_],s=this.mode_;if("Point"===s)i=!0;else if("Circle"===s)i=2===this.sketchCoords_.length;else if("LineString"===s)n=!e&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===s){let t=this.sketchCoords_;n=t[0].length>this.minPoints_,r=[t[0][0],t[0][t[0].length-2]],r=e?[t[0][0]]:[t[0][0],t[0][t[0].length-2]]}if(n){let e=this.getMap();for(let n=0,s=r.length;n<s;n++){let s=r[n],a=e.getPixelFromCoordinate(s),o=t[0]-a[0],h=t[1]-a[1],l=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(o*o+h*h)<=l){this.finishCoordinate_=s;break}}}}return i}createOrUpdateSketchPoint_(t){if(this.sketchPoint_){let e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}else this.sketchPoint_=new L(new it(t)),this.updateSketchFeatures_()}createOrUpdateCustomSketchLine_(t){this.sketchLine_||(this.sketchLine_=new L);let e=t.getLinearRing(0),i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),i.changed()):(i=new st(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(t){let e=this.getMap().getView().getProjection(),i=eH(this.geometryLayout_);for(;t.length<i;)t.push(0);this.finishCoordinate_=t,"Point"===this.mode_?this.sketchCoords_=t.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new L(new st(this.sketchLineCoords_)));let n=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new L,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new o_(op.DRAWSTART,this.sketchFeature_))}modifyDrawing_(t){let e,i;let n=this.getMap(),r=this.sketchFeature_.getGeometry(),s=n.getView().getProjection(),a=eH(this.geometryLayout_);for(;t.length<a;)t.push(0);if("Point"===this.mode_?i=this.sketchCoords_:"Polygon"===this.mode_?(i=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(n.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):i=(e=this.sketchCoords_)[e.length-1],i[0]=t[0],i[1]=t[1],this.geometryFunction_(this.sketchCoords_,r,s),this.sketchPoint_){let e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}if("Polygon"===r.getType()&&"Polygon"!==this.mode_)this.createOrUpdateCustomSketchLine_(r);else if(this.sketchLineCoords_){let t=this.sketchLine_.getGeometry();t.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()}addToDrawing_(t){let e,i;let n=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),s=this.mode_;"LineString"===s||"Circle"===s?(this.finishCoordinate_=t.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(t.slice()),this.geometryFunction_(i,n,r)):"Polygon"===s&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(t.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,n,r)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),e&&this.finishDrawing()}removeLastPoints_(t){if(!this.sketchFeature_)return;let e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),n=this.mode_;for(let r=0;r<t;++r){let t;if("LineString"===n||"Circle"===n){if((t=this.sketchCoords_).splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();let e=this.finishCoordinate_.slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}this.geometryFunction_(t,e,i),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if("Polygon"===n){(t=this.sketchCoords_[0]).splice(-2,1);let n=this.sketchLine_.getGeometry();if(t.length>=2){let e=t[t.length-2].slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}n.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,i)}if(1===t.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){let t=this.abortDrawing_();if(!t)return;let e=this.sketchCoords_,i=t.getGeometry(),n=this.getMap().getView().getProjection();"LineString"===this.mode_?(e.pop(),this.geometryFunction_(e,i,n)):"Polygon"===this.mode_&&(e[0].pop(),this.geometryFunction_(e,i,n),e=i.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new si([e])):"MultiLineString"===this.type_?t.setGeometry(new se([e])):"MultiPolygon"===this.type_&&t.setGeometry(new sn([e])),this.dispatchEvent(new o_(op.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}abortDrawing_(){this.finishCoordinate_=null;let t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),t}abortDrawing(){let t=this.abortDrawing_();t&&this.dispatchEvent(new o_(op.DRAWABORT,t))}appendCoordinates(t){let e;let i=this.mode_,n=!this.sketchFeature_;if(n&&this.startDrawing_(t[0]),"LineString"===i||"Circle"===i)e=this.sketchCoords_;else{if("Polygon"!==i)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&e.shift(),e.pop();for(let e=0;e<t.length;e++)this.addToDrawing_(t[e]);let r=t[t.length-1];this.addToDrawing_(r),this.modifyDrawing_(r)}extend(t){let e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();let i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new L(new it(i)),this.updateSketchFeatures_(),this.dispatchEvent(new o_(op.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){let t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);let e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)}updateState_(){let t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)}};const oI=[0,0,0,0],oR=[],oP={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class ok extends o{constructor(t,e,i){super(t),this.features=e,this.mapBrowserEvent=i}}function oT(t,e){return t.index-e.index}function oA(t,e,i){let n=e.geometry;if("Circle"===n.getType()){let r=n;if(1===e.index){let e=eI();e&&(r=r.clone().transform(e,i));let n=ea(r.getCenter(),eR(t,i)),s=Math.sqrt(n)-r.getRadius();return s*s}}let r=eR(t,i);return oR[0]=eR(e.segment[0],i),oR[1]=eR(e.segment[1],i),ea(r,en(r,oR))}function oL(t,e,i){var n,r;let s=e.geometry;if("Circle"===s.getType()&&1===e.index){let e=s,r=eI();return r&&(e=e.clone().transform(r,i)),n=e.getClosestPoint(eR(t,i))}let a=eR(t,i);return oR[0]=eR(e.segment[0],i),oR[1]=eR(e.segment[1],i),r=en(a,oR)}var oO=class extends ng{constructor(t){let e;if(super(t),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=t.condition?t.condition:nS,this.defaultDeleteCondition_=function(t){return np(t)&&nb(t)},this.deleteCondition_=t.deleteCondition?t.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:g,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new rX,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new rU({source:new r1({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:function(){let t=rt();return function(e,i){return t.Point}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null,t.features?e=t.features:t.source&&(this.source_=t.source,e=new N(this.source_.getFeatures()),this.source_.addEventListener(rZ.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(rZ.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!e)throw Error("The modify interaction requires features, a source or a layer");t.hitDetection&&(this.hitDetection_=t.hitDetection),this.features_=e,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(O.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(O.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=void 0===t.snapToPointer?!this.hitDetection_:t.snapToPointer}addFeature_(t){let e=t.getGeometry();if(e){let i=this.SEGMENT_WRITERS_[e.getType()];i&&i(t,e)}let i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),t.addEventListener(x.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new N;let i=this.featuresBeingModified_.getArray();for(let t=0,n=e.length;t<n;++t){let n=e[t];for(let t=0,e=n.length;t<e;++t){let e=n[t].feature;e&&!i.includes(e)&&this.featuresBeingModified_.push(e)}}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new ok(oP.MODIFYSTART,this.featuresBeingModified_,t))}}removeFeature_(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(x.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(t){let e=this.rBush_,i=[];e.forEach(function(e){t===e.feature&&i.push(e)});for(let t=i.length-1;t>=0;--t){let n=i[t];for(let t=this.dragSegments_.length-1;t>=0;--t)this.dragSegments_[t][0]===n&&this.dragSegments_.splice(t,1);e.remove(n)}}setActive(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(t)}setMap(t){this.overlay_.setMap(t),super.setMap(t)}getOverlay(){return this.overlay_}handleSourceAdd_(t){t.feature&&this.features_.push(t.feature)}handleSourceRemove_(t){t.feature&&this.features_.remove(t.feature)}handleFeatureAdd_(t){this.addFeature_(t.element)}handleFeatureChange_(t){if(!this.changingFeature_){let e=t.target;this.removeFeature_(e),this.addFeature_(e)}}handleFeatureRemove_(t){this.removeFeature_(t.element)}writePointGeometry_(t,e){let i=e.getCoordinates();this.rBush_.insert(e.getExtent(),{feature:t,geometry:e,segment:[i,i]})}writeMultiPointGeometry_(t,e){let i=e.getCoordinates();for(let n=0,r=i.length;n<r;++n){let r=i[n],s={feature:t,geometry:e,depth:[n],index:n,segment:[r,r]};this.rBush_.insert(e.getExtent(),s)}}writeLineStringGeometry_(t,e){let i=e.getCoordinates();for(let n=0,r=i.length-1;n<r;++n){let r=i.slice(n,n+2),s={feature:t,geometry:e,index:n,segment:r};this.rBush_.insert(Q(r),s)}}writeMultiLineStringGeometry_(t,e){let i=e.getCoordinates();for(let n=0,r=i.length;n<r;++n){let r=i[n];for(let i=0,s=r.length-1;i<s;++i){let s=r.slice(i,i+2),a={feature:t,geometry:e,depth:[n],index:i,segment:s};this.rBush_.insert(Q(s),a)}}}writePolygonGeometry_(t,e){let i=e.getCoordinates();for(let n=0,r=i.length;n<r;++n){let r=i[n];for(let i=0,s=r.length-1;i<s;++i){let s=r.slice(i,i+2),a={feature:t,geometry:e,depth:[n],index:i,segment:s};this.rBush_.insert(Q(s),a)}}}writeMultiPolygonGeometry_(t,e){let i=e.getCoordinates();for(let n=0,r=i.length;n<r;++n){let r=i[n];for(let i=0,s=r.length;i<s;++i){let s=r[i];for(let r=0,a=s.length-1;r<a;++r){let a=s.slice(r,r+2),o={feature:t,geometry:e,depth:[i,n],index:r,segment:a};this.rBush_.insert(Q(a),o)}}}}writeCircleGeometry_(t,e){let i=e.getCenter(),n={feature:t,geometry:e,index:0,segment:[i,i]},r={feature:t,geometry:e,index:1,segment:[i,i]},s=[n,r];n.featureSegments=s,r.featureSegments=s,this.rBush_.insert(tu(i),n);let a=e,o=eI();if(o&&this.getMap()){let t=this.getMap().getView().getProjection();a=a.clone().transform(o,t),a=im(a).transform(t,o)}this.rBush_.insert(a.getExtent(),r)}writeGeometryCollectionGeometry_(t,e){let i=e.getGeometriesArray();for(let e=0;e<i.length;++e){let n=i[e],r=this.SEGMENT_WRITERS_[n.getType()];r(t,n)}}createOrUpdateVertexFeature_(t,e,i){let n=this.vertexFeature_;if(n){let e=n.getGeometry();e.setCoordinates(t)}else n=new L(new it(t)),this.vertexFeature_=n,this.overlay_.getSource().addFeature(n);return n.set("features",e),n.set("geometries",i),n}handleEvent(t){let e;return!t.originalEvent||(this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=i5.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(e=t.type==i5.SINGLECLICK&&!!this.ignoreNextSingleClick_||this.removePoint()),t.type==i5.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(t)&&!e)}handleDragEvent(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);let e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],i=[],n=[];for(let r=0,s=this.dragSegments_.length;r<s;++r){let s;let a=this.dragSegments_[r],o=a[0],h=o.feature;i.includes(h)||i.push(h);let l=o.geometry;n.includes(l)||n.push(l);let u=o.depth,c=o.segment,d=a[1];for(;e.length<l.getStride();)e.push(c[d][e.length]);switch(l.getType()){case"Point":s=e,c[0]=e,c[1]=e;break;case"MultiPoint":(s=l.getCoordinates())[o.index]=e,c[0]=e,c[1]=e;break;case"LineString":(s=l.getCoordinates())[o.index+d]=e,c[d]=e;break;case"MultiLineString":case"Polygon":(s=l.getCoordinates())[u[0]][o.index+d]=e,c[d]=e;break;case"MultiPolygon":(s=l.getCoordinates())[u[1]][u[0]][o.index+d]=e,c[d]=e;break;case"Circle":if(c[0]=e,c[1]=e,0===o.index)this.changingFeature_=!0,l.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;let i=t.map.getView().getProjection(),n=eo(eR(l.getCenter(),i),eR(e,i)),r=eI();if(r){let t=l.clone().transform(r,i);t.setRadius(n),n=t.transform(i,r).getRadius()}l.setRadius(n),this.changingFeature_=!1}}s&&this.setGeometryCoordinates_(l,s)}this.createOrUpdateVertexFeature_(e,i,n)}handleDownEvent(t){if(!this.condition_(t))return!1;let e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;let i=this.vertexFeature_;if(i){let n=t.map.getView().getProjection(),r=[],s=i.getGeometry().getCoordinates(),a=Q([s]),o=this.rBush_.getInExtent(a),h={};o.sort(oT);for(let i=0,a=o.length;i<a;++i){let a=o[i],l=a.segment,u=I(a.geometry),c=a.depth;if(c&&(u+="-"+c.join("-")),h[u]||(h[u]=[,,]),"Circle"===a.geometry.getType()&&1===a.index){let t=oL(e,a,n);er(t,s)&&!h[u][0]&&(this.dragSegments_.push([a,0]),h[u][0]=a);continue}if(er(l[0],s)&&!h[u][0]){this.dragSegments_.push([a,0]),h[u][0]=a;continue}if(er(l[1],s)&&!h[u][1]){if(h[u][0]&&0===h[u][0].index){let t=a.geometry.getCoordinates();switch(a.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":t=t[c[1]];case"Polygon":if(a.index!==t[c[0]].length-2)continue}}this.dragSegments_.push([a,1]),h[u][1]=a;continue}I(l) in this.vertexSegments_&&!h[u][0]&&!h[u][1]&&this.insertVertexCondition_(t)&&r.push(a)}r.length&&this.willModifyFeatures_(t,[r]);for(let t=r.length-1;t>=0;--t)this.insertVertex_(r[t],s)}return!!this.vertexFeature_}handleUpEvent(t){for(let e=this.dragSegments_.length-1;e>=0;--e){let i=this.dragSegments_[e][0],n=i.geometry;if("Circle"===n.getType()){let e=n.getCenter(),r=i.featureSegments[0],s=i.featureSegments[1];r.segment[0]=e,r.segment[1]=e,s.segment[0]=e,s.segment[1]=e,this.rBush_.update(tu(e),r);let a=n,o=eI();if(o){let e=t.map.getView().getProjection();a=a.clone().transform(o,e),a=im(a).transform(e,o)}this.rBush_.update(a.getExtent(),s)}else this.rBush_.update(Q(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new ok(oP.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1}handlePointerMove_(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)}handlePointerAtPixel_(t,e,i){let n,r;let s=i||e.getCoordinateFromPixel(t),a=e.getView().getProjection();if(this.hitDetection_){let i="object"==typeof this.hitDetection_?t=>t===this.hitDetection_:void 0;e.forEachFeatureAtPixel(t,(t,e,i)=>{let s=i||t.getGeometry();if("Point"===s.getType()&&t instanceof L&&this.features_.getArray().includes(t)){r=s;let e=r.getFlatCoordinates().slice(0,2);n=[{feature:t,geometry:r,segment:[e,e]}]}return!0},{layerFilter:i})}if(!n){var o,h;let t=o=tu(s,oI),i=e.getView().getResolution()*this.pixelTolerance_,r=h=tt(t,i,oI);n=this.rBush_.getInExtent(r)}if(n&&n.length>0){let i=n.sort(function(t,e){return oA(s,t,a)-oA(s,e,a)})[0],o=i.segment,h=oL(s,i,a),l=e.getPixelFromCoordinate(h),u=eo(t,l);if(r||u<=this.pixelTolerance_){let t={};if(t[I(o)]=!0,this.snapToPointer_||(this.delta_[0]=h[0]-s[0],this.delta_[1]=h[1]-s[1]),"Circle"===i.geometry.getType()&&1===i.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h,[i.feature],[i.geometry]);else{let r=e.getPixelFromCoordinate(o[0]),s=e.getPixelFromCoordinate(o[1]),a=ea(l,r),c=ea(l,s);u=Math.sqrt(Math.min(a,c)),this.snappedToVertex_=u<=this.pixelTolerance_,this.snappedToVertex_&&(h=a>c?o[1]:o[0]),this.createOrUpdateVertexFeature_(h,[i.feature],[i.geometry]);let d={};d[I(i.geometry)]=!0;for(let e=1,i=n.length;e<i;++e){let i=n[e].segment;if(er(o[0],i[0])&&er(o[1],i[1])||er(o[0],i[1])&&er(o[1],i[0])){let r=I(n[e].geometry);r in d||(d[r]=!0,t[I(i)]=!0)}else break}}this.vertexSegments_=t;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(t,e){let i;let n=t.segment,r=t.feature,s=t.geometry,a=t.depth,o=t.index;for(;e.length<s.getStride();)e.push(0);switch(s.getType()){case"MultiLineString":case"Polygon":(i=s.getCoordinates())[a[0]].splice(o+1,0,e);break;case"MultiPolygon":(i=s.getCoordinates())[a[1]][a[0]].splice(o+1,0,e);break;case"LineString":(i=s.getCoordinates()).splice(o+1,0,e);break;default:return}this.setGeometryCoordinates_(s,i);let h=this.rBush_;h.remove(t),this.updateSegmentIndices_(s,o,a,1);let l={segment:[n[0],e],feature:r,geometry:s,depth:a,index:o};h.insert(Q(l.segment),l),this.dragSegments_.push([l,1]);let u={segment:[e,n[1]],feature:r,geometry:s,depth:a,index:o+1};h.insert(Q(u.segment),u),this.dragSegments_.push([u,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=i5.POINTERDRAG){let t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);let e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new ok(oP.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1}removeVertex_(){let t,e,i,n,r,s,a,o,h,l,u;let c=this.dragSegments_,d={},f=!1;for(r=c.length-1;r>=0;--r)u=I((l=(i=c[r])[0]).feature),l.depth&&(u+="-"+l.depth.join("-")),u in d||(d[u]={}),0===i[1]?(d[u].right=l,d[u].index=l.index):1==i[1]&&(d[u].left=l,d[u].index=l.index+1);for(u in d){switch(h=d[u].right,a=d[u].left,(o=(s=d[u].index)-1)<0&&(o=0),t=e=(n=(l=void 0!==a?a:h).geometry).getCoordinates(),f=!1,n.getType()){case"MultiLineString":e[l.depth[0]].length>2&&(e[l.depth[0]].splice(s,1),f=!0);break;case"LineString":e.length>2&&(e.splice(s,1),f=!0);break;case"MultiPolygon":t=t[l.depth[1]];case"Polygon":(t=t[l.depth[0]]).length>4&&(s==t.length-1&&(s=0),t.splice(s,1),f=!0,0===s&&(t.pop(),t.push(t[0]),o=t.length-1))}if(f){this.setGeometryCoordinates_(n,e);let t=[];if(void 0!==a&&(this.rBush_.remove(a),t.push(a.segment[0])),void 0!==h&&(this.rBush_.remove(h),t.push(h.segment[1])),void 0!==a&&void 0!==h){let e={depth:l.depth,feature:l.feature,geometry:l.geometry,index:o,segment:t};this.rBush_.insert(Q(e.segment),e)}this.updateSegmentIndices_(n,s,l.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),c.length=0}}return f}setGeometryCoordinates_(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1}updateSegmentIndices_(t,e,i,n){this.rBush_.forEachInExtent(t.getExtent(),function(r){r.geometry===t&&(void 0===i||void 0===r.depth||f(r.depth,i))&&r.index>e&&(r.index+=n)})}};const oF={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"};class oD extends o{constructor(t,e,i,n,r){super(t),this.features=e,this.coordinate=i,this.startCoordinate=n,this.mapBrowserEvent=r}}var oN=class extends ng{constructor(t){let e;if(super(t=t||{}),this.on,this.once,this.un,this.lastCoordinate_=null,this.startCoordinate_=null,this.features_=void 0!==t.features?t.features:null,t.layers&&!this.features_){if("function"==typeof t.layers)e=t.layers;else{let i=t.layers;e=function(t){return i.includes(t)}}}else e=g;this.layerFilter_=e,this.filter_=t.filter&&!this.features_?t.filter:g,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.condition_=t.condition?t.condition:g,this.lastFeature_=null,this.addChangeListener(nl.ACTIVE,this.handleActiveChanged_)}handleDownEvent(t){if(!t.originalEvent||!this.condition_(t))return!1;if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);let e=this.features_||new N([this.lastFeature_]);return this.dispatchEvent(new oD(oF.TRANSLATESTART,e,t.coordinate,this.startCoordinate_,t)),!0}return!1}handleUpEvent(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);let e=this.features_||new N([this.lastFeature_]);return this.dispatchEvent(new oD(oF.TRANSLATEEND,e,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1}handleDragEvent(t){if(this.lastCoordinate_){let e=t.coordinate,i=e[0]-this.lastCoordinate_[0],n=e[1]-this.lastCoordinate_[1],r=this.features_||new N([this.lastFeature_]);r.forEach(function(t){let e=t.getGeometry();e.translate(i,n),t.setGeometry(e)}),this.lastCoordinate_=e,this.dispatchEvent(new oD(oF.TRANSLATING,r,e,this.startCoordinate_,t))}}handleMoveEvent(t){let e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}featuresAtPixel_(t,e){return e.forEachFeatureAtPixel(t,(t,e)=>{if(t instanceof L&&this.filter_(t,e)&&(!this.features_||this.features_.getArray().includes(t)))return t},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})}getHitTolerance(){return this.hitTolerance_}setHitTolerance(t){this.hitTolerance_=t}setMap(t){let e=this.getMap();super.setMap(t),this.updateState_(e)}handleActiveChanged_(){this.updateState_(null)}updateState_(t){let e=this.getMap(),i=this.getActive();if((!e||!i)&&(e=e||t)){let t=e.getViewport();t.classList.remove("ol-grab","ol-grabbing")}}};const o$="units",oG=[1,2,5],oz=25.4/.28;var oj=class extends nr{constructor(t){t=t||{};let e=document.createElement("div");e.style.pointerEvents="none",super({element:e,render:t.render,target:t.target}),this.on,this.once,this.un;let i=void 0!==t.className?t.className:t.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+iC,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==t.minWidth?t.minWidth:64,this.maxWidth_=t.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(o$,this.handleUnitsChanged_),this.setUnits(t.units||"metric"),this.scaleBar_=t.bar||!1,this.scaleBarSteps_=t.steps||4,this.scaleBarText_=t.text||!1,this.dpi_=t.dpi||void 0}getUnits(){return this.get(o$)}handleUnitsChanged_(){this.updateElement_()}setUnits(t){this.set(o$,t)}setDpi(t){this.dpi_=t}updateElement_(){let t,e,i,n,r,s;let a=this.viewState_;if(!a){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let o=a.center,h=a.projection,l=this.getUnits(),u=ey(h,a.resolution,o,"degrees"==l?"degrees":"m"),c=this.minWidth_*(this.dpi_||oz)/oz,d=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||oz)/oz:void 0,f=c*u,g="";if("degrees"==l){let t=tZ.degrees;(f*=t)<t/60?(g="″",u*=3600):f<t?(g="′",u*=60):g="\xb0"}else"imperial"==l?f<.9144?(g="in",u/=.0254):f<1609.344?(g="ft",u/=.3048):(g="mi",u/=1609.344):"nautical"==l?(u/=1852,g="NM"):"metric"==l?f<.001?(g="μm",u*=1e6):f<1?(g="mm",u*=1e3):f<1e3?g="m":(g="km",u/=1e3):"us"==l?f<.9144?(g="in",u*=39.37):f<1609.344?(g="ft",u/=.30480061):(g="mi",u/=1609.3472):A(!1,33);let m=3*Math.floor(Math.log(c*u)/Math.log(10));for(;;){i=Math.floor(m/3);let a=Math.pow(10,i);if(isNaN(e=Math.round((t=oG[(m%3+3)%3]*a)/u))){this.element.style.display="none",this.renderedVisible_=!1;return}if(void 0!==d&&e>=d){t=n,e=r,i=s;break}if(e>=c)break;n=t,r=e,s=i,++m}let p=this.scaleBar_?this.createScaleBar(e,t,g):t.toFixed(i<0?-i:0)+" "+g;this.renderedHTML_!=p&&(this.innerElement_.innerHTML=p,this.renderedHTML_=p),this.renderedWidth_!=e&&(this.innerElement_.style.width=e+"px",this.renderedWidth_=e),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(t,e,i){let n=this.getScaleForResolution(),r=n<1?Math.round(1/n).toLocaleString()+" : 1":"1 : "+Math.round(n).toLocaleString(),s=this.scaleBarSteps_,a=t/s,o=[this.createMarker("absolute")];for(let n=0;n<s;++n){let r=n%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";o.push(`<div><div class="ol-scale-singlebar ${r}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(n%2==0||2===s?this.createStepText(n,t,!1,e,i):"")+"</div>")}o.push(this.createStepText(s,t,!0,e,i));let h=this.scaleBarText_?`<div class="ol-scale-text" style="width: ${t}px;">`+r+"</div>":"";return h+o.join("")}createMarker(t){return`<div class="ol-scale-step-marker" style="position: ${t}; top: ${"absolute"===t?3:-10}px;"></div>`}createStepText(t,e,i,n,r){let s=0===t?0:Math.round(n/this.scaleBarSteps_*t*100)/100,a=0===t?-3:-(e/this.scaleBarSteps_*1),o=0===t?0:e/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${a}px;text-align: ${0===t?"left":"center"};min-width: ${o}px;left: ${i?e+"px":"unset"};">`+s+(0===t?"":" "+r)+"</div>"}getScaleForResolution(){let t=ey(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),e=this.dpi_||oz;return t*(1e3/25.4)*e}render(t){let e=t.frameState;e?this.viewState_=e.viewState:this.viewState_=null,this.updateElement_()}};const oB={SELECT:"select"};class oW extends o{constructor(t,e,i,n){super(t),this.selected=e,this.deselected=i,this.mapBrowserEvent=n}}const oV={};class oH extends nc{constructor(t){let e;if(super(),this.on,this.once,this.un,t=t||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=t.condition?t.condition:nb,this.addCondition_=t.addCondition?t.addCondition:m,this.removeCondition_=t.removeCondition?t.removeCondition:m,this.toggleCondition_=t.toggleCondition?t.toggleCondition:nw,this.multi_=!!t.multi&&t.multi,this.filter_=t.filter?t.filter:g,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.style_=void 0!==t.style?t.style:function(){let t=rt();return d(t.Polygon,t.LineString),d(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}(),this.features_=t.features||new N,t.layers){if("function"==typeof t.layers)e=t.layers;else{let i=t.layers;e=function(t){return i.includes(t)}}}else e=g;this.layerFilter_=e,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(t,e){this.featureLayerAssociation_[I(t)]=e}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(t){return this.featureLayerAssociation_[I(t)]}setHitTolerance(t){this.hitTolerance_=t}setMap(t){let e=this.getMap();e&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(t),t?(this.features_.addEventListener(O.ADD,this.boundAddFeature_),this.features_.addEventListener(O.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(O.ADD,this.boundAddFeature_),this.features_.removeEventListener(O.REMOVE,this.boundRemoveFeature_))}addFeature_(t){let e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){let t=this.getMap().getAllLayers().find(function(t){if(t instanceof rU&&t.getSource()&&t.getSource().hasFeature(e))return t});t&&this.addFeatureLayerAssociation_(e,t)}}removeFeature_(t){this.style_&&this.restorePreviousStyle_(t.element)}getStyle(){return this.style_}applySelectedStyle_(t){let e=I(t);e in oV||(oV[e]=t.getStyle()),t.setStyle(this.style_)}restorePreviousStyle_(t){let e=this.getMap().getInteractions().getArray();for(let i=e.length-1;i>=0;--i){let n=e[i];if(n!==this&&n instanceof oH&&n.getStyle()&&-1!==n.getFeatures().getArray().lastIndexOf(t)){t.setStyle(n.getStyle());return}}let i=I(t);t.setStyle(oV[i]),delete oV[i]}removeFeatureLayerAssociation_(t){delete this.featureLayerAssociation_[I(t)]}handleEvent(t){if(!this.condition_(t))return!0;let e=this.addCondition_(t),i=this.removeCondition_(t),n=this.toggleCondition_(t),r=t.map,s=this.getFeatures(),a=[],o=[];if(e||i||n){r.forEachFeatureAtPixel(t.pixel,(t,r)=>{if(t instanceof L&&this.filter_(t,r))return(e||n)&&!s.getArray().includes(t)?(this.addFeatureLayerAssociation_(t,r),o.push(t)):(i||n)&&s.getArray().includes(t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=a.length-1;t>=0;--t)s.remove(a[t]);s.extend(o)}else{_(this.featureLayerAssociation_),r.forEachFeatureAtPixel(t.pixel,(t,e)=>{if(t instanceof L&&this.filter_(t,e))return this.addFeatureLayerAssociation_(t,e),o.push(t),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=s.getLength()-1;t>=0;--t){let e=s.item(t),i=o.indexOf(e);i>-1?o.splice(i,1):(s.remove(e),a.push(e))}0!==o.length&&s.extend(o)}return(o.length>0||a.length>0)&&this.dispatchEvent(new oW(oB.SELECT,o,a,t)),!0}}const oq={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};var oU=class extends P{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===t.autoPan?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(oq.ELEMENT,this.handleElementChanged),this.addChangeListener(oq.MAP,this.handleMapChanged),this.addChangeListener(oq.OFFSET,this.handleOffsetChanged),this.addChangeListener(oq.POSITION,this.handlePositionChanged),this.addChangeListener(oq.POSITIONING,this.handlePositioningChanged),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),void 0!==t.position&&this.setPosition(t.position)}getElement(){return this.get(oq.ELEMENT)}getId(){return this.id}getMap(){return this.get(oq.MAP)||null}getOffset(){return this.get(oq.OFFSET)}getPosition(){return this.get(oq.POSITION)}getPositioning(){return this.get(oq.POSITIONING)}handleElementChanged(){iF(this.element);let t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(iO(this.element),M(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);let t=this.getMap();if(t){this.mapPostrenderListenerKey=b(t,i9.POSTRENDER,this.render,this),this.updatePixelPosition();let e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(oq.ELEMENT,t)}setMap(t){this.set(oq.MAP,t)}setOffset(t){this.set(oq.OFFSET,t)}setPosition(t){this.set(oq.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){let e=this.getMap();if(!e||!e.getTargetElement()||!this.get(oq.POSITION))return;let i=this.getRect(e.getTargetElement(),e.getSize()),n=this.getElement(),r=this.getRect(n,[function(t){let e=t.offsetWidth,i=getComputedStyle(t);return e+(parseInt(i.marginLeft,10)+parseInt(i.marginRight,10))}(n),function(t){let e=t.offsetHeight,i=getComputedStyle(t);return e+(parseInt(i.marginTop,10)+parseInt(i.marginBottom,10))}(n)]);t=t||{};let s=void 0===t.margin?20:t.margin;if(!tr(i,r)){let n=r[0]-i[0],a=i[2]-r[2],o=r[1]-i[1],h=i[3]-r[3],l=[0,0];if(n<0?l[0]=n-s:a<0&&(l[0]=Math.abs(a)+s),o<0?l[1]=o-s:h<0&&(l[1]=Math.abs(h)+s),0!==l[0]||0!==l[1]){let i=e.getView().getCenterInternal(),n=e.getPixelFromCoordinateInternal(i);if(!n)return;let r=[n[0]+l[0],n[1]+l[1]],s=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(r),duration:s.duration,easing:s.easing})}}}getRect(t,e){let i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,r=i.top+window.pageYOffset;return[n,r,n+e[0],r+e[1]]}setPositioning(t){this.set(oq.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){let t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e){this.setVisible(!1);return}let i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}updateRenderedPosition(t,e){let i=this.element.style,n=this.getOffset(),r=this.getPositioning();this.setVisible(!0);let s=Math.round(t[0]+n[0])+"px",a=Math.round(t[1]+n[1])+"px",o="0%",h="0%";"bottom-right"==r||"center-right"==r||"top-right"==r?o="-100%":("bottom-center"==r||"center-center"==r||"top-center"==r)&&(o="-50%"),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?h="-100%":("center-left"==r||"center-center"==r||"center-right"==r)&&(h="-50%");let l=`translate(${o}, ${h}) translate(${s}, ${a})`;this.rendered.transform_!=l&&(this.rendered.transform_=l,i.transform=l)}getOptions(){return this.options}},oX=window.location.href,oY=new URL(oX),oK=null;try{oK=JSON.parse(oY.searchParams.get("order"))}catch(t){}var oZ=(0,a.Elm).Main.init({node:document.querySelector("main"),flags:{topic:oY.searchParams.get("topic"),centerEast:parseFloat(oY.searchParams.get("east")),centerNorth:parseFloat(oY.searchParams.get("north")),mapextent:oY.searchParams.get("mapextent"),origin:oY.origin,width:window.innerWidth,height:window.innerHeight,page:oY.searchParams.get("page"),order:oK}});!function(t){t.ports.setOlConfig.subscribe(function(t){requestAnimationFrame(function(){s.setConfig(t)})}),t.ports.storePFCInCache.subscribe(function(t){localStorage.setItem("cachePFC",t)}),t.ports.readPFCFromCache.subscribe(function(e){localStorage.getItem("cachePFC")&&t.ports.getPFCFromCache.send(localStorage.getItem("cachePFC"))}),t.ports.storeOrdersInCache.subscribe(function(t){localStorage.setItem("cache",t)}),t.ports.storeSettingsInCache.subscribe(function(t){localStorage.setItem("cacheSettings",t)}),localStorage.getItem("cache")&&t.ports.getOrdersFromCache.send(localStorage.getItem("cache")),localStorage.getItem("cacheSettings")&&t.ports.getSettingsFromCache.send(localStorage.getItem("cacheSettings")),t.ports.setOlAction.subscribe(function(t){s.map&&("zoomToPeri"===t?s.zoomToPeri():"deletePeri"===t&&s.deletePeri())}),t.ports.onlineStatus.send(navigator.onLine),window.addEventListener("online",e=>{t.ports.onlineStatus.send(!0)}),window.addEventListener("offline",e=>{t.ports.onlineStatus.send(!1)})}(oZ),s=new class{constructor(t){this.elmApp=t,this.initMap()}setConfig(t){if(document.getElementById("myOlMap")){this.mapconfig=t,this.map.updateSize(),this.periLayer.getSource().getFeatures().forEach(t=>this.periLayer.getSource().removeFeature(t)),this.intersectionLayer.getSource().getFeatures().forEach(t=>this.intersectionLayer.getSource().removeFeature(t)),this.removeInteractions();let e=[];e=this.mapconfig.wmslayernames?this.mapconfig.wmslayernames:[],this.getLayerNames();let i=e.filter(t=>!this.olLayerNames.includes(t));this.olLayerNames.filter(t=>!e.includes(t)).forEach(t=>this.removeLayer(t)),i.forEach(t=>this.addWmsZHLayer(t)),this.addPeri(t)}}addPeri(t){let e=null;this.map.removeLayer(this.municipalityLayer),this.periLayer.setStyle(this.validStyle()),"polygon"===t.perimeter?(t.polygon.length>0?((e=new L({geometry:new id(t.polygon),name:"polygon"})).setId(12345),this.periLayer.getSource().addFeature(e),this.map.addInteraction(this.modify),this.showCurrentArea(this.getCenter(e.getGeometry().getExtent()),e.getGeometry().getArea())):this.map.addInteraction(this.drawPoly),t.intersections.length>0?(t.intersections.forEach(t=>{e=new L({geometry:new it([t[0],t[1]])}),this.intersectionLayer.getSource().addFeature(e)}),this.periLayer.setStyle(this.errorStyle())):this.periLayer.setStyle(this.validStyle())):"box"===t.perimeter?t.box.length>0?((e=new L({geometry:new id(t.box),name:"box"})).setId(23456),this.periLayer.getSource().addFeature(e),this.map.addInteraction(this.translate),this.showCurrentArea(this.getCenter(e.getGeometry().getExtent()),e.getGeometry().getArea())):this.map.addInteraction(this.drawBox):"extent"===t.perimeter?(isNaN(this.map.getSize()[0])?this.mapconfig.extent=this.map.previousExtent_:this.mapconfig.extent=this.view.calculateExtent(this.map.getSize()),this.elmApp.ports.mapConfigChanged.send(this.mapconfig),this.showCurrentArea(this.getCenter(this.mapconfig.extent),(this.mapconfig.extent[0]-this.mapconfig.extent[2])*(this.mapconfig.extent[1]-this.mapconfig.extent[3]))):"gemeinden"===t.perimeter?(this.map.addLayer(this.municipalityLayer),this.addMunicipalitiesToPeriSource(),this.map.addInteraction(this.select)):"parzellen"===t.perimeter?(this.map.addLayer(this.municipalityLayer),t.parzellen.length>0&&t.parzellen.forEach(t=>{(e=new L({geometry:new id(t.geom),name:t.nummer})).setId(t.egris_egrid),e.set("nummer",t.nummer),e.set("geodb_oid",t.geodb_oid),e.set("bfsnr",t.bfsnr),e.set("gemeinde",t.gemeinde),this.periLayer.getSource().addFeature(e)}),this.select.getFeatures().clear(),this.map.addInteraction(this.select)):this.removeInteractions(),"setCenter"==t.oltool&&(this.map.getView().setCenter(t.center),t.oltool="none",this.elmApp.ports.mapConfigChanged.send(this.mapconfig)),document.getElementById("myOlMap")&&this.map.setTarget(document.getElementById("myOlMap"))}initMap(){this.projection=this.buildProjection(),this.municipalityLayer=this.buildMunicipalityLayer(100),this.periLayer=this.buildPeriLayer(101),this.intersectionLayer=this.buildIntersectionLayer(102),this.drawBox=this.buildDrawBox(),this.drawBox.on("drawend",(function(t){this.onFinishDrawing(),this.removeInteractions();let e=t.feature.getGeometry();this.updatePerimeter(e.getCoordinates(),"drawend"),this.showCurrentArea(this.getCenter(e.getExtent()),e.getArea()),this.map.addInteraction(this.translate)}).bind(this)),this.drawPoly=this.buildDrawPoly(),this.drawPoly.on("drawend",(function(t){this.onFinishDrawing(),this.removeInteractions();let e=t.feature.getGeometry();this.updatePerimeter(e.getCoordinates(),"drawend"),this.showCurrentArea(this.getCenter(e.getExtent()),e.getArea()),this.map.addInteraction(this.modify)}).bind(this)),this.modify=this.buildModify(),this.modify.on("modifyend",(function(t){let e=t.features.getArray()[0].getGeometry();this.onFinishDrawing(),this.removeInteractions(),this.updatePerimeter(e.getCoordinates(),"modifyend"),this.showCurrentArea(this.getCenter(e.getExtent()),e.getArea()),this.map.addInteraction(this.modify)}).bind(this)),this.translate=this.buildTranslate(),this.translate.on("translateend",(function(t){var e=t.features.getArray()[0].getGeometry();this.removeInteractions(),this.updatePerimeter(e.getCoordinates(),"translateend"),this.showCurrentArea(this.getCenter(e.getExtent()),e.getArea()),this.map.addInteraction(this.translate)}).bind(this)),this.select=this.buildSelect(),this.select.on("select",(function(t){let e={};e=t.selected[0].values_.BFS?{peri:this.mapconfig.perimeter,bfs:t.selected[0].values_.BFS,name:t.selected[0].values_.NAME,coord:t.mapBrowserEvent.coordinate,egrid:""}:{peri:this.mapconfig.perimeter,bfs:t.selected[0].values_.bfsnr,name:t.selected[0].values_.name,coord:t.mapBrowserEvent.coordinate,egrid:t.selected[0].id_},this.elmApp.ports.mapFeatureSelected.send(e)}).bind(this)),this.view=this.buildView(),this.view.on("change",(function(t){this.mapconfig.center=t.target.getCenter(),this.mapconfig.extent=t.target.calculateExtent(this.map.getSize()),this.mapconfig.zoom=this.map.getView().getZoom(),this.elmApp.ports.mapConfigChanged.send(this.mapconfig),"extent"===this.mapconfig.perimeter&&this.showCurrentArea(this.getCenter(this.mapconfig.extent),(this.mapconfig.extent[0]-this.mapconfig.extent[2])*(this.mapconfig.extent[1]-this.mapconfig.extent[3]))}).bind(this)),this.map=this.buildMap(),document.getElementById("myOlMap")&&this.map.setTarget(document.getElementById("myOlMap"))}buildSelect(){return new oH({condition:nb})}buildTranslate(){return new oN({source:this.periLayer.getSource()})}buildModify(){return new oO({source:this.periLayer.getSource()})}buildDrawPoly(){return new oS({type:"Polygon",source:this.periLayer.getSource()})}buildDrawBox(){return new oS({type:"Circle",source:this.periLayer.getSource(),geometryFunction:function(t,e,i){let n=Q([t[0],t[t.length-1]].map(function(t){return eR(t,i)})),r=[[t_(n),tv(n),tE(n),tw(n),t_(n)]];e?e.setCoordinates(r):e=new id(r);let s=eI();return s&&e.transform(i,s),e}})}buildIntersectionLayer(t){return new rU({source:new r1({wrapX:!1}),style:[new n8({image:new n4({radius:9,stroke:new n6({color:"#FFFFFF",width:2}),fill:new n5({color:"#993333"})})})],zIndex:t})}buildPeriLayer(t){return new rU({source:new r1({wrapX:!1}),style:this.validStyle,zIndex:t})}validStyle(){return[new n8({fill:new n5({color:"rgba(255, 255, 255, 0.1)"}),stroke:new n6({color:"#FFFFFF",width:5}),image:new n4({radius:7,fill:new n5({color:"#6666CC"})})}),new n8({stroke:new n6({color:"#6666CC",width:3})})]}errorStyle(){return[new n8({fill:new n5({color:"rgba(255, 255, 255, 0.1)"}),stroke:new n6({color:"#FFFFFF",width:5})}),new n8({stroke:new n6({color:"#CC6666",width:3})})]}buildMunicipalityLayer(t){let e=new n8({fill:new n5({color:"rgba(0, 255, 0, 0)"}),stroke:new n6({color:"#999999",width:1}),text:new rh({font:"14px Calibri,sans-serif",fill:new n5({color:"#000"}),stroke:new n6({color:"#fff",width:3})})});return new rU({name:"municipalities",className:"municipalities",source:new r1({wrapX:!1,url:"./GEN_A4_GEMEINDEN_SEEN_F.json",format:new sa({dataProjection:this.projection}),strategy:rJ}),style:function(t){return e.getText().setText(t.get("NAME")),e},zIndex:t})}buildLkLayer(t){return new nZ({source:new og({url:"https://wms.geo.admin.ch/",crossOrigin:"anonymous",attributions:'\xa9 <a href="http://www.geo.admin.ch/internet/geoportal/en/home.html">Pixelmap 1:1000000 / geo.admin.ch</a>',params:{LAYERS:"ch.swisstopo.pixelkarte-farbe-pk1000.noscale",FORMAT:"image/jpeg"},serverType:"mapserver"}),minResolution:85,zIndex:t})}buildUpLayer(t){return new nZ({source:new og({url:"https://wms.zh.ch/uplayerwms/",attributions:'\xa9 <a href="https://maps.zh.ch" target="_blank">maps.zh.ch</a>',params:{LAYERS:"uplayerwms",FORMAT:"image/png; mode=8bit"},serverType:"mapserver"}),maxResolution:.5,zIndex:t})}buildUpRasterLayer(t){return new nZ({source:new og({url:"https://wms.zh.ch/upwms/",attributions:'\xa9 <a href="https://maps.zh.ch" target="_blank">maps.zh.ch</a>',params:{LAYERS:"upwms",FORMAT:"image/png; mode=8bit"},serverType:"mapserver"}),minResolution:.5,maxResolution:185,zIndex:t})}buildProjection(){return s8.defs("EPSG:2056","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs"),function(t){let e,i;let n=Object.keys(t.defs),r=n.length;for(e=0;e<r;++e){let i=n[e];if(!ev(i)){let e=t.defs(i),n=e.units;n||"longlat"!==e.projName||(n="degrees"),e_(new tJ({code:i,axisOrientation:e.axis,metersPerUnit:e.to_meter,units:n}))}}for(e=0;e<r;++e){let s=n[e],a=ev(s);for(i=0;i<r;++i){let e=n[i],r=ev(e);if(!ei(s,e)){if(t.defs[s]===t.defs[e])ex([a,r]);else{let i=t(s,e);!function(t,e,i,n){let r=ev(t),s=ev(e);ee(r,s,eM(i)),ee(s,r,eM(n))}(a,r,eP(a,r,i.forward),eP(r,a,i.inverse))}}}}}(s8),new tJ({code:"EPSG:2056",extent:[2485071.58,1075346.31,2828515.82,1299941.79]})}buildView(){return new iv({center:[2692500,1252500],projection:this.projection,zoom:3.2})}buildMap(){return new nW({controls:nh().extend([new oj]),layers:[this.buildLkLayer(97),this.buildUpRasterLayer(98),this.buildUpLayer(99),this.periLayer,this.intersectionLayer],view:this.view})}removeInteractions(){this.map.removeInteraction(this.drawBox),this.map.removeInteraction(this.select),this.map.removeInteraction(this.modify),this.map.removeInteraction(this.translate),this.map.removeInteraction(this.snap),this.map.removeInteraction(this.boxExtent),this.map.removeInteraction(this.drawPoly),this.measureTooltipElement&&(this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=null)}addWmsZHLayer(t){let e=new nZ({className:t,name:t,source:new og({url:"https://wms.zh.ch/"+t+"/",attributions:t+", ",params:{LAYERS:t,FORMAT:"image/png; mode=8bit"},serverType:"mapserver"}),maxResolution:85,opacity:.5,zIndex:0});this.map.addLayer(e)}removeLayer(t){this.map.getLayers().getArray().filter(e=>e.get("name")===t).forEach(t=>this.map.removeLayer(t))}updatePerimeter(t,e){"polygon"===this.mapconfig.perimeter?this.mapconfig.polygon=t:"box"===this.mapconfig.perimeter&&(this.mapconfig.box=t),this.elmApp.ports.perimeterChanged.send(this.mapconfig)}addMunicipalitiesToPeriSource(){let t;let e=this.municipalityLayer.getSource();this.mapconfig.gemeinden.length>0&&this.mapconfig.gemeinden.forEach(i=>{(t=e.getFeatureById(parseInt(i,10)))&&this.periLayer.getSource().addFeature(t)}),this.select.getFeatures().clear()}onFinishDrawing(t){this.controlDoubleClickZoom(!1),setTimeout((function(){this.controlDoubleClickZoom(!0)}).bind(this),251)}controlDoubleClickZoom(t){for(var e=this.map.getInteractions(),i=0;i<e.getLength();i++){var n=e.item(i);n instanceof nd&&n.setActive(t)}}getLayerNames(){let t=this.map.getLayers().getArray(),e=[];t.forEach(t=>t.get("name")?e.push(t.get("name")):e),this.olLayerNames=e}getCenter(t){return[100*Math.round((t[0]+t[2])/2)/100,100*Math.round((t[1]+t[3])/2)/100]}createMeasureTooltip(){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="tooltip tooltip-measure",this.measureTooltip=new oU({element:this.measureTooltipElement,positioning:"center-center"}),this.map.addOverlay(this.measureTooltip)}showCurrentArea(t,e){this.createMeasureTooltip(),this.measureTooltipElement.innerHTML=this.formatArea(e),this.measureTooltip.setPosition(t)}formatArea(t){return t>1e5?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"}zoomToPeri(){this.periLayer.getSource().getFeatures().length>0&&this.view.fit(this.periLayer.getSource().getExtent(),{duration:1e3,padding:[10,10,10,10]})}deletePeri(){this.removeInteractions(),this.periLayer.getSource().getFeatures().forEach(t=>{this.periLayer.getSource().removeFeature(t)}),"polygon"===this.mapconfig.perimeter?(this.mapconfig.polygon=[],this.map.addInteraction(this.drawPoly)):"box"===this.mapconfig.perimeter&&(this.mapconfig.box=[],this.map.addInteraction(this.drawBox)),this.elmApp.ports.perimeterChanged.send(this.mapconfig)}static version(){return"1.0.0"}}(oZ);const oJ=document.querySelector(".add-button");oJ&&(oJ.style.display="none"),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),n=t,oJ.style.display="block",oJ.addEventListener("click",t=>{oJ.style.display="none",n.prompt(),n.userChoice.then(t=>{t.outcome,n=null})})});